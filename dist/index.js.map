{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/base64-js/index.js","webpack:///./node_modules/buffer/index.js","webpack:///./node_modules/ieee754/index.js","webpack:///./node_modules/isarray/index.js","webpack:///./node_modules/object-sizeof/byte_size.js","webpack:///./node_modules/object-sizeof/index.js","webpack:///./node_modules/path-browserify/index.js","webpack:///./node_modules/process/browser.js","webpack:///./node_modules/three/build/three.module.js","webpack:///./node_modules/three/examples/jsm/controls/OrbitControls.js","webpack:///./node_modules/three/examples/jsm/loaders/GLTFLoader.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/cache/cache.js","webpack:///./src/geometry/obb.js","webpack:///./src/index.js","webpack:///./src/loader/loader.js","webpack:///./src/tile/tile.js","webpack:///./src/tileset.js"],"names":["exports","byteLength","toByteArray","fromByteArray","lookup","revLookup","Arr","Uint8Array","Array","code","i","len","length","charCodeAt","getLens","b64","Error","validLen","indexOf","placeHoldersLen","lens","_byteLength","tmp","arr","curByte","tripletToBase64","num","encodeChunk","uint8","start","end","output","push","join","extraBytes","parts","maxChunkLength","len2","base64","require","ieee754","isArray","Buffer","SlowBuffer","INSPECT_MAX_BYTES","TYPED_ARRAY_SUPPORT","global","undefined","typedArraySupport","kMaxLength","__proto__","prototype","foo","subarray","e","createBuffer","that","RangeError","arg","encodingOrOffset","allocUnsafe","from","poolSize","_augment","value","TypeError","ArrayBuffer","fromArrayBuffer","fromString","fromObject","Symbol","species","Object","defineProperty","configurable","assertSize","size","alloc","fill","encoding","checked","allocUnsafeSlow","string","isEncoding","actual","write","slice","fromArrayLike","array","byteOffset","obj","isBuffer","copy","buffer","isnan","type","data","toString","b","_isBuffer","compare","a","x","y","Math","min","String","toLowerCase","concat","list","pos","buf","isView","loweredCase","utf8ToBytes","base64ToBytes","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","n","m","swap16","swap32","swap64","arguments","apply","equals","inspect","str","max","match","target","thisStart","thisEnd","thisCopy","targetCopy","bidirectionalIndexOf","val","dir","isNaN","arrayIndexOf","call","lastIndexOf","indexSize","arrLength","valLength","read","readUInt16BE","foundIndex","found","j","includes","hexWrite","offset","Number","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","asciiToBytes","latin1Write","base64Write","ucs2Write","utf16leToBytes","isFinite","toJSON","_arr","res","firstByte","codePoint","bytesPerSequence","secondByte","thirdByte","fourthByte","tempCodePoint","decodeCodePointsArray","MAX_ARGUMENTS_LENGTH","codePoints","fromCharCode","ret","out","toHex","bytes","newBuf","sliceLen","checkOffset","ext","readUIntLE","noAssert","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","checkInt","writeUIntLE","maxBytes","writeUIntBE","writeUInt8","floor","objectWriteUInt16","littleEndian","writeUInt16LE","writeUInt16BE","objectWriteUInt32","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","checkIEEE754","writeFloat","writeFloatLE","writeFloatBE","writeDouble","writeDoubleLE","writeDoubleBE","targetStart","set","INVALID_BASE64_RE","base64clean","stringtrim","replace","trim","units","Infinity","leadSurrogate","byteArray","c","hi","lo","src","dst","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","d","s","NaN","rt","abs","log","LN2","module","STRING","BOOLEAN","NUMBER","ECMA_SIZES","allProperties","stringProperties","prop","getOwnPropertySymbols","symbolProperties","sizeOfObject","seen","object","properties","key","has","add","getCalculator","ex","calculator","objectType","isGlobalSymbol","keyFor","map","reduce","acc","curr","sizeof","WeakSet","normalizeArray","allowAboveRoot","up","last","splice","unshift","resolve","resolvedPath","resolvedAbsolute","path","process","cwd","charAt","filter","split","p","normalize","isAbsolute","trailingSlash","paths","index","relative","to","fromParts","toParts","samePartsLength","outputParts","sep","delimiter","dirname","hasRoot","matchedSlash","basename","f","extname","startDot","startPart","preDotState","xs","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","setTimeout","clearTimeout","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","timeout","run","nextTick","args","Item","title","browser","env","argv","version","versions","noop","on","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","name","binding","chdir","umask","REVISION","MOUSE","LEFT","MIDDLE","RIGHT","ROTATE","DOLLY","PAN","TOUCH","DOLLY_PAN","DOLLY_ROTATE","CullFaceNone","CullFaceBack","CullFaceFront","CullFaceFrontBack","BasicShadowMap","PCFShadowMap","PCFSoftShadowMap","VSMShadowMap","FrontSide","BackSide","DoubleSide","FlatShading","SmoothShading","NoBlending","NormalBlending","AdditiveBlending","SubtractiveBlending","MultiplyBlending","CustomBlending","AddEquation","SubtractEquation","ReverseSubtractEquation","MinEquation","MaxEquation","ZeroFactor","OneFactor","SrcColorFactor","OneMinusSrcColorFactor","SrcAlphaFactor","OneMinusSrcAlphaFactor","DstAlphaFactor","OneMinusDstAlphaFactor","DstColorFactor","OneMinusDstColorFactor","SrcAlphaSaturateFactor","NeverDepth","AlwaysDepth","LessDepth","LessEqualDepth","EqualDepth","GreaterEqualDepth","GreaterDepth","NotEqualDepth","MultiplyOperation","MixOperation","AddOperation","NoToneMapping","LinearToneMapping","ReinhardToneMapping","CineonToneMapping","ACESFilmicToneMapping","CustomToneMapping","UVMapping","CubeReflectionMapping","CubeRefractionMapping","EquirectangularReflectionMapping","EquirectangularRefractionMapping","CubeUVReflectionMapping","CubeUVRefractionMapping","RepeatWrapping","ClampToEdgeWrapping","MirroredRepeatWrapping","NearestFilter","NearestMipmapNearestFilter","NearestMipMapNearestFilter","NearestMipmapLinearFilter","NearestMipMapLinearFilter","LinearFilter","LinearMipmapNearestFilter","LinearMipMapNearestFilter","LinearMipmapLinearFilter","LinearMipMapLinearFilter","UnsignedByteType","ByteType","ShortType","UnsignedShortType","IntType","UnsignedIntType","FloatType","HalfFloatType","UnsignedShort4444Type","UnsignedShort5551Type","UnsignedShort565Type","UnsignedInt248Type","AlphaFormat","RGBFormat","RGBAFormat","LuminanceFormat","LuminanceAlphaFormat","RGBEFormat","DepthFormat","DepthStencilFormat","RedFormat","RedIntegerFormat","RGFormat","RGIntegerFormat","RGBIntegerFormat","RGBAIntegerFormat","RGB_S3TC_DXT1_Format","RGBA_S3TC_DXT1_Format","RGBA_S3TC_DXT3_Format","RGBA_S3TC_DXT5_Format","RGB_PVRTC_4BPPV1_Format","RGB_PVRTC_2BPPV1_Format","RGBA_PVRTC_4BPPV1_Format","RGBA_PVRTC_2BPPV1_Format","RGB_ETC1_Format","RGB_ETC2_Format","RGBA_ETC2_EAC_Format","RGBA_ASTC_4x4_Format","RGBA_ASTC_5x4_Format","RGBA_ASTC_5x5_Format","RGBA_ASTC_6x5_Format","RGBA_ASTC_6x6_Format","RGBA_ASTC_8x5_Format","RGBA_ASTC_8x6_Format","RGBA_ASTC_8x8_Format","RGBA_ASTC_10x5_Format","RGBA_ASTC_10x6_Format","RGBA_ASTC_10x8_Format","RGBA_ASTC_10x10_Format","RGBA_ASTC_12x10_Format","RGBA_ASTC_12x12_Format","RGBA_BPTC_Format","SRGB8_ALPHA8_ASTC_4x4_Format","SRGB8_ALPHA8_ASTC_5x4_Format","SRGB8_ALPHA8_ASTC_5x5_Format","SRGB8_ALPHA8_ASTC_6x5_Format","SRGB8_ALPHA8_ASTC_6x6_Format","SRGB8_ALPHA8_ASTC_8x5_Format","SRGB8_ALPHA8_ASTC_8x6_Format","SRGB8_ALPHA8_ASTC_8x8_Format","SRGB8_ALPHA8_ASTC_10x5_Format","SRGB8_ALPHA8_ASTC_10x6_Format","SRGB8_ALPHA8_ASTC_10x8_Format","SRGB8_ALPHA8_ASTC_10x10_Format","SRGB8_ALPHA8_ASTC_12x10_Format","SRGB8_ALPHA8_ASTC_12x12_Format","LoopOnce","LoopRepeat","LoopPingPong","InterpolateDiscrete","InterpolateLinear","InterpolateSmooth","ZeroCurvatureEnding","ZeroSlopeEnding","WrapAroundEnding","NormalAnimationBlendMode","AdditiveAnimationBlendMode","TrianglesDrawMode","TriangleStripDrawMode","TriangleFanDrawMode","LinearEncoding","sRGBEncoding","GammaEncoding","RGBEEncoding","LogLuvEncoding","RGBM7Encoding","RGBM16Encoding","RGBDEncoding","BasicDepthPacking","RGBADepthPacking","TangentSpaceNormalMap","ObjectSpaceNormalMap","ZeroStencilOp","KeepStencilOp","ReplaceStencilOp","IncrementStencilOp","DecrementStencilOp","IncrementWrapStencilOp","DecrementWrapStencilOp","InvertStencilOp","NeverStencilFunc","LessStencilFunc","EqualStencilFunc","LessEqualStencilFunc","GreaterStencilFunc","NotEqualStencilFunc","GreaterEqualStencilFunc","AlwaysStencilFunc","StaticDrawUsage","DynamicDrawUsage","StreamDrawUsage","StaticReadUsage","DynamicReadUsage","StreamReadUsage","StaticCopyUsage","DynamicCopyUsage","StreamCopyUsage","GLSL1","GLSL3","EventDispatcher","assign","addEventListener","listener","_listeners","hasEventListener","removeEventListener","listenerArray","dispatchEvent","event","l","_lut","_seed","MathUtils","DEG2RAD","PI","RAD2DEG","generateUUID","d0","random","d1","d2","d3","uuid","toUpperCase","clamp","euclideanModulo","mapLinear","a1","a2","b1","b2","lerp","t","smoothstep","smootherstep","randInt","low","high","randFloat","randFloatSpread","range","seededRandom","degToRad","degrees","radToDeg","radians","isPowerOfTwo","ceilPowerOfTwo","ceil","floorPowerOfTwo","setQuaternionFromProperEuler","q","order","cos","sin","c2","s2","c13","s13","c1_3","s1_3","c3_1","s3_1","console","warn","Vector2","scalar","constructor","v","w","addVectors","subVectors","multiplyScalar","elements","minVal","maxVal","divideScalar","round","sqrt","angle","atan2","distanceToSquared","dx","dy","alpha","v1","v2","attribute","getX","getY","center","Matrix3","error","n11","n12","n13","n21","n22","n23","n31","n32","n33","te","fromArray","me","xAxis","yAxis","zAxis","setFromMatrix3Column","multiplyMatrices","ae","be","a11","a12","a13","a21","a22","a23","a31","a32","a33","b11","b12","b13","b21","b22","b23","b31","b32","b33","g","h","t11","t12","t13","det","detInv","matrix4","setFromMatrix4","invert","transpose","r","tx","ty","sx","sy","rotation","cx","cy","theta","matrix","_canvas","ImageUtils","getDataURL","image","test","HTMLCanvasElement","canvas","document","createElementNS","width","height","context","getContext","ImageData","putImageData","drawImage","toDataURL","textureId","Texture","DEFAULT_IMAGE","mapping","DEFAULT_MAPPING","wrapS","wrapT","magFilter","minFilter","format","anisotropy","mipmaps","internalFormat","repeat","matrixAutoUpdate","generateMipmaps","premultiplyAlpha","flipY","unpackAlignment","onUpdate","create","isTexture","updateMatrix","setUvTransform","clone","source","meta","isRootObject","textures","metadata","generator","wrap","images","url","isDataTexture","serializeImage","dispose","transformUv","uv","applyMatrix3","HTMLImageElement","ImageBitmap","Vector4","z","acos","epsilon","epsilon2","m11","m12","m13","m21","m22","m23","m31","m32","m33","xx","yy","zz","xy","xz","yz","getZ","getW","WebGLRenderTarget","options","scissor","scissorTest","viewport","texture","depthBuffer","stencilBuffer","depthTexture","isWebGLRenderTarget","setSize","WebGLMultisampleRenderTarget","samples","isWebGLMultisampleRenderTarget","Quaternion","_x","_y","_z","_w","_onChangeCallback","quaternion","euler","update","isEuler","_order","c1","c3","s1","s3","axis","halfAngle","trace","vFrom","vTo","EPS","dot","step","angleTo","slerp","conjugate","multiplyQuaternions","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","qb","cosHalfTheta","sqrSinHalfTheta","EPSILON","sinHalfTheta","halfTheta","ratioA","ratioB","callback","qa","qm","dstOffset","src0","srcOffset0","src1","srcOffset1","x0","y0","z0","w0","x1","y1","z1","w1","sqrSin","tDir","Vector3","multiplyVectors","applyQuaternion","_quaternion","setFromEuler","setFromAxisAngle","qx","qy","qz","qw","ix","iy","iz","iw","camera","applyMatrix4","matrixWorldInverse","projectionMatrix","projectionMatrixInverse","matrixWorld","crossVectors","ax","ay","az","bx","by","bz","denominator","lengthSq","planeNormal","_vector","projectOnVector","normal","dz","setFromSphericalCoords","radius","phi","sinPhiRadius","setFromCylindricalCoords","setFromMatrixColumn","sz","Box3","minX","minY","minZ","maxX","maxY","maxZ","count","points","makeEmpty","il","expandByPoint","halfSize","_vector$1","expandByObject","box","isEmpty","point","vector","addScalar","updateWorldMatrix","geometry","boundingBox","computeBoundingBox","_box","union","children","sphere","clampPoint","plane","constant","triangle","getCenter","_center","_extents","_v0","_v1","_v2","_f0","_f1","_f2","axes","satForAxes","_triangleNormal","clampedPoint","getSize","_points","setFromPoints","v0","extents","_testAxis","p0","p1","p2","_box$1","Sphere","optionalCenter","maxRadiusSq","distanceTo","radiusSum","intersectsSphere","distanceToPoint","deltaLengthSq","expandByScalar","getMaxScaleOnAxis","_vector$2","_segCenter","_segDir","_diff","_edge1","_edge2","_normal","Ray","origin","direction","ray","at","directionDistance","distanceSqToPoint","optionalPointOnRay","optionalPointOnSegment","segExtent","a01","b0","s0","sqrDist","extDet","invDet","tca","radius2","thc","t0","t1","distanceToPlane","distToPoint","tmin","tmax","tymin","tymax","tzmin","tzmax","invdirx","invdiry","invdirz","intersectBox","backfaceCulling","DdN","sign","DdQxE2","DdE1xQ","cross","QdN","transformDirection","Matrix4","n14","n24","n34","n41","n42","n43","n44","scaleX","_v1$1","scaleY","scaleZ","af","bf","ce","cf","de","df","ac","ad","bc","bd","compose","_zero","_one","eye","a14","a24","a34","a41","a42","a43","a44","b14","b24","b34","b41","b42","b43","b44","isVector3","t14","scaleXSq","scaleYSq","scaleZSq","position","scale","x2","y2","z2","wx","wy","wz","determinant","_m1","invSX","invSY","invSZ","setFromRotationMatrix","left","right","top","bottom","near","far","Euler","DefaultOrder","asin","_matrix","makeRotationFromQuaternion","newOrder","_quaternion$1","setFromQuaternion","optionalResult","RotationOrders","Layers","mask","channel","layers","_object3DId","_v1$2","_q1","_m1$1","_target","_position","_scale","_quaternion$2","_xAxis","_yAxis","_zAxis","_addedEvent","_removedEvent","Object3D","parent","DefaultUp","onRotationChange","onQuaternionChange","_onChange","defineProperties","enumerable","modelViewMatrix","normalMatrix","DefaultMatrixAutoUpdate","matrixWorldNeedsUpdate","visible","castShadow","receiveShadow","frustumCulled","renderOrder","animations","userData","isObject3D","onBeforeRender","onAfterRender","premultiply","decompose","setRotationFromAxisAngle","setRotationFromEuler","setRotationFromMatrix","setRotationFromQuaternion","rotateOnAxis","multiply","rotateOnWorldAxis","rotateX","rotateY","rotateZ","translateOnAxis","distance","translateX","translateY","translateZ","localToWorld","worldToLocal","lookAt","setFromMatrixPosition","isCamera","isLight","extractRotation","remove","clear","attach","getObjectById","id","getObjectByProperty","getObjectByName","child","getWorldPosition","getWorldQuaternion","getWorldScale","getWorldDirection","raycast","traverse","traverseVisible","traverseAncestors","updateMatrixWorld","force","updateParents","updateChildren","geometries","materials","shapes","skeletons","JSON","stringify","toArray","isInstancedMesh","instanceMatrix","serialize","library","element","isMesh","isLine","isPoints","parameters","shape","isSkinnedMesh","bindMode","bindMatrix","skeleton","material","uuids","animation","extractFromCache","cache","values","recursive","parse","_vector1","_vector2","_normalMatrix","Plane","setFromNormalAndCoplanarPoint","inverseNormalLength","negate","line","delta","startSign","endSign","intersectsPlane","optionalNormalMatrix","getNormalMatrix","referencePoint","coplanarPoint","_v0$1","_v1$3","_v2$1","_v3","_vab","_vac","_vbc","_vap","_vbp","_vcp","Triangle","i0","i1","i2","getNormal","setFromCoplanarPoints","getBarycoord","uv1","uv2","uv3","getUV","containsPoint","isFrontFacing","intersectsTriangle","d4","vc","addScaledVector","d5","d6","vb","va","denom","targetLengthSq","dot00","dot01","dot02","dot11","dot12","invDenom","u","p3","_colorKeywords","_hslA","_hslB","hue2rgb","SRGBToLinear","LinearToSRGB","Color","setRGB","isColor","setHex","setStyle","hex","style","handleAlpha","parseFloat","exec","color","components","setHSL","setColorName","gammaFactor","safeInverse","copyGammaToLinear","copyLinearToGamma","copySRGBToLinear","copyLinearToSRGB","getHex","hue","saturation","lightness","getHSL","color1","color2","normalized","NAMES","Face3","materialIndex","vertexNormals","vertexColors","materialId","Material","fog","blending","side","flatShading","opacity","transparent","blendSrc","blendDst","blendEquation","blendSrcAlpha","blendDstAlpha","blendEquationAlpha","depthFunc","depthTest","depthWrite","stencilWriteMask","stencilFunc","stencilRef","stencilFuncMask","stencilFail","stencilZFail","stencilZPass","stencilWrite","clippingPlanes","clipIntersection","clipShadows","shadowSide","colorWrite","precision","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","dithering","alphaTest","premultipliedAlpha","toneMapped","isMaterial","onBeforeCompile","customProgramCacheKey","setValues","newValue","currentValue","isRoot","roughness","metalness","sheen","emissive","emissiveIntensity","specular","shininess","clearcoat","clearcoatRoughness","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","clearcoatNormalScale","matcap","alphaMap","lightMap","aoMap","aoMapIntensity","bumpMap","bumpScale","normalMap","normalMapType","normalScale","displacementMap","displacementScale","displacementBias","roughnessMap","metalnessMap","emissiveMap","specularMap","envMap","reflectivity","refractionRatio","combine","envMapIntensity","gradientMap","sizeAttenuation","linewidth","dashSize","gapSize","wireframe","wireframeLinewidth","wireframeLinecap","wireframeLinejoin","morphTargets","morphNormals","skinning","srcPlanes","dstPlanes","MeshBasicMaterial","lightMapIntensity","isMeshBasicMaterial","_vector$3","_vector2$1","BufferAttribute","itemSize","usage","updateRange","isBufferAttribute","onUploadCallback","setUsage","copyAt","index1","index2","copyArray","copyColorsArray","colors","copyVector2sArray","vectors","copyVector3sArray","copyVector4sArray","fromBufferAttribute","setXY","setXYZ","applyNormalMatrix","setX","setY","setZ","setW","setXYZW","onUpload","Int8BufferAttribute","Int8Array","Uint8BufferAttribute","Uint8ClampedBufferAttribute","Uint8ClampedArray","Int16BufferAttribute","Int16Array","Uint16BufferAttribute","Uint16Array","Int32BufferAttribute","Int32Array","Uint32BufferAttribute","Uint32Array","Float16BufferAttribute","isFloat16BufferAttribute","Float32BufferAttribute","Float32Array","Float64BufferAttribute","Float64Array","DirectGeometry","vertices","normals","uvs","uvs2","groups","skinWeights","skinIndices","boundingSphere","verticesNeedUpdate","normalsNeedUpdate","colorsNeedUpdate","uvsNeedUpdate","groupsNeedUpdate","group","faces","face","faceVertexUvs","hasFaceVertexUv","hasFaceVertexUv2","morphTargetsLength","morphTargetsPosition","morphNormalsLength","morphTargetsNormal","hasSkinIndices","hasSkinWeights","vertexUvs","morphTarget","morphNormal","computeGroups","arrayMax","TYPED_ARRAYS","getTypedArray","_bufferGeometryId","_m1$2","_obj","_offset","_box$2","_boxMorphTargets","_vector$4","BufferGeometry","attributes","morphAttributes","morphTargetsRelative","drawRange","isBufferGeometry","getIndex","setIndex","getAttribute","setAttribute","deleteAttribute","hasAttribute","addGroup","clearGroups","setDrawRange","needsUpdate","tangent","computeBoundingSphere","makeRotationX","makeRotationY","makeRotationZ","translate","makeTranslation","makeScale","setFromObject","positions","lineDistances","isGeometry","fromGeometry","updateFromObject","direct","__directGeometry","elementsNeedUpdate","lineDistancesNeedUpdate","lineDistance","fromDirectGeometry","morphAttributesPosition","isGLBufferAttribute","setFromBufferAttribute","morphAttribute","jl","computeFaceNormals","computeVertexNormals","positionAttribute","normalAttribute","pA","pB","pC","nA","nB","nC","cb","ab","vA","vB","vC","normalizeNormals","merge","attribute1","attributeArray1","attribute2","attributeArray2","attributeOffset","toNonIndexed","convertBufferAttribute","indices","array2","geometry2","newAttribute","morphArray","keys","attributeData","hasMorphAttributes","attributeArray","_inverseMatrix","_ray","_sphere","_vA","_vB","_vC","_tempA","_tempB","_tempC","_morphA","_morphB","_morphC","_uvA","_uvB","_uvC","_intersectionPoint","_intersectionPointWorld","Mesh","updateMorphTargets","morphTargetInfluences","morphTargetDictionary","ml","raycaster","intersects","intersectsBox","intersection","morphPosition","groupMaterial","checkBufferGeometryIntersection","faceIndex","isMultiMaterial","fl","faceMaterial","fvA","fvB","fvC","checkIntersection","uvs_f","intersect","intersectTriangle","morphInfluences","influence","boneTransform","BoxBufferGeometry","depth","widthSegments","heightSegments","depthSegments","scope","numberOfVertices","groupStart","buildPlane","udir","vdir","gridX","gridY","segmentWidth","segmentHeight","widthHalf","heightHalf","depthHalf","gridX1","gridY1","vertexCounter","groupCount","cloneUniforms","property","isMatrix3","isMatrix4","isVector2","isVector4","mergeUniforms","uniforms","merged","UniformsUtils","default_vertex","default_fragment","ShaderMaterial","defines","vertexShader","fragmentShader","lights","clipping","extensions","derivatives","fragDepth","drawBuffers","shaderTextureLOD","defaultAttributeValues","index0AttributeName","uniformsNeedUpdate","glslVersion","isShaderMaterial","uniform","Camera","PerspectiveCamera","fov","aspect","zoom","focus","view","filmGauge","filmOffset","updateProjectionMatrix","isPerspectiveCamera","setFocalLength","focalLength","vExtentSlope","getFilmHeight","atan","getFocalLength","tan","getEffectiveFOV","getFilmWidth","setViewOffset","fullWidth","fullHeight","enabled","offsetX","offsetY","clearViewOffset","skew","makePerspective","CubeCamera","renderTarget","isWebGLCubeRenderTarget","cameraPX","cameraNX","cameraPY","cameraNY","cameraPZ","cameraNZ","renderer","scene","currentXrEnabled","xr","currentRenderTarget","getRenderTarget","setRenderTarget","render","CubeTexture","_needsFlipEnvMap","isCubeTexture","get","WebGLCubeRenderTarget","dummy","isInteger","fromEquirectangularTexture","shader","tEquirect","mesh","currentMinFilter","stencil","DataTexture","_sphere$1","_vector$5","Frustum","p4","p5","planes","frustum","me0","me1","me2","me3","me4","me5","me6","me7","me8","me9","me10","me11","me12","me13","me14","me15","setComponents","sprite","negRadius","WebGLAnimation","isAnimating","animationLoop","requestId","onAnimationFrame","time","frame","requestAnimationFrame","stop","cancelAnimationFrame","setAnimationLoop","setContext","WebGLAttributes","gl","capabilities","isWebGL2","buffers","WeakMap","bufferType","bindBuffer","bufferData","bytesPerElement","BYTES_PER_ELEMENT","updateBuffer","bufferSubData","isInterleavedBufferAttribute","deleteBuffer","cached","elementSize","PlaneBufferGeometry","width_half","height_half","segment_width","segment_height","alphamap_fragment","alphamap_pars_fragment","alphatest_fragment","aomap_fragment","aomap_pars_fragment","begin_vertex","beginnormal_vertex","bsdfs","bumpmap_pars_fragment","clipping_planes_fragment","clipping_planes_pars_fragment","clipping_planes_pars_vertex","clipping_planes_vertex","color_fragment","color_pars_fragment","color_pars_vertex","color_vertex","common","cube_uv_reflection_fragment","defaultnormal_vertex","displacementmap_pars_vertex","displacementmap_vertex","emissivemap_fragment","emissivemap_pars_fragment","encodings_fragment","encodings_pars_fragment","envmap_fragment","envmap_common_pars_fragment","envmap_pars_fragment","envmap_pars_vertex","envmap_vertex","fog_vertex","fog_pars_vertex","fog_fragment","fog_pars_fragment","gradientmap_pars_fragment","lightmap_fragment","lightmap_pars_fragment","lights_lambert_vertex","lights_pars_begin","envmap_physical_pars_fragment","lights_toon_fragment","lights_toon_pars_fragment","lights_phong_fragment","lights_phong_pars_fragment","lights_physical_fragment","lights_physical_pars_fragment","lights_fragment_begin","lights_fragment_maps","lights_fragment_end","logdepthbuf_fragment","logdepthbuf_pars_fragment","logdepthbuf_pars_vertex","logdepthbuf_vertex","map_fragment","map_pars_fragment","map_particle_fragment","map_particle_pars_fragment","metalnessmap_fragment","metalnessmap_pars_fragment","morphnormal_vertex","morphtarget_pars_vertex","morphtarget_vertex","normal_fragment_begin","normal_fragment_maps","normalmap_pars_fragment","clearcoat_normal_fragment_begin","clearcoat_normal_fragment_maps","clearcoat_pars_fragment","packing","premultiplied_alpha_fragment","project_vertex","dithering_fragment","dithering_pars_fragment","roughnessmap_fragment","roughnessmap_pars_fragment","shadowmap_pars_fragment","shadowmap_pars_vertex","shadowmap_vertex","shadowmask_pars_fragment","skinbase_vertex","skinning_pars_vertex","skinning_vertex","skinnormal_vertex","specularmap_fragment","specularmap_pars_fragment","tonemapping_fragment","tonemapping_pars_fragment","transmissionmap_fragment","transmissionmap_pars_fragment","uv_pars_fragment","uv_pars_vertex","uv_vertex","uv2_pars_fragment","uv2_pars_vertex","uv2_vertex","worldpos_vertex","background_frag","background_vert","cube_frag","cube_vert","depth_frag","depth_vert","distanceRGBA_frag","distanceRGBA_vert","equirect_frag","equirect_vert","linedashed_frag","linedashed_vert","meshbasic_frag","meshbasic_vert","meshlambert_frag","meshlambert_vert","meshmatcap_frag","meshmatcap_vert","meshtoon_frag","meshtoon_vert","meshphong_frag","meshphong_vert","meshphysical_frag","meshphysical_vert","normal_frag","normal_vert","points_frag","points_vert","shadow_frag","shadow_vert","sprite_frag","sprite_vert","ShaderChunk","UniformsLib","diffuse","uvTransform","uv2Transform","specularmap","envmap","flipEnvMap","maxMipLevel","aomap","lightmap","emissivemap","bumpmap","normalmap","displacementmap","roughnessmap","metalnessmap","gradientmap","fogDensity","fogNear","fogFar","fogColor","ambientLightColor","lightProbe","directionalLights","directionalLightShadows","shadowBias","shadowNormalBias","shadowRadius","shadowMapSize","directionalShadowMap","directionalShadowMatrix","spotLights","coneCos","penumbraCos","decay","spotLightShadows","spotShadowMap","spotShadowMatrix","pointLights","pointLightShadows","shadowCameraNear","shadowCameraFar","pointShadowMap","pointShadowMatrix","hemisphereLights","skyColor","groundColor","rectAreaLights","ltc_1","ltc_2","ShaderLib","basic","lambert","phong","standard","toon","dashed","totalSize","background","t2D","cube","equirect","distanceRGBA","referencePosition","nearDistance","farDistance","shadow","physical","transmission","transmissionMap","WebGLBackground","cubemaps","state","objects","clearColor","clearAlpha","planeMesh","boxMesh","currentBackground","currentBackgroundVersion","currentTonemapping","renderList","forceClear","isScene","session","getSession","environmentBlendMode","setClear","autoClear","autoClearColor","autoClearDepth","autoClearStencil","copyPosition","toneMapping","getClearColor","setClearColor","getClearAlpha","setClearAlpha","WebGLBindingStates","maxVertexAttributes","getParameter","extension","vaoAvailable","bindingStates","defaultState","createBindingState","currentState","setup","program","updateBuffers","getBindingState","bindVertexArrayObject","saveCache","setupVertexAttributes","createVertexArrayObject","createVertexArray","createVertexArrayOES","vao","bindVertexArray","bindVertexArrayOES","deleteVertexArrayObject","deleteVertexArray","deleteVertexArrayOES","programMap","stateMap","newAttributes","enabledAttributes","attributeDivisors","cachedAttributes","geometryAttributes","attributesNum","cachedAttribute","geometryAttribute","initAttributes","enableAttribute","enableAttributeAndDivisor","meshPerAttribute","enableVertexAttribArray","disableUnusedAttributes","disableVertexAttribArray","vertexAttribPointer","stride","vertexAttribIPointer","isInstancedBufferGeometry","programAttributes","getAttributes","materialDefaultAttributeValues","programAttribute","isInstancedInterleavedBuffer","_maxInstanceCount","isInstancedBufferAttribute","instanceColor","vertexAttrib2fv","vertexAttrib3fv","vertexAttrib4fv","vertexAttrib1fv","reset","geometryId","programId","releaseStatesOfGeometry","releaseStatesOfProgram","resetDefaultState","WebGLBufferRenderer","info","mode","setMode","drawArrays","renderInstances","primcount","methodName","WebGLCapabilities","maxAnisotropy","getMaxAnisotropy","MAX_TEXTURE_MAX_ANISOTROPY_EXT","getMaxPrecision","getShaderPrecisionFormat","WebGL2RenderingContext","WebGL2ComputeRenderingContext","maxPrecision","logarithmicDepthBuffer","maxTextures","maxVertexTextures","maxTextureSize","maxCubemapSize","maxAttributes","maxVertexUniforms","maxVaryings","maxFragmentUniforms","vertexTextures","floatFragmentTextures","floatVertexTextures","maxSamples","WebGLClipping","globalState","numGlobalPlanes","localClippingEnabled","renderingShadows","viewNormalMatrix","numPlanes","numIntersection","init","enableLocalClipping","projectPlanes","beginShadows","endShadows","resetGlobalState","setState","useCache","materialProperties","nGlobal","lGlobal","dstArray","clippingState","skipTransform","nPlanes","flatSize","viewMatrix","i4","WebGLCubeMaps","mapTextureMapping","cubemap","currentRenderList","getRenderList","currentRenderState","getRenderState","setRenderList","setRenderState","onTextureDispose","WebGLExtensions","getExtension","WebGLGeometries","wireframeAttributes","onGeometryDispose","buffergeometry","memory","_bufferGeometry","updateWireframeAttribute","geometryIndex","geometryPosition","previousAttribute","getWireframeAttribute","currentAttribute","WebGLIndexedBufferRenderer","drawElements","WebGLInfo","calls","triangles","lines","instanceCount","programs","autoReset","numericalSort","absNumericalSort","WebGLMorphtargets","influencesList","workInfluences","objectInfluences","influences","sort","MAX_SAFE_INTEGER","morphInfluencesSum","morphBaseInfluence","getUniforms","setValue","WebGLObjects","updateMap","DataTexture2DArray","wrapR","isDataTexture2DArray","DataTexture3D","isDataTexture3D","emptyTexture","emptyTexture2dArray","emptyTexture3d","emptyCubeTexture","arrayCacheF32","arrayCacheI32","mat4array","mat3array","mat2array","flatten","nBlocks","blockSize","firstElem","arraysEqual","allocTexUnits","allocateTextureUnit","setValueV1f","uniform1f","addr","setValueV2f","uniform2f","uniform2fv","setValueV3f","uniform3f","uniform3fv","setValueV4f","uniform4f","uniform4fv","setValueM2","uniformMatrix2fv","setValueM3","uniformMatrix3fv","setValueM4","uniformMatrix4fv","setValueT1","unit","uniform1i","safeSetTexture2D","setValueT2DArray1","setTexture2DArray","setValueT3D1","setTexture3D","setValueT6","safeSetTextureCube","setValueV1i","setValueV2i","uniform2iv","setValueV3i","uniform3iv","setValueV4i","uniform4iv","setValueV1ui","uniform1ui","getSingularSetter","setValueV1fArray","uniform1fv","setValueV1iArray","uniform1iv","setValueV2iArray","setValueV3iArray","setValueV4iArray","setValueV2fArray","setValueV3fArray","setValueV4fArray","setValueM2Array","setValueM3Array","setValueM4Array","setValueT1Array","setValueT6Array","getPureArraySetter","SingleUniform","activeInfo","PureArrayUniform","updateCache","StructuredUniform","seq","RePathPart","addUniform","container","uniformObject","parseUniform","pathLength","lastIndex","matchEnd","idIsIndex","subscript","next","WebGLUniforms","getProgramParameter","getActiveUniform","getUniformLocation","setOptional","upload","seqWithValue","WebGLShader","createShader","shaderSource","compileShader","programIdCount","addLineNumbers","getEncodingComponents","getShaderErrors","status","getShaderParameter","getShaderInfoLog","getShaderSource","getTexelDecodingFunction","functionName","getTexelEncodingFunction","getToneMappingFunction","toneMappingName","generateExtensions","chunks","extensionDerivatives","envMapCubeUV","tangentSpaceNormalMap","shaderID","extensionFragDepth","rendererExtensionFragDepth","extensionDrawBuffers","rendererExtensionDrawBuffers","extensionShaderTextureLOD","rendererExtensionShaderTextureLod","filterEmptyLine","generateDefines","fetchAttributeLocations","getActiveAttrib","getAttribLocation","replaceLightNums","numDirLights","numSpotLights","numRectAreaLights","numPointLights","numHemiLights","numDirLightShadows","numSpotLightShadows","numPointLightShadows","replaceClippingPlaneNums","numClippingPlanes","numClipIntersection","includePattern","resolveIncludes","includeReplacer","include","deprecatedUnrollLoopPattern","unrollLoopPattern","unrollLoops","loopReplacer","deprecatedLoopReplacer","snippet","generatePrecision","precisionstring","generateShadowMapTypeDefine","shadowMapTypeDefine","shadowMapType","generateEnvMapTypeDefine","envMapTypeDefine","envMapMode","generateEnvMapModeDefine","envMapModeDefine","generateEnvMapBlendingDefine","envMapBlendingDefine","WebGLProgram","cacheKey","gammaFactorDefine","customExtensions","customDefines","createProgram","prefixVertex","prefixFragment","versionString","isRawShaderMaterial","shaderName","instancing","instancingColor","supportsVertexTextures","maxBones","useFog","fogExp2","objectSpaceNormalMap","vertexTangents","uvsVertexOnly","useVertexTexture","doubleSided","flipSided","shadowMapEnabled","physicallyCorrectLights","mapEncoding","matcapEncoding","envMapEncoding","emissiveMapEncoding","lightMapEncoding","outputEncoding","depthPacking","vertexGlsl","fragmentGlsl","glVertexShader","glFragmentShader","attachShader","bindAttribLocation","linkProgram","debug","checkShaderErrors","programLog","getProgramInfoLog","vertexLog","fragmentLog","runnable","haveDiagnostics","vertexErrors","fragmentErrors","getError","diagnostics","prefix","deleteShader","cachedUniforms","destroy","deleteProgram","usedTimes","WebGLPrograms","shaderIDs","MeshDepthMaterial","MeshDistanceMaterial","MeshNormalMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshToonMaterial","MeshStandardMaterial","MeshPhysicalMaterial","MeshMatcapMaterial","LineBasicMaterial","LineDashedMaterial","PointsMaterial","ShadowMaterial","SpriteMaterial","parameterNames","getMaxBones","bones","nVertexUniforms","nVertexMatrices","getTextureEncodingFromMap","getParameters","shadows","environment","isMeshStandardMaterial","isFogExp2","maxMorphTargets","maxMorphNormals","directional","spot","rectArea","hemi","shadowMap","getProgramCacheKey","acquireProgram","pl","preexistingProgram","releaseProgram","pop","WebGLProperties","painterSortStable","groupOrder","reversePainterSortStable","WebGLRenderList","renderItems","renderItemsIndex","opaque","defaultProgram","getNextRenderItem","renderItem","customOpaqueSort","customTransparentSort","finish","WebGLRenderLists","lists","cameras","UniformsCache","light","halfWidth","halfHeight","ShadowUniformsCache","nextVersion","shadowCastingLightsFirst","lightA","lightB","WebGLLights","shadowCache","hash","directionalLength","pointLength","spotLength","rectAreaLength","hemiLength","numDirectionalShadows","numPointShadows","numSpotShadows","ambient","probe","directionalShadow","spotShadow","rectAreaLTC1","rectAreaLTC2","pointShadow","vector3","matrix42","intensity","isAmbientLight","isLightProbe","sh","coefficients","isDirectionalLight","shadowUniforms","bias","normalBias","mapSize","isSpotLight","penumbra","isRectAreaLight","identity","isPointLight","isHemisphereLight","LTC_FLOAT_1","LTC_FLOAT_2","LTC_HALF_1","LTC_HALF_2","WebGLRenderState","lightsArray","shadowsArray","pushLight","pushShadow","shadowLight","setupLights","WebGLRenderStates","renderStates","renderState","isMeshDepthMaterial","isMeshDistanceMaterial","vsm_frag","vsm_vert","WebGLShadowMap","_renderer","_objects","_frustum","_shadowMapSize","_viewportSize","_viewport","_depthMaterials","_distanceMaterials","_materialCache","shadowMaterialVertical","SAMPLE_RATE","HALF_SAMPLE_RATE","shadow_pass","resolution","shadowMaterialHorizonal","HORIZONAL_PASS","fullScreenTri","fullScreenMesh","autoUpdate","activeCubeFace","getActiveCubeFace","activeMipmapLevel","getActiveMipmapLevel","_state","setBlending","setTest","setScissorTest","shadowFrameExtents","getFrameExtents","isPointLightShadow","pars","mapPass","viewportCount","getViewportCount","vp","getViewport","updateMatrices","getFrustum","renderObject","VSMPass","renderBufferDirect","getDepthMaterialVariant","useMorphing","useSkinning","useInstancing","getDistanceMaterialVariant","getDepthMaterial","result","getMaterialVariant","customMaterial","customDepthMaterial","customDistanceMaterial","keyA","keyB","materialsForVariant","cachedMaterial","shadowCamera","intersectsObject","k","kl","depthMaterial","WebGLState","ColorBuffer","locked","currentColorMask","currentColorClear","setMask","colorMask","setLocked","lock","DepthBuffer","currentDepthMask","currentDepthFunc","currentDepthClear","enable","disable","depthMask","setFunc","clearDepth","StencilBuffer","currentStencilMask","currentStencilFunc","currentStencilRef","currentStencilFuncMask","currentStencilFail","currentStencilZFail","currentStencilZPass","currentStencilClear","stencilTest","stencilMask","setOp","stencilOp","clearStencil","colorBuffer","enabledCapabilities","currentProgram","currentBlendingEnabled","currentBlending","currentBlendEquation","currentBlendSrc","currentBlendDst","currentBlendEquationAlpha","currentBlendSrcAlpha","currentBlendDstAlpha","currentPremultipledAlpha","currentFlipSided","currentCullFace","currentLineWidth","currentPolygonOffsetFactor","currentPolygonOffsetUnits","lineWidthAvailable","glVersion","currentTextureSlot","currentBoundTextures","currentScissor","currentViewport","createTexture","bindTexture","texParameteri","texImage2D","emptyTextures","setFlipSided","setCullFace","useProgram","equationToGL","MIN_EXT","MAX_EXT","factorToGL","blendFuncSeparate","blendFunc","blendEquationSeparate","setMaterial","frontFaceCW","setPolygonOffset","frontFace","cullFace","setLineWidth","lineWidth","factor","activeTexture","webglSlot","webglType","webglTexture","boundTexture","unbindTexture","compressedTexImage2D","texImage3D","WebGLTextures","_gl","utils","_videoTextures","useOffscreenCanvas","OffscreenCanvas","err","createCanvas","resizeImage","needsPowerOfTwo","needsNewCanvas","maxSize","textureNeedsPowerOfTwo","textureNeedsGenerateMipmaps","supportsMips","generateMipmap","textureProperties","__maxMipLevel","LOG2E","getInternalFormat","internalFormatName","glFormat","glType","filterFallback","deallocateTexture","isVideoTexture","onRenderTargetDispose","deallocateRenderTarget","__webglInit","deleteTexture","__webglTexture","renderTargetProperties","deleteFramebuffer","__webglFramebuffer","__webglDepthbuffer","deleteRenderbuffer","__webglMultisampledFramebuffer","__webglColorRenderbuffer","__webglDepthRenderbuffer","textureUnits","resetTextureUnits","textureUnit","setTexture2D","slot","updateVideoTexture","__version","complete","uploadTexture","setTextureCube","uploadCubeTexture","wrappingToGL","filterToGL","setTextureParameters","textureType","__currentAnisotropy","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","initTexture","pixelStorei","convert","glInternalFormat","mipmap","isDepthTexture","isCompressedTexture","isCompressed","cubeImage","mipmapImage","setupFrameBufferTexture","framebuffer","attachment","textureTarget","bindFramebuffer","framebufferTexture2D","setupRenderBufferStorage","renderbuffer","isMultisample","bindRenderbuffer","getRenderTargetSamples","renderbufferStorageMultisample","renderbufferStorage","framebufferRenderbuffer","setupDepthTexture","isCube","webglDepthTexture","setupDepthRenderbuffer","createRenderbuffer","setupRenderTarget","createFramebuffer","updateRenderTargetMipmap","updateMultisampleRenderTarget","blitFramebuffer","warnedTexture2D","warnedTextureCube","WebGLUtils","HALF_FLOAT_OES","COMPRESSED_RGB_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","COMPRESSED_RGB_PVRTC_4BPPV1_IMG","COMPRESSED_RGB_PVRTC_2BPPV1_IMG","COMPRESSED_RGBA_PVRTC_4BPPV1_IMG","COMPRESSED_RGBA_PVRTC_2BPPV1_IMG","COMPRESSED_RGB_ETC1_WEBGL","COMPRESSED_RGB8_ETC2","COMPRESSED_RGBA8_ETC2_EAC","UNSIGNED_INT_24_8_WEBGL","ArrayCamera","isArrayCamera","Group","isGroup","WebXRController","_targetRay","_grip","_hand","getHandSpace","joints","inputState","pinching","window","XRHand","LITTLE_PHALANX_TIP","joint","getTargetRaySpace","getGripSpace","disconnect","inputSource","referenceSpace","inputPose","gripPose","handPose","targetRay","grip","hand","visibilityState","jointPose","getJointPose","transform","jointRadius","indexTip","INDEX_PHALANX_TIP","thumbTip","THUMB_PHALANX_TIP","distanceToPinch","threshold","handedness","getPose","targetRaySpace","gripSpace","WebXRManager","framebufferScaleFactor","referenceSpaceType","pose","controllers","inputSourcesMap","Map","cameraL","cameraR","cameraVR","_currentDepthNear","_currentDepthFar","isPresenting","getController","controller","getControllerGrip","getHand","onSessionEvent","onSessionEnd","forEach","setFramebuffer","onRequestReferenceSpace","setFramebufferScaleFactor","setReferenceSpaceType","getReferenceSpace","setSession","getContextAttributes","xrCompatible","makeXRCompatible","layerInit","antialias","baseLayer","XRWebGLLayer","updateRenderState","requestReferenceSpace","then","updateInputSources","inputSources","removed","added","cameraLPos","cameraRPos","setProjectionFromUnion","ipd","projL","projR","topFov","bottomFov","leftFov","rightFov","zOffset","xOffset","near2","far2","left2","right2","top2","bottom2","updateCamera","getCamera","depthNear","depthFar","onAnimationFrameCallback","getViewerPose","views","cameraVRNeedsUpdate","WebGLMaterials","refreshFogUniforms","isFog","density","refreshMaterialUniforms","pixelRatio","refreshUniformsCommon","isMeshLambertMaterial","refreshUniformsLambert","isMeshToonMaterial","refreshUniformsToon","isMeshPhongMaterial","refreshUniformsPhong","isMeshPhysicalMaterial","refreshUniformsPhysical","refreshUniformsStandard","isMeshMatcapMaterial","refreshUniformsMatcap","refreshUniformsDepth","refreshUniformsDistance","isMeshNormalMaterial","refreshUniformsNormal","isLineBasicMaterial","refreshUniformsLine","isLineDashedMaterial","refreshUniformsDash","isPointsMaterial","refreshUniformsPoints","isSpriteMaterial","refreshUniformsSprites","isShadowMaterial","uvScaleMap","uv2ScaleMap","createCanvasElement","display","WebGLRenderer","_context","_alpha","_depth","_stencil","_antialias","_premultipliedAlpha","_preserveDrawingBuffer","preserveDrawingBuffer","_powerPreference","powerPreference","_failIfMajorPerformanceCaveat","failIfMajorPerformanceCaveat","domElement","sortObjects","toneMappingExposure","_this","_isContextLost","_framebuffer","_currentActiveCubeFace","_currentActiveMipmapLevel","_currentRenderTarget","_currentFramebuffer","_currentMaterialId","_currentCamera","_currentArrayCamera","_currentViewport","_currentScissor","_currentScissorTest","_width","_height","_pixelRatio","_opaqueSort","_transparentSort","_scissor","_scissorTest","_clippingEnabled","_localClippingEnabled","_projScreenMatrix","_vector3","_emptyScene","overrideMaterial","getTargetPixelRatio","contextNames","contextAttributes","contextName","onContextLost","onContextRestore","isWebGL1Renderer","shift","message","programCache","renderLists","morphtargets","bufferRenderer","indexedBufferRenderer","initGLContext","forceContextLoss","loseContext","forceContextRestore","restoreContext","getPixelRatio","setPixelRatio","updateStyle","setViewport","getDrawingBufferSize","setDrawingBufferSize","getCurrentViewport","getScissor","setScissor","getScissorTest","boolean","setOpaqueSort","method","setTransparentSort","bits","preventDefault","onMaterialDispose","deallocateMaterial","releaseMaterialProgramReference","programInfo","renderObjectImmediate","renderBufferImmediate","hasPositions","hasNormals","hasUvs","hasColors","positionArray","normalArray","uvArray","colorArray","setProgram","rangeFactor","dataCount","rangeStart","rangeCount","drawStart","drawEnd","drawCount","isLineSegments","isLineLoop","isSprite","compile","compiled","material2","initMaterial","setFromProjectionMatrix","projectObject","opaqueObjects","transparentObjects","renderObjects","isLOD","intersectsSprite","isImmediateRenderObject","camera2","lightsStateVersion","programCacheKey","programChange","needsLights","materialNeedsLights","progUniforms","uniformsList","refreshProgram","refreshMaterial","refreshLights","p_uniforms","m_uniforms","uCamPos","cameraPosition","isOrthographicCamera","boneTexture","boneMatrices","boneTextureSize","markUniformsLightsNeedsUpdate","readRenderTargetPixels","activeCubeFaceIndex","restore","textureFormat","checkFramebufferStatus","readPixels","copyFramebufferToTexture","level","levelScale","copyTexImage2D","copyTextureToTexture","srcTexture","dstTexture","texSubImage2D","compressedTexSubImage2D","__THREE_DEVTOOLS__","CustomEvent","detail","WebGL1Renderer","FogExp2","Fog","Scene","InterleavedBuffer","isInterleavedBuffer","arrayBuffers","_uuid","ib","_vector$6","InterleavedBufferAttribute","interleavedBuffer","interleavedBuffers","_geometry","_intersectPoint","_worldScale","_mvPosition","_alignedPosition","_rotatedPosition","_viewWorldMatrix","_vA$1","_vB$1","_vC$1","_uvA$1","_uvB$1","_uvC$1","Sprite","float32Array","setFromMatrixScale","transformVertex","vertexPosition","mvPosition","_v1$4","_v2$2","LOD","_currentLevel","levels","addLevel","getCurrentLevel","getObjectForDistance","SkinnedMesh","bindMatrixInverse","bind","calculateInverses","normalizeSkinWeights","skinWeight","manhattanLength","basePosition","skinIndex","weight","getComponent","boneIndex","boneInverses","Bone","isBone","_offsetMatrix","_identityMatrix","Skeleton","inverse","bone","getBoneByName","fromJSON","json","boneInverse","_instanceLocalMatrix","_instanceWorldMatrix","_instanceIntersects","_mesh","InstancedMesh","getColorAt","getMatrixAt","raycastTimes","instanceId","setColorAt","setMatrixAt","linecap","linejoin","_start","_end","_inverseMatrix$1","_ray$1","_sphere$2","Line","computeLineDistances","params","localThreshold","localThresholdSq","vStart","vEnd","interSegment","interRay","distSq","distanceSqToSegment","nbVertices","_start$1","_end$1","LineSegments","LineLoop","_inverseMatrix$2","_ray$2","_sphere$3","_position$1","Points","testPoint","rayPointDistanceSq","intersectPoint","closestPointToPoint","distanceToRay","VideoTexture","video","updateVideo","requestVideoFrameCallback","hasVideoFrameCallback","readyState","HAVE_CURRENT_DATA","CompressedTexture","CanvasTexture","isCanvasTexture","DepthTexture","_geometryId","_m1$3","_obj$1","_offset$1","Geometry","vertex","fromBufferGeometry","addFace","areaWeighted","vl","computeFlatVertexNormals","computeMorphNormals","__originalFaceNormal","__originalVertexNormals","tmpGeo","faceNormals","dstNormalsFace","dstNormalsVertex","faceNormal","materialIndexOffset","vertexOffset","vertices1","vertices2","faces1","faces2","colors1","colors2","vertexCopy","faceVertexNormals","faceVertexColors","faceCopy","faceVertexUvs2","uvsCopy","mergeMesh","mergeVertices","precisionPoints","verticesMap","unique","changes","faceIndicesToRemove","idx","diff","sortFacesByMaterialIndex","_id","materialIndexSort","uvs1","newUvs1","newUvs2","normalsHash","colorsHash","uvsHash","hasMaterial","hasFaceUv","hasFaceNormal","hasFaceVertexNormal","hasFaceColor","hasFaceVertexColor","faceType","setBit","getUvIndex","getNormalIndex","getColorIndex","srcVertexNormal","destVertexNormal","BoxGeometry","CircleBufferGeometry","segments","thetaStart","thetaLength","segment","CircleGeometry","CylinderBufferGeometry","radiusTop","radiusBottom","radialSegments","openEnded","indexArray","generateTorso","generateCap","slope","indexRow","sinTheta","cosTheta","centerIndexStart","centerIndexEnd","CylinderGeometry","ConeGeometry","ConeBufferGeometry","PolyhedronBufferGeometry","vertexBuffer","uvBuffer","subdivide","applyRadius","generateUVs","getVertexByIndex","subdivideFace","cols","aj","bj","rows","pushVertex","azimuth","inclination","correctUVs","correctSeam","centroid","uvA","uvB","uvC","azi","correctUV","DodecahedronBufferGeometry","DodecahedronGeometry","_v0$2","_v1$5","_normal$1","_triangle","EdgesGeometry","thresholdAngle","thresholdDot","indexAttr","positionAttr","indexCount","indexArr","vertKeys","hashes","edgeData","jNext","vecHash0","vecHash1","reverseHash","index0","Earcut","triangulate","holeIndices","dim","hasHoles","outerLen","outerNode","linkedList","prev","invSize","eliminateHoles","earcutLinked","clockwise","signedArea","insertNode","removeNode","filterPoints","again","steiner","area","ear","pass","indexCurve","isEarHashed","isEar","cureLocalIntersections","splitEarcut","pointInTriangle","minTX","minTY","maxTX","maxTY","zOrder","prevZ","nextZ","locallyInside","isValidDiagonal","splitPolygon","getLeftmost","compareX","eliminateHole","hole","findHoleBridge","hx","hy","mx","my","tanMin","sectorContainsSector","sortLinked","tail","numMerges","pSize","qSize","inSize","leftmost","px","py","intersectsPolygon","middleInside","q1","q2","o1","o2","o3","o4","onSegment","inside","Node","an","bp","sum","ShapeUtils","contour","isClockWise","pts","triangulateShape","holes","removeDupEndPts","addContour","holeIndex","ExtrudeBufferGeometry","verticesArray","addShape","placeholder","curveSegments","steps","bevelEnabled","bevelThickness","bevelSize","bevelOffset","bevelSegments","extrudePath","uvgen","UVGenerator","WorldUVGenerator","amount","extrudePts","extrudeByPath","splineTube","binormal","position2","getSpacedPoints","computeFrenetFrames","shapePoints","extractPoints","reverse","hl","ahole","scalePt2","pt","vec","vlen","flen","getBevelVec","inPt","inPrev","inNext","v_trans_x","v_trans_y","shrink_by","v_prev_x","v_prev_y","v_next_x","v_next_y","v_prev_lensq","collinear0","v_prev_len","v_next_len","ptPrevShift_x","ptPrevShift_y","ptNextShift_x","ptNextShift_y","sf","v_trans_lensq","direction_eq","contourMovements","holesMovements","oneHoleMovements","verticesMovements","bs","vert","binormals","buildLidFaces","buildSideFaces","layer","f3","layeroffset","sidewalls","sl","slen1","slen2","f4","addVertex","nextIndex","generateTopUV","addUV","generateSideWallUV","vector2","indexA","indexB","indexC","a_x","a_y","b_x","b_y","c_x","c_y","indexD","a_z","b_z","c_z","d_x","d_y","d_z","ExtrudeGeometry","toJSON$1","IcosahedronBufferGeometry","IcosahedronGeometry","LatheBufferGeometry","phiStart","phiLength","inverseSegments","base","n1","n2","LatheGeometry","OctahedronBufferGeometry","OctahedronGeometry","ParametricBufferGeometry","func","slices","stacks","pu","pv","sliceCount","ParametricGeometry","PlaneGeometry","PolyhedronGeometry","RingBufferGeometry","innerRadius","outerRadius","thetaSegments","phiSegments","radiusStep","thetaSegmentLevel","RingGeometry","ShapeBufferGeometry","indexOffset","shapeVertices","shapeHoles","shapeHole","toJSON$2","ShapeGeometry","toJSON$3","SphereBufferGeometry","thetaEnd","grid","verticesRow","uOffset","SphereGeometry","TetrahedronBufferGeometry","TetrahedronGeometry","TextBufferGeometry","text","font","isFont","generateShapes","TextGeometry","TorusBufferGeometry","tube","tubularSegments","arc","TorusGeometry","TorusKnotBufferGeometry","P1","P2","B","T","N","calculatePositionOnCurve","cu","su","quOverP","cs","TorusKnotGeometry","heightScale","TubeBufferGeometry","closed","frames","tangents","P","generateBufferData","generateSegment","generateIndices","getPointAt","TubeGeometry","taper","bufferGeometry","WireframeGeometry","edge","edges","edge1","edge2","o","ol","Geometries","freeze","RawShaderMaterial","ior","Materials","AnimationUtils","arraySlice","isTypedArray","convertArray","forceClone","DataView","getKeyframeOrder","times","compareTime","sortedArray","nValues","srcOffset","flattenJSON","jsonKeys","valuePropertyName","subclip","sourceClip","startFrame","endFrame","fps","clip","tracks","track","valueSize","getValueSize","minStartTime","resetDuration","makeClipAdditive","targetClip","referenceFrame","referenceClip","numTracks","referenceTime","referenceTrack","referenceTrackType","ValueTypeName","targetTrack","find","referenceOffset","referenceValueSize","createInterpolant","isInterpolantFactoryMethodGLTFCubicSpline","targetOffset","targetValueSize","referenceValue","startIndex","endIndex","interpolant","evaluate","resultBuffer","referenceQuat","numTimes","valueStart","multiplyQuaternionsFlat","valueEnd","blendMode","Interpolant","parameterPositions","sampleValues","sampleSize","_cachedIndex","pp","validate_interval","seek","linear_scan","forward_scan","giveUpAt","afterEnd_","t1global","beforeStart_","mid","intervalChanged_","interpolate_","settings","DefaultSettings_","getSettings_","copySampleValue_","CubicInterpolant","_weightPrev","_offsetPrev","_weightNext","_offsetNext","endingStart","endingEnd","iPrev","iNext","tPrev","tNext","halfDt","o0","oP","oN","wP","wN","ppp","sP","sN","LinearInterpolant","offset1","offset0","weight1","weight0","DiscreteInterpolant","KeyframeTrack","interpolation","TimeBufferType","ValueBufferType","setInterpolation","DefaultInterpolation","trackType","getInterpolation","InterpolantFactoryMethodDiscrete","InterpolantFactoryMethodLinear","InterpolantFactoryMethodSmooth","factoryMethod","timeOffset","timeScale","startTime","endTime","nKeys","validate","valid","prevTime","currTime","optimize","smoothInterpolation","writeIndex","keep","timeNext","offsetP","offsetN","readOffset","writeOffset","TypedKeyframeTrack","BooleanKeyframeTrack","ColorKeyframeTrack","NumberKeyframeTrack","QuaternionLinearInterpolant","slerpFlat","QuaternionKeyframeTrack","StringKeyframeTrack","VectorKeyframeTrack","AnimationClip","duration","getTrackTypeForValueTypeName","typeName","parseKeyframeTrack","jsonTracks","frameTime","clipTracks","CreateFromMorphTargetSequence","morphTargetSequence","noLoop","numMorphTargets","findByName","objectOrClipArray","clipArray","CreateClipsFromMorphTargetSequences","animationToMorphTargets","pattern","animationMorphTargets","clips","parseAnimation","addNonemptyTrack","trackName","animationKeys","propertyName","destTracks","clipName","hierarchyTracks","hierarchy","morphTargetNames","morphTargetName","animationKey","boneName","Cache","files","file","LoadingManager","onLoad","onProgress","onError","isLoading","itemsLoaded","itemsTotal","urlModifier","handlers","onStart","itemStart","itemEnd","itemError","resolveURL","setURLModifier","addHandler","regex","loader","removeHandler","getHandler","DefaultLoadingManager","Loader","manager","crossOrigin","withCredentials","resourcePath","requestHeader","load","loadAsync","Promise","reject","setCrossOrigin","setWithCredentials","setPath","setResourcePath","setRequestHeader","loading","FileLoader","dataUriRegex","dataUriRegexResult","request","mimeType","isBase64","decodeURIComponent","atob","response","responseType","Blob","parser","DOMParser","parseFromString","XMLHttpRequest","open","callbacks","overrideMimeType","header","send","setResponseType","setMimeType","AnimationLoader","CompressedTextureLoader","loaded","loadTexture","texDatas","mipmapCount","isCubemap","ImageLoader","onImageLoad","onImageError","CubeTextureLoader","urls","DataTextureLoader","texData","TextureLoader","isJPEG","search","Curve","arcLengthDivisions","getPoint","optionalTarget","getUtoTmapping","getPoints","divisions","getLength","lengths","getLengths","cacheArcLengths","current","updateArcLengths","arcLengths","targetArcLength","comparison","lengthBefore","lengthAfter","segmentLength","segmentFraction","getTangent","t2","pt1","pt2","getTangentAt","mat","MAX_VALUE","tz","makeRotationAxis","EllipseCurve","aX","aY","xRadius","yRadius","aStartAngle","aEndAngle","aClockwise","aRotation","isEllipseCurve","twoPi","deltaAngle","samePoints","ArcCurve","aRadius","isArcCurve","CubicPoly","c0","initCatmullRom","x3","tension","initNonuniformCatmullRom","dt0","dt1","dt2","calc","t3","pz","CatmullRomCurve3","curveType","isCatmullRomCurve3","intPoint","CatmullRom","QuadraticBezierP0","QuadraticBezierP1","QuadraticBezierP2","QuadraticBezier","CubicBezierP0","CubicBezierP1","CubicBezierP2","CubicBezierP3","CubicBezier","CubicBezierCurve","v3","isCubicBezierCurve","CubicBezierCurve3","isCubicBezierCurve3","LineCurve","isLineCurve","LineCurve3","isLineCurve3","QuadraticBezierCurve","isQuadraticBezierCurve","QuadraticBezierCurve3","isQuadraticBezierCurve3","SplineCurve","isSplineCurve","Curves","CurvePath","curves","autoClose","curve","closePath","startPoint","endPoint","curveLengths","getCurveLengths","cacheLengths","sums","Path","currentPoint","moveTo","lineTo","quadraticCurveTo","aCPx","aCPy","bezierCurveTo","aCP1x","aCP1y","aCP2x","aCP2y","splineThru","npts","absarc","absellipse","ellipse","firstPoint","lastPoint","Shape","getPointsHoles","holesPts","Light","HemisphereLight","LightShadow","_frameExtents","_viewportCount","_viewports","_lightPositionWorld","_lookTarget","shadowMatrix","projScreenMatrix","lookTarget","lightPositionWorld","viewportIndex","SpotLightShadow","isSpotLightShadow","SpotLight","power","PointLightShadow","_cubeDirections","_cubeUps","PointLight","OrthographicCamera","scaleW","scaleH","makeOrthographic","DirectionalLightShadow","isDirectionalLightShadow","DirectionalLight","AmbientLight","RectAreaLight","SphericalHarmonics3","coeff","shBasis","LightProbe","MaterialLoader","getTexture","shading","setTextures","LoaderUtils","decodeText","TextDecoder","decode","escape","extractUrlBase","InstancedBufferGeometry","InstancedBufferAttribute","BufferGeometryLoader","interleavedBufferMap","arrayBufferMap","getInterleavedBuffer","getArrayBuffer","arrayBuffer","typedArray","bufferAttribute","bufferAttributeConstr","drawcalls","offsets","ObjectLoader","parseAnimations","parseShapes","parseGeometries","parseImages","parseTextures","parseMaterials","parseObject","parseSkeletons","bindSkeletons","hasImages","geometryShapes","bufferGeometryLoader","details","loadImage","deserializeImage","currentUrl","deserializedImage","parseConstant","TEXTURE_MAPPING","TEXTURE_WRAPPING","TEXTURE_FILTER","getGeometry","getMaterial","objectAnimations","ImageBitmapLoader","createImageBitmap","fetch","isImageBitmapLoader","setOptions","fetchOptions","credentials","blob","imageBitmap","ShapePath","subPaths","currentPath","toShapes","isCCW","noHoles","toShapesNoHoles","inSubpaths","tmpPath","tmpShape","isPointInsidePolygon","inPolygon","polyLen","edgeLowPt","edgeHighPt","edgeDx","edgeDy","perpEdge","solid","holesFirst","betterShapeHoles","newShapes","newShapeHoles","mainIdx","tmpPoints","ambiguous","toChange","sIdx","sLen","sho","hIdx","ho","hole_unassigned","s2Idx","froms","tos","tmpHoles","Font","createPaths","chars","line_height","yMax","yMin","underlineThickness","char","createPath","glyph","glyphs","familyName","cpx","cpy","cpx1","cpy1","cpx2","cpy2","outline","_cachedOutline","action","ha","FontLoader","substring","AudioContext","webkitAudioContext","AudioLoader","bufferCopy","decodeAudioData","audioBuffer","HemisphereLightProbe","sky","ground","isHemisphereLightProbe","AmbientLightProbe","isAmbientLightProbe","_eyeRight","_eyeLeft","StereoCamera","eyeSep","_cache","eyeSepHalf","eyeSepOnProjection","ymax","xmin","xmax","Clock","autoStart","oldTime","elapsedTime","running","now","getElapsedTime","getDelta","newTime","performance","Date","_position$2","_quaternion$3","_scale$1","_orientation","AudioListener","gain","createGain","connect","destination","timeDelta","_clock","setTargetAtTime","currentTime","positionX","linearRampToValueAtTime","positionY","positionZ","forwardX","forwardY","forwardZ","upX","upY","upZ","setPosition","setOrientation","Audio","getInput","autoplay","detune","loop","loopStart","loopEnd","playbackRate","isPlaying","hasPlaybackControl","sourceType","_startedAt","_progress","_connected","filters","audioNode","mediaElement","createMediaElementSource","mediaStream","createMediaStreamSource","play","delay","createBufferSource","onended","onEnded","setDetune","setPlaybackRate","getOutput","getFilters","setFilters","_position$3","_quaternion$4","_scale$2","_orientation$1","PositionalAudio","panner","createPanner","panningModel","refDistance","rolloffFactor","distanceModel","maxDistance","coneInnerAngle","coneOuterAngle","coneOuterGain","orientationX","orientationY","orientationZ","AudioAnalyser","audio","fftSize","analyser","createAnalyser","frequencyBinCount","getByteFrequencyData","getFrequencyData","PropertyMixer","mixFunction","mixFunctionAdditive","setIdentity","_slerp","_slerpAdditive","_setAdditiveIdentityQuaternion","_workIndex","_select","_setAdditiveIdentityOther","_lerp","_lerpAdditive","_setAdditiveIdentityNumeric","_mixBufferRegion","_mixBufferRegionAdditive","_setIdentity","_origIndex","_addIndex","cumulativeWeight","cumulativeWeightAdditive","useCount","referenceCount","accumulate","accuIndex","currentWeight","mix","accumulateAdditive","weightAdditive","originalValueOffset","saveOriginalState","getValue","restoreOriginalState","targetIndex","workOffset","_RESERVED_CHARS_RE","_reservedRe","RegExp","_wordChar","_wordCharOrDot","_directoryRe","_nodeRe","_objectRe","_propertyRe","_trackRe","_supportedObjectNames","Composite","targetGroup","optionalParsedPath","parsedPath","PropertyBinding","parseTrackName","_targetGroup","_bindings","subscribe_","firstValidIndex","nCachedObjects_","bindings","unbind","rootNode","node","findNode","nodeName","root","isAnimationObjectGroup","sanitizeNodeName","matches","results","objectName","objectIndex","propertyIndex","lastDot","searchNodeSubtree","childNode","subTreeNode","_getValue_unavailable","_setValue_unavailable","BindingType","Direct","EntireArray","ArrayElement","HasFromToArray","Versioning","None","NeedsUpdate","MatrixWorldNeedsUpdate","GetterByBindingType","getValue_direct","getValue_array","resolvedProperty","getValue_arrayElement","getValue_toArray","SetterByBindingTypeAndVersioning","setValue_direct","targetObject","setValue_direct_setNeedsUpdate","setValue_direct_setMatrixWorldNeedsUpdate","setValue_array","dest","setValue_array_setNeedsUpdate","setValue_array_setMatrixWorldNeedsUpdate","setValue_arrayElement","setValue_arrayElement_setNeedsUpdate","setValue_arrayElement_setMatrixWorldNeedsUpdate","setValue_fromArray","setValue_fromArray_setNeedsUpdate","setValue_fromArray_setMatrixWorldNeedsUpdate","getValue_unbound","targetArray","sourceArray","nodeProperty","versioning","bindingType","_getValue_unbound","_setValue_unbound","AnimationObjectGroup","_indicesByUUID","_paths","_parsedPaths","_bindingsIndicesByPath","stats","total","inUse","bindingsPerObject","indicesByUUID","parsedPaths","nBindings","knownObject","nObjects","nCachedObjects","firstActiveIndex","lastCachedObject","bindingsForPath","lastCached","lastCachedIndex","firstActiveObject","firstActive","uncache","lastObject","indicesByPath","unsubscribe_","lastBindingsIndex","lastBindings","lastBindingsPath","AnimationAction","mixer","localRoot","_mixer","_clip","_localRoot","nTracks","interpolants","interpolantSettings","_interpolantSettings","_interpolants","_propertyBindings","_cacheIndex","_byClipCacheIndex","_timeScaleInterpolant","_weightInterpolant","_loopCount","_startTime","_effectiveTimeScale","_effectiveWeight","repetitions","paused","clampWhenFinished","zeroSlopeAtStart","zeroSlopeAtEnd","_activateAction","_deactivateAction","stopFading","stopWarping","_isActiveAction","_scheduleFading","fadeOutAction","warp","fadeOut","fadeIn","fadeInDuration","fadeOutDuration","startEndRatio","endStartRatio","fadeInAction","crossFadeFrom","weightInterpolant","_takeBackControlInterpolant","startTimeScale","endTimeScale","_lendControlInterpolant","timeScaleInterpolant","_root","deltaTime","timeDirection","_updateWeight","timeRunning","_updateTimeScale","clipTime","_updateTime","propertyMixers","interpolantValue","loopCount","pingPong","_setEndings","handle_stop","loopDelta","pending","atStart","atEnd","weightNow","weightThen","AnimationMixer","_initMemoryManager","_accuIndex","_bindAction","prototypeAction","rootUuid","bindingsByRoot","_bindingsByRootAndName","bindingsByName","_addInactiveBinding","clipUuid","actionsForClip","_actionsByClip","knownActions","_addInactiveAction","_lendBinding","_lendAction","_takeBackBinding","_takeBackAction","_actions","_nActiveActions","_nActiveBindings","_controlInterpolants","_nActiveControlInterpolants","actions","controlInterpolants","actionsByClip","actionByRoot","_removeInactiveAction","lastInactiveAction","cacheIndex","knownActionsForClip","lastKnownAction","byClipCacheIndex","_removeInactiveBindingsForAction","_removeInactiveBinding","prevIndex","lastActiveIndex","firstInactiveAction","firstInactiveIndex","lastActiveAction","bindingByName","propBinding","lastInactiveBinding","firstInactiveBinding","lastActiveBinding","_controlInterpolantsResultBuffer","__cacheIndex","lastActiveInterpolant","clipAction","optionalRoot","clipObject","existingAction","newAction","stopAllAction","nActions","_update","setTime","timeInSeconds","getRoot","uncacheClip","actionsToRemove","uncacheRoot","uncacheAction","Uniform","InstancedInterleavedBuffer","GLBufferAttribute","setBuffer","setType","setItemSize","setCount","Raycaster","PointCloud","ascSort","intersectObject","setFromCamera","coords","unproject","intersectObjects","Spherical","other","setFromCartesianCoords","Cylindrical","_vector$7","Box2","_startP","_startEnd","Line3","clampToLine","startEnd2","startEnd_startP","closestPointToPointParameter","ImmediateRenderObject","_vector$8","SpotLightHelper","cone","coneLength","coneWidth","_vector$9","_boneMatrix","_matrixWorldInv","SkeletonHelper","getBoneList","isSkeletonHelper","boneList","PointLightHelper","sphereSize","_vector$a","_color1","_color2","HemisphereLightHelper","GridHelper","PolarGridHelper","radials","circles","_v1$6","_v2$3","_v3$1","DirectionalLightHelper","lightPlane","targetLine","_vector$b","_camera","CameraHelper","pointMap","colorFrustum","colorCone","colorUp","colorTarget","colorCross","addLine","addPoint","setPoint","_box$3","BoxHelper","Box3Helper","PlaneHelper","positions2","_axis","_lineGeometry","_coneGeometry","ArrowHelper","headLength","headWidth","setDirection","setLength","AxesHelper","_floatView","_int32View","DataUtils","toHalfFloat","LOD_MIN","LOD_MAX","SIZE_MAX","EXTRA_LOD_SIGMA","TOTAL_LODS","MAX_SAMPLES","ENCODINGS","_flatCamera","_createPlanes","_lodPlanes","_sizeLods","_sigmas","_oldTarget","PHI","INV_PHI","_axisDirections","PMREMGenerator","_pingPongRenderTarget","_blurMaterial","_getBlurShader","_equirectShader","_cubemapShader","_compileMaterial","sigma","cubeUVRenderTarget","_allocateTargets","_sceneToCubeUV","_blur","_applyPMREM","_cleanup","equirectangular","_fromTexture","_getCubemapShader","_getEquirectShader","outputTarget","_setViewport","_textureToCubeUV","_isLDR","_createRenderTarget","tmpMesh","cubeCamera","upSign","forwardSign","convertSRGBToLinear","maxComponent","fExp","log2","col","poleAxis","lodIn","lodOut","pingPongRenderTarget","_halfBlur","targetIn","targetOut","sigmaRadians","blurMaterial","STANDARD_DEVIATIONS","blurMesh","blurUniforms","pixels","radiansPerPixel","sigmaPixels","weights","exp","outputSize","lod","sizeLod","texelSize","cubeFaces","positionSize","uvSize","faceIndexSize","coordinates","shaderMaterial","_getCommonVertexShader","_getEncodings","Face4","LineStrip","LinePieces","NoColors","FaceColors","VertexColors","MeshFaceMaterial","MultiMaterial","Particle","ParticleSystem","PointCloudMaterial","ParticleBasicMaterial","ParticleSystemMaterial","Vertex","DynamicBufferAttribute","Int8Attribute","Uint8Attribute","Uint8ClampedAttribute","Int16Attribute","Uint16Attribute","Int32Attribute","Uint32Attribute","Float32Attribute","Float64Attribute","construct","createPointsGeometry","createGeometry","createSpacedPointsGeometry","fromPoints","ClosedSplineCurve3","SplineCurve3","Spline","initFromArray","getControlPointsArray","reparametrizeByArcLength","AxisHelper","BoundingBoxHelper","EdgesHelper","setColors","WireframeHelper","Handlers","XHRLoader","BinaryTextureLoader","empty","isIntersectionBox","isIntersectionSphere","setFromMatrix","random16","nearestPowerOfTwo","nextPowerOfTwo","flattenToArrayOffset","multiplyVector3","multiplyVector3Array","applyToBufferAttribute","applyToVector3Array","getInverse","extractPosition","getPosition","multiplyToArray","multiplyVector4","rotateAxis","crossVector","rotateByAxis","makeFrustum","isIntersectionLine","intersectsLine","isIntersectionPlane","getArea","barycoordFromPoint","midpoint","getMidpoint","getPlane","extractAllPoints","extrude","makeGeometry","fromAttribute","distanceToManhattan","manhattanDistanceTo","lengthManhattan","setEulerFromRotationMatrix","setEulerFromQuaternion","getPositionFromMatrix","getScaleFromMatrix","getColumnFromMatrix","applyProjection","computeTangents","applyMatrix","getChildByName","renderDepth","getWorldRotation","eulerOrder","useQuaternion","setDrawMode","drawMode","initBones","setLens","onlyShadow","shadowCameraFov","shadowCameraLeft","shadowCameraRight","shadowCameraTop","shadowCameraBottom","shadowCameraVisible","shadowDarkness","shadowMapWidth","shadowMapHeight","dynamic","setDynamic","copyIndicesArray","setArray","addIndex","addAttribute","addDrawCall","clearDrawCalls","computeOffsets","removeAttribute","maxInstancedCount","linePrecision","getArrays","addShapeList","wrapAround","overdraw","wrapRGB","metal","transparency","clearTarget","animate","getCurrentRenderTarget","getPrecision","resetGLState","supportsFloatTextures","supportsHalfFloatTextures","supportsStandardDerivatives","supportsCompressedTextureS3TC","supportsCompressedTexturePVRTC","supportsBlendMinMax","supportsInstancedArrays","enableScissorTest","addPrePlugin","addPostPlugin","updateShadowMap","setFaceCulling","allocTextureUnit","setTexture","getActiveMipMapLevel","shadowMapCullFace","vr","gammaInput","gammaOutput","toneMappingWhitePoint","renderReverseSided","renderSingleSided","WebGLRenderTargetCube","audioLoader","getData","updateCubeMap","GeometryUtils","geometry1","loadTextureCube","loadCompressedTexture","loadCompressedTextureCube","CanvasRenderer","JSONLoader","SceneUtils","createMultiMaterialObject","detach","LensFlare","revision","OrbitControls","minDistance","minZoom","maxZoom","minPolarAngle","maxPolarAngle","minAzimuthAngle","maxAzimuthAngle","enableDamping","dampingFactor","enableZoom","zoomSpeed","enableRotate","rotateSpeed","enablePan","panSpeed","screenSpacePanning","keyPanSpeed","autoRotate","autoRotateSpeed","enableKeys","UP","BOTTOM","mouseButtons","touches","ONE","TWO","target0","position0","zoom0","getPolarAngle","spherical","getAzimuthalAngle","saveState","changeEvent","STATE","NONE","quat","setFromUnitVectors","quatInverse","lastPosition","lastQuaternion","twoPI","setFromVector3","rotateLeft","getAutoRotationAngle","sphericalDelta","makeSafe","panOffset","setFromSpherical","zoomChanged","onContextMenu","onPointerDown","onMouseWheel","onTouchStart","onTouchEnd","onTouchMove","ownerDocument","onPointerMove","onPointerUp","onKeyDown","startEvent","endEvent","TOUCH_ROTATE","TOUCH_PAN","TOUCH_DOLLY_PAN","TOUCH_DOLLY_ROTATE","rotateStart","rotateEnd","rotateDelta","panStart","panEnd","panDelta","dollyStart","dollyEnd","dollyDelta","getZoomScale","rotateUp","panLeft","objectMatrix","panUp","pan","deltaX","deltaY","targetDistance","clientHeight","clientWidth","dollyOut","dollyScale","dollyIn","handleMouseDownRotate","clientX","clientY","handleMouseDownDolly","handleMouseDownPan","handleMouseMoveRotate","handleMouseMoveDolly","handleMouseMovePan","handleMouseUp","handleMouseWheel","handleKeyDown","keyCode","handleTouchStartRotate","pageX","pageY","handleTouchStartPan","handleTouchStartDolly","handleTouchStartDollyPan","handleTouchStartDollyRotate","handleTouchMoveRotate","handleTouchMovePan","handleTouchMoveDolly","handleTouchMoveDollyPan","handleTouchMoveDollyRotate","handleTouchEnd","pointerType","onMouseDown","onMouseMove","onMouseUp","mouseAction","button","ctrlKey","metaKey","shiftKey","stopPropagation","MapControls","GLTFLoader","dracoLoader","ddsLoader","ktx2Loader","meshoptDecoder","pluginCallbacks","register","GLTFMaterialsClearcoatExtension","GLTFTextureBasisUExtension","GLTFTextureWebPExtension","GLTFMaterialsTransmissionExtension","GLTFLightsExtension","GLTFMeshoptCompression","_onError","gltf","setDRACOLoader","setDDSLoader","setKTX2Loader","setMeshoptDecoder","unregister","content","plugins","magic","BINARY_EXTENSION_HEADER_MAGIC","EXTENSIONS","KHR_BINARY_GLTF","GLTFBinaryExtension","asset","GLTFParser","fileLoader","plugin","extensionsUsed","extensionName","extensionsRequired","KHR_MATERIALS_UNLIT","GLTFMaterialsUnlitExtension","KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS","GLTFMaterialsPbrSpecularGlossinessExtension","KHR_DRACO_MESH_COMPRESSION","GLTFDracoMeshCompressionExtension","MSFT_TEXTURE_DDS","GLTFTextureDDSExtension","KHR_TEXTURE_TRANSFORM","GLTFTextureTransformExtension","KHR_MESH_QUANTIZATION","GLTFMeshQuantizationExtension","setExtensions","setPlugins","GLTFRegistry","removeAll","KHR_LIGHTS_PUNCTUAL","KHR_MATERIALS_CLEARCOAT","KHR_MATERIALS_TRANSMISSION","KHR_TEXTURE_BASISU","EXT_TEXTURE_WEBP","EXT_MESHOPT_COMPRESSION","refs","uses","_markDefs","nodeDefs","nodes","nodeIndex","nodeLength","nodeDef","_addNodeRef","_loadLight","lightIndex","dependency","lightDefs","lightDef","lightNode","innerConeAngle","outerConeAngle","createUniqueName","createNodeAttachment","self","_getNodeRef","getMaterialType","extendParams","materialParams","materialDef","metallicRoughness","pbrMetallicRoughness","baseColorFactor","baseColorTexture","assignTexture","all","extendMaterialParams","clearcoatFactor","clearcoatTexture","clearcoatRoughnessFactor","clearcoatRoughnessTexture","clearcoatNormalTexture","transmissionFactor","transmissionTexture","textureIndex","textureDef","loadTextureImage","isSupported","uri","textureLoader","detectSupport","Image","onload","onerror","loadBufferView","bufferView","bufferViews","extensionDef","getDependency","decoder","supported","ready","byteStride","decodeGltfBuffer","BINARY_EXTENSION_HEADER_LENGTH","BINARY_EXTENSION_CHUNK_TYPES","BIN","body","headerView","getUint32","chunkView","chunkIndex","chunkLength","chunkType","contentArray","preload","decodePrimitive","primitive","bufferViewIndex","gltfAttributeMap","threeAttributeMap","attributeNormalizedMap","attributeTypeMap","attributeName","threeAttributeName","ATTRIBUTES","accessorDef","accessors","componentType","WEBGL_COMPONENT_TYPES","decodeDracoFile","extendTexture","texCoord","GLTFMeshStandardSGMaterial","isGLTFSpecularGlossinessMaterial","specularMapParsFragmentChunk","glossinessMapParsFragmentChunk","specularMapFragmentChunk","glossinessMapFragmentChunk","lightPhysicalFragmentChunk","glossiness","glossinessMap","_extraUniforms","uniformName","USE_SPECULARMAP","USE_GLOSSINESSMAP","USE_UV","specularGlossinessParams","pbrSpecularGlossiness","diffuseFactor","diffuseTexture","glossinessFactor","specularFactor","specularGlossinessTexture","specGlossMapDef","createMaterial","GLTFCubicSplineInterpolant","stride2","stride3","td","m0","m1","WEBGL_CONSTANTS","FLOAT","FLOAT_MAT3","FLOAT_MAT4","FLOAT_VEC2","FLOAT_VEC3","FLOAT_VEC4","LINEAR","REPEAT","SAMPLER_2D","POINTS","LINES","LINE_LOOP","LINE_STRIP","TRIANGLES","TRIANGLE_STRIP","TRIANGLE_FAN","UNSIGNED_BYTE","UNSIGNED_SHORT","WEBGL_FILTERS","WEBGL_WRAPPINGS","WEBGL_TYPE_SIZES","POSITION","NORMAL","TANGENT","TEXCOORD_0","TEXCOORD_1","COLOR_0","WEIGHTS_0","JOINTS_0","PATH_PROPERTIES","translation","INTERPOLATION","CUBICSPLINE","STEP","ALPHA_MODES","OPAQUE","MASK","BLEND","createDefaultMaterial","addUnknownExtensionsToUserData","knownExtensions","objectDef","gltfExtensions","assignExtrasToUserData","gltfDef","extras","addMorphTargets","targets","hasMorphPosition","hasMorphNormal","pendingPositionAccessors","pendingNormalAccessors","pendingAccessor","morphPositions","meshDef","targetNames","createPrimitiveKey","primitiveDef","dracoExtension","geometryKey","createAttributesKey","attributesKey","associations","primitiveCache","meshCache","cameraCache","lightCache","nodeNamesUsed","navigator","userAgent","_invokeAll","getDependencies","dependencies","scenes","skinDefs","skins","meshDefs","meshes","skinLength","skin","ref","_invokeOne","loadScene","loadNode","loadMesh","loadAccessor","loadBuffer","loadMaterial","loadSkin","loadAnimation","loadCamera","defs","def","bufferIndex","bufferDef","bufferViewDef","accessorIndex","sparse","pendingBufferViews","TypedArray","elementBytes","itemBytes","ibSlice","ibCacheKey","itemSizeIndices","SCALAR","TypedArrayIndices","byteOffsetIndices","byteOffsetValues","sparseIndices","sparseValues","textureExtensions","URL","webkitURL","sourceURI","isObjectURL","hasAlpha","colorType","getUint8","createObjectURL","revokeObjectURL","samplers","sampler","mapName","mapDef","gltfReference","assignFinalMaterial","useVertexTangents","useVertexColors","useFlatShading","useMorphTargets","useMorphNormals","pointsMaterial","lineMaterial","materialType","materialExtensions","sgExtension","kmuExtension","metallicFactor","roughnessFactor","metallicRoughnessTexture","alphaMode","alphaCutoff","normalTexture","occlusionTexture","strength","emissiveFactor","emissiveTexture","originalName","computeBounds","accessor","maxDisplacement","expandByVector","addPrimitiveAttributes","assignAttributeAccessor","gltfAttributeName","toTrianglesDrawMode","numberOfTriangles","newIndices","newGeometry","loadGeometries","primitives","createDracoPrimitive","promise","geometryPromise","meshIndex","cameraIndex","cameraDef","yfov","aspectRatio","znear","zfar","xmag","ymag","skinDef","skinEntry","inverseBindMatrices","animationIndex","animationDef","pendingNodes","pendingInputAccessors","pendingOutputAccessors","pendingSamplers","pendingTargets","channels","input","inputAccessors","outputAccessors","inputAccessor","outputAccessor","targetName","outputArray","scaled","InterpolantFactoryMethodGLTFCubicSpline","buildNodeHierachy","nodeId","parentObject","pendingJoints","jointNodes","jointNode","sceneIndex","sceneDef","nodeIds","Function","loadFunction","signal","sizeLocal","checkSize","OBB","e1","e2","e3","halfDepth","matrixToOBBCoordinateSystem","transformedPoint","inFrustum","THREE","innerWidth","innerHeight","appendChild","controls","onWindowResize","tileset","Tileset","setInterval","loadOutsideFrustum","getElementById","setLoadOutsideView","gltfLoader","endsWith","ok","statusText","parseB3DM","parseTileset","rootPath","tile","Tile","assert","geometricError","setGeometricError","setContent","boundingVolume","setVolume","region","setRefine","refine","addChild","dataView","featureTableJSONByteLength","featureTableBinaryByteLength","batchTableJSONByteLength","batchTableBinaryByteLength","featureTableStart","batchTableStart","glbStart","glbBytes","gltfBuffer","model","volume","getTilesInView","errorCoefficient","loadAroundView","getContent","getRefine","getVolume","setChildren","getChildren","tilePromises","distToVolume","distanceToVolume","flat","getGeometricError","deviceMemory","geometricErrorMultiplier","rootTile","currentlyRenderedTiles","futureActionOnTiles","setGeometricErrorMultiplier","setLoadAroundView","deleteFromCurrentScene","setScene","setCamera","tiles","abort","AbortController","newTilesContent","toDelete","contentRequests","aborted"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  var i\n  for (i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","/**\n * Byte sizes are taken from ECMAScript Language Specification\n * http://www.ecma-international.org/ecma-262/5.1/\n * http://bclary.com/2004/11/07/#a-4.3.16\n */\n\nmodule.exports = {\n  STRING: 2,\n  BOOLEAN: 4,\n  NUMBER: 8\n}\n","// Copyright 2014 Andrei Karpushonak\n\n'use strict'\n\nvar ECMA_SIZES = require('./byte_size')\nvar Buffer = require('buffer').Buffer\n\nfunction allProperties(obj) {\n  const stringProperties = []\n  for (var prop in obj) { \n      stringProperties.push(prop)\n  }\n  if (Object.getOwnPropertySymbols) {\n      var symbolProperties = Object.getOwnPropertySymbols(obj)\n      Array.prototype.push.apply(stringProperties, symbolProperties)\n  }\n  return stringProperties\n}\n\nfunction sizeOfObject (seen, object) {\n  if (object == null) {\n    return 0\n  }\n\n  var bytes = 0\n  var properties = allProperties(object)\n  for (var i = 0; i < properties.length; i++) {\n    var key = properties[i]\n    // Do not recalculate circular references\n    if (typeof object[key] === 'object' && object[key] !== null) {\n      if (seen.has(object[key])) {\n        continue\n      }\n      seen.add(object[key])\n    }\n\n    bytes += getCalculator(seen)(key)\n    try {\n      bytes += getCalculator(seen)(object[key])\n    } catch (ex) {\n      if (ex instanceof RangeError) {\n        // circular reference detected, final result might be incorrect\n        // let's be nice and not throw an exception\n        bytes = 0\n      }\n    }\n  }\n\n  return bytes\n}\n\nfunction getCalculator (seen) {\n  return function calculator(object) {\n    if (Buffer.isBuffer(object)) {\n      return object.length\n    }\n\n    var objectType = typeof (object)\n    switch (objectType) {\n      case 'string':\n        return object.length * ECMA_SIZES.STRING\n      case 'boolean':\n        return ECMA_SIZES.BOOLEAN\n      case 'number':\n        return ECMA_SIZES.NUMBER\n      case 'symbol':\n        const isGlobalSymbol = Symbol.keyFor && Symbol.keyFor(object)\n        return isGlobalSymbol ? Symbol.keyFor(object).length * ECMA_SIZES.STRING : (object.toString().length - 8) * ECMA_SIZES.STRING \n      case 'object':\n        if (Array.isArray(object)) {\n          return object.map(getCalculator(seen)).reduce(function (acc, curr) {\n            return acc + curr\n          }, 0)\n        } else {\n          return sizeOfObject(seen, object)\n        }\n      default:\n        return 0\n    }\n  }\n}\n\n/**\n * Main module's entry point\n * Calculates Bytes for the provided parameter\n * @param object - handles object/string/boolean/buffer\n * @returns {*}\n */\nfunction sizeof (object) {\n  return getCalculator(new WeakSet())(object)\n}\n\nmodule.exports = sizeof\n","// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","// threejs.org/license\nconst REVISION = '123';\nconst MOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2, ROTATE: 0, DOLLY: 1, PAN: 2 };\nconst TOUCH = { ROTATE: 0, PAN: 1, DOLLY_PAN: 2, DOLLY_ROTATE: 3 };\nconst CullFaceNone = 0;\nconst CullFaceBack = 1;\nconst CullFaceFront = 2;\nconst CullFaceFrontBack = 3;\nconst BasicShadowMap = 0;\nconst PCFShadowMap = 1;\nconst PCFSoftShadowMap = 2;\nconst VSMShadowMap = 3;\nconst FrontSide = 0;\nconst BackSide = 1;\nconst DoubleSide = 2;\nconst FlatShading = 1;\nconst SmoothShading = 2;\nconst NoBlending = 0;\nconst NormalBlending = 1;\nconst AdditiveBlending = 2;\nconst SubtractiveBlending = 3;\nconst MultiplyBlending = 4;\nconst CustomBlending = 5;\nconst AddEquation = 100;\nconst SubtractEquation = 101;\nconst ReverseSubtractEquation = 102;\nconst MinEquation = 103;\nconst MaxEquation = 104;\nconst ZeroFactor = 200;\nconst OneFactor = 201;\nconst SrcColorFactor = 202;\nconst OneMinusSrcColorFactor = 203;\nconst SrcAlphaFactor = 204;\nconst OneMinusSrcAlphaFactor = 205;\nconst DstAlphaFactor = 206;\nconst OneMinusDstAlphaFactor = 207;\nconst DstColorFactor = 208;\nconst OneMinusDstColorFactor = 209;\nconst SrcAlphaSaturateFactor = 210;\nconst NeverDepth = 0;\nconst AlwaysDepth = 1;\nconst LessDepth = 2;\nconst LessEqualDepth = 3;\nconst EqualDepth = 4;\nconst GreaterEqualDepth = 5;\nconst GreaterDepth = 6;\nconst NotEqualDepth = 7;\nconst MultiplyOperation = 0;\nconst MixOperation = 1;\nconst AddOperation = 2;\nconst NoToneMapping = 0;\nconst LinearToneMapping = 1;\nconst ReinhardToneMapping = 2;\nconst CineonToneMapping = 3;\nconst ACESFilmicToneMapping = 4;\nconst CustomToneMapping = 5;\n\nconst UVMapping = 300;\nconst CubeReflectionMapping = 301;\nconst CubeRefractionMapping = 302;\nconst EquirectangularReflectionMapping = 303;\nconst EquirectangularRefractionMapping = 304;\nconst CubeUVReflectionMapping = 306;\nconst CubeUVRefractionMapping = 307;\nconst RepeatWrapping = 1000;\nconst ClampToEdgeWrapping = 1001;\nconst MirroredRepeatWrapping = 1002;\nconst NearestFilter = 1003;\nconst NearestMipmapNearestFilter = 1004;\nconst NearestMipMapNearestFilter = 1004;\nconst NearestMipmapLinearFilter = 1005;\nconst NearestMipMapLinearFilter = 1005;\nconst LinearFilter = 1006;\nconst LinearMipmapNearestFilter = 1007;\nconst LinearMipMapNearestFilter = 1007;\nconst LinearMipmapLinearFilter = 1008;\nconst LinearMipMapLinearFilter = 1008;\nconst UnsignedByteType = 1009;\nconst ByteType = 1010;\nconst ShortType = 1011;\nconst UnsignedShortType = 1012;\nconst IntType = 1013;\nconst UnsignedIntType = 1014;\nconst FloatType = 1015;\nconst HalfFloatType = 1016;\nconst UnsignedShort4444Type = 1017;\nconst UnsignedShort5551Type = 1018;\nconst UnsignedShort565Type = 1019;\nconst UnsignedInt248Type = 1020;\nconst AlphaFormat = 1021;\nconst RGBFormat = 1022;\nconst RGBAFormat = 1023;\nconst LuminanceFormat = 1024;\nconst LuminanceAlphaFormat = 1025;\nconst RGBEFormat = RGBAFormat;\nconst DepthFormat = 1026;\nconst DepthStencilFormat = 1027;\nconst RedFormat = 1028;\nconst RedIntegerFormat = 1029;\nconst RGFormat = 1030;\nconst RGIntegerFormat = 1031;\nconst RGBIntegerFormat = 1032;\nconst RGBAIntegerFormat = 1033;\n\nconst RGB_S3TC_DXT1_Format = 33776;\nconst RGBA_S3TC_DXT1_Format = 33777;\nconst RGBA_S3TC_DXT3_Format = 33778;\nconst RGBA_S3TC_DXT5_Format = 33779;\nconst RGB_PVRTC_4BPPV1_Format = 35840;\nconst RGB_PVRTC_2BPPV1_Format = 35841;\nconst RGBA_PVRTC_4BPPV1_Format = 35842;\nconst RGBA_PVRTC_2BPPV1_Format = 35843;\nconst RGB_ETC1_Format = 36196;\nconst RGB_ETC2_Format = 37492;\nconst RGBA_ETC2_EAC_Format = 37496;\nconst RGBA_ASTC_4x4_Format = 37808;\nconst RGBA_ASTC_5x4_Format = 37809;\nconst RGBA_ASTC_5x5_Format = 37810;\nconst RGBA_ASTC_6x5_Format = 37811;\nconst RGBA_ASTC_6x6_Format = 37812;\nconst RGBA_ASTC_8x5_Format = 37813;\nconst RGBA_ASTC_8x6_Format = 37814;\nconst RGBA_ASTC_8x8_Format = 37815;\nconst RGBA_ASTC_10x5_Format = 37816;\nconst RGBA_ASTC_10x6_Format = 37817;\nconst RGBA_ASTC_10x8_Format = 37818;\nconst RGBA_ASTC_10x10_Format = 37819;\nconst RGBA_ASTC_12x10_Format = 37820;\nconst RGBA_ASTC_12x12_Format = 37821;\nconst RGBA_BPTC_Format = 36492;\nconst SRGB8_ALPHA8_ASTC_4x4_Format = 37840;\nconst SRGB8_ALPHA8_ASTC_5x4_Format = 37841;\nconst SRGB8_ALPHA8_ASTC_5x5_Format = 37842;\nconst SRGB8_ALPHA8_ASTC_6x5_Format = 37843;\nconst SRGB8_ALPHA8_ASTC_6x6_Format = 37844;\nconst SRGB8_ALPHA8_ASTC_8x5_Format = 37845;\nconst SRGB8_ALPHA8_ASTC_8x6_Format = 37846;\nconst SRGB8_ALPHA8_ASTC_8x8_Format = 37847;\nconst SRGB8_ALPHA8_ASTC_10x5_Format = 37848;\nconst SRGB8_ALPHA8_ASTC_10x6_Format = 37849;\nconst SRGB8_ALPHA8_ASTC_10x8_Format = 37850;\nconst SRGB8_ALPHA8_ASTC_10x10_Format = 37851;\nconst SRGB8_ALPHA8_ASTC_12x10_Format = 37852;\nconst SRGB8_ALPHA8_ASTC_12x12_Format = 37853;\nconst LoopOnce = 2200;\nconst LoopRepeat = 2201;\nconst LoopPingPong = 2202;\nconst InterpolateDiscrete = 2300;\nconst InterpolateLinear = 2301;\nconst InterpolateSmooth = 2302;\nconst ZeroCurvatureEnding = 2400;\nconst ZeroSlopeEnding = 2401;\nconst WrapAroundEnding = 2402;\nconst NormalAnimationBlendMode = 2500;\nconst AdditiveAnimationBlendMode = 2501;\nconst TrianglesDrawMode = 0;\nconst TriangleStripDrawMode = 1;\nconst TriangleFanDrawMode = 2;\nconst LinearEncoding = 3000;\nconst sRGBEncoding = 3001;\nconst GammaEncoding = 3007;\nconst RGBEEncoding = 3002;\nconst LogLuvEncoding = 3003;\nconst RGBM7Encoding = 3004;\nconst RGBM16Encoding = 3005;\nconst RGBDEncoding = 3006;\nconst BasicDepthPacking = 3200;\nconst RGBADepthPacking = 3201;\nconst TangentSpaceNormalMap = 0;\nconst ObjectSpaceNormalMap = 1;\n\nconst ZeroStencilOp = 0;\nconst KeepStencilOp = 7680;\nconst ReplaceStencilOp = 7681;\nconst IncrementStencilOp = 7682;\nconst DecrementStencilOp = 7683;\nconst IncrementWrapStencilOp = 34055;\nconst DecrementWrapStencilOp = 34056;\nconst InvertStencilOp = 5386;\n\nconst NeverStencilFunc = 512;\nconst LessStencilFunc = 513;\nconst EqualStencilFunc = 514;\nconst LessEqualStencilFunc = 515;\nconst GreaterStencilFunc = 516;\nconst NotEqualStencilFunc = 517;\nconst GreaterEqualStencilFunc = 518;\nconst AlwaysStencilFunc = 519;\n\nconst StaticDrawUsage = 35044;\nconst DynamicDrawUsage = 35048;\nconst StreamDrawUsage = 35040;\nconst StaticReadUsage = 35045;\nconst DynamicReadUsage = 35049;\nconst StreamReadUsage = 35041;\nconst StaticCopyUsage = 35046;\nconst DynamicCopyUsage = 35050;\nconst StreamCopyUsage = 35042;\n\nconst GLSL1 = \"100\";\nconst GLSL3 = \"300 es\";\n\n/**\n * https://github.com/mrdoob/eventdispatcher.js/\n */\n\nfunction EventDispatcher() {}\n\nObject.assign( EventDispatcher.prototype, {\n\n\taddEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) this._listeners = {};\n\n\t\tconst listeners = this._listeners;\n\n\t\tif ( listeners[ type ] === undefined ) {\n\n\t\t\tlisteners[ type ] = [];\n\n\t\t}\n\n\t\tif ( listeners[ type ].indexOf( listener ) === - 1 ) {\n\n\t\t\tlisteners[ type ].push( listener );\n\n\t\t}\n\n\t},\n\n\thasEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return false;\n\n\t\tconst listeners = this._listeners;\n\n\t\treturn listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1;\n\n\t},\n\n\tremoveEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[ type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tconst index = listenerArray.indexOf( listener );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\tlistenerArray.splice( index, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tdispatchEvent: function ( event ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[ event.type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tevent.target = this;\n\n\t\t\t// Make a copy, in case listeners are removed while iterating.\n\t\t\tconst array = listenerArray.slice( 0 );\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tarray[ i ].call( this, event );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n} );\n\nconst _lut = [];\n\nfor ( let i = 0; i < 256; i ++ ) {\n\n\t_lut[ i ] = ( i < 16 ? '0' : '' ) + ( i ).toString( 16 );\n\n}\n\nlet _seed = 1234567;\n\nconst MathUtils = {\n\n\tDEG2RAD: Math.PI / 180,\n\tRAD2DEG: 180 / Math.PI,\n\n\tgenerateUUID: function () {\n\n\t\t// http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\n\n\t\tconst d0 = Math.random() * 0xffffffff | 0;\n\t\tconst d1 = Math.random() * 0xffffffff | 0;\n\t\tconst d2 = Math.random() * 0xffffffff | 0;\n\t\tconst d3 = Math.random() * 0xffffffff | 0;\n\t\tconst uuid = _lut[ d0 & 0xff ] + _lut[ d0 >> 8 & 0xff ] + _lut[ d0 >> 16 & 0xff ] + _lut[ d0 >> 24 & 0xff ] + '-' +\n\t\t\t_lut[ d1 & 0xff ] + _lut[ d1 >> 8 & 0xff ] + '-' + _lut[ d1 >> 16 & 0x0f | 0x40 ] + _lut[ d1 >> 24 & 0xff ] + '-' +\n\t\t\t_lut[ d2 & 0x3f | 0x80 ] + _lut[ d2 >> 8 & 0xff ] + '-' + _lut[ d2 >> 16 & 0xff ] + _lut[ d2 >> 24 & 0xff ] +\n\t\t\t_lut[ d3 & 0xff ] + _lut[ d3 >> 8 & 0xff ] + _lut[ d3 >> 16 & 0xff ] + _lut[ d3 >> 24 & 0xff ];\n\n\t\t// .toUpperCase() here flattens concatenated strings to save heap memory space.\n\t\treturn uuid.toUpperCase();\n\n\t},\n\n\tclamp: function ( value, min, max ) {\n\n\t\treturn Math.max( min, Math.min( max, value ) );\n\n\t},\n\n\t// compute euclidian modulo of m % n\n\t// https://en.wikipedia.org/wiki/Modulo_operation\n\n\teuclideanModulo: function ( n, m ) {\n\n\t\treturn ( ( n % m ) + m ) % m;\n\n\t},\n\n\t// Linear mapping from range <a1, a2> to range <b1, b2>\n\n\tmapLinear: function ( x, a1, a2, b1, b2 ) {\n\n\t\treturn b1 + ( x - a1 ) * ( b2 - b1 ) / ( a2 - a1 );\n\n\t},\n\n\t// https://en.wikipedia.org/wiki/Linear_interpolation\n\n\tlerp: function ( x, y, t ) {\n\n\t\treturn ( 1 - t ) * x + t * y;\n\n\t},\n\n\t// http://en.wikipedia.org/wiki/Smoothstep\n\n\tsmoothstep: function ( x, min, max ) {\n\n\t\tif ( x <= min ) return 0;\n\t\tif ( x >= max ) return 1;\n\n\t\tx = ( x - min ) / ( max - min );\n\n\t\treturn x * x * ( 3 - 2 * x );\n\n\t},\n\n\tsmootherstep: function ( x, min, max ) {\n\n\t\tif ( x <= min ) return 0;\n\t\tif ( x >= max ) return 1;\n\n\t\tx = ( x - min ) / ( max - min );\n\n\t\treturn x * x * x * ( x * ( x * 6 - 15 ) + 10 );\n\n\t},\n\n\t// Random integer from <low, high> interval\n\n\trandInt: function ( low, high ) {\n\n\t\treturn low + Math.floor( Math.random() * ( high - low + 1 ) );\n\n\t},\n\n\t// Random float from <low, high> interval\n\n\trandFloat: function ( low, high ) {\n\n\t\treturn low + Math.random() * ( high - low );\n\n\t},\n\n\t// Random float from <-range/2, range/2> interval\n\n\trandFloatSpread: function ( range ) {\n\n\t\treturn range * ( 0.5 - Math.random() );\n\n\t},\n\n\t// Deterministic pseudo-random float in the interval [ 0, 1 ]\n\n\tseededRandom: function ( s ) {\n\n\t\tif ( s !== undefined ) _seed = s % 2147483647;\n\n\t\t// Park-Miller algorithm\n\n\t\t_seed = _seed * 16807 % 2147483647;\n\n\t\treturn ( _seed - 1 ) / 2147483646;\n\n\t},\n\n\tdegToRad: function ( degrees ) {\n\n\t\treturn degrees * MathUtils.DEG2RAD;\n\n\t},\n\n\tradToDeg: function ( radians ) {\n\n\t\treturn radians * MathUtils.RAD2DEG;\n\n\t},\n\n\tisPowerOfTwo: function ( value ) {\n\n\t\treturn ( value & ( value - 1 ) ) === 0 && value !== 0;\n\n\t},\n\n\tceilPowerOfTwo: function ( value ) {\n\n\t\treturn Math.pow( 2, Math.ceil( Math.log( value ) / Math.LN2 ) );\n\n\t},\n\n\tfloorPowerOfTwo: function ( value ) {\n\n\t\treturn Math.pow( 2, Math.floor( Math.log( value ) / Math.LN2 ) );\n\n\t},\n\n\tsetQuaternionFromProperEuler: function ( q, a, b, c, order ) {\n\n\t\t// Intrinsic Proper Euler Angles - see https://en.wikipedia.org/wiki/Euler_angles\n\n\t\t// rotations are applied to the axes in the order specified by 'order'\n\t\t// rotation by angle 'a' is applied first, then by angle 'b', then by angle 'c'\n\t\t// angles are in radians\n\n\t\tconst cos = Math.cos;\n\t\tconst sin = Math.sin;\n\n\t\tconst c2 = cos( b / 2 );\n\t\tconst s2 = sin( b / 2 );\n\n\t\tconst c13 = cos( ( a + c ) / 2 );\n\t\tconst s13 = sin( ( a + c ) / 2 );\n\n\t\tconst c1_3 = cos( ( a - c ) / 2 );\n\t\tconst s1_3 = sin( ( a - c ) / 2 );\n\n\t\tconst c3_1 = cos( ( c - a ) / 2 );\n\t\tconst s3_1 = sin( ( c - a ) / 2 );\n\n\t\tswitch ( order ) {\n\n\t\t\tcase 'XYX':\n\t\t\t\tq.set( c2 * s13, s2 * c1_3, s2 * s1_3, c2 * c13 );\n\t\t\t\tbreak;\n\n\t\t\tcase 'YZY':\n\t\t\t\tq.set( s2 * s1_3, c2 * s13, s2 * c1_3, c2 * c13 );\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZXZ':\n\t\t\t\tq.set( s2 * c1_3, s2 * s1_3, c2 * s13, c2 * c13 );\n\t\t\t\tbreak;\n\n\t\t\tcase 'XZX':\n\t\t\t\tq.set( c2 * s13, s2 * s3_1, s2 * c3_1, c2 * c13 );\n\t\t\t\tbreak;\n\n\t\t\tcase 'YXY':\n\t\t\t\tq.set( s2 * c3_1, c2 * s13, s2 * s3_1, c2 * c13 );\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZYZ':\n\t\t\t\tq.set( s2 * s3_1, s2 * c3_1, c2 * s13, c2 * c13 );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.warn( 'THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: ' + order );\n\n\t\t}\n\n\t}\n\n};\n\nclass Vector2 {\n\n\tconstructor( x = 0, y = 0 ) {\n\n\t\tObject.defineProperty( this, 'isVector2', { value: true } );\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t}\n\n\tget width() {\n\n\t\treturn this.x;\n\n\t}\n\n\tset width( value ) {\n\n\t\tthis.x = value;\n\n\t}\n\n\tget height() {\n\n\t\treturn this.y;\n\n\t}\n\n\tset height( value ) {\n\n\t\tthis.y = value;\n\n\t}\n\n\tset( x, y ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tdivide( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tconst x = this.x, y = this.y;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ];\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ];\n\n\t\treturn this;\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y;\n\n\t}\n\n\tcross( v ) {\n\n\t\treturn this.x * v.y - this.y * v.x;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tangle() {\n\n\t\t// computes the angle in radians with respect to the positive x-axis\n\n\t\tconst angle = Math.atan2( - this.y, - this.x ) + Math.PI;\n\n\t\treturn angle;\n\n\t}\n\n\tdistanceTo( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t}\n\n\tdistanceToSquared( v ) {\n\n\t\tconst dx = this.x - v.x, dy = this.y - v.y;\n\t\treturn dx * dx + dy * dy;\n\n\t}\n\n\tmanhattanDistanceTo( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\n\t\treturn this;\n\n\t}\n\n\trotateAround( center, angle ) {\n\n\t\tconst c = Math.cos( angle ), s = Math.sin( angle );\n\n\t\tconst x = this.x - center.x;\n\t\tconst y = this.y - center.y;\n\n\t\tthis.x = x * c - y * s + center.x;\n\t\tthis.y = x * s + y * c + center.y;\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass Matrix3 {\n\n\tconstructor() {\n\n\t\tObject.defineProperty( this, 'isMatrix3', { value: true } );\n\n\t\tthis.elements = [\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t];\n\n\t\tif ( arguments.length > 0 ) {\n\n\t\t\tconsole.error( 'THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.' );\n\n\t\t}\n\n\t}\n\n\tset( n11, n12, n13, n21, n22, n23, n31, n32, n33 ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 1 ] = n21; te[ 2 ] = n31;\n\t\tte[ 3 ] = n12; te[ 4 ] = n22; te[ 5 ] = n32;\n\t\tte[ 6 ] = n13; te[ 7 ] = n23; te[ 8 ] = n33;\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().fromArray( this.elements );\n\n\t}\n\n\tcopy( m ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ];\n\t\tte[ 3 ] = me[ 3 ]; te[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ];\n\t\tte[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ]; te[ 8 ] = me[ 8 ];\n\n\t\treturn this;\n\n\t}\n\n\textractBasis( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrix3Column( this, 0 );\n\t\tyAxis.setFromMatrix3Column( this, 1 );\n\t\tzAxis.setFromMatrix3Column( this, 2 );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrix4( m ) {\n\n\t\tconst me = m.elements;\n\n\t\tthis.set(\n\n\t\t\tme[ 0 ], me[ 4 ], me[ 8 ],\n\t\t\tme[ 1 ], me[ 5 ], me[ 9 ],\n\t\t\tme[ 2 ], me[ 6 ], me[ 10 ]\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( m ) {\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t}\n\n\tpremultiply( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t}\n\n\tmultiplyMatrices( a, b ) {\n\n\t\tconst ae = a.elements;\n\t\tconst be = b.elements;\n\t\tconst te = this.elements;\n\n\t\tconst a11 = ae[ 0 ], a12 = ae[ 3 ], a13 = ae[ 6 ];\n\t\tconst a21 = ae[ 1 ], a22 = ae[ 4 ], a23 = ae[ 7 ];\n\t\tconst a31 = ae[ 2 ], a32 = ae[ 5 ], a33 = ae[ 8 ];\n\n\t\tconst b11 = be[ 0 ], b12 = be[ 3 ], b13 = be[ 6 ];\n\t\tconst b21 = be[ 1 ], b22 = be[ 4 ], b23 = be[ 7 ];\n\t\tconst b31 = be[ 2 ], b32 = be[ 5 ], b33 = be[ 8 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31;\n\t\tte[ 3 ] = a11 * b12 + a12 * b22 + a13 * b32;\n\t\tte[ 6 ] = a11 * b13 + a12 * b23 + a13 * b33;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31;\n\t\tte[ 4 ] = a21 * b12 + a22 * b22 + a23 * b32;\n\t\tte[ 7 ] = a21 * b13 + a22 * b23 + a23 * b33;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31;\n\t\tte[ 5 ] = a31 * b12 + a32 * b22 + a33 * b32;\n\t\tte[ 8 ] = a31 * b13 + a32 * b23 + a33 * b33;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 3 ] *= s; te[ 6 ] *= s;\n\t\tte[ 1 ] *= s; te[ 4 ] *= s; te[ 7 ] *= s;\n\t\tte[ 2 ] *= s; te[ 5 ] *= s; te[ 8 ] *= s;\n\n\t\treturn this;\n\n\t}\n\n\tdeterminant() {\n\n\t\tconst te = this.elements;\n\n\t\tconst a = te[ 0 ], b = te[ 1 ], c = te[ 2 ],\n\t\t\td = te[ 3 ], e = te[ 4 ], f = te[ 5 ],\n\t\t\tg = te[ 6 ], h = te[ 7 ], i = te[ 8 ];\n\n\t\treturn a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\n\n\t}\n\n\tinvert() {\n\n\t\tconst te = this.elements,\n\n\t\t\tn11 = te[ 0 ], n21 = te[ 1 ], n31 = te[ 2 ],\n\t\t\tn12 = te[ 3 ], n22 = te[ 4 ], n32 = te[ 5 ],\n\t\t\tn13 = te[ 6 ], n23 = te[ 7 ], n33 = te[ 8 ],\n\n\t\t\tt11 = n33 * n22 - n32 * n23,\n\t\t\tt12 = n32 * n13 - n33 * n12,\n\t\t\tt13 = n23 * n12 - n22 * n13,\n\n\t\t\tdet = n11 * t11 + n21 * t12 + n31 * t13;\n\n\t\tif ( det === 0 ) return this.set( 0, 0, 0, 0, 0, 0, 0, 0, 0 );\n\n\t\tconst detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n31 * n23 - n33 * n21 ) * detInv;\n\t\tte[ 2 ] = ( n32 * n21 - n31 * n22 ) * detInv;\n\n\t\tte[ 3 ] = t12 * detInv;\n\t\tte[ 4 ] = ( n33 * n11 - n31 * n13 ) * detInv;\n\t\tte[ 5 ] = ( n31 * n12 - n32 * n11 ) * detInv;\n\n\t\tte[ 6 ] = t13 * detInv;\n\t\tte[ 7 ] = ( n21 * n13 - n23 * n11 ) * detInv;\n\t\tte[ 8 ] = ( n22 * n11 - n21 * n12 ) * detInv;\n\n\t\treturn this;\n\n\t}\n\n\ttranspose() {\n\n\t\tlet tmp;\n\t\tconst m = this.elements;\n\n\t\ttmp = m[ 1 ]; m[ 1 ] = m[ 3 ]; m[ 3 ] = tmp;\n\t\ttmp = m[ 2 ]; m[ 2 ] = m[ 6 ]; m[ 6 ] = tmp;\n\t\ttmp = m[ 5 ]; m[ 5 ] = m[ 7 ]; m[ 7 ] = tmp;\n\n\t\treturn this;\n\n\t}\n\n\tgetNormalMatrix( matrix4 ) {\n\n\t\treturn this.setFromMatrix4( matrix4 ).copy( this ).invert().transpose();\n\n\t}\n\n\ttransposeIntoArray( r ) {\n\n\t\tconst m = this.elements;\n\n\t\tr[ 0 ] = m[ 0 ];\n\t\tr[ 1 ] = m[ 3 ];\n\t\tr[ 2 ] = m[ 6 ];\n\t\tr[ 3 ] = m[ 1 ];\n\t\tr[ 4 ] = m[ 4 ];\n\t\tr[ 5 ] = m[ 7 ];\n\t\tr[ 6 ] = m[ 2 ];\n\t\tr[ 7 ] = m[ 5 ];\n\t\tr[ 8 ] = m[ 8 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetUvTransform( tx, ty, sx, sy, rotation, cx, cy ) {\n\n\t\tconst c = Math.cos( rotation );\n\t\tconst s = Math.sin( rotation );\n\n\t\tthis.set(\n\t\t\tsx * c, sx * s, - sx * ( c * cx + s * cy ) + cx + tx,\n\t\t\t- sy * s, sy * c, - sy * ( - s * cx + c * cy ) + cy + ty,\n\t\t\t0, 0, 1\n\t\t);\n\n\t}\n\n\tscale( sx, sy ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= sx; te[ 3 ] *= sx; te[ 6 ] *= sx;\n\t\tte[ 1 ] *= sy; te[ 4 ] *= sy; te[ 7 ] *= sy;\n\n\t\treturn this;\n\n\t}\n\n\trotate( theta ) {\n\n\t\tconst c = Math.cos( theta );\n\t\tconst s = Math.sin( theta );\n\n\t\tconst te = this.elements;\n\n\t\tconst a11 = te[ 0 ], a12 = te[ 3 ], a13 = te[ 6 ];\n\t\tconst a21 = te[ 1 ], a22 = te[ 4 ], a23 = te[ 7 ];\n\n\t\tte[ 0 ] = c * a11 + s * a21;\n\t\tte[ 3 ] = c * a12 + s * a22;\n\t\tte[ 6 ] = c * a13 + s * a23;\n\n\t\tte[ 1 ] = - s * a11 + c * a21;\n\t\tte[ 4 ] = - s * a12 + c * a22;\n\t\tte[ 7 ] = - s * a13 + c * a23;\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( tx, ty ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] += tx * te[ 2 ]; te[ 3 ] += tx * te[ 5 ]; te[ 6 ] += tx * te[ 8 ];\n\t\tte[ 1 ] += ty * te[ 2 ]; te[ 4 ] += ty * te[ 5 ]; te[ 7 ] += ty * te[ 8 ];\n\n\t\treturn this;\n\n\t}\n\n\tequals( matrix ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = matrix.elements;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tconst te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\n\t\treturn array;\n\n\t}\n\n}\n\nlet _canvas;\n\nconst ImageUtils = {\n\n\tgetDataURL: function ( image ) {\n\n\t\tif ( /^data:/i.test( image.src ) ) {\n\n\t\t\treturn image.src;\n\n\t\t}\n\n\t\tif ( typeof HTMLCanvasElement == 'undefined' ) {\n\n\t\t\treturn image.src;\n\n\t\t}\n\n\t\tlet canvas;\n\n\t\tif ( image instanceof HTMLCanvasElement ) {\n\n\t\t\tcanvas = image;\n\n\t\t} else {\n\n\t\t\tif ( _canvas === undefined ) _canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\n\t\t\t_canvas.width = image.width;\n\t\t\t_canvas.height = image.height;\n\n\t\t\tconst context = _canvas.getContext( '2d' );\n\n\t\t\tif ( image instanceof ImageData ) {\n\n\t\t\t\tcontext.putImageData( image, 0, 0 );\n\n\t\t\t} else {\n\n\t\t\t\tcontext.drawImage( image, 0, 0, image.width, image.height );\n\n\t\t\t}\n\n\t\t\tcanvas = _canvas;\n\n\t\t}\n\n\t\tif ( canvas.width > 2048 || canvas.height > 2048 ) {\n\n\t\t\treturn canvas.toDataURL( 'image/jpeg', 0.6 );\n\n\t\t} else {\n\n\t\t\treturn canvas.toDataURL( 'image/png' );\n\n\t\t}\n\n\t}\n\n};\n\nlet textureId = 0;\n\nfunction Texture( image = Texture.DEFAULT_IMAGE, mapping = Texture.DEFAULT_MAPPING, wrapS = ClampToEdgeWrapping, wrapT = ClampToEdgeWrapping, magFilter = LinearFilter, minFilter = LinearMipmapLinearFilter, format = RGBAFormat, type = UnsignedByteType, anisotropy = 1, encoding = LinearEncoding ) {\n\n\tObject.defineProperty( this, 'id', { value: textureId ++ } );\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\tthis.name = '';\n\n\tthis.image = image;\n\tthis.mipmaps = [];\n\n\tthis.mapping = mapping;\n\n\tthis.wrapS = wrapS;\n\tthis.wrapT = wrapT;\n\n\tthis.magFilter = magFilter;\n\tthis.minFilter = minFilter;\n\n\tthis.anisotropy = anisotropy;\n\n\tthis.format = format;\n\tthis.internalFormat = null;\n\tthis.type = type;\n\n\tthis.offset = new Vector2( 0, 0 );\n\tthis.repeat = new Vector2( 1, 1 );\n\tthis.center = new Vector2( 0, 0 );\n\tthis.rotation = 0;\n\n\tthis.matrixAutoUpdate = true;\n\tthis.matrix = new Matrix3();\n\n\tthis.generateMipmaps = true;\n\tthis.premultiplyAlpha = false;\n\tthis.flipY = true;\n\tthis.unpackAlignment = 4;\t// valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\n\n\t// Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.\n\t//\n\t// Also changing the encoding after already used by a Material will not automatically make the Material\n\t// update. You need to explicitly call Material.needsUpdate to trigger it to recompile.\n\tthis.encoding = encoding;\n\n\tthis.version = 0;\n\tthis.onUpdate = null;\n\n}\n\nTexture.DEFAULT_IMAGE = undefined;\nTexture.DEFAULT_MAPPING = UVMapping;\n\nTexture.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Texture,\n\n\tisTexture: true,\n\n\tupdateMatrix: function () {\n\n\t\tthis.matrix.setUvTransform( this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.image = source.image;\n\t\tthis.mipmaps = source.mipmaps.slice( 0 );\n\n\t\tthis.mapping = source.mapping;\n\n\t\tthis.wrapS = source.wrapS;\n\t\tthis.wrapT = source.wrapT;\n\n\t\tthis.magFilter = source.magFilter;\n\t\tthis.minFilter = source.minFilter;\n\n\t\tthis.anisotropy = source.anisotropy;\n\n\t\tthis.format = source.format;\n\t\tthis.internalFormat = source.internalFormat;\n\t\tthis.type = source.type;\n\n\t\tthis.offset.copy( source.offset );\n\t\tthis.repeat.copy( source.repeat );\n\t\tthis.center.copy( source.center );\n\t\tthis.rotation = source.rotation;\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrix.copy( source.matrix );\n\n\t\tthis.generateMipmaps = source.generateMipmaps;\n\t\tthis.premultiplyAlpha = source.premultiplyAlpha;\n\t\tthis.flipY = source.flipY;\n\t\tthis.unpackAlignment = source.unpackAlignment;\n\t\tthis.encoding = source.encoding;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( ! isRootObject && meta.textures[ this.uuid ] !== undefined ) {\n\n\t\t\treturn meta.textures[ this.uuid ];\n\n\t\t}\n\n\t\tconst output = {\n\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Texture',\n\t\t\t\tgenerator: 'Texture.toJSON'\n\t\t\t},\n\n\t\t\tuuid: this.uuid,\n\t\t\tname: this.name,\n\n\t\t\tmapping: this.mapping,\n\n\t\t\trepeat: [ this.repeat.x, this.repeat.y ],\n\t\t\toffset: [ this.offset.x, this.offset.y ],\n\t\t\tcenter: [ this.center.x, this.center.y ],\n\t\t\trotation: this.rotation,\n\n\t\t\twrap: [ this.wrapS, this.wrapT ],\n\n\t\t\tformat: this.format,\n\t\t\ttype: this.type,\n\t\t\tencoding: this.encoding,\n\n\t\t\tminFilter: this.minFilter,\n\t\t\tmagFilter: this.magFilter,\n\t\t\tanisotropy: this.anisotropy,\n\n\t\t\tflipY: this.flipY,\n\n\t\t\tpremultiplyAlpha: this.premultiplyAlpha,\n\t\t\tunpackAlignment: this.unpackAlignment\n\n\t\t};\n\n\t\tif ( this.image !== undefined ) {\n\n\t\t\t// TODO: Move to THREE.Image\n\n\t\t\tconst image = this.image;\n\n\t\t\tif ( image.uuid === undefined ) {\n\n\t\t\t\timage.uuid = MathUtils.generateUUID(); // UGH\n\n\t\t\t}\n\n\t\t\tif ( ! isRootObject && meta.images[ image.uuid ] === undefined ) {\n\n\t\t\t\tlet url;\n\n\t\t\t\tif ( Array.isArray( image ) ) {\n\n\t\t\t\t\t// process array of images e.g. CubeTexture\n\n\t\t\t\t\turl = [];\n\n\t\t\t\t\tfor ( let i = 0, l = image.length; i < l; i ++ ) {\n\n\t\t\t\t\t\t// check cube texture with data textures\n\n\t\t\t\t\t\tif ( image[ i ].isDataTexture ) {\n\n\t\t\t\t\t\t\turl.push( serializeImage( image[ i ].image ) );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\turl.push( serializeImage( image[ i ] ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// process single image\n\n\t\t\t\t\turl = serializeImage( image );\n\n\t\t\t\t}\n\n\t\t\t\tmeta.images[ image.uuid ] = {\n\t\t\t\t\tuuid: image.uuid,\n\t\t\t\t\turl: url\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\toutput.image = image.uuid;\n\n\t\t}\n\n\t\tif ( ! isRootObject ) {\n\n\t\t\tmeta.textures[ this.uuid ] = output;\n\n\t\t}\n\n\t\treturn output;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t},\n\n\ttransformUv: function ( uv ) {\n\n\t\tif ( this.mapping !== UVMapping ) return uv;\n\n\t\tuv.applyMatrix3( this.matrix );\n\n\t\tif ( uv.x < 0 || uv.x > 1 ) {\n\n\t\t\tswitch ( this.wrapS ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.x = uv.x < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.x ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.x = Math.ceil( uv.x ) - uv.x;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( uv.y < 0 || uv.y > 1 ) {\n\n\t\t\tswitch ( this.wrapT ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.y = uv.y < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.y ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.y = Math.ceil( uv.y ) - uv.y;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.flipY ) {\n\n\t\t\tuv.y = 1 - uv.y;\n\n\t\t}\n\n\t\treturn uv;\n\n\t}\n\n} );\n\nObject.defineProperty( Texture.prototype, \"needsUpdate\", {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\nfunction serializeImage( image ) {\n\n\tif ( ( typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement ) ||\n\t\t( typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement ) ||\n\t\t( typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap ) ) {\n\n\t\t// default images\n\n\t\treturn ImageUtils.getDataURL( image );\n\n\t} else {\n\n\t\tif ( image.data ) {\n\n\t\t\t// images of DataTexture\n\n\t\t\treturn {\n\t\t\t\tdata: Array.prototype.slice.call( image.data ),\n\t\t\t\twidth: image.width,\n\t\t\t\theight: image.height,\n\t\t\t\ttype: image.data.constructor.name\n\t\t\t};\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Texture: Unable to serialize Texture.' );\n\t\t\treturn {};\n\n\t\t}\n\n\t}\n\n}\n\nclass Vector4 {\n\n\tconstructor( x = 0, y = 0, z = 0, w = 1 ) {\n\n\t\tObject.defineProperty( this, 'isVector4', { value: true } );\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t}\n\n\tget width() {\n\n\t\treturn this.z;\n\n\t}\n\n\tset width( value ) {\n\n\t\tthis.z = value;\n\n\t}\n\n\tget height() {\n\n\t\treturn this.w;\n\n\t}\n\n\tset height( value ) {\n\n\t\tthis.w = value;\n\n\t}\n\n\tset( x, y, z, w ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\t\tthis.w = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetZ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetW( w ) {\n\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tcase 3: this.w = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tcase 3: return this.w;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y, this.z, this.w );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\t\tthis.w = ( v.w !== undefined ) ? v.w : 1;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\t\tthis.w += v.w;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\t\tthis.w += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\t\tthis.w = a.w + b.w;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\t\tthis.w += v.w * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\t\tthis.w -= v.w;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\t\tthis.w -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\t\tthis.w = a.w - b.w;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\t\tthis.w *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z, w = this.w;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] * w;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] * w;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] * w;\n\t\tthis.w = e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] * w;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tsetAxisAngleFromQuaternion( q ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\n\n\t\t// q is assumed to be normalized\n\n\t\tthis.w = 2 * Math.acos( q.w );\n\n\t\tconst s = Math.sqrt( 1 - q.w * q.w );\n\n\t\tif ( s < 0.0001 ) {\n\n\t\t\tthis.x = 1;\n\t\t\tthis.y = 0;\n\t\t\tthis.z = 0;\n\n\t\t} else {\n\n\t\t\tthis.x = q.x / s;\n\t\t\tthis.y = q.y / s;\n\t\t\tthis.z = q.z / s;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetAxisAngleFromRotationMatrix( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tlet angle, x, y, z; // variables for result\n\t\tconst epsilon = 0.01,\t\t// margin to allow for rounding errors\n\t\t\tepsilon2 = 0.1,\t\t// margin to distinguish between 0 and 180 degrees\n\n\t\t\tte = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\tif ( ( Math.abs( m12 - m21 ) < epsilon ) &&\n\t\t     ( Math.abs( m13 - m31 ) < epsilon ) &&\n\t\t     ( Math.abs( m23 - m32 ) < epsilon ) ) {\n\n\t\t\t// singularity found\n\t\t\t// first check for identity matrix which must have +1 for all terms\n\t\t\t// in leading diagonal and zero in other terms\n\n\t\t\tif ( ( Math.abs( m12 + m21 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m13 + m31 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m23 + m32 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m11 + m22 + m33 - 3 ) < epsilon2 ) ) {\n\n\t\t\t\t// this singularity is identity matrix so angle = 0\n\n\t\t\t\tthis.set( 1, 0, 0, 0 );\n\n\t\t\t\treturn this; // zero angle, arbitrary axis\n\n\t\t\t}\n\n\t\t\t// otherwise this singularity is angle = 180\n\n\t\t\tangle = Math.PI;\n\n\t\t\tconst xx = ( m11 + 1 ) / 2;\n\t\t\tconst yy = ( m22 + 1 ) / 2;\n\t\t\tconst zz = ( m33 + 1 ) / 2;\n\t\t\tconst xy = ( m12 + m21 ) / 4;\n\t\t\tconst xz = ( m13 + m31 ) / 4;\n\t\t\tconst yz = ( m23 + m32 ) / 4;\n\n\t\t\tif ( ( xx > yy ) && ( xx > zz ) ) {\n\n\t\t\t\t// m11 is the largest diagonal term\n\n\t\t\t\tif ( xx < epsilon ) {\n\n\t\t\t\t\tx = 0;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tx = Math.sqrt( xx );\n\t\t\t\t\ty = xy / x;\n\t\t\t\t\tz = xz / x;\n\n\t\t\t\t}\n\n\t\t\t} else if ( yy > zz ) {\n\n\t\t\t\t// m22 is the largest diagonal term\n\n\t\t\t\tif ( yy < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ty = Math.sqrt( yy );\n\t\t\t\t\tx = xy / y;\n\t\t\t\t\tz = yz / y;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// m33 is the largest diagonal term so base result on this\n\n\t\t\t\tif ( zz < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tz = Math.sqrt( zz );\n\t\t\t\t\tx = xz / z;\n\t\t\t\t\ty = yz / z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.set( x, y, z, angle );\n\n\t\t\treturn this; // return 180 deg rotation\n\n\t\t}\n\n\t\t// as we have reached here there are no singularities so we can handle normally\n\n\t\tlet s = Math.sqrt( ( m32 - m23 ) * ( m32 - m23 ) +\n\t\t\t( m13 - m31 ) * ( m13 - m31 ) +\n\t\t\t( m21 - m12 ) * ( m21 - m12 ) ); // used to normalize\n\n\t\tif ( Math.abs( s ) < 0.001 ) s = 1;\n\n\t\t// prevent divide by zero, should not happen if matrix is orthogonal and should be\n\t\t// caught by singularity test above, but I've left it in just in case\n\n\t\tthis.x = ( m32 - m23 ) / s;\n\t\tthis.y = ( m13 - m31 ) / s;\n\t\tthis.z = ( m21 - m12 ) / s;\n\t\tthis.w = Math.acos( ( m11 + m22 + m33 - 1 ) / 2 );\n\n\t\treturn this;\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\t\tthis.w = Math.min( this.w, v.w );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\t\tthis.w = Math.max( this.w, v.w );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\t\tthis.w = Math.max( min.w, Math.min( max.w, this.w ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\t\tthis.w = Math.max( minVal, Math.min( maxVal, this.w ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\t\tthis.w = Math.floor( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\t\tthis.w = Math.ceil( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\t\tthis.w = Math.round( this.w );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\t\tthis.w = ( this.w < 0 ) ? Math.ceil( this.w ) : Math.floor( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\t\tthis.w = - this.w;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z ) + Math.abs( this.w );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\t\tthis.w += ( v.w - this.w ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\t\tthis.z = v1.z + ( v2.z - v1.z ) * alpha;\n\t\tthis.w = v1.w + ( v2.w - v1.w ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) && ( v.w === this.w ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\t\tthis.w = array[ offset + 3 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\t\tarray[ offset + 3 ] = this.w;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\t\tthis.w = attribute.getW( index );\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\t\tthis.z = Math.random();\n\t\tthis.w = Math.random();\n\n\t\treturn this;\n\n\t}\n\n}\n\n/*\n In options, we can specify:\n * Texture parameters for an auto-generated target texture\n * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers\n*/\nfunction WebGLRenderTarget( width, height, options ) {\n\n\tthis.width = width;\n\tthis.height = height;\n\n\tthis.scissor = new Vector4( 0, 0, width, height );\n\tthis.scissorTest = false;\n\n\tthis.viewport = new Vector4( 0, 0, width, height );\n\n\toptions = options || {};\n\n\tthis.texture = new Texture( undefined, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\n\n\tthis.texture.image = {};\n\tthis.texture.image.width = width;\n\tthis.texture.image.height = height;\n\n\tthis.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n\tthis.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n\n\tthis.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;\n\tthis.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : false;\n\tthis.depthTexture = options.depthTexture !== undefined ? options.depthTexture : null;\n\n}\n\nWebGLRenderTarget.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: WebGLRenderTarget,\n\n\tisWebGLRenderTarget: true,\n\n\tsetSize: function ( width, height ) {\n\n\t\tif ( this.width !== width || this.height !== height ) {\n\n\t\t\tthis.width = width;\n\t\t\tthis.height = height;\n\n\t\t\tthis.texture.image.width = width;\n\t\t\tthis.texture.image.height = height;\n\n\t\t\tthis.dispose();\n\n\t\t}\n\n\t\tthis.viewport.set( 0, 0, width, height );\n\t\tthis.scissor.set( 0, 0, width, height );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\n\t\tthis.viewport.copy( source.viewport );\n\n\t\tthis.texture = source.texture.clone();\n\n\t\tthis.depthBuffer = source.depthBuffer;\n\t\tthis.stencilBuffer = source.stencilBuffer;\n\t\tthis.depthTexture = source.depthTexture;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\nfunction WebGLMultisampleRenderTarget( width, height, options ) {\n\n\tWebGLRenderTarget.call( this, width, height, options );\n\n\tthis.samples = 4;\n\n}\n\nWebGLMultisampleRenderTarget.prototype = Object.assign( Object.create( WebGLRenderTarget.prototype ), {\n\n\tconstructor: WebGLMultisampleRenderTarget,\n\n\tisWebGLMultisampleRenderTarget: true,\n\n\tcopy: function ( source ) {\n\n\t\tWebGLRenderTarget.prototype.copy.call( this, source );\n\n\t\tthis.samples = source.samples;\n\n\t\treturn this;\n\n\t}\n\n} );\n\nclass Quaternion {\n\n\tconstructor( x = 0, y = 0, z = 0, w = 1 ) {\n\n\t\tObject.defineProperty( this, 'isQuaternion', { value: true } );\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t}\n\n\tstatic slerp( qa, qb, qm, t ) {\n\n\t\treturn qm.copy( qa ).slerp( qb, t );\n\n\t}\n\n\tstatic slerpFlat( dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t ) {\n\n\t\t// fuzz-free, array-based Quaternion SLERP operation\n\n\t\tlet x0 = src0[ srcOffset0 + 0 ],\n\t\t\ty0 = src0[ srcOffset0 + 1 ],\n\t\t\tz0 = src0[ srcOffset0 + 2 ],\n\t\t\tw0 = src0[ srcOffset0 + 3 ];\n\n\t\tconst x1 = src1[ srcOffset1 + 0 ],\n\t\t\ty1 = src1[ srcOffset1 + 1 ],\n\t\t\tz1 = src1[ srcOffset1 + 2 ],\n\t\t\tw1 = src1[ srcOffset1 + 3 ];\n\n\t\tif ( w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1 ) {\n\n\t\t\tlet s = 1 - t;\n\t\t\tconst cos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n\t\t\t\tdir = ( cos >= 0 ? 1 : - 1 ),\n\t\t\t\tsqrSin = 1 - cos * cos;\n\n\t\t\t// Skip the Slerp for tiny steps to avoid numeric problems:\n\t\t\tif ( sqrSin > Number.EPSILON ) {\n\n\t\t\t\tconst sin = Math.sqrt( sqrSin ),\n\t\t\t\t\tlen = Math.atan2( sin, cos * dir );\n\n\t\t\t\ts = Math.sin( s * len ) / sin;\n\t\t\t\tt = Math.sin( t * len ) / sin;\n\n\t\t\t}\n\n\t\t\tconst tDir = t * dir;\n\n\t\t\tx0 = x0 * s + x1 * tDir;\n\t\t\ty0 = y0 * s + y1 * tDir;\n\t\t\tz0 = z0 * s + z1 * tDir;\n\t\t\tw0 = w0 * s + w1 * tDir;\n\n\t\t\t// Normalize in case we just did a lerp:\n\t\t\tif ( s === 1 - t ) {\n\n\t\t\t\tconst f = 1 / Math.sqrt( x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0 );\n\n\t\t\t\tx0 *= f;\n\t\t\t\ty0 *= f;\n\t\t\t\tz0 *= f;\n\t\t\t\tw0 *= f;\n\n\t\t\t}\n\n\t\t}\n\n\t\tdst[ dstOffset ] = x0;\n\t\tdst[ dstOffset + 1 ] = y0;\n\t\tdst[ dstOffset + 2 ] = z0;\n\t\tdst[ dstOffset + 3 ] = w0;\n\n\t}\n\n\tstatic multiplyQuaternionsFlat( dst, dstOffset, src0, srcOffset0, src1, srcOffset1 ) {\n\n\t\tconst x0 = src0[ srcOffset0 ];\n\t\tconst y0 = src0[ srcOffset0 + 1 ];\n\t\tconst z0 = src0[ srcOffset0 + 2 ];\n\t\tconst w0 = src0[ srcOffset0 + 3 ];\n\n\t\tconst x1 = src1[ srcOffset1 ];\n\t\tconst y1 = src1[ srcOffset1 + 1 ];\n\t\tconst z1 = src1[ srcOffset1 + 2 ];\n\t\tconst w1 = src1[ srcOffset1 + 3 ];\n\n\t\tdst[ dstOffset ] = x0 * w1 + w0 * x1 + y0 * z1 - z0 * y1;\n\t\tdst[ dstOffset + 1 ] = y0 * w1 + w0 * y1 + z0 * x1 - x0 * z1;\n\t\tdst[ dstOffset + 2 ] = z0 * w1 + w0 * z1 + x0 * y1 - y0 * x1;\n\t\tdst[ dstOffset + 3 ] = w0 * w1 - x0 * x1 - y0 * y1 - z0 * z1;\n\n\t\treturn dst;\n\n\t}\n\n\tget x() {\n\n\t\treturn this._x;\n\n\t}\n\n\tset x( value ) {\n\n\t\tthis._x = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget y() {\n\n\t\treturn this._y;\n\n\t}\n\n\tset y( value ) {\n\n\t\tthis._y = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget z() {\n\n\t\treturn this._z;\n\n\t}\n\n\tset z( value ) {\n\n\t\tthis._z = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget w() {\n\n\t\treturn this._w;\n\n\t}\n\n\tset w( value ) {\n\n\t\tthis._w = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tset( x, y, z, w ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._w );\n\n\t}\n\n\tcopy( quaternion ) {\n\n\t\tthis._x = quaternion.x;\n\t\tthis._y = quaternion.y;\n\t\tthis._z = quaternion.z;\n\t\tthis._w = quaternion.w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromEuler( euler, update ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tthrow new Error( 'THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tconst x = euler._x, y = euler._y, z = euler._z, order = euler._order;\n\n\t\t// http://www.mathworks.com/matlabcentral/fileexchange/\n\t\t// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n\t\t//\tcontent/SpinCalc.m\n\n\t\tconst cos = Math.cos;\n\t\tconst sin = Math.sin;\n\n\t\tconst c1 = cos( x / 2 );\n\t\tconst c2 = cos( y / 2 );\n\t\tconst c3 = cos( z / 2 );\n\n\t\tconst s1 = sin( x / 2 );\n\t\tconst s2 = sin( y / 2 );\n\t\tconst s3 = sin( z / 2 );\n\n\t\tswitch ( order ) {\n\n\t\t\tcase 'XYZ':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'YXZ':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZXY':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZYX':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'YZX':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'XZY':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.warn( 'THREE.Quaternion: .setFromEuler() encountered an unknown order: ' + order );\n\n\t\t}\n\n\t\tif ( update !== false ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromAxisAngle( axis, angle ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n\n\t\t// assumes axis is normalized\n\n\t\tconst halfAngle = angle / 2, s = Math.sin( halfAngle );\n\n\t\tthis._x = axis.x * s;\n\t\tthis._y = axis.y * s;\n\t\tthis._z = axis.z * s;\n\t\tthis._w = Math.cos( halfAngle );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromRotationMatrix( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tconst te = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ],\n\n\t\t\ttrace = m11 + m22 + m33;\n\n\t\tif ( trace > 0 ) {\n\n\t\t\tconst s = 0.5 / Math.sqrt( trace + 1.0 );\n\n\t\t\tthis._w = 0.25 / s;\n\t\t\tthis._x = ( m32 - m23 ) * s;\n\t\t\tthis._y = ( m13 - m31 ) * s;\n\t\t\tthis._z = ( m21 - m12 ) * s;\n\n\t\t} else if ( m11 > m22 && m11 > m33 ) {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\n\n\t\t\tthis._w = ( m32 - m23 ) / s;\n\t\t\tthis._x = 0.25 * s;\n\t\t\tthis._y = ( m12 + m21 ) / s;\n\t\t\tthis._z = ( m13 + m31 ) / s;\n\n\t\t} else if ( m22 > m33 ) {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\n\n\t\t\tthis._w = ( m13 - m31 ) / s;\n\t\t\tthis._x = ( m12 + m21 ) / s;\n\t\t\tthis._y = 0.25 * s;\n\t\t\tthis._z = ( m23 + m32 ) / s;\n\n\t\t} else {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\n\n\t\t\tthis._w = ( m21 - m12 ) / s;\n\t\t\tthis._x = ( m13 + m31 ) / s;\n\t\t\tthis._y = ( m23 + m32 ) / s;\n\t\t\tthis._z = 0.25 * s;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromUnitVectors( vFrom, vTo ) {\n\n\t\t// assumes direction vectors vFrom and vTo are normalized\n\n\t\tconst EPS = 0.000001;\n\n\t\tlet r = vFrom.dot( vTo ) + 1;\n\n\t\tif ( r < EPS ) {\n\n\t\t\tr = 0;\n\n\t\t\tif ( Math.abs( vFrom.x ) > Math.abs( vFrom.z ) ) {\n\n\t\t\t\tthis._x = - vFrom.y;\n\t\t\t\tthis._y = vFrom.x;\n\t\t\t\tthis._z = 0;\n\t\t\t\tthis._w = r;\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = - vFrom.z;\n\t\t\t\tthis._z = vFrom.y;\n\t\t\t\tthis._w = r;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// crossVectors( vFrom, vTo ); // inlined to avoid cyclic dependency on Vector3\n\n\t\t\tthis._x = vFrom.y * vTo.z - vFrom.z * vTo.y;\n\t\t\tthis._y = vFrom.z * vTo.x - vFrom.x * vTo.z;\n\t\t\tthis._z = vFrom.x * vTo.y - vFrom.y * vTo.x;\n\t\t\tthis._w = r;\n\n\t\t}\n\n\t\treturn this.normalize();\n\n\t}\n\n\tangleTo( q ) {\n\n\t\treturn 2 * Math.acos( Math.abs( MathUtils.clamp( this.dot( q ), - 1, 1 ) ) );\n\n\t}\n\n\trotateTowards( q, step ) {\n\n\t\tconst angle = this.angleTo( q );\n\n\t\tif ( angle === 0 ) return this;\n\n\t\tconst t = Math.min( 1, step / angle );\n\n\t\tthis.slerp( q, t );\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\treturn this.set( 0, 0, 0, 1 );\n\n\t}\n\n\tinvert() {\n\n\t\t// quaternion is assumed to have unit length\n\n\t\treturn this.conjugate();\n\n\t}\n\n\tconjugate() {\n\n\t\tthis._x *= - 1;\n\t\tthis._y *= - 1;\n\t\tthis._z *= - 1;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w );\n\n\t}\n\n\tnormalize() {\n\n\t\tlet l = this.length();\n\n\t\tif ( l === 0 ) {\n\n\t\t\tthis._x = 0;\n\t\t\tthis._y = 0;\n\t\t\tthis._z = 0;\n\t\t\tthis._w = 1;\n\n\t\t} else {\n\n\t\t\tl = 1 / l;\n\n\t\t\tthis._x = this._x * l;\n\t\t\tthis._y = this._y * l;\n\t\t\tthis._z = this._z * l;\n\t\t\tthis._w = this._w * l;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( q, p ) {\n\n\t\tif ( p !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.' );\n\t\t\treturn this.multiplyQuaternions( q, p );\n\n\t\t}\n\n\t\treturn this.multiplyQuaternions( this, q );\n\n\t}\n\n\tpremultiply( q ) {\n\n\t\treturn this.multiplyQuaternions( q, this );\n\n\t}\n\n\tmultiplyQuaternions( a, b ) {\n\n\t\t// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n\n\t\tconst qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\n\t\tconst qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\n\n\t\tthis._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n\t\tthis._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n\t\tthis._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n\t\tthis._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tslerp( qb, t ) {\n\n\t\tif ( t === 0 ) return this;\n\t\tif ( t === 1 ) return this.copy( qb );\n\n\t\tconst x = this._x, y = this._y, z = this._z, w = this._w;\n\n\t\t// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n\t\tlet cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n\t\tif ( cosHalfTheta < 0 ) {\n\n\t\t\tthis._w = - qb._w;\n\t\t\tthis._x = - qb._x;\n\t\t\tthis._y = - qb._y;\n\t\t\tthis._z = - qb._z;\n\n\t\t\tcosHalfTheta = - cosHalfTheta;\n\n\t\t} else {\n\n\t\t\tthis.copy( qb );\n\n\t\t}\n\n\t\tif ( cosHalfTheta >= 1.0 ) {\n\n\t\t\tthis._w = w;\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\n\n\t\tif ( sqrSinHalfTheta <= Number.EPSILON ) {\n\n\t\t\tconst s = 1 - t;\n\t\t\tthis._w = s * w + t * this._w;\n\t\t\tthis._x = s * x + t * this._x;\n\t\t\tthis._y = s * y + t * this._y;\n\t\t\tthis._z = s * z + t * this._z;\n\n\t\t\tthis.normalize();\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst sinHalfTheta = Math.sqrt( sqrSinHalfTheta );\n\t\tconst halfTheta = Math.atan2( sinHalfTheta, cosHalfTheta );\n\t\tconst ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta,\n\t\t\tratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\n\n\t\tthis._w = ( w * ratioA + this._w * ratioB );\n\t\tthis._x = ( x * ratioA + this._x * ratioB );\n\t\tthis._y = ( y * ratioA + this._y * ratioB );\n\t\tthis._z = ( z * ratioA + this._z * ratioB );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tequals( quaternion ) {\n\n\t\treturn ( quaternion._x === this._x ) && ( quaternion._y === this._y ) && ( quaternion._z === this._z ) && ( quaternion._w === this._w );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis._x = array[ offset ];\n\t\tthis._y = array[ offset + 1 ];\n\t\tthis._z = array[ offset + 2 ];\n\t\tthis._w = array[ offset + 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._w;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index ) {\n\n\t\tthis._x = attribute.getX( index );\n\t\tthis._y = attribute.getY( index );\n\t\tthis._z = attribute.getZ( index );\n\t\tthis._w = attribute.getW( index );\n\n\t\treturn this;\n\n\t}\n\n\t_onChange( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\t_onChangeCallback() {}\n\n}\n\nclass Vector3 {\n\n\tconstructor( x = 0, y = 0, z = 0 ) {\n\n\t\tObject.defineProperty( this, 'isVector3', { value: true } );\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t}\n\n\tset( x, y, z ) {\n\n\t\tif ( z === undefined ) z = this.z; // sprite.scale.set(x,y)\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetZ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y, this.z );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.' );\n\t\t\treturn this.multiplyVectors( v, w );\n\n\t\t}\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyVectors( a, b ) {\n\n\t\tthis.x = a.x * b.x;\n\t\tthis.y = a.y * b.y;\n\t\tthis.z = a.z * b.z;\n\n\t\treturn this;\n\n\t}\n\n\tapplyEuler( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\treturn this.applyQuaternion( _quaternion.setFromEuler( euler ) );\n\n\t}\n\n\tapplyAxisAngle( axis, angle ) {\n\n\t\treturn this.applyQuaternion( _quaternion.setFromAxisAngle( axis, angle ) );\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 5 ] * y + e[ 8 ] * z;\n\n\t\treturn this;\n\n\t}\n\n\tapplyNormalMatrix( m ) {\n\n\t\treturn this.applyMatrix3( m ).normalize();\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tconst w = 1 / ( e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] );\n\n\t\tthis.x = ( e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] ) * w;\n\t\tthis.y = ( e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] ) * w;\n\t\tthis.z = ( e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] ) * w;\n\n\t\treturn this;\n\n\t}\n\n\tapplyQuaternion( q ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst qx = q.x, qy = q.y, qz = q.z, qw = q.w;\n\n\t\t// calculate quat * vector\n\n\t\tconst ix = qw * x + qy * z - qz * y;\n\t\tconst iy = qw * y + qz * x - qx * z;\n\t\tconst iz = qw * z + qx * y - qy * x;\n\t\tconst iw = - qx * x - qy * y - qz * z;\n\n\t\t// calculate result * inverse quat\n\n\t\tthis.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\n\t\tthis.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\n\t\tthis.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\n\n\t\treturn this;\n\n\t}\n\n\tproject( camera ) {\n\n\t\treturn this.applyMatrix4( camera.matrixWorldInverse ).applyMatrix4( camera.projectionMatrix );\n\n\t}\n\n\tunproject( camera ) {\n\n\t\treturn this.applyMatrix4( camera.projectionMatrixInverse ).applyMatrix4( camera.matrixWorld );\n\n\t}\n\n\ttransformDirection( m ) {\n\n\t\t// input: THREE.Matrix4 affine matrix\n\t\t// vector interpreted as a direction\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z;\n\n\t\treturn this.normalize();\n\n\t}\n\n\tdivide( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\t\tthis.z /= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z;\n\n\t}\n\n\t// TODO lengthSquared?\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\t\tthis.z = v1.z + ( v2.z - v1.z ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tcross( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.' );\n\t\t\treturn this.crossVectors( v, w );\n\n\t\t}\n\n\t\treturn this.crossVectors( this, v );\n\n\t}\n\n\tcrossVectors( a, b ) {\n\n\t\tconst ax = a.x, ay = a.y, az = a.z;\n\t\tconst bx = b.x, by = b.y, bz = b.z;\n\n\t\tthis.x = ay * bz - az * by;\n\t\tthis.y = az * bx - ax * bz;\n\t\tthis.z = ax * by - ay * bx;\n\n\t\treturn this;\n\n\t}\n\n\tprojectOnVector( v ) {\n\n\t\tconst denominator = v.lengthSq();\n\n\t\tif ( denominator === 0 ) return this.set( 0, 0, 0 );\n\n\t\tconst scalar = v.dot( this ) / denominator;\n\n\t\treturn this.copy( v ).multiplyScalar( scalar );\n\n\t}\n\n\tprojectOnPlane( planeNormal ) {\n\n\t\t_vector.copy( this ).projectOnVector( planeNormal );\n\n\t\treturn this.sub( _vector );\n\n\t}\n\n\treflect( normal ) {\n\n\t\t// reflect incident vector off plane orthogonal to normal\n\t\t// normal is assumed to have unit length\n\n\t\treturn this.sub( _vector.copy( normal ).multiplyScalar( 2 * this.dot( normal ) ) );\n\n\t}\n\n\tangleTo( v ) {\n\n\t\tconst denominator = Math.sqrt( this.lengthSq() * v.lengthSq() );\n\n\t\tif ( denominator === 0 ) return Math.PI / 2;\n\n\t\tconst theta = this.dot( v ) / denominator;\n\n\t\t// clamp, to handle numerical problems\n\n\t\treturn Math.acos( MathUtils.clamp( theta, - 1, 1 ) );\n\n\t}\n\n\tdistanceTo( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t}\n\n\tdistanceToSquared( v ) {\n\n\t\tconst dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\n\n\t\treturn dx * dx + dy * dy + dz * dz;\n\n\t}\n\n\tmanhattanDistanceTo( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y ) + Math.abs( this.z - v.z );\n\n\t}\n\n\tsetFromSpherical( s ) {\n\n\t\treturn this.setFromSphericalCoords( s.radius, s.phi, s.theta );\n\n\t}\n\n\tsetFromSphericalCoords( radius, phi, theta ) {\n\n\t\tconst sinPhiRadius = Math.sin( phi ) * radius;\n\n\t\tthis.x = sinPhiRadius * Math.sin( theta );\n\t\tthis.y = Math.cos( phi ) * radius;\n\t\tthis.z = sinPhiRadius * Math.cos( theta );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCylindrical( c ) {\n\n\t\treturn this.setFromCylindricalCoords( c.radius, c.theta, c.y );\n\n\t}\n\n\tsetFromCylindricalCoords( radius, theta, y ) {\n\n\t\tthis.x = radius * Math.sin( theta );\n\t\tthis.y = y;\n\t\tthis.z = radius * Math.cos( theta );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixPosition( m ) {\n\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 12 ];\n\t\tthis.y = e[ 13 ];\n\t\tthis.z = e[ 14 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixScale( m ) {\n\n\t\tconst sx = this.setFromMatrixColumn( m, 0 ).length();\n\t\tconst sy = this.setFromMatrixColumn( m, 1 ).length();\n\t\tconst sz = this.setFromMatrixColumn( m, 2 ).length();\n\n\t\tthis.x = sx;\n\t\tthis.y = sy;\n\t\tthis.z = sz;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixColumn( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 4 );\n\n\t}\n\n\tsetFromMatrix3Column( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 3 );\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\t\tthis.z = Math.random();\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst _vector = /*@__PURE__*/ new Vector3();\nconst _quaternion = /*@__PURE__*/ new Quaternion();\n\nclass Box3 {\n\n\tconstructor( min, max ) {\n\n\t\tObject.defineProperty( this, 'isBox3', { value: true } );\n\n\t\tthis.min = ( min !== undefined ) ? min : new Vector3( + Infinity, + Infinity, + Infinity );\n\t\tthis.max = ( max !== undefined ) ? max : new Vector3( - Infinity, - Infinity, - Infinity );\n\n\t}\n\n\tset( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromArray( array ) {\n\n\t\tlet minX = + Infinity;\n\t\tlet minY = + Infinity;\n\t\tlet minZ = + Infinity;\n\n\t\tlet maxX = - Infinity;\n\t\tlet maxY = - Infinity;\n\t\tlet maxZ = - Infinity;\n\n\t\tfor ( let i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\tconst x = array[ i ];\n\t\t\tconst y = array[ i + 1 ];\n\t\t\tconst z = array[ i + 2 ];\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromBufferAttribute( attribute ) {\n\n\t\tlet minX = + Infinity;\n\t\tlet minY = + Infinity;\n\t\tlet minZ = + Infinity;\n\n\t\tlet maxX = - Infinity;\n\t\tlet maxY = - Infinity;\n\t\tlet maxZ = - Infinity;\n\n\t\tfor ( let i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\tconst x = attribute.getX( i );\n\t\t\tconst y = attribute.getY( i );\n\t\t\tconst z = attribute.getZ( i );\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCenterAndSize( center, size ) {\n\n\t\tconst halfSize = _vector$1.copy( size ).multiplyScalar( 0.5 );\n\n\t\tthis.min.copy( center ).sub( halfSize );\n\t\tthis.max.copy( center ).add( halfSize );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromObject( object ) {\n\n\t\tthis.makeEmpty();\n\n\t\treturn this.expandByObject( object );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tmakeEmpty() {\n\n\t\tthis.min.x = this.min.y = this.min.z = + Infinity;\n\t\tthis.max.x = this.max.y = this.max.z = - Infinity;\n\n\t\treturn this;\n\n\t}\n\n\tisEmpty() {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y ) || ( this.max.z < this.min.z );\n\n\t}\n\n\tgetCenter( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getCenter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t}\n\n\tgetSize( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getSize() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t}\n\n\texpandByPoint( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t}\n\n\texpandByVector( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t}\n\n\texpandByScalar( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t}\n\n\texpandByObject( object ) {\n\n\t\t// Computes the world-axis-aligned bounding box of an object (including its children),\n\t\t// accounting for both the object's, and children's, world transforms\n\n\t\tobject.updateWorldMatrix( false, false );\n\n\t\tconst geometry = object.geometry;\n\n\t\tif ( geometry !== undefined ) {\n\n\t\t\tif ( geometry.boundingBox === null ) {\n\n\t\t\t\tgeometry.computeBoundingBox();\n\n\t\t\t}\n\n\t\t\t_box.copy( geometry.boundingBox );\n\t\t\t_box.applyMatrix4( object.matrixWorld );\n\n\t\t\tthis.union( _box );\n\n\t\t}\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tthis.expandByObject( children[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ||\n\t\t\tpoint.z < this.min.z || point.z > this.max.z ? false : true;\n\n\t}\n\n\tcontainsBox( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y &&\n\t\t\tthis.min.z <= box.min.z && box.max.z <= this.max.z;\n\n\t}\n\n\tgetParameter( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getParameter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y ),\n\t\t\t( point.z - this.min.z ) / ( this.max.z - this.min.z )\n\t\t);\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\t// using 6 splitting planes to rule out intersections.\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ||\n\t\t\tbox.max.z < this.min.z || box.min.z > this.max.z ? false : true;\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\t// Find the point on the AABB closest to the sphere center.\n\t\tthis.clampPoint( sphere.center, _vector$1 );\n\n\t\t// If that point is inside the sphere, the AABB and sphere intersect.\n\t\treturn _vector$1.distanceToSquared( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t}\n\n\tintersectsPlane( plane ) {\n\n\t\t// We compute the minimum and maximum dot product values. If those values\n\t\t// are on the same side (back or front) of the plane, then there is no intersection.\n\n\t\tlet min, max;\n\n\t\tif ( plane.normal.x > 0 ) {\n\n\t\t\tmin = plane.normal.x * this.min.x;\n\t\t\tmax = plane.normal.x * this.max.x;\n\n\t\t} else {\n\n\t\t\tmin = plane.normal.x * this.max.x;\n\t\t\tmax = plane.normal.x * this.min.x;\n\n\t\t}\n\n\t\tif ( plane.normal.y > 0 ) {\n\n\t\t\tmin += plane.normal.y * this.min.y;\n\t\t\tmax += plane.normal.y * this.max.y;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.y * this.max.y;\n\t\t\tmax += plane.normal.y * this.min.y;\n\n\t\t}\n\n\t\tif ( plane.normal.z > 0 ) {\n\n\t\t\tmin += plane.normal.z * this.min.z;\n\t\t\tmax += plane.normal.z * this.max.z;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.z * this.max.z;\n\t\t\tmax += plane.normal.z * this.min.z;\n\n\t\t}\n\n\t\treturn ( min <= - plane.constant && max >= - plane.constant );\n\n\t}\n\n\tintersectsTriangle( triangle ) {\n\n\t\tif ( this.isEmpty() ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// compute box center and extents\n\t\tthis.getCenter( _center );\n\t\t_extents.subVectors( this.max, _center );\n\n\t\t// translate triangle to aabb origin\n\t\t_v0.subVectors( triangle.a, _center );\n\t\t_v1.subVectors( triangle.b, _center );\n\t\t_v2.subVectors( triangle.c, _center );\n\n\t\t// compute edge vectors for triangle\n\t\t_f0.subVectors( _v1, _v0 );\n\t\t_f1.subVectors( _v2, _v1 );\n\t\t_f2.subVectors( _v0, _v2 );\n\n\t\t// test against axes that are given by cross product combinations of the edges of the triangle and the edges of the aabb\n\t\t// make an axis testing of each of the 3 sides of the aabb against each of the 3 sides of the triangle = 9 axis of separation\n\t\t// axis_ij = u_i x f_j (u0, u1, u2 = face normals of aabb = x,y,z axes vectors since aabb is axis aligned)\n\t\tlet axes = [\n\t\t\t0, - _f0.z, _f0.y, 0, - _f1.z, _f1.y, 0, - _f2.z, _f2.y,\n\t\t\t_f0.z, 0, - _f0.x, _f1.z, 0, - _f1.x, _f2.z, 0, - _f2.x,\n\t\t\t- _f0.y, _f0.x, 0, - _f1.y, _f1.x, 0, - _f2.y, _f2.x, 0\n\t\t];\n\t\tif ( ! satForAxes( axes, _v0, _v1, _v2, _extents ) ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// test 3 face normals from the aabb\n\t\taxes = [ 1, 0, 0, 0, 1, 0, 0, 0, 1 ];\n\t\tif ( ! satForAxes( axes, _v0, _v1, _v2, _extents ) ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// finally testing the face normal of the triangle\n\t\t// use already existing triangle edge vectors here\n\t\t_triangleNormal.crossVectors( _f0, _f1 );\n\t\taxes = [ _triangleNormal.x, _triangleNormal.y, _triangleNormal.z ];\n\n\t\treturn satForAxes( axes, _v0, _v1, _v2, _extents );\n\n\t}\n\n\tclampPoint( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\tconst clampedPoint = _vector$1.copy( point ).clamp( this.min, this.max );\n\n\t\treturn clampedPoint.sub( point ).length();\n\n\t}\n\n\tgetBoundingSphere( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.error( 'THREE.Box3: .getBoundingSphere() target is now required' );\n\t\t\t//target = new Sphere(); // removed to avoid cyclic dependency\n\n\t\t}\n\n\t\tthis.getCenter( target.center );\n\n\t\ttarget.radius = this.getSize( _vector$1 ).length() * 0.5;\n\n\t\treturn target;\n\n\t}\n\n\tintersect( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\t// ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.\n\t\tif ( this.isEmpty() ) this.makeEmpty();\n\n\t\treturn this;\n\n\t}\n\n\tunion( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\t// transform of empty box is an empty box.\n\t\tif ( this.isEmpty() ) return this;\n\n\t\t// NOTE: I am using a binary pattern to specify all 2^3 combinations below\n\t\t_points[ 0 ].set( this.min.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 000\n\t\t_points[ 1 ].set( this.min.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 001\n\t\t_points[ 2 ].set( this.min.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 010\n\t\t_points[ 3 ].set( this.min.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 011\n\t\t_points[ 4 ].set( this.max.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 100\n\t\t_points[ 5 ].set( this.max.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 101\n\t\t_points[ 6 ].set( this.max.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 110\n\t\t_points[ 7 ].set( this.max.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 111\n\n\t\tthis.setFromPoints( _points );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t}\n\n\tequals( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n}\n\nfunction satForAxes( axes, v0, v1, v2, extents ) {\n\n\tfor ( let i = 0, j = axes.length - 3; i <= j; i += 3 ) {\n\n\t\t_testAxis.fromArray( axes, i );\n\t\t// project the aabb onto the seperating axis\n\t\tconst r = extents.x * Math.abs( _testAxis.x ) + extents.y * Math.abs( _testAxis.y ) + extents.z * Math.abs( _testAxis.z );\n\t\t// project all 3 vertices of the triangle onto the seperating axis\n\t\tconst p0 = v0.dot( _testAxis );\n\t\tconst p1 = v1.dot( _testAxis );\n\t\tconst p2 = v2.dot( _testAxis );\n\t\t// actual test, basically see if either of the most extreme of the triangle points intersects r\n\t\tif ( Math.max( - Math.max( p0, p1, p2 ), Math.min( p0, p1, p2 ) ) > r ) {\n\n\t\t\t// points of the projected triangle are outside the projected half-length of the aabb\n\t\t\t// the axis is seperating and we can exit\n\t\t\treturn false;\n\n\t\t}\n\n\t}\n\n\treturn true;\n\n}\n\nconst _points = [\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3()\n];\n\nconst _vector$1 = /*@__PURE__*/ new Vector3();\n\nconst _box = /*@__PURE__*/ new Box3();\n\n// triangle centered vertices\n\nconst _v0 = /*@__PURE__*/ new Vector3();\nconst _v1 = /*@__PURE__*/ new Vector3();\nconst _v2 = /*@__PURE__*/ new Vector3();\n\n// triangle edge vectors\n\nconst _f0 = /*@__PURE__*/ new Vector3();\nconst _f1 = /*@__PURE__*/ new Vector3();\nconst _f2 = /*@__PURE__*/ new Vector3();\n\nconst _center = /*@__PURE__*/ new Vector3();\nconst _extents = /*@__PURE__*/ new Vector3();\nconst _triangleNormal = /*@__PURE__*/ new Vector3();\nconst _testAxis = /*@__PURE__*/ new Vector3();\n\nconst _box$1 = /*@__PURE__*/ new Box3();\n\nclass Sphere {\n\n\tconstructor( center, radius ) {\n\n\t\tthis.center = ( center !== undefined ) ? center : new Vector3();\n\t\tthis.radius = ( radius !== undefined ) ? radius : - 1;\n\n\t}\n\n\tset( center, radius ) {\n\n\t\tthis.center.copy( center );\n\t\tthis.radius = radius;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points, optionalCenter ) {\n\n\t\tconst center = this.center;\n\n\t\tif ( optionalCenter !== undefined ) {\n\n\t\t\tcenter.copy( optionalCenter );\n\n\t\t} else {\n\n\t\t\t_box$1.setFromPoints( points ).getCenter( center );\n\n\t\t}\n\n\t\tlet maxRadiusSq = 0;\n\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( points[ i ] ) );\n\n\t\t}\n\n\t\tthis.radius = Math.sqrt( maxRadiusSq );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( sphere ) {\n\n\t\tthis.center.copy( sphere.center );\n\t\tthis.radius = sphere.radius;\n\n\t\treturn this;\n\n\t}\n\n\tisEmpty() {\n\n\t\treturn ( this.radius < 0 );\n\n\t}\n\n\tmakeEmpty() {\n\n\t\tthis.center.set( 0, 0, 0 );\n\t\tthis.radius = - 1;\n\n\t\treturn this;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn ( point.distanceToSquared( this.center ) <= ( this.radius * this.radius ) );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn ( point.distanceTo( this.center ) - this.radius );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\tconst radiusSum = this.radius + sphere.radius;\n\n\t\treturn sphere.center.distanceToSquared( this.center ) <= ( radiusSum * radiusSum );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn box.intersectsSphere( this );\n\n\t}\n\n\tintersectsPlane( plane ) {\n\n\t\treturn Math.abs( plane.distanceToPoint( this.center ) ) <= this.radius;\n\n\t}\n\n\tclampPoint( point, target ) {\n\n\t\tconst deltaLengthSq = this.center.distanceToSquared( point );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Sphere: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.copy( point );\n\n\t\tif ( deltaLengthSq > ( this.radius * this.radius ) ) {\n\n\t\t\ttarget.sub( this.center ).normalize();\n\t\t\ttarget.multiplyScalar( this.radius ).add( this.center );\n\n\t\t}\n\n\t\treturn target;\n\n\t}\n\n\tgetBoundingBox( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Sphere: .getBoundingBox() target is now required' );\n\t\t\ttarget = new Box3();\n\n\t\t}\n\n\t\tif ( this.isEmpty() ) {\n\n\t\t\t// Empty sphere produces empty bounding box\n\t\t\ttarget.makeEmpty();\n\t\t\treturn target;\n\n\t\t}\n\n\t\ttarget.set( this.center, this.center );\n\t\ttarget.expandByScalar( this.radius );\n\n\t\treturn target;\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tthis.center.applyMatrix4( matrix );\n\t\tthis.radius = this.radius * matrix.getMaxScaleOnAxis();\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.center.add( offset );\n\n\t\treturn this;\n\n\t}\n\n\tequals( sphere ) {\n\n\t\treturn sphere.center.equals( this.center ) && ( sphere.radius === this.radius );\n\n\t}\n\n}\n\nconst _vector$2 = /*@__PURE__*/ new Vector3();\nconst _segCenter = /*@__PURE__*/ new Vector3();\nconst _segDir = /*@__PURE__*/ new Vector3();\nconst _diff = /*@__PURE__*/ new Vector3();\n\nconst _edge1 = /*@__PURE__*/ new Vector3();\nconst _edge2 = /*@__PURE__*/ new Vector3();\nconst _normal = /*@__PURE__*/ new Vector3();\n\nclass Ray {\n\n\tconstructor( origin, direction ) {\n\n\t\tthis.origin = ( origin !== undefined ) ? origin : new Vector3();\n\t\tthis.direction = ( direction !== undefined ) ? direction : new Vector3( 0, 0, - 1 );\n\n\t}\n\n\tset( origin, direction ) {\n\n\t\tthis.origin.copy( origin );\n\t\tthis.direction.copy( direction );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( ray ) {\n\n\t\tthis.origin.copy( ray.origin );\n\t\tthis.direction.copy( ray.direction );\n\n\t\treturn this;\n\n\t}\n\n\tat( t, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Ray: .at() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.direction ).multiplyScalar( t ).add( this.origin );\n\n\t}\n\n\tlookAt( v ) {\n\n\t\tthis.direction.copy( v ).sub( this.origin ).normalize();\n\n\t\treturn this;\n\n\t}\n\n\trecast( t ) {\n\n\t\tthis.origin.copy( this.at( t, _vector$2 ) );\n\n\t\treturn this;\n\n\t}\n\n\tclosestPointToPoint( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Ray: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.subVectors( point, this.origin );\n\n\t\tconst directionDistance = target.dot( this.direction );\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn target.copy( this.origin );\n\n\t\t}\n\n\t\treturn target.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn Math.sqrt( this.distanceSqToPoint( point ) );\n\n\t}\n\n\tdistanceSqToPoint( point ) {\n\n\t\tconst directionDistance = _vector$2.subVectors( point, this.origin ).dot( this.direction );\n\n\t\t// point behind the ray\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn this.origin.distanceToSquared( point );\n\n\t\t}\n\n\t\t_vector$2.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t\treturn _vector$2.distanceToSquared( point );\n\n\t}\n\n\tdistanceSqToSegment( v0, v1, optionalPointOnRay, optionalPointOnSegment ) {\n\n\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteDistRaySegment.h\n\t\t// It returns the min distance between the ray and the segment\n\t\t// defined by v0 and v1\n\t\t// It can also set two optional targets :\n\t\t// - The closest point on the ray\n\t\t// - The closest point on the segment\n\n\t\t_segCenter.copy( v0 ).add( v1 ).multiplyScalar( 0.5 );\n\t\t_segDir.copy( v1 ).sub( v0 ).normalize();\n\t\t_diff.copy( this.origin ).sub( _segCenter );\n\n\t\tconst segExtent = v0.distanceTo( v1 ) * 0.5;\n\t\tconst a01 = - this.direction.dot( _segDir );\n\t\tconst b0 = _diff.dot( this.direction );\n\t\tconst b1 = - _diff.dot( _segDir );\n\t\tconst c = _diff.lengthSq();\n\t\tconst det = Math.abs( 1 - a01 * a01 );\n\t\tlet s0, s1, sqrDist, extDet;\n\n\t\tif ( det > 0 ) {\n\n\t\t\t// The ray and segment are not parallel.\n\n\t\t\ts0 = a01 * b1 - b0;\n\t\t\ts1 = a01 * b0 - b1;\n\t\t\textDet = segExtent * det;\n\n\t\t\tif ( s0 >= 0 ) {\n\n\t\t\t\tif ( s1 >= - extDet ) {\n\n\t\t\t\t\tif ( s1 <= extDet ) {\n\n\t\t\t\t\t\t// region 0\n\t\t\t\t\t\t// Minimum at interior points of ray and segment.\n\n\t\t\t\t\t\tconst invDet = 1 / det;\n\t\t\t\t\t\ts0 *= invDet;\n\t\t\t\t\t\ts1 *= invDet;\n\t\t\t\t\t\tsqrDist = s0 * ( s0 + a01 * s1 + 2 * b0 ) + s1 * ( a01 * s0 + s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// region 1\n\n\t\t\t\t\t\ts1 = segExtent;\n\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// region 5\n\n\t\t\t\t\ts1 = - segExtent;\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( s1 <= - extDet ) {\n\n\t\t\t\t\t// region 4\n\n\t\t\t\t\ts0 = Math.max( 0, - ( - a01 * segExtent + b0 ) );\n\t\t\t\t\ts1 = ( s0 > 0 ) ? - segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t} else if ( s1 <= extDet ) {\n\n\t\t\t\t\t// region 3\n\n\t\t\t\t\ts0 = 0;\n\t\t\t\t\ts1 = Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// region 2\n\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * segExtent + b0 ) );\n\t\t\t\t\ts1 = ( s0 > 0 ) ? segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Ray and segment are parallel.\n\n\t\t\ts1 = ( a01 > 0 ) ? - segExtent : segExtent;\n\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t}\n\n\t\tif ( optionalPointOnRay ) {\n\n\t\t\toptionalPointOnRay.copy( this.direction ).multiplyScalar( s0 ).add( this.origin );\n\n\t\t}\n\n\t\tif ( optionalPointOnSegment ) {\n\n\t\t\toptionalPointOnSegment.copy( _segDir ).multiplyScalar( s1 ).add( _segCenter );\n\n\t\t}\n\n\t\treturn sqrDist;\n\n\t}\n\n\tintersectSphere( sphere, target ) {\n\n\t\t_vector$2.subVectors( sphere.center, this.origin );\n\t\tconst tca = _vector$2.dot( this.direction );\n\t\tconst d2 = _vector$2.dot( _vector$2 ) - tca * tca;\n\t\tconst radius2 = sphere.radius * sphere.radius;\n\n\t\tif ( d2 > radius2 ) return null;\n\n\t\tconst thc = Math.sqrt( radius2 - d2 );\n\n\t\t// t0 = first intersect point - entrance on front of sphere\n\t\tconst t0 = tca - thc;\n\n\t\t// t1 = second intersect point - exit point on back of sphere\n\t\tconst t1 = tca + thc;\n\n\t\t// test to see if both t0 and t1 are behind the ray - if so, return null\n\t\tif ( t0 < 0 && t1 < 0 ) return null;\n\n\t\t// test to see if t0 is behind the ray:\n\t\t// if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\n\t\t// in order to always return an intersect point that is in front of the ray.\n\t\tif ( t0 < 0 ) return this.at( t1, target );\n\n\t\t// else t0 is in front of the ray, so return the first collision point scaled by t0\n\t\treturn this.at( t0, target );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\treturn this.distanceSqToPoint( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t}\n\n\tdistanceToPlane( plane ) {\n\n\t\tconst denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( plane.distanceToPoint( this.origin ) === 0 ) {\n\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\t// Null is preferable to undefined since undefined means.... it is undefined\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst t = - ( this.origin.dot( plane.normal ) + plane.constant ) / denominator;\n\n\t\t// Return if the ray never intersects the plane\n\n\t\treturn t >= 0 ? t : null;\n\n\t}\n\n\tintersectPlane( plane, target ) {\n\n\t\tconst t = this.distanceToPlane( plane );\n\n\t\tif ( t === null ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\treturn this.at( t, target );\n\n\t}\n\n\tintersectsPlane( plane ) {\n\n\t\t// check if the ray lies on the plane first\n\n\t\tconst distToPoint = plane.distanceToPoint( this.origin );\n\n\t\tif ( distToPoint === 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\tconst denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator * distToPoint < 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\t// ray origin is behind the plane (and is pointing behind it)\n\n\t\treturn false;\n\n\t}\n\n\tintersectBox( box, target ) {\n\n\t\tlet tmin, tmax, tymin, tymax, tzmin, tzmax;\n\n\t\tconst invdirx = 1 / this.direction.x,\n\t\t\tinvdiry = 1 / this.direction.y,\n\t\t\tinvdirz = 1 / this.direction.z;\n\n\t\tconst origin = this.origin;\n\n\t\tif ( invdirx >= 0 ) {\n\n\t\t\ttmin = ( box.min.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.max.x - origin.x ) * invdirx;\n\n\t\t} else {\n\n\t\t\ttmin = ( box.max.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.min.x - origin.x ) * invdirx;\n\n\t\t}\n\n\t\tif ( invdiry >= 0 ) {\n\n\t\t\ttymin = ( box.min.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.max.y - origin.y ) * invdiry;\n\n\t\t} else {\n\n\t\t\ttymin = ( box.max.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.min.y - origin.y ) * invdiry;\n\n\t\t}\n\n\t\tif ( ( tmin > tymax ) || ( tymin > tmax ) ) return null;\n\n\t\t// These lines also handle the case where tmin or tmax is NaN\n\t\t// (result of 0 * Infinity). x !== x returns true if x is NaN\n\n\t\tif ( tymin > tmin || tmin !== tmin ) tmin = tymin;\n\n\t\tif ( tymax < tmax || tmax !== tmax ) tmax = tymax;\n\n\t\tif ( invdirz >= 0 ) {\n\n\t\t\ttzmin = ( box.min.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.max.z - origin.z ) * invdirz;\n\n\t\t} else {\n\n\t\t\ttzmin = ( box.max.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.min.z - origin.z ) * invdirz;\n\n\t\t}\n\n\t\tif ( ( tmin > tzmax ) || ( tzmin > tmax ) ) return null;\n\n\t\tif ( tzmin > tmin || tmin !== tmin ) tmin = tzmin;\n\n\t\tif ( tzmax < tmax || tmax !== tmax ) tmax = tzmax;\n\n\t\t//return point closest to the ray (positive side)\n\n\t\tif ( tmax < 0 ) return null;\n\n\t\treturn this.at( tmin >= 0 ? tmin : tmax, target );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn this.intersectBox( box, _vector$2 ) !== null;\n\n\t}\n\n\tintersectTriangle( a, b, c, backfaceCulling, target ) {\n\n\t\t// Compute the offset origin, edges, and normal.\n\n\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\n\n\t\t_edge1.subVectors( b, a );\n\t\t_edge2.subVectors( c, a );\n\t\t_normal.crossVectors( _edge1, _edge2 );\n\n\t\t// Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\n\t\t// E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\n\t\t//   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\n\t\t//   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\n\t\t//   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\n\t\tlet DdN = this.direction.dot( _normal );\n\t\tlet sign;\n\n\t\tif ( DdN > 0 ) {\n\n\t\t\tif ( backfaceCulling ) return null;\n\t\t\tsign = 1;\n\n\t\t} else if ( DdN < 0 ) {\n\n\t\t\tsign = - 1;\n\t\t\tDdN = - DdN;\n\n\t\t} else {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t_diff.subVectors( this.origin, a );\n\t\tconst DdQxE2 = sign * this.direction.dot( _edge2.crossVectors( _diff, _edge2 ) );\n\n\t\t// b1 < 0, no intersection\n\t\tif ( DdQxE2 < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst DdE1xQ = sign * this.direction.dot( _edge1.cross( _diff ) );\n\n\t\t// b2 < 0, no intersection\n\t\tif ( DdE1xQ < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// b1+b2 > 1, no intersection\n\t\tif ( DdQxE2 + DdE1xQ > DdN ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// Line intersects triangle, check if ray does.\n\t\tconst QdN = - sign * _diff.dot( _normal );\n\n\t\t// t < 0, no intersection\n\t\tif ( QdN < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// Ray intersects triangle.\n\t\treturn this.at( QdN / DdN, target );\n\n\t}\n\n\tapplyMatrix4( matrix4 ) {\n\n\t\tthis.origin.applyMatrix4( matrix4 );\n\t\tthis.direction.transformDirection( matrix4 );\n\n\t\treturn this;\n\n\t}\n\n\tequals( ray ) {\n\n\t\treturn ray.origin.equals( this.origin ) && ray.direction.equals( this.direction );\n\n\t}\n\n}\n\nclass Matrix4 {\n\n\tconstructor() {\n\n\t\tObject.defineProperty( this, 'isMatrix4', { value: true } );\n\n\t\tthis.elements = [\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t];\n\n\t\tif ( arguments.length > 0 ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.' );\n\n\t\t}\n\n\t}\n\n\tset( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 4 ] = n12; te[ 8 ] = n13; te[ 12 ] = n14;\n\t\tte[ 1 ] = n21; te[ 5 ] = n22; te[ 9 ] = n23; te[ 13 ] = n24;\n\t\tte[ 2 ] = n31; te[ 6 ] = n32; te[ 10 ] = n33; te[ 14 ] = n34;\n\t\tte[ 3 ] = n41; te[ 7 ] = n42; te[ 11 ] = n43; te[ 15 ] = n44;\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new Matrix4().fromArray( this.elements );\n\n\t}\n\n\tcopy( m ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ]; te[ 3 ] = me[ 3 ];\n\t\tte[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ]; te[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ];\n\t\tte[ 8 ] = me[ 8 ]; te[ 9 ] = me[ 9 ]; te[ 10 ] = me[ 10 ]; te[ 11 ] = me[ 11 ];\n\t\tte[ 12 ] = me[ 12 ]; te[ 13 ] = me[ 13 ]; te[ 14 ] = me[ 14 ]; te[ 15 ] = me[ 15 ];\n\n\t\treturn this;\n\n\t}\n\n\tcopyPosition( m ) {\n\n\t\tconst te = this.elements, me = m.elements;\n\n\t\tte[ 12 ] = me[ 12 ];\n\t\tte[ 13 ] = me[ 13 ];\n\t\tte[ 14 ] = me[ 14 ];\n\n\t\treturn this;\n\n\t}\n\n\textractBasis( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrixColumn( this, 0 );\n\t\tyAxis.setFromMatrixColumn( this, 1 );\n\t\tzAxis.setFromMatrixColumn( this, 2 );\n\n\t\treturn this;\n\n\t}\n\n\tmakeBasis( xAxis, yAxis, zAxis ) {\n\n\t\tthis.set(\n\t\t\txAxis.x, yAxis.x, zAxis.x, 0,\n\t\t\txAxis.y, yAxis.y, zAxis.y, 0,\n\t\t\txAxis.z, yAxis.z, zAxis.z, 0,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\textractRotation( m ) {\n\n\t\t// this method does not support reflection matrices\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tconst scaleX = 1 / _v1$1.setFromMatrixColumn( m, 0 ).length();\n\t\tconst scaleY = 1 / _v1$1.setFromMatrixColumn( m, 1 ).length();\n\t\tconst scaleZ = 1 / _v1$1.setFromMatrixColumn( m, 2 ).length();\n\n\t\tte[ 0 ] = me[ 0 ] * scaleX;\n\t\tte[ 1 ] = me[ 1 ] * scaleX;\n\t\tte[ 2 ] = me[ 2 ] * scaleX;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = me[ 4 ] * scaleY;\n\t\tte[ 5 ] = me[ 5 ] * scaleY;\n\t\tte[ 6 ] = me[ 6 ] * scaleY;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = me[ 8 ] * scaleZ;\n\t\tte[ 9 ] = me[ 9 ] * scaleZ;\n\t\tte[ 10 ] = me[ 10 ] * scaleZ;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationFromEuler( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tconst te = this.elements;\n\n\t\tconst x = euler.x, y = euler.y, z = euler.z;\n\t\tconst a = Math.cos( x ), b = Math.sin( x );\n\t\tconst c = Math.cos( y ), d = Math.sin( y );\n\t\tconst e = Math.cos( z ), f = Math.sin( z );\n\n\t\tif ( euler.order === 'XYZ' ) {\n\n\t\t\tconst ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - c * f;\n\t\t\tte[ 8 ] = d;\n\n\t\t\tte[ 1 ] = af + be * d;\n\t\t\tte[ 5 ] = ae - bf * d;\n\t\t\tte[ 9 ] = - b * c;\n\n\t\t\tte[ 2 ] = bf - ae * d;\n\t\t\tte[ 6 ] = be + af * d;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YXZ' ) {\n\n\t\t\tconst ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce + df * b;\n\t\t\tte[ 4 ] = de * b - cf;\n\t\t\tte[ 8 ] = a * d;\n\n\t\t\tte[ 1 ] = a * f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b;\n\n\t\t\tte[ 2 ] = cf * b - de;\n\t\t\tte[ 6 ] = df + ce * b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZXY' ) {\n\n\t\t\tconst ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce - df * b;\n\t\t\tte[ 4 ] = - a * f;\n\t\t\tte[ 8 ] = de + cf * b;\n\n\t\t\tte[ 1 ] = cf + de * b;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = df - ce * b;\n\n\t\t\tte[ 2 ] = - a * d;\n\t\t\tte[ 6 ] = b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZYX' ) {\n\n\t\t\tconst ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = be * d - af;\n\t\t\tte[ 8 ] = ae * d + bf;\n\n\t\t\tte[ 1 ] = c * f;\n\t\t\tte[ 5 ] = bf * d + ae;\n\t\t\tte[ 9 ] = af * d - be;\n\n\t\t\tte[ 2 ] = - d;\n\t\t\tte[ 6 ] = b * c;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YZX' ) {\n\n\t\t\tconst ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = bd - ac * f;\n\t\t\tte[ 8 ] = bc * f + ad;\n\n\t\t\tte[ 1 ] = f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b * e;\n\n\t\t\tte[ 2 ] = - d * e;\n\t\t\tte[ 6 ] = ad * f + bc;\n\t\t\tte[ 10 ] = ac - bd * f;\n\n\t\t} else if ( euler.order === 'XZY' ) {\n\n\t\t\tconst ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - f;\n\t\t\tte[ 8 ] = d * e;\n\n\t\t\tte[ 1 ] = ac * f + bd;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = ad * f - bc;\n\n\t\t\tte[ 2 ] = bc * f - ad;\n\t\t\tte[ 6 ] = b * e;\n\t\t\tte[ 10 ] = bd * f + ac;\n\n\t\t}\n\n\t\t// bottom row\n\t\tte[ 3 ] = 0;\n\t\tte[ 7 ] = 0;\n\t\tte[ 11 ] = 0;\n\n\t\t// last column\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationFromQuaternion( q ) {\n\n\t\treturn this.compose( _zero, q, _one );\n\n\t}\n\n\tlookAt( eye, target, up ) {\n\n\t\tconst te = this.elements;\n\n\t\t_z.subVectors( eye, target );\n\n\t\tif ( _z.lengthSq() === 0 ) {\n\n\t\t\t// eye and target are in the same position\n\n\t\t\t_z.z = 1;\n\n\t\t}\n\n\t\t_z.normalize();\n\t\t_x.crossVectors( up, _z );\n\n\t\tif ( _x.lengthSq() === 0 ) {\n\n\t\t\t// up and z are parallel\n\n\t\t\tif ( Math.abs( up.z ) === 1 ) {\n\n\t\t\t\t_z.x += 0.0001;\n\n\t\t\t} else {\n\n\t\t\t\t_z.z += 0.0001;\n\n\t\t\t}\n\n\t\t\t_z.normalize();\n\t\t\t_x.crossVectors( up, _z );\n\n\t\t}\n\n\t\t_x.normalize();\n\t\t_y.crossVectors( _z, _x );\n\n\t\tte[ 0 ] = _x.x; te[ 4 ] = _y.x; te[ 8 ] = _z.x;\n\t\tte[ 1 ] = _x.y; te[ 5 ] = _y.y; te[ 9 ] = _z.y;\n\t\tte[ 2 ] = _x.z; te[ 6 ] = _y.z; te[ 10 ] = _z.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( m, n ) {\n\n\t\tif ( n !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.' );\n\t\t\treturn this.multiplyMatrices( m, n );\n\n\t\t}\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t}\n\n\tpremultiply( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t}\n\n\tmultiplyMatrices( a, b ) {\n\n\t\tconst ae = a.elements;\n\t\tconst be = b.elements;\n\t\tconst te = this.elements;\n\n\t\tconst a11 = ae[ 0 ], a12 = ae[ 4 ], a13 = ae[ 8 ], a14 = ae[ 12 ];\n\t\tconst a21 = ae[ 1 ], a22 = ae[ 5 ], a23 = ae[ 9 ], a24 = ae[ 13 ];\n\t\tconst a31 = ae[ 2 ], a32 = ae[ 6 ], a33 = ae[ 10 ], a34 = ae[ 14 ];\n\t\tconst a41 = ae[ 3 ], a42 = ae[ 7 ], a43 = ae[ 11 ], a44 = ae[ 15 ];\n\n\t\tconst b11 = be[ 0 ], b12 = be[ 4 ], b13 = be[ 8 ], b14 = be[ 12 ];\n\t\tconst b21 = be[ 1 ], b22 = be[ 5 ], b23 = be[ 9 ], b24 = be[ 13 ];\n\t\tconst b31 = be[ 2 ], b32 = be[ 6 ], b33 = be[ 10 ], b34 = be[ 14 ];\n\t\tconst b41 = be[ 3 ], b42 = be[ 7 ], b43 = be[ 11 ], b44 = be[ 15 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n\t\tte[ 4 ] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n\t\tte[ 8 ] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n\t\tte[ 12 ] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n\t\tte[ 5 ] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n\t\tte[ 9 ] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n\t\tte[ 13 ] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n\t\tte[ 6 ] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n\t\tte[ 10 ] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n\t\tte[ 14 ] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n\t\tte[ 3 ] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n\t\tte[ 7 ] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n\t\tte[ 11 ] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n\t\tte[ 15 ] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 4 ] *= s; te[ 8 ] *= s; te[ 12 ] *= s;\n\t\tte[ 1 ] *= s; te[ 5 ] *= s; te[ 9 ] *= s; te[ 13 ] *= s;\n\t\tte[ 2 ] *= s; te[ 6 ] *= s; te[ 10 ] *= s; te[ 14 ] *= s;\n\t\tte[ 3 ] *= s; te[ 7 ] *= s; te[ 11 ] *= s; te[ 15 ] *= s;\n\n\t\treturn this;\n\n\t}\n\n\tdeterminant() {\n\n\t\tconst te = this.elements;\n\n\t\tconst n11 = te[ 0 ], n12 = te[ 4 ], n13 = te[ 8 ], n14 = te[ 12 ];\n\t\tconst n21 = te[ 1 ], n22 = te[ 5 ], n23 = te[ 9 ], n24 = te[ 13 ];\n\t\tconst n31 = te[ 2 ], n32 = te[ 6 ], n33 = te[ 10 ], n34 = te[ 14 ];\n\t\tconst n41 = te[ 3 ], n42 = te[ 7 ], n43 = te[ 11 ], n44 = te[ 15 ];\n\n\t\t//TODO: make this more efficient\n\t\t//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n\t\treturn (\n\t\t\tn41 * (\n\t\t\t\t+ n14 * n23 * n32\n\t\t\t\t - n13 * n24 * n32\n\t\t\t\t - n14 * n22 * n33\n\t\t\t\t + n12 * n24 * n33\n\t\t\t\t + n13 * n22 * n34\n\t\t\t\t - n12 * n23 * n34\n\t\t\t) +\n\t\t\tn42 * (\n\t\t\t\t+ n11 * n23 * n34\n\t\t\t\t - n11 * n24 * n33\n\t\t\t\t + n14 * n21 * n33\n\t\t\t\t - n13 * n21 * n34\n\t\t\t\t + n13 * n24 * n31\n\t\t\t\t - n14 * n23 * n31\n\t\t\t) +\n\t\t\tn43 * (\n\t\t\t\t+ n11 * n24 * n32\n\t\t\t\t - n11 * n22 * n34\n\t\t\t\t - n14 * n21 * n32\n\t\t\t\t + n12 * n21 * n34\n\t\t\t\t + n14 * n22 * n31\n\t\t\t\t - n12 * n24 * n31\n\t\t\t) +\n\t\t\tn44 * (\n\t\t\t\t- n13 * n22 * n31\n\t\t\t\t - n11 * n23 * n32\n\t\t\t\t + n11 * n22 * n33\n\t\t\t\t + n13 * n21 * n32\n\t\t\t\t - n12 * n21 * n33\n\t\t\t\t + n12 * n23 * n31\n\t\t\t)\n\n\t\t);\n\n\t}\n\n\ttranspose() {\n\n\t\tconst te = this.elements;\n\t\tlet tmp;\n\n\t\ttmp = te[ 1 ]; te[ 1 ] = te[ 4 ]; te[ 4 ] = tmp;\n\t\ttmp = te[ 2 ]; te[ 2 ] = te[ 8 ]; te[ 8 ] = tmp;\n\t\ttmp = te[ 6 ]; te[ 6 ] = te[ 9 ]; te[ 9 ] = tmp;\n\n\t\ttmp = te[ 3 ]; te[ 3 ] = te[ 12 ]; te[ 12 ] = tmp;\n\t\ttmp = te[ 7 ]; te[ 7 ] = te[ 13 ]; te[ 13 ] = tmp;\n\t\ttmp = te[ 11 ]; te[ 11 ] = te[ 14 ]; te[ 14 ] = tmp;\n\n\t\treturn this;\n\n\t}\n\n\tsetPosition( x, y, z ) {\n\n\t\tconst te = this.elements;\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\tte[ 12 ] = x.x;\n\t\t\tte[ 13 ] = x.y;\n\t\t\tte[ 14 ] = x.z;\n\n\t\t} else {\n\n\t\t\tte[ 12 ] = x;\n\t\t\tte[ 13 ] = y;\n\t\t\tte[ 14 ] = z;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tinvert() {\n\n\t\t// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n\t\tconst te = this.elements,\n\n\t\t\tn11 = te[ 0 ], n21 = te[ 1 ], n31 = te[ 2 ], n41 = te[ 3 ],\n\t\t\tn12 = te[ 4 ], n22 = te[ 5 ], n32 = te[ 6 ], n42 = te[ 7 ],\n\t\t\tn13 = te[ 8 ], n23 = te[ 9 ], n33 = te[ 10 ], n43 = te[ 11 ],\n\t\t\tn14 = te[ 12 ], n24 = te[ 13 ], n34 = te[ 14 ], n44 = te[ 15 ],\n\n\t\t\tt11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n\t\t\tt12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n\t\t\tt13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n\t\t\tt14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\n\t\tconst det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n\t\tif ( det === 0 ) return this.set( 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 );\n\n\t\tconst detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44 ) * detInv;\n\t\tte[ 2 ] = ( n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44 ) * detInv;\n\t\tte[ 3 ] = ( n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43 ) * detInv;\n\n\t\tte[ 4 ] = t12 * detInv;\n\t\tte[ 5 ] = ( n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44 ) * detInv;\n\t\tte[ 6 ] = ( n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44 ) * detInv;\n\t\tte[ 7 ] = ( n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43 ) * detInv;\n\n\t\tte[ 8 ] = t13 * detInv;\n\t\tte[ 9 ] = ( n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44 ) * detInv;\n\t\tte[ 10 ] = ( n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44 ) * detInv;\n\t\tte[ 11 ] = ( n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43 ) * detInv;\n\n\t\tte[ 12 ] = t14 * detInv;\n\t\tte[ 13 ] = ( n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34 ) * detInv;\n\t\tte[ 14 ] = ( n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34 ) * detInv;\n\t\tte[ 15 ] = ( n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33 ) * detInv;\n\n\t\treturn this;\n\n\t}\n\n\tscale( v ) {\n\n\t\tconst te = this.elements;\n\t\tconst x = v.x, y = v.y, z = v.z;\n\n\t\tte[ 0 ] *= x; te[ 4 ] *= y; te[ 8 ] *= z;\n\t\tte[ 1 ] *= x; te[ 5 ] *= y; te[ 9 ] *= z;\n\t\tte[ 2 ] *= x; te[ 6 ] *= y; te[ 10 ] *= z;\n\t\tte[ 3 ] *= x; te[ 7 ] *= y; te[ 11 ] *= z;\n\n\t\treturn this;\n\n\t}\n\n\tgetMaxScaleOnAxis() {\n\n\t\tconst te = this.elements;\n\n\t\tconst scaleXSq = te[ 0 ] * te[ 0 ] + te[ 1 ] * te[ 1 ] + te[ 2 ] * te[ 2 ];\n\t\tconst scaleYSq = te[ 4 ] * te[ 4 ] + te[ 5 ] * te[ 5 ] + te[ 6 ] * te[ 6 ];\n\t\tconst scaleZSq = te[ 8 ] * te[ 8 ] + te[ 9 ] * te[ 9 ] + te[ 10 ] * te[ 10 ];\n\n\t\treturn Math.sqrt( Math.max( scaleXSq, scaleYSq, scaleZSq ) );\n\n\t}\n\n\tmakeTranslation( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, x,\n\t\t\t0, 1, 0, y,\n\t\t\t0, 0, 1, z,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationX( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, c, - s, 0,\n\t\t\t0, s, c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationY( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t c, 0, s, 0,\n\t\t\t 0, 1, 0, 0,\n\t\t\t- s, 0, c, 0,\n\t\t\t 0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationZ( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\tc, - s, 0, 0,\n\t\t\ts, c, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationAxis( axis, angle ) {\n\n\t\t// Based on http://www.gamedev.net/reference/articles/article1199.asp\n\n\t\tconst c = Math.cos( angle );\n\t\tconst s = Math.sin( angle );\n\t\tconst t = 1 - c;\n\t\tconst x = axis.x, y = axis.y, z = axis.z;\n\t\tconst tx = t * x, ty = t * y;\n\n\t\tthis.set(\n\n\t\t\ttx * x + c, tx * y - s * z, tx * z + s * y, 0,\n\t\t\ttx * y + s * z, ty * y + c, ty * z - s * x, 0,\n\t\t\ttx * z - s * y, ty * z + s * x, t * z * z + c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeScale( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\tx, 0, 0, 0,\n\t\t\t0, y, 0, 0,\n\t\t\t0, 0, z, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeShear( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, y, z, 0,\n\t\t\tx, 1, z, 0,\n\t\t\tx, y, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tcompose( position, quaternion, scale ) {\n\n\t\tconst te = this.elements;\n\n\t\tconst x = quaternion._x, y = quaternion._y, z = quaternion._z, w = quaternion._w;\n\t\tconst x2 = x + x,\ty2 = y + y, z2 = z + z;\n\t\tconst xx = x * x2, xy = x * y2, xz = x * z2;\n\t\tconst yy = y * y2, yz = y * z2, zz = z * z2;\n\t\tconst wx = w * x2, wy = w * y2, wz = w * z2;\n\n\t\tconst sx = scale.x, sy = scale.y, sz = scale.z;\n\n\t\tte[ 0 ] = ( 1 - ( yy + zz ) ) * sx;\n\t\tte[ 1 ] = ( xy + wz ) * sx;\n\t\tte[ 2 ] = ( xz - wy ) * sx;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = ( xy - wz ) * sy;\n\t\tte[ 5 ] = ( 1 - ( xx + zz ) ) * sy;\n\t\tte[ 6 ] = ( yz + wx ) * sy;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = ( xz + wy ) * sz;\n\t\tte[ 9 ] = ( yz - wx ) * sz;\n\t\tte[ 10 ] = ( 1 - ( xx + yy ) ) * sz;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = position.x;\n\t\tte[ 13 ] = position.y;\n\t\tte[ 14 ] = position.z;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tdecompose( position, quaternion, scale ) {\n\n\t\tconst te = this.elements;\n\n\t\tlet sx = _v1$1.set( te[ 0 ], te[ 1 ], te[ 2 ] ).length();\n\t\tconst sy = _v1$1.set( te[ 4 ], te[ 5 ], te[ 6 ] ).length();\n\t\tconst sz = _v1$1.set( te[ 8 ], te[ 9 ], te[ 10 ] ).length();\n\n\t\t// if determine is negative, we need to invert one scale\n\t\tconst det = this.determinant();\n\t\tif ( det < 0 ) sx = - sx;\n\n\t\tposition.x = te[ 12 ];\n\t\tposition.y = te[ 13 ];\n\t\tposition.z = te[ 14 ];\n\n\t\t// scale the rotation part\n\t\t_m1.copy( this );\n\n\t\tconst invSX = 1 / sx;\n\t\tconst invSY = 1 / sy;\n\t\tconst invSZ = 1 / sz;\n\n\t\t_m1.elements[ 0 ] *= invSX;\n\t\t_m1.elements[ 1 ] *= invSX;\n\t\t_m1.elements[ 2 ] *= invSX;\n\n\t\t_m1.elements[ 4 ] *= invSY;\n\t\t_m1.elements[ 5 ] *= invSY;\n\t\t_m1.elements[ 6 ] *= invSY;\n\n\t\t_m1.elements[ 8 ] *= invSZ;\n\t\t_m1.elements[ 9 ] *= invSZ;\n\t\t_m1.elements[ 10 ] *= invSZ;\n\n\t\tquaternion.setFromRotationMatrix( _m1 );\n\n\t\tscale.x = sx;\n\t\tscale.y = sy;\n\t\tscale.z = sz;\n\n\t\treturn this;\n\n\t}\n\n\tmakePerspective( left, right, top, bottom, near, far ) {\n\n\t\tif ( far === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.' );\n\n\t\t}\n\n\t\tconst te = this.elements;\n\t\tconst x = 2 * near / ( right - left );\n\t\tconst y = 2 * near / ( top - bottom );\n\n\t\tconst a = ( right + left ) / ( right - left );\n\t\tconst b = ( top + bottom ) / ( top - bottom );\n\t\tconst c = - ( far + near ) / ( far - near );\n\t\tconst d = - 2 * far * near / ( far - near );\n\n\t\tte[ 0 ] = x;\tte[ 4 ] = 0;\tte[ 8 ] = a;\tte[ 12 ] = 0;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = y;\tte[ 9 ] = b;\tte[ 13 ] = 0;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = c;\tte[ 14 ] = d;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = - 1;\tte[ 15 ] = 0;\n\n\t\treturn this;\n\n\t}\n\n\tmakeOrthographic( left, right, top, bottom, near, far ) {\n\n\t\tconst te = this.elements;\n\t\tconst w = 1.0 / ( right - left );\n\t\tconst h = 1.0 / ( top - bottom );\n\t\tconst p = 1.0 / ( far - near );\n\n\t\tconst x = ( right + left ) * w;\n\t\tconst y = ( top + bottom ) * h;\n\t\tconst z = ( far + near ) * p;\n\n\t\tte[ 0 ] = 2 * w;\tte[ 4 ] = 0;\tte[ 8 ] = 0;\tte[ 12 ] = - x;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = 2 * h;\tte[ 9 ] = 0;\tte[ 13 ] = - y;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = - 2 * p;\tte[ 14 ] = - z;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = 0;\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tequals( matrix ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = matrix.elements;\n\n\t\tfor ( let i = 0; i < 16; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tfor ( let i = 0; i < 16; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tconst te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\t\tarray[ offset + 9 ] = te[ 9 ];\n\t\tarray[ offset + 10 ] = te[ 10 ];\n\t\tarray[ offset + 11 ] = te[ 11 ];\n\n\t\tarray[ offset + 12 ] = te[ 12 ];\n\t\tarray[ offset + 13 ] = te[ 13 ];\n\t\tarray[ offset + 14 ] = te[ 14 ];\n\t\tarray[ offset + 15 ] = te[ 15 ];\n\n\t\treturn array;\n\n\t}\n\n}\n\nconst _v1$1 = /*@__PURE__*/ new Vector3();\nconst _m1 = /*@__PURE__*/ new Matrix4();\nconst _zero = /*@__PURE__*/ new Vector3( 0, 0, 0 );\nconst _one = /*@__PURE__*/ new Vector3( 1, 1, 1 );\nconst _x = /*@__PURE__*/ new Vector3();\nconst _y = /*@__PURE__*/ new Vector3();\nconst _z = /*@__PURE__*/ new Vector3();\n\nclass Euler {\n\n\tconstructor( x = 0, y = 0, z = 0, order = Euler.DefaultOrder ) {\n\n\t\tObject.defineProperty( this, 'isEuler', { value: true } );\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order;\n\n\t}\n\n\tget x() {\n\n\t\treturn this._x;\n\n\t}\n\n\tset x( value ) {\n\n\t\tthis._x = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget y() {\n\n\t\treturn this._y;\n\n\t}\n\n\tset y( value ) {\n\n\t\tthis._y = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget z() {\n\n\t\treturn this._z;\n\n\t}\n\n\tset z( value ) {\n\n\t\tthis._z = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget order() {\n\n\t\treturn this._order;\n\n\t}\n\n\tset order( value ) {\n\n\t\tthis._order = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tset( x, y, z, order ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order || this._order;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._order );\n\n\t}\n\n\tcopy( euler ) {\n\n\t\tthis._x = euler._x;\n\t\tthis._y = euler._y;\n\t\tthis._z = euler._z;\n\t\tthis._order = euler._order;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromRotationMatrix( m, order, update ) {\n\n\t\tconst clamp = MathUtils.clamp;\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tconst te = m.elements;\n\t\tconst m11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ];\n\t\tconst m21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ];\n\t\tconst m31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\torder = order || this._order;\n\n\t\tswitch ( order ) {\n\n\t\t\tcase 'XYZ':\n\n\t\t\t\tthis._y = Math.asin( clamp( m13, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m13 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\t\tthis._z = Math.atan2( - m12, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\t\tthis._z = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'YXZ':\n\n\t\t\t\tthis._x = Math.asin( - clamp( m23, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m23 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\t\t\t\t\tthis._z = Math.atan2( m21, m22 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\t\t\t\t\tthis._z = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZXY':\n\n\t\t\t\tthis._x = Math.asin( clamp( m32, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m32 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._y = Math.atan2( - m31, m33 );\n\t\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._y = 0;\n\t\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZYX':\n\n\t\t\t\tthis._y = Math.asin( - clamp( m31, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m31 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m33 );\n\t\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = 0;\n\t\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'YZX':\n\n\t\t\t\tthis._z = Math.asin( clamp( m21, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m21 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m22 );\n\t\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = 0;\n\t\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'XZY':\n\n\t\t\t\tthis._z = Math.asin( - clamp( m12, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m12 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\t\tthis._y = Math.atan2( m13, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\t\tthis._y = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tconsole.warn( 'THREE.Euler: .setFromRotationMatrix() encountered an unknown order: ' + order );\n\n\t\t}\n\n\t\tthis._order = order;\n\n\t\tif ( update !== false ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromQuaternion( q, order, update ) {\n\n\t\t_matrix.makeRotationFromQuaternion( q );\n\n\t\treturn this.setFromRotationMatrix( _matrix, order, update );\n\n\t}\n\n\tsetFromVector3( v, order ) {\n\n\t\treturn this.set( v.x, v.y, v.z, order || this._order );\n\n\t}\n\n\treorder( newOrder ) {\n\n\t\t// WARNING: this discards revolution information -bhouston\n\n\t\t_quaternion$1.setFromEuler( this );\n\n\t\treturn this.setFromQuaternion( _quaternion$1, newOrder );\n\n\t}\n\n\tequals( euler ) {\n\n\t\treturn ( euler._x === this._x ) && ( euler._y === this._y ) && ( euler._z === this._z ) && ( euler._order === this._order );\n\n\t}\n\n\tfromArray( array ) {\n\n\t\tthis._x = array[ 0 ];\n\t\tthis._y = array[ 1 ];\n\t\tthis._z = array[ 2 ];\n\t\tif ( array[ 3 ] !== undefined ) this._order = array[ 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._order;\n\n\t\treturn array;\n\n\t}\n\n\ttoVector3( optionalResult ) {\n\n\t\tif ( optionalResult ) {\n\n\t\t\treturn optionalResult.set( this._x, this._y, this._z );\n\n\t\t} else {\n\n\t\t\treturn new Vector3( this._x, this._y, this._z );\n\n\t\t}\n\n\t}\n\n\t_onChange( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\t_onChangeCallback() {}\n\n}\n\nEuler.DefaultOrder = 'XYZ';\nEuler.RotationOrders = [ 'XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX' ];\n\nconst _matrix = /*@__PURE__*/ new Matrix4();\nconst _quaternion$1 = /*@__PURE__*/ new Quaternion();\n\nclass Layers {\n\n\tconstructor() {\n\n\t\tthis.mask = 1 | 0;\n\n\t}\n\n\tset( channel ) {\n\n\t\tthis.mask = 1 << channel | 0;\n\n\t}\n\n\tenable( channel ) {\n\n\t\tthis.mask |= 1 << channel | 0;\n\n\t}\n\n\tenableAll() {\n\n\t\tthis.mask = 0xffffffff | 0;\n\n\t}\n\n\ttoggle( channel ) {\n\n\t\tthis.mask ^= 1 << channel | 0;\n\n\t}\n\n\tdisable( channel ) {\n\n\t\tthis.mask &= ~ ( 1 << channel | 0 );\n\n\t}\n\n\tdisableAll() {\n\n\t\tthis.mask = 0;\n\n\t}\n\n\ttest( layers ) {\n\n\t\treturn ( this.mask & layers.mask ) !== 0;\n\n\t}\n\n}\n\nlet _object3DId = 0;\n\nconst _v1$2 = new Vector3();\nconst _q1 = new Quaternion();\nconst _m1$1 = new Matrix4();\nconst _target = new Vector3();\n\nconst _position = new Vector3();\nconst _scale = new Vector3();\nconst _quaternion$2 = new Quaternion();\n\nconst _xAxis = new Vector3( 1, 0, 0 );\nconst _yAxis = new Vector3( 0, 1, 0 );\nconst _zAxis = new Vector3( 0, 0, 1 );\n\nconst _addedEvent = { type: 'added' };\nconst _removedEvent = { type: 'removed' };\n\nfunction Object3D() {\n\n\tObject.defineProperty( this, 'id', { value: _object3DId ++ } );\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Object3D';\n\n\tthis.parent = null;\n\tthis.children = [];\n\n\tthis.up = Object3D.DefaultUp.clone();\n\n\tconst position = new Vector3();\n\tconst rotation = new Euler();\n\tconst quaternion = new Quaternion();\n\tconst scale = new Vector3( 1, 1, 1 );\n\n\tfunction onRotationChange() {\n\n\t\tquaternion.setFromEuler( rotation, false );\n\n\t}\n\n\tfunction onQuaternionChange() {\n\n\t\trotation.setFromQuaternion( quaternion, undefined, false );\n\n\t}\n\n\trotation._onChange( onRotationChange );\n\tquaternion._onChange( onQuaternionChange );\n\n\tObject.defineProperties( this, {\n\t\tposition: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: position\n\t\t},\n\t\trotation: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: rotation\n\t\t},\n\t\tquaternion: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: quaternion\n\t\t},\n\t\tscale: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: scale\n\t\t},\n\t\tmodelViewMatrix: {\n\t\t\tvalue: new Matrix4()\n\t\t},\n\t\tnormalMatrix: {\n\t\t\tvalue: new Matrix3()\n\t\t}\n\t} );\n\n\tthis.matrix = new Matrix4();\n\tthis.matrixWorld = new Matrix4();\n\n\tthis.matrixAutoUpdate = Object3D.DefaultMatrixAutoUpdate;\n\tthis.matrixWorldNeedsUpdate = false;\n\n\tthis.layers = new Layers();\n\tthis.visible = true;\n\n\tthis.castShadow = false;\n\tthis.receiveShadow = false;\n\n\tthis.frustumCulled = true;\n\tthis.renderOrder = 0;\n\n\tthis.animations = [];\n\n\tthis.userData = {};\n\n}\n\nObject3D.DefaultUp = new Vector3( 0, 1, 0 );\nObject3D.DefaultMatrixAutoUpdate = true;\n\nObject3D.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Object3D,\n\n\tisObject3D: true,\n\n\tonBeforeRender: function () {},\n\tonAfterRender: function () {},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tthis.matrix.premultiply( matrix );\n\n\t\tthis.matrix.decompose( this.position, this.quaternion, this.scale );\n\n\t},\n\n\tapplyQuaternion: function ( q ) {\n\n\t\tthis.quaternion.premultiply( q );\n\n\t\treturn this;\n\n\t},\n\n\tsetRotationFromAxisAngle: function ( axis, angle ) {\n\n\t\t// assumes axis is normalized\n\n\t\tthis.quaternion.setFromAxisAngle( axis, angle );\n\n\t},\n\n\tsetRotationFromEuler: function ( euler ) {\n\n\t\tthis.quaternion.setFromEuler( euler, true );\n\n\t},\n\n\tsetRotationFromMatrix: function ( m ) {\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tthis.quaternion.setFromRotationMatrix( m );\n\n\t},\n\n\tsetRotationFromQuaternion: function ( q ) {\n\n\t\t// assumes q is normalized\n\n\t\tthis.quaternion.copy( q );\n\n\t},\n\n\trotateOnAxis: function ( axis, angle ) {\n\n\t\t// rotate object on axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\t_q1.setFromAxisAngle( axis, angle );\n\n\t\tthis.quaternion.multiply( _q1 );\n\n\t\treturn this;\n\n\t},\n\n\trotateOnWorldAxis: function ( axis, angle ) {\n\n\t\t// rotate object on axis in world space\n\t\t// axis is assumed to be normalized\n\t\t// method assumes no rotated parent\n\n\t\t_q1.setFromAxisAngle( axis, angle );\n\n\t\tthis.quaternion.premultiply( _q1 );\n\n\t\treturn this;\n\n\t},\n\n\trotateX: function ( angle ) {\n\n\t\treturn this.rotateOnAxis( _xAxis, angle );\n\n\t},\n\n\trotateY: function ( angle ) {\n\n\t\treturn this.rotateOnAxis( _yAxis, angle );\n\n\t},\n\n\trotateZ: function ( angle ) {\n\n\t\treturn this.rotateOnAxis( _zAxis, angle );\n\n\t},\n\n\ttranslateOnAxis: function ( axis, distance ) {\n\n\t\t// translate object by distance along axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\t_v1$2.copy( axis ).applyQuaternion( this.quaternion );\n\n\t\tthis.position.add( _v1$2.multiplyScalar( distance ) );\n\n\t\treturn this;\n\n\t},\n\n\ttranslateX: function ( distance ) {\n\n\t\treturn this.translateOnAxis( _xAxis, distance );\n\n\t},\n\n\ttranslateY: function ( distance ) {\n\n\t\treturn this.translateOnAxis( _yAxis, distance );\n\n\t},\n\n\ttranslateZ: function ( distance ) {\n\n\t\treturn this.translateOnAxis( _zAxis, distance );\n\n\t},\n\n\tlocalToWorld: function ( vector ) {\n\n\t\treturn vector.applyMatrix4( this.matrixWorld );\n\n\t},\n\n\tworldToLocal: function ( vector ) {\n\n\t\treturn vector.applyMatrix4( _m1$1.copy( this.matrixWorld ).invert() );\n\n\t},\n\n\tlookAt: function ( x, y, z ) {\n\n\t\t// This method does not support objects having non-uniformly-scaled parent(s)\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\t_target.copy( x );\n\n\t\t} else {\n\n\t\t\t_target.set( x, y, z );\n\n\t\t}\n\n\t\tconst parent = this.parent;\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\t_position.setFromMatrixPosition( this.matrixWorld );\n\n\t\tif ( this.isCamera || this.isLight ) {\n\n\t\t\t_m1$1.lookAt( _position, _target, this.up );\n\n\t\t} else {\n\n\t\t\t_m1$1.lookAt( _target, _position, this.up );\n\n\t\t}\n\n\t\tthis.quaternion.setFromRotationMatrix( _m1$1 );\n\n\t\tif ( parent ) {\n\n\t\t\t_m1$1.extractRotation( parent.matrixWorld );\n\t\t\t_q1.setFromRotationMatrix( _m1$1 );\n\t\t\tthis.quaternion.premultiply( _q1.invert() );\n\n\t\t}\n\n\t},\n\n\tadd: function ( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( let i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.add( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( object === this ) {\n\n\t\t\tconsole.error( \"THREE.Object3D.add: object can't be added as a child of itself.\", object );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( ( object && object.isObject3D ) ) {\n\n\t\t\tif ( object.parent !== null ) {\n\n\t\t\t\tobject.parent.remove( object );\n\n\t\t\t}\n\n\t\t\tobject.parent = this;\n\t\t\tthis.children.push( object );\n\n\t\t\tobject.dispatchEvent( _addedEvent );\n\n\t\t} else {\n\n\t\t\tconsole.error( \"THREE.Object3D.add: object not an instance of THREE.Object3D.\", object );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tremove: function ( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( let i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.remove( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst index = this.children.indexOf( object );\n\n\t\tif ( index !== - 1 ) {\n\n\t\t\tobject.parent = null;\n\t\t\tthis.children.splice( index, 1 );\n\n\t\t\tobject.dispatchEvent( _removedEvent );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tclear: function () {\n\n\t\tfor ( let i = 0; i < this.children.length; i ++ ) {\n\n\t\t\tconst object = this.children[ i ];\n\n\t\t\tobject.parent = null;\n\n\t\t\tobject.dispatchEvent( _removedEvent );\n\n\t\t}\n\n\t\tthis.children.length = 0;\n\n\t\treturn this;\n\n\n\t},\n\n\tattach: function ( object ) {\n\n\t\t// adds object as a child of this, while maintaining the object's world transform\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\t_m1$1.copy( this.matrixWorld ).invert();\n\n\t\tif ( object.parent !== null ) {\n\n\t\t\tobject.parent.updateWorldMatrix( true, false );\n\n\t\t\t_m1$1.multiply( object.parent.matrixWorld );\n\n\t\t}\n\n\t\tobject.applyMatrix4( _m1$1 );\n\n\t\tobject.updateWorldMatrix( false, false );\n\n\t\tthis.add( object );\n\n\t\treturn this;\n\n\t},\n\n\tgetObjectById: function ( id ) {\n\n\t\treturn this.getObjectByProperty( 'id', id );\n\n\t},\n\n\tgetObjectByName: function ( name ) {\n\n\t\treturn this.getObjectByProperty( 'name', name );\n\n\t},\n\n\tgetObjectByProperty: function ( name, value ) {\n\n\t\tif ( this[ name ] === value ) return this;\n\n\t\tfor ( let i = 0, l = this.children.length; i < l; i ++ ) {\n\n\t\t\tconst child = this.children[ i ];\n\t\t\tconst object = child.getObjectByProperty( name, value );\n\n\t\t\tif ( object !== undefined ) {\n\n\t\t\t\treturn object;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t},\n\n\tgetWorldPosition: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldPosition() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\treturn target.setFromMatrixPosition( this.matrixWorld );\n\n\t},\n\n\tgetWorldQuaternion: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldQuaternion() target is now required' );\n\t\t\ttarget = new Quaternion();\n\n\t\t}\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tthis.matrixWorld.decompose( _position, target, _scale );\n\n\t\treturn target;\n\n\t},\n\n\tgetWorldScale: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldScale() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tthis.matrixWorld.decompose( _position, _quaternion$2, target );\n\n\t\treturn target;\n\n\t},\n\n\tgetWorldDirection: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldDirection() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tconst e = this.matrixWorld.elements;\n\n\t\treturn target.set( e[ 8 ], e[ 9 ], e[ 10 ] ).normalize();\n\n\t},\n\n\traycast: function () {},\n\n\ttraverse: function ( callback ) {\n\n\t\tcallback( this );\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverse( callback );\n\n\t\t}\n\n\t},\n\n\ttraverseVisible: function ( callback ) {\n\n\t\tif ( this.visible === false ) return;\n\n\t\tcallback( this );\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverseVisible( callback );\n\n\t\t}\n\n\t},\n\n\ttraverseAncestors: function ( callback ) {\n\n\t\tconst parent = this.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tcallback( parent );\n\n\t\t\tparent.traverseAncestors( callback );\n\n\t\t}\n\n\t},\n\n\tupdateMatrix: function () {\n\n\t\tthis.matrix.compose( this.position, this.quaternion, this.scale );\n\n\t\tthis.matrixWorldNeedsUpdate = true;\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.matrixWorldNeedsUpdate || force ) {\n\n\t\t\tif ( this.parent === null ) {\n\n\t\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t\t} else {\n\n\t\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t\t}\n\n\t\t\tthis.matrixWorldNeedsUpdate = false;\n\n\t\t\tforce = true;\n\n\t\t}\n\n\t\t// update children\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].updateMatrixWorld( force );\n\n\t\t}\n\n\t},\n\n\tupdateWorldMatrix: function ( updateParents, updateChildren ) {\n\n\t\tconst parent = this.parent;\n\n\t\tif ( updateParents === true && parent !== null ) {\n\n\t\t\tparent.updateWorldMatrix( true, false );\n\n\t\t}\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.parent === null ) {\n\n\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t} else {\n\n\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t}\n\n\t\t// update children\n\n\t\tif ( updateChildren === true ) {\n\n\t\t\tconst children = this.children;\n\n\t\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\tchildren[ i ].updateWorldMatrix( false, true );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\t// meta is a string when called from JSON.stringify\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tconst output = {};\n\n\t\t// meta is a hash used to collect geometries, materials.\n\t\t// not providing it implies that this is the root object\n\t\t// being serialized.\n\t\tif ( isRootObject ) {\n\n\t\t\t// initialize meta obj\n\t\t\tmeta = {\n\t\t\t\tgeometries: {},\n\t\t\t\tmaterials: {},\n\t\t\t\ttextures: {},\n\t\t\t\timages: {},\n\t\t\t\tshapes: {},\n\t\t\t\tskeletons: {},\n\t\t\t\tanimations: {}\n\t\t\t};\n\n\t\t\toutput.metadata = {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Object',\n\t\t\t\tgenerator: 'Object3D.toJSON'\n\t\t\t};\n\n\t\t}\n\n\t\t// standard Object3D serialization\n\n\t\tconst object = {};\n\n\t\tobject.uuid = this.uuid;\n\t\tobject.type = this.type;\n\n\t\tif ( this.name !== '' ) object.name = this.name;\n\t\tif ( this.castShadow === true ) object.castShadow = true;\n\t\tif ( this.receiveShadow === true ) object.receiveShadow = true;\n\t\tif ( this.visible === false ) object.visible = false;\n\t\tif ( this.frustumCulled === false ) object.frustumCulled = false;\n\t\tif ( this.renderOrder !== 0 ) object.renderOrder = this.renderOrder;\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) object.userData = this.userData;\n\n\t\tobject.layers = this.layers.mask;\n\t\tobject.matrix = this.matrix.toArray();\n\n\t\tif ( this.matrixAutoUpdate === false ) object.matrixAutoUpdate = false;\n\n\t\t// object specific properties\n\n\t\tif ( this.isInstancedMesh ) {\n\n\t\t\tobject.type = 'InstancedMesh';\n\t\t\tobject.count = this.count;\n\t\t\tobject.instanceMatrix = this.instanceMatrix.toJSON();\n\n\t\t}\n\n\t\t//\n\n\t\tfunction serialize( library, element ) {\n\n\t\t\tif ( library[ element.uuid ] === undefined ) {\n\n\t\t\t\tlibrary[ element.uuid ] = element.toJSON( meta );\n\n\t\t\t}\n\n\t\t\treturn element.uuid;\n\n\t\t}\n\n\t\tif ( this.isMesh || this.isLine || this.isPoints ) {\n\n\t\t\tobject.geometry = serialize( meta.geometries, this.geometry );\n\n\t\t\tconst parameters = this.geometry.parameters;\n\n\t\t\tif ( parameters !== undefined && parameters.shapes !== undefined ) {\n\n\t\t\t\tconst shapes = parameters.shapes;\n\n\t\t\t\tif ( Array.isArray( shapes ) ) {\n\n\t\t\t\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\t\t\t\tconst shape = shapes[ i ];\n\n\t\t\t\t\t\tserialize( meta.shapes, shape );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tserialize( meta.shapes, shapes );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.isSkinnedMesh ) {\n\n\t\t\tobject.bindMode = this.bindMode;\n\t\t\tobject.bindMatrix = this.bindMatrix.toArray();\n\n\t\t\tif ( this.skeleton !== undefined ) {\n\n\t\t\t\tserialize( meta.skeletons, this.skeleton );\n\n\t\t\t\tobject.skeleton = this.skeleton.uuid;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.material !== undefined ) {\n\n\t\t\tif ( Array.isArray( this.material ) ) {\n\n\t\t\t\tconst uuids = [];\n\n\t\t\t\tfor ( let i = 0, l = this.material.length; i < l; i ++ ) {\n\n\t\t\t\t\tuuids.push( serialize( meta.materials, this.material[ i ] ) );\n\n\t\t\t\t}\n\n\t\t\t\tobject.material = uuids;\n\n\t\t\t} else {\n\n\t\t\t\tobject.material = serialize( meta.materials, this.material );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.children.length > 0 ) {\n\n\t\t\tobject.children = [];\n\n\t\t\tfor ( let i = 0; i < this.children.length; i ++ ) {\n\n\t\t\t\tobject.children.push( this.children[ i ].toJSON( meta ).object );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.animations.length > 0 ) {\n\n\t\t\tobject.animations = [];\n\n\t\t\tfor ( let i = 0; i < this.animations.length; i ++ ) {\n\n\t\t\t\tconst animation = this.animations[ i ];\n\n\t\t\t\tobject.animations.push( serialize( meta.animations, animation ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( isRootObject ) {\n\n\t\t\tconst geometries = extractFromCache( meta.geometries );\n\t\t\tconst materials = extractFromCache( meta.materials );\n\t\t\tconst textures = extractFromCache( meta.textures );\n\t\t\tconst images = extractFromCache( meta.images );\n\t\t\tconst shapes = extractFromCache( meta.shapes );\n\t\t\tconst skeletons = extractFromCache( meta.skeletons );\n\t\t\tconst animations = extractFromCache( meta.animations );\n\n\t\t\tif ( geometries.length > 0 ) output.geometries = geometries;\n\t\t\tif ( materials.length > 0 ) output.materials = materials;\n\t\t\tif ( textures.length > 0 ) output.textures = textures;\n\t\t\tif ( images.length > 0 ) output.images = images;\n\t\t\tif ( shapes.length > 0 ) output.shapes = shapes;\n\t\t\tif ( skeletons.length > 0 ) output.skeletons = skeletons;\n\t\t\tif ( animations.length > 0 ) output.animations = animations;\n\n\t\t}\n\n\t\toutput.object = object;\n\n\t\treturn output;\n\n\t\t// extract data from the cache hash\n\t\t// remove metadata on each item\n\t\t// and return as array\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tconst values = [];\n\t\t\tfor ( const key in cache ) {\n\n\t\t\t\tconst data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t},\n\n\tclone: function ( recursive ) {\n\n\t\treturn new this.constructor().copy( this, recursive );\n\n\t},\n\n\tcopy: function ( source, recursive = true ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.up.copy( source.up );\n\n\t\tthis.position.copy( source.position );\n\t\tthis.rotation.order = source.rotation.order;\n\t\tthis.quaternion.copy( source.quaternion );\n\t\tthis.scale.copy( source.scale );\n\n\t\tthis.matrix.copy( source.matrix );\n\t\tthis.matrixWorld.copy( source.matrixWorld );\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\n\n\t\tthis.layers.mask = source.layers.mask;\n\t\tthis.visible = source.visible;\n\n\t\tthis.castShadow = source.castShadow;\n\t\tthis.receiveShadow = source.receiveShadow;\n\n\t\tthis.frustumCulled = source.frustumCulled;\n\t\tthis.renderOrder = source.renderOrder;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\tif ( recursive === true ) {\n\n\t\t\tfor ( let i = 0; i < source.children.length; i ++ ) {\n\n\t\t\t\tconst child = source.children[ i ];\n\t\t\t\tthis.add( child.clone() );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\nconst _vector1 = /*@__PURE__*/ new Vector3();\nconst _vector2 = /*@__PURE__*/ new Vector3();\nconst _normalMatrix = /*@__PURE__*/ new Matrix3();\n\nclass Plane {\n\n\tconstructor( normal, constant ) {\n\n\t\tObject.defineProperty( this, 'isPlane', { value: true } );\n\n\t\t// normal is assumed to be normalized\n\n\t\tthis.normal = ( normal !== undefined ) ? normal : new Vector3( 1, 0, 0 );\n\t\tthis.constant = ( constant !== undefined ) ? constant : 0;\n\n\t}\n\n\tset( normal, constant ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = constant;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponents( x, y, z, w ) {\n\n\t\tthis.normal.set( x, y, z );\n\t\tthis.constant = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromNormalAndCoplanarPoint( normal, point ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = - point.dot( this.normal );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCoplanarPoints( a, b, c ) {\n\n\t\tconst normal = _vector1.subVectors( c, b ).cross( _vector2.subVectors( a, b ) ).normalize();\n\n\t\t// Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\n\n\t\tthis.setFromNormalAndCoplanarPoint( normal, a );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( plane ) {\n\n\t\tthis.normal.copy( plane.normal );\n\t\tthis.constant = plane.constant;\n\n\t\treturn this;\n\n\t}\n\n\tnormalize() {\n\n\t\t// Note: will lead to a divide by zero if the plane is invalid.\n\n\t\tconst inverseNormalLength = 1.0 / this.normal.length();\n\t\tthis.normal.multiplyScalar( inverseNormalLength );\n\t\tthis.constant *= inverseNormalLength;\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.constant *= - 1;\n\t\tthis.normal.negate();\n\n\t\treturn this;\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn this.normal.dot( point ) + this.constant;\n\n\t}\n\n\tdistanceToSphere( sphere ) {\n\n\t\treturn this.distanceToPoint( sphere.center ) - sphere.radius;\n\n\t}\n\n\tprojectPoint( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .projectPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.distanceToPoint( point ) ).add( point );\n\n\t}\n\n\tintersectLine( line, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .intersectLine() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tconst direction = line.delta( _vector1 );\n\n\t\tconst denominator = this.normal.dot( direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( this.distanceToPoint( line.start ) === 0 ) {\n\n\t\t\t\treturn target.copy( line.start );\n\n\t\t\t}\n\n\t\t\t// Unsure if this is the correct method to handle this case.\n\t\t\treturn undefined;\n\n\t\t}\n\n\t\tconst t = - ( line.start.dot( this.normal ) + this.constant ) / denominator;\n\n\t\tif ( t < 0 || t > 1 ) {\n\n\t\t\treturn undefined;\n\n\t\t}\n\n\t\treturn target.copy( direction ).multiplyScalar( t ).add( line.start );\n\n\t}\n\n\tintersectsLine( line ) {\n\n\t\t// Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\n\n\t\tconst startSign = this.distanceToPoint( line.start );\n\t\tconst endSign = this.distanceToPoint( line.end );\n\n\t\treturn ( startSign < 0 && endSign > 0 ) || ( endSign < 0 && startSign > 0 );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn box.intersectsPlane( this );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\treturn sphere.intersectsPlane( this );\n\n\t}\n\n\tcoplanarPoint( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .coplanarPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.constant );\n\n\t}\n\n\tapplyMatrix4( matrix, optionalNormalMatrix ) {\n\n\t\tconst normalMatrix = optionalNormalMatrix || _normalMatrix.getNormalMatrix( matrix );\n\n\t\tconst referencePoint = this.coplanarPoint( _vector1 ).applyMatrix4( matrix );\n\n\t\tconst normal = this.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\tthis.constant = - referencePoint.dot( normal );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.constant -= offset.dot( this.normal );\n\n\t\treturn this;\n\n\t}\n\n\tequals( plane ) {\n\n\t\treturn plane.normal.equals( this.normal ) && ( plane.constant === this.constant );\n\n\t}\n\n}\n\nconst _v0$1 = /*@__PURE__*/ new Vector3();\nconst _v1$3 = /*@__PURE__*/ new Vector3();\nconst _v2$1 = /*@__PURE__*/ new Vector3();\nconst _v3 = /*@__PURE__*/ new Vector3();\n\nconst _vab = /*@__PURE__*/ new Vector3();\nconst _vac = /*@__PURE__*/ new Vector3();\nconst _vbc = /*@__PURE__*/ new Vector3();\nconst _vap = /*@__PURE__*/ new Vector3();\nconst _vbp = /*@__PURE__*/ new Vector3();\nconst _vcp = /*@__PURE__*/ new Vector3();\n\nclass Triangle {\n\n\tconstructor( a, b, c ) {\n\n\t\tthis.a = ( a !== undefined ) ? a : new Vector3();\n\t\tthis.b = ( b !== undefined ) ? b : new Vector3();\n\t\tthis.c = ( c !== undefined ) ? c : new Vector3();\n\n\t}\n\n\tstatic getNormal( a, b, c, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getNormal() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.subVectors( c, b );\n\t\t_v0$1.subVectors( a, b );\n\t\ttarget.cross( _v0$1 );\n\n\t\tconst targetLengthSq = target.lengthSq();\n\t\tif ( targetLengthSq > 0 ) {\n\n\t\t\treturn target.multiplyScalar( 1 / Math.sqrt( targetLengthSq ) );\n\n\t\t}\n\n\t\treturn target.set( 0, 0, 0 );\n\n\t}\n\n\t// static/instance method to calculate barycentric coordinates\n\t// based on: http://www.blackpawn.com/texts/pointinpoly/default.html\n\tstatic getBarycoord( point, a, b, c, target ) {\n\n\t\t_v0$1.subVectors( c, a );\n\t\t_v1$3.subVectors( b, a );\n\t\t_v2$1.subVectors( point, a );\n\n\t\tconst dot00 = _v0$1.dot( _v0$1 );\n\t\tconst dot01 = _v0$1.dot( _v1$3 );\n\t\tconst dot02 = _v0$1.dot( _v2$1 );\n\t\tconst dot11 = _v1$3.dot( _v1$3 );\n\t\tconst dot12 = _v1$3.dot( _v2$1 );\n\n\t\tconst denom = ( dot00 * dot11 - dot01 * dot01 );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getBarycoord() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\t// collinear or singular triangle\n\t\tif ( denom === 0 ) {\n\n\t\t\t// arbitrary location outside of triangle?\n\t\t\t// not sure if this is the best idea, maybe should be returning undefined\n\t\t\treturn target.set( - 2, - 1, - 1 );\n\n\t\t}\n\n\t\tconst invDenom = 1 / denom;\n\t\tconst u = ( dot11 * dot02 - dot01 * dot12 ) * invDenom;\n\t\tconst v = ( dot00 * dot12 - dot01 * dot02 ) * invDenom;\n\n\t\t// barycentric coordinates must always sum to 1\n\t\treturn target.set( 1 - u - v, v, u );\n\n\t}\n\n\tstatic containsPoint( point, a, b, c ) {\n\n\t\tthis.getBarycoord( point, a, b, c, _v3 );\n\n\t\treturn ( _v3.x >= 0 ) && ( _v3.y >= 0 ) && ( ( _v3.x + _v3.y ) <= 1 );\n\n\t}\n\n\tstatic getUV( point, p1, p2, p3, uv1, uv2, uv3, target ) {\n\n\t\tthis.getBarycoord( point, p1, p2, p3, _v3 );\n\n\t\ttarget.set( 0, 0 );\n\t\ttarget.addScaledVector( uv1, _v3.x );\n\t\ttarget.addScaledVector( uv2, _v3.y );\n\t\ttarget.addScaledVector( uv3, _v3.z );\n\n\t\treturn target;\n\n\t}\n\n\tstatic isFrontFacing( a, b, c, direction ) {\n\n\t\t_v0$1.subVectors( c, b );\n\t\t_v1$3.subVectors( a, b );\n\n\t\t// strictly front facing\n\t\treturn ( _v0$1.cross( _v1$3 ).dot( direction ) < 0 ) ? true : false;\n\n\t}\n\n\tset( a, b, c ) {\n\n\t\tthis.a.copy( a );\n\t\tthis.b.copy( b );\n\t\tthis.c.copy( c );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPointsAndIndices( points, i0, i1, i2 ) {\n\n\t\tthis.a.copy( points[ i0 ] );\n\t\tthis.b.copy( points[ i1 ] );\n\t\tthis.c.copy( points[ i2 ] );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( triangle ) {\n\n\t\tthis.a.copy( triangle.a );\n\t\tthis.b.copy( triangle.b );\n\t\tthis.c.copy( triangle.c );\n\n\t\treturn this;\n\n\t}\n\n\tgetArea() {\n\n\t\t_v0$1.subVectors( this.c, this.b );\n\t\t_v1$3.subVectors( this.a, this.b );\n\n\t\treturn _v0$1.cross( _v1$3 ).length() * 0.5;\n\n\t}\n\n\tgetMidpoint( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getMidpoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.addVectors( this.a, this.b ).add( this.c ).multiplyScalar( 1 / 3 );\n\n\t}\n\n\tgetNormal( target ) {\n\n\t\treturn Triangle.getNormal( this.a, this.b, this.c, target );\n\n\t}\n\n\tgetPlane( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getPlane() target is now required' );\n\t\t\ttarget = new Plane();\n\n\t\t}\n\n\t\treturn target.setFromCoplanarPoints( this.a, this.b, this.c );\n\n\t}\n\n\tgetBarycoord( point, target ) {\n\n\t\treturn Triangle.getBarycoord( point, this.a, this.b, this.c, target );\n\n\t}\n\n\tgetUV( point, uv1, uv2, uv3, target ) {\n\n\t\treturn Triangle.getUV( point, this.a, this.b, this.c, uv1, uv2, uv3, target );\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn Triangle.containsPoint( point, this.a, this.b, this.c );\n\n\t}\n\n\tisFrontFacing( direction ) {\n\n\t\treturn Triangle.isFrontFacing( this.a, this.b, this.c, direction );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn box.intersectsTriangle( this );\n\n\t}\n\n\tclosestPointToPoint( p, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tconst a = this.a, b = this.b, c = this.c;\n\t\tlet v, w;\n\n\t\t// algorithm thanks to Real-Time Collision Detection by Christer Ericson,\n\t\t// published by Morgan Kaufmann Publishers, (c) 2005 Elsevier Inc.,\n\t\t// under the accompanying license; see chapter 5.1.5 for detailed explanation.\n\t\t// basically, we're distinguishing which of the voronoi regions of the triangle\n\t\t// the point lies in with the minimum amount of redundant computation.\n\n\t\t_vab.subVectors( b, a );\n\t\t_vac.subVectors( c, a );\n\t\t_vap.subVectors( p, a );\n\t\tconst d1 = _vab.dot( _vap );\n\t\tconst d2 = _vac.dot( _vap );\n\t\tif ( d1 <= 0 && d2 <= 0 ) {\n\n\t\t\t// vertex region of A; barycentric coords (1, 0, 0)\n\t\t\treturn target.copy( a );\n\n\t\t}\n\n\t\t_vbp.subVectors( p, b );\n\t\tconst d3 = _vab.dot( _vbp );\n\t\tconst d4 = _vac.dot( _vbp );\n\t\tif ( d3 >= 0 && d4 <= d3 ) {\n\n\t\t\t// vertex region of B; barycentric coords (0, 1, 0)\n\t\t\treturn target.copy( b );\n\n\t\t}\n\n\t\tconst vc = d1 * d4 - d3 * d2;\n\t\tif ( vc <= 0 && d1 >= 0 && d3 <= 0 ) {\n\n\t\t\tv = d1 / ( d1 - d3 );\n\t\t\t// edge region of AB; barycentric coords (1-v, v, 0)\n\t\t\treturn target.copy( a ).addScaledVector( _vab, v );\n\n\t\t}\n\n\t\t_vcp.subVectors( p, c );\n\t\tconst d5 = _vab.dot( _vcp );\n\t\tconst d6 = _vac.dot( _vcp );\n\t\tif ( d6 >= 0 && d5 <= d6 ) {\n\n\t\t\t// vertex region of C; barycentric coords (0, 0, 1)\n\t\t\treturn target.copy( c );\n\n\t\t}\n\n\t\tconst vb = d5 * d2 - d1 * d6;\n\t\tif ( vb <= 0 && d2 >= 0 && d6 <= 0 ) {\n\n\t\t\tw = d2 / ( d2 - d6 );\n\t\t\t// edge region of AC; barycentric coords (1-w, 0, w)\n\t\t\treturn target.copy( a ).addScaledVector( _vac, w );\n\n\t\t}\n\n\t\tconst va = d3 * d6 - d5 * d4;\n\t\tif ( va <= 0 && ( d4 - d3 ) >= 0 && ( d5 - d6 ) >= 0 ) {\n\n\t\t\t_vbc.subVectors( c, b );\n\t\t\tw = ( d4 - d3 ) / ( ( d4 - d3 ) + ( d5 - d6 ) );\n\t\t\t// edge region of BC; barycentric coords (0, 1-w, w)\n\t\t\treturn target.copy( b ).addScaledVector( _vbc, w ); // edge region of BC\n\n\t\t}\n\n\t\t// face region\n\t\tconst denom = 1 / ( va + vb + vc );\n\t\t// u = va * denom\n\t\tv = vb * denom;\n\t\tw = vc * denom;\n\n\t\treturn target.copy( a ).addScaledVector( _vab, v ).addScaledVector( _vac, w );\n\n\t}\n\n\tequals( triangle ) {\n\n\t\treturn triangle.a.equals( this.a ) && triangle.b.equals( this.b ) && triangle.c.equals( this.c );\n\n\t}\n\n}\n\nconst _colorKeywords = { 'aliceblue': 0xF0F8FF, 'antiquewhite': 0xFAEBD7, 'aqua': 0x00FFFF, 'aquamarine': 0x7FFFD4, 'azure': 0xF0FFFF,\n\t'beige': 0xF5F5DC, 'bisque': 0xFFE4C4, 'black': 0x000000, 'blanchedalmond': 0xFFEBCD, 'blue': 0x0000FF, 'blueviolet': 0x8A2BE2,\n\t'brown': 0xA52A2A, 'burlywood': 0xDEB887, 'cadetblue': 0x5F9EA0, 'chartreuse': 0x7FFF00, 'chocolate': 0xD2691E, 'coral': 0xFF7F50,\n\t'cornflowerblue': 0x6495ED, 'cornsilk': 0xFFF8DC, 'crimson': 0xDC143C, 'cyan': 0x00FFFF, 'darkblue': 0x00008B, 'darkcyan': 0x008B8B,\n\t'darkgoldenrod': 0xB8860B, 'darkgray': 0xA9A9A9, 'darkgreen': 0x006400, 'darkgrey': 0xA9A9A9, 'darkkhaki': 0xBDB76B, 'darkmagenta': 0x8B008B,\n\t'darkolivegreen': 0x556B2F, 'darkorange': 0xFF8C00, 'darkorchid': 0x9932CC, 'darkred': 0x8B0000, 'darksalmon': 0xE9967A, 'darkseagreen': 0x8FBC8F,\n\t'darkslateblue': 0x483D8B, 'darkslategray': 0x2F4F4F, 'darkslategrey': 0x2F4F4F, 'darkturquoise': 0x00CED1, 'darkviolet': 0x9400D3,\n\t'deeppink': 0xFF1493, 'deepskyblue': 0x00BFFF, 'dimgray': 0x696969, 'dimgrey': 0x696969, 'dodgerblue': 0x1E90FF, 'firebrick': 0xB22222,\n\t'floralwhite': 0xFFFAF0, 'forestgreen': 0x228B22, 'fuchsia': 0xFF00FF, 'gainsboro': 0xDCDCDC, 'ghostwhite': 0xF8F8FF, 'gold': 0xFFD700,\n\t'goldenrod': 0xDAA520, 'gray': 0x808080, 'green': 0x008000, 'greenyellow': 0xADFF2F, 'grey': 0x808080, 'honeydew': 0xF0FFF0, 'hotpink': 0xFF69B4,\n\t'indianred': 0xCD5C5C, 'indigo': 0x4B0082, 'ivory': 0xFFFFF0, 'khaki': 0xF0E68C, 'lavender': 0xE6E6FA, 'lavenderblush': 0xFFF0F5, 'lawngreen': 0x7CFC00,\n\t'lemonchiffon': 0xFFFACD, 'lightblue': 0xADD8E6, 'lightcoral': 0xF08080, 'lightcyan': 0xE0FFFF, 'lightgoldenrodyellow': 0xFAFAD2, 'lightgray': 0xD3D3D3,\n\t'lightgreen': 0x90EE90, 'lightgrey': 0xD3D3D3, 'lightpink': 0xFFB6C1, 'lightsalmon': 0xFFA07A, 'lightseagreen': 0x20B2AA, 'lightskyblue': 0x87CEFA,\n\t'lightslategray': 0x778899, 'lightslategrey': 0x778899, 'lightsteelblue': 0xB0C4DE, 'lightyellow': 0xFFFFE0, 'lime': 0x00FF00, 'limegreen': 0x32CD32,\n\t'linen': 0xFAF0E6, 'magenta': 0xFF00FF, 'maroon': 0x800000, 'mediumaquamarine': 0x66CDAA, 'mediumblue': 0x0000CD, 'mediumorchid': 0xBA55D3,\n\t'mediumpurple': 0x9370DB, 'mediumseagreen': 0x3CB371, 'mediumslateblue': 0x7B68EE, 'mediumspringgreen': 0x00FA9A, 'mediumturquoise': 0x48D1CC,\n\t'mediumvioletred': 0xC71585, 'midnightblue': 0x191970, 'mintcream': 0xF5FFFA, 'mistyrose': 0xFFE4E1, 'moccasin': 0xFFE4B5, 'navajowhite': 0xFFDEAD,\n\t'navy': 0x000080, 'oldlace': 0xFDF5E6, 'olive': 0x808000, 'olivedrab': 0x6B8E23, 'orange': 0xFFA500, 'orangered': 0xFF4500, 'orchid': 0xDA70D6,\n\t'palegoldenrod': 0xEEE8AA, 'palegreen': 0x98FB98, 'paleturquoise': 0xAFEEEE, 'palevioletred': 0xDB7093, 'papayawhip': 0xFFEFD5, 'peachpuff': 0xFFDAB9,\n\t'peru': 0xCD853F, 'pink': 0xFFC0CB, 'plum': 0xDDA0DD, 'powderblue': 0xB0E0E6, 'purple': 0x800080, 'rebeccapurple': 0x663399, 'red': 0xFF0000, 'rosybrown': 0xBC8F8F,\n\t'royalblue': 0x4169E1, 'saddlebrown': 0x8B4513, 'salmon': 0xFA8072, 'sandybrown': 0xF4A460, 'seagreen': 0x2E8B57, 'seashell': 0xFFF5EE,\n\t'sienna': 0xA0522D, 'silver': 0xC0C0C0, 'skyblue': 0x87CEEB, 'slateblue': 0x6A5ACD, 'slategray': 0x708090, 'slategrey': 0x708090, 'snow': 0xFFFAFA,\n\t'springgreen': 0x00FF7F, 'steelblue': 0x4682B4, 'tan': 0xD2B48C, 'teal': 0x008080, 'thistle': 0xD8BFD8, 'tomato': 0xFF6347, 'turquoise': 0x40E0D0,\n\t'violet': 0xEE82EE, 'wheat': 0xF5DEB3, 'white': 0xFFFFFF, 'whitesmoke': 0xF5F5F5, 'yellow': 0xFFFF00, 'yellowgreen': 0x9ACD32 };\n\nconst _hslA = { h: 0, s: 0, l: 0 };\nconst _hslB = { h: 0, s: 0, l: 0 };\n\nfunction hue2rgb( p, q, t ) {\n\n\tif ( t < 0 ) t += 1;\n\tif ( t > 1 ) t -= 1;\n\tif ( t < 1 / 6 ) return p + ( q - p ) * 6 * t;\n\tif ( t < 1 / 2 ) return q;\n\tif ( t < 2 / 3 ) return p + ( q - p ) * 6 * ( 2 / 3 - t );\n\treturn p;\n\n}\n\nfunction SRGBToLinear( c ) {\n\n\treturn ( c < 0.04045 ) ? c * 0.0773993808 : Math.pow( c * 0.9478672986 + 0.0521327014, 2.4 );\n\n}\n\nfunction LinearToSRGB( c ) {\n\n\treturn ( c < 0.0031308 ) ? c * 12.92 : 1.055 * ( Math.pow( c, 0.41666 ) ) - 0.055;\n\n}\n\nclass Color {\n\n\tconstructor( r, g, b ) {\n\n\t\tObject.defineProperty( this, 'isColor', { value: true } );\n\n\t\tif ( g === undefined && b === undefined ) {\n\n\t\t\t// r is THREE.Color, hex or string\n\t\t\treturn this.set( r );\n\n\t\t}\n\n\t\treturn this.setRGB( r, g, b );\n\n\t}\n\n\tset( value ) {\n\n\t\tif ( value && value.isColor ) {\n\n\t\t\tthis.copy( value );\n\n\t\t} else if ( typeof value === 'number' ) {\n\n\t\t\tthis.setHex( value );\n\n\t\t} else if ( typeof value === 'string' ) {\n\n\t\t\tthis.setStyle( value );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.r = scalar;\n\t\tthis.g = scalar;\n\t\tthis.b = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetHex( hex ) {\n\n\t\thex = Math.floor( hex );\n\n\t\tthis.r = ( hex >> 16 & 255 ) / 255;\n\t\tthis.g = ( hex >> 8 & 255 ) / 255;\n\t\tthis.b = ( hex & 255 ) / 255;\n\n\t\treturn this;\n\n\t}\n\n\tsetRGB( r, g, b ) {\n\n\t\tthis.r = r;\n\t\tthis.g = g;\n\t\tthis.b = b;\n\n\t\treturn this;\n\n\t}\n\n\tsetHSL( h, s, l ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\t\th = MathUtils.euclideanModulo( h, 1 );\n\t\ts = MathUtils.clamp( s, 0, 1 );\n\t\tl = MathUtils.clamp( l, 0, 1 );\n\n\t\tif ( s === 0 ) {\n\n\t\t\tthis.r = this.g = this.b = l;\n\n\t\t} else {\n\n\t\t\tconst p = l <= 0.5 ? l * ( 1 + s ) : l + s - ( l * s );\n\t\t\tconst q = ( 2 * l ) - p;\n\n\t\t\tthis.r = hue2rgb( q, p, h + 1 / 3 );\n\t\t\tthis.g = hue2rgb( q, p, h );\n\t\t\tthis.b = hue2rgb( q, p, h - 1 / 3 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetStyle( style ) {\n\n\t\tfunction handleAlpha( string ) {\n\n\t\t\tif ( string === undefined ) return;\n\n\t\t\tif ( parseFloat( string ) < 1 ) {\n\n\t\t\t\tconsole.warn( 'THREE.Color: Alpha component of ' + style + ' will be ignored.' );\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tlet m;\n\n\t\tif ( m = /^((?:rgb|hsl)a?)\\(\\s*([^\\)]*)\\)/.exec( style ) ) {\n\n\t\t\t// rgb / hsl\n\n\t\t\tlet color;\n\t\t\tconst name = m[ 1 ];\n\t\t\tconst components = m[ 2 ];\n\n\t\t\tswitch ( name ) {\n\n\t\t\t\tcase 'rgb':\n\t\t\t\tcase 'rgba':\n\n\t\t\t\t\tif ( color = /^(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(255,0,0) rgba(255,0,0,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 255, parseInt( color[ 1 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.g = Math.min( 255, parseInt( color[ 2 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.b = Math.min( 255, parseInt( color[ 3 ], 10 ) ) / 255;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( color = /^(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 100, parseInt( color[ 1 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.g = Math.min( 100, parseInt( color[ 2 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.b = Math.min( 100, parseInt( color[ 3 ], 10 ) ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'hsl':\n\t\t\t\tcase 'hsla':\n\n\t\t\t\t\tif ( color = /^([0-9]*\\.?[0-9]+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// hsl(120,50%,50%) hsla(120,50%,50%,0.5)\n\t\t\t\t\t\tconst h = parseFloat( color[ 1 ] ) / 360;\n\t\t\t\t\t\tconst s = parseInt( color[ 2 ], 10 ) / 100;\n\t\t\t\t\t\tconst l = parseInt( color[ 3 ], 10 ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this.setHSL( h, s, l );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t} else if ( m = /^\\#([A-Fa-f0-9]+)$/.exec( style ) ) {\n\n\t\t\t// hex color\n\n\t\t\tconst hex = m[ 1 ];\n\t\t\tconst size = hex.length;\n\n\t\t\tif ( size === 3 ) {\n\n\t\t\t\t// #ff0\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 0 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 1 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 2 ) + hex.charAt( 2 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t} else if ( size === 6 ) {\n\n\t\t\t\t// #ff0000\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 2 ) + hex.charAt( 3 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 4 ) + hex.charAt( 5 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( style && style.length > 0 ) {\n\n\t\t\treturn this.setColorName( style );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetColorName( style ) {\n\n\t\t// color keywords\n\t\tconst hex = _colorKeywords[ style ];\n\n\t\tif ( hex !== undefined ) {\n\n\t\t\t// red\n\t\t\tthis.setHex( hex );\n\n\t\t} else {\n\n\t\t\t// unknown color\n\t\t\tconsole.warn( 'THREE.Color: Unknown color ' + style );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.r, this.g, this.b );\n\n\t}\n\n\tcopy( color ) {\n\n\t\tthis.r = color.r;\n\t\tthis.g = color.g;\n\t\tthis.b = color.b;\n\n\t\treturn this;\n\n\t}\n\n\tcopyGammaToLinear( color, gammaFactor = 2.0 ) {\n\n\t\tthis.r = Math.pow( color.r, gammaFactor );\n\t\tthis.g = Math.pow( color.g, gammaFactor );\n\t\tthis.b = Math.pow( color.b, gammaFactor );\n\n\t\treturn this;\n\n\t}\n\n\tcopyLinearToGamma( color, gammaFactor = 2.0 ) {\n\n\t\tconst safeInverse = ( gammaFactor > 0 ) ? ( 1.0 / gammaFactor ) : 1.0;\n\n\t\tthis.r = Math.pow( color.r, safeInverse );\n\t\tthis.g = Math.pow( color.g, safeInverse );\n\t\tthis.b = Math.pow( color.b, safeInverse );\n\n\t\treturn this;\n\n\t}\n\n\tconvertGammaToLinear( gammaFactor ) {\n\n\t\tthis.copyGammaToLinear( this, gammaFactor );\n\n\t\treturn this;\n\n\t}\n\n\tconvertLinearToGamma( gammaFactor ) {\n\n\t\tthis.copyLinearToGamma( this, gammaFactor );\n\n\t\treturn this;\n\n\t}\n\n\tcopySRGBToLinear( color ) {\n\n\t\tthis.r = SRGBToLinear( color.r );\n\t\tthis.g = SRGBToLinear( color.g );\n\t\tthis.b = SRGBToLinear( color.b );\n\n\t\treturn this;\n\n\t}\n\n\tcopyLinearToSRGB( color ) {\n\n\t\tthis.r = LinearToSRGB( color.r );\n\t\tthis.g = LinearToSRGB( color.g );\n\t\tthis.b = LinearToSRGB( color.b );\n\n\t\treturn this;\n\n\t}\n\n\tconvertSRGBToLinear() {\n\n\t\tthis.copySRGBToLinear( this );\n\n\t\treturn this;\n\n\t}\n\n\tconvertLinearToSRGB() {\n\n\t\tthis.copyLinearToSRGB( this );\n\n\t\treturn this;\n\n\t}\n\n\tgetHex() {\n\n\t\treturn ( this.r * 255 ) << 16 ^ ( this.g * 255 ) << 8 ^ ( this.b * 255 ) << 0;\n\n\t}\n\n\tgetHexString() {\n\n\t\treturn ( '000000' + this.getHex().toString( 16 ) ).slice( - 6 );\n\n\t}\n\n\tgetHSL( target ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Color: .getHSL() target is now required' );\n\t\t\ttarget = { h: 0, s: 0, l: 0 };\n\n\t\t}\n\n\t\tconst r = this.r, g = this.g, b = this.b;\n\n\t\tconst max = Math.max( r, g, b );\n\t\tconst min = Math.min( r, g, b );\n\n\t\tlet hue, saturation;\n\t\tconst lightness = ( min + max ) / 2.0;\n\n\t\tif ( min === max ) {\n\n\t\t\thue = 0;\n\t\t\tsaturation = 0;\n\n\t\t} else {\n\n\t\t\tconst delta = max - min;\n\n\t\t\tsaturation = lightness <= 0.5 ? delta / ( max + min ) : delta / ( 2 - max - min );\n\n\t\t\tswitch ( max ) {\n\n\t\t\t\tcase r: hue = ( g - b ) / delta + ( g < b ? 6 : 0 ); break;\n\t\t\t\tcase g: hue = ( b - r ) / delta + 2; break;\n\t\t\t\tcase b: hue = ( r - g ) / delta + 4; break;\n\n\t\t\t}\n\n\t\t\thue /= 6;\n\n\t\t}\n\n\t\ttarget.h = hue;\n\t\ttarget.s = saturation;\n\t\ttarget.l = lightness;\n\n\t\treturn target;\n\n\t}\n\n\tgetStyle() {\n\n\t\treturn 'rgb(' + ( ( this.r * 255 ) | 0 ) + ',' + ( ( this.g * 255 ) | 0 ) + ',' + ( ( this.b * 255 ) | 0 ) + ')';\n\n\t}\n\n\toffsetHSL( h, s, l ) {\n\n\t\tthis.getHSL( _hslA );\n\n\t\t_hslA.h += h; _hslA.s += s; _hslA.l += l;\n\n\t\tthis.setHSL( _hslA.h, _hslA.s, _hslA.l );\n\n\t\treturn this;\n\n\t}\n\n\tadd( color ) {\n\n\t\tthis.r += color.r;\n\t\tthis.g += color.g;\n\t\tthis.b += color.b;\n\n\t\treturn this;\n\n\t}\n\n\taddColors( color1, color2 ) {\n\n\t\tthis.r = color1.r + color2.r;\n\t\tthis.g = color1.g + color2.g;\n\t\tthis.b = color1.b + color2.b;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.r += s;\n\t\tthis.g += s;\n\t\tthis.b += s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( color ) {\n\n\t\tthis.r = Math.max( 0, this.r - color.r );\n\t\tthis.g = Math.max( 0, this.g - color.g );\n\t\tthis.b = Math.max( 0, this.b - color.b );\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( color ) {\n\n\t\tthis.r *= color.r;\n\t\tthis.g *= color.g;\n\t\tthis.b *= color.b;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tthis.r *= s;\n\t\tthis.g *= s;\n\t\tthis.b *= s;\n\n\t\treturn this;\n\n\t}\n\n\tlerp( color, alpha ) {\n\n\t\tthis.r += ( color.r - this.r ) * alpha;\n\t\tthis.g += ( color.g - this.g ) * alpha;\n\t\tthis.b += ( color.b - this.b ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpHSL( color, alpha ) {\n\n\t\tthis.getHSL( _hslA );\n\t\tcolor.getHSL( _hslB );\n\n\t\tconst h = MathUtils.lerp( _hslA.h, _hslB.h, alpha );\n\t\tconst s = MathUtils.lerp( _hslA.s, _hslB.s, alpha );\n\t\tconst l = MathUtils.lerp( _hslA.l, _hslB.l, alpha );\n\n\t\tthis.setHSL( h, s, l );\n\n\t\treturn this;\n\n\t}\n\n\tequals( c ) {\n\n\t\treturn ( c.r === this.r ) && ( c.g === this.g ) && ( c.b === this.b );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.r = array[ offset ];\n\t\tthis.g = array[ offset + 1 ];\n\t\tthis.b = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.r;\n\t\tarray[ offset + 1 ] = this.g;\n\t\tarray[ offset + 2 ] = this.b;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index ) {\n\n\t\tthis.r = attribute.getX( index );\n\t\tthis.g = attribute.getY( index );\n\t\tthis.b = attribute.getZ( index );\n\n\t\tif ( attribute.normalized === true ) {\n\n\t\t\t// assuming Uint8Array\n\n\t\t\tthis.r /= 255;\n\t\t\tthis.g /= 255;\n\t\t\tthis.b /= 255;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\treturn this.getHex();\n\n\t}\n\n}\n\nColor.NAMES = _colorKeywords;\nColor.prototype.r = 1;\nColor.prototype.g = 1;\nColor.prototype.b = 1;\n\nclass Face3 {\n\n\tconstructor( a, b, c, normal, color, materialIndex = 0 ) {\n\n\t\tthis.a = a;\n\t\tthis.b = b;\n\t\tthis.c = c;\n\n\t\tthis.normal = ( normal && normal.isVector3 ) ? normal : new Vector3();\n\t\tthis.vertexNormals = Array.isArray( normal ) ? normal : [];\n\n\t\tthis.color = ( color && color.isColor ) ? color : new Color();\n\t\tthis.vertexColors = Array.isArray( color ) ? color : [];\n\n\t\tthis.materialIndex = materialIndex;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.a = source.a;\n\t\tthis.b = source.b;\n\t\tthis.c = source.c;\n\n\t\tthis.normal.copy( source.normal );\n\t\tthis.color.copy( source.color );\n\n\t\tthis.materialIndex = source.materialIndex;\n\n\t\tfor ( let i = 0, il = source.vertexNormals.length; i < il; i ++ ) {\n\n\t\t\tthis.vertexNormals[ i ] = source.vertexNormals[ i ].clone();\n\n\t\t}\n\n\t\tfor ( let i = 0, il = source.vertexColors.length; i < il; i ++ ) {\n\n\t\t\tthis.vertexColors[ i ] = source.vertexColors[ i ].clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nlet materialId = 0;\n\nfunction Material() {\n\n\tObject.defineProperty( this, 'id', { value: materialId ++ } );\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Material';\n\n\tthis.fog = true;\n\n\tthis.blending = NormalBlending;\n\tthis.side = FrontSide;\n\tthis.flatShading = false;\n\tthis.vertexColors = false;\n\n\tthis.opacity = 1;\n\tthis.transparent = false;\n\n\tthis.blendSrc = SrcAlphaFactor;\n\tthis.blendDst = OneMinusSrcAlphaFactor;\n\tthis.blendEquation = AddEquation;\n\tthis.blendSrcAlpha = null;\n\tthis.blendDstAlpha = null;\n\tthis.blendEquationAlpha = null;\n\n\tthis.depthFunc = LessEqualDepth;\n\tthis.depthTest = true;\n\tthis.depthWrite = true;\n\n\tthis.stencilWriteMask = 0xff;\n\tthis.stencilFunc = AlwaysStencilFunc;\n\tthis.stencilRef = 0;\n\tthis.stencilFuncMask = 0xff;\n\tthis.stencilFail = KeepStencilOp;\n\tthis.stencilZFail = KeepStencilOp;\n\tthis.stencilZPass = KeepStencilOp;\n\tthis.stencilWrite = false;\n\n\tthis.clippingPlanes = null;\n\tthis.clipIntersection = false;\n\tthis.clipShadows = false;\n\n\tthis.shadowSide = null;\n\n\tthis.colorWrite = true;\n\n\tthis.precision = null; // override the renderer's default precision for this material\n\n\tthis.polygonOffset = false;\n\tthis.polygonOffsetFactor = 0;\n\tthis.polygonOffsetUnits = 0;\n\n\tthis.dithering = false;\n\n\tthis.alphaTest = 0;\n\tthis.premultipliedAlpha = false;\n\n\tthis.visible = true;\n\n\tthis.toneMapped = true;\n\n\tthis.userData = {};\n\n\tthis.version = 0;\n\n}\n\nMaterial.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Material,\n\n\tisMaterial: true,\n\n\tonBeforeCompile: function ( /* shaderobject, renderer */ ) {},\n\n\tcustomProgramCacheKey: function () {\n\n\t\treturn this.onBeforeCompile.toString();\n\n\t},\n\n\tsetValues: function ( values ) {\n\n\t\tif ( values === undefined ) return;\n\n\t\tfor ( const key in values ) {\n\n\t\t\tconst newValue = values[ key ];\n\n\t\t\tif ( newValue === undefined ) {\n\n\t\t\t\tconsole.warn( \"THREE.Material: '\" + key + \"' parameter is undefined.\" );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\t// for backward compatability if shading is set in the constructor\n\t\t\tif ( key === 'shading' ) {\n\n\t\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\t\tthis.flatShading = ( newValue === FlatShading ) ? true : false;\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tconst currentValue = this[ key ];\n\n\t\t\tif ( currentValue === undefined ) {\n\n\t\t\t\tconsole.warn( \"THREE.\" + this.type + \": '\" + key + \"' is not a property of this material.\" );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif ( currentValue && currentValue.isColor ) {\n\n\t\t\t\tcurrentValue.set( newValue );\n\n\t\t\t} else if ( ( currentValue && currentValue.isVector3 ) && ( newValue && newValue.isVector3 ) ) {\n\n\t\t\t\tcurrentValue.copy( newValue );\n\n\t\t\t} else {\n\n\t\t\t\tthis[ key ] = newValue;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tconst isRoot = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( isRoot ) {\n\n\t\t\tmeta = {\n\t\t\t\ttextures: {},\n\t\t\t\timages: {}\n\t\t\t};\n\n\t\t}\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Material',\n\t\t\t\tgenerator: 'Material.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard Material serialization\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\n\t\tif ( this.name !== '' ) data.name = this.name;\n\n\t\tif ( this.color && this.color.isColor ) data.color = this.color.getHex();\n\n\t\tif ( this.roughness !== undefined ) data.roughness = this.roughness;\n\t\tif ( this.metalness !== undefined ) data.metalness = this.metalness;\n\n\t\tif ( this.sheen && this.sheen.isColor ) data.sheen = this.sheen.getHex();\n\t\tif ( this.emissive && this.emissive.isColor ) data.emissive = this.emissive.getHex();\n\t\tif ( this.emissiveIntensity && this.emissiveIntensity !== 1 ) data.emissiveIntensity = this.emissiveIntensity;\n\n\t\tif ( this.specular && this.specular.isColor ) data.specular = this.specular.getHex();\n\t\tif ( this.shininess !== undefined ) data.shininess = this.shininess;\n\t\tif ( this.clearcoat !== undefined ) data.clearcoat = this.clearcoat;\n\t\tif ( this.clearcoatRoughness !== undefined ) data.clearcoatRoughness = this.clearcoatRoughness;\n\n\t\tif ( this.clearcoatMap && this.clearcoatMap.isTexture ) {\n\n\t\t\tdata.clearcoatMap = this.clearcoatMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.clearcoatRoughnessMap && this.clearcoatRoughnessMap.isTexture ) {\n\n\t\t\tdata.clearcoatRoughnessMap = this.clearcoatRoughnessMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.clearcoatNormalMap && this.clearcoatNormalMap.isTexture ) {\n\n\t\t\tdata.clearcoatNormalMap = this.clearcoatNormalMap.toJSON( meta ).uuid;\n\t\t\tdata.clearcoatNormalScale = this.clearcoatNormalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.map && this.map.isTexture ) data.map = this.map.toJSON( meta ).uuid;\n\t\tif ( this.matcap && this.matcap.isTexture ) data.matcap = this.matcap.toJSON( meta ).uuid;\n\t\tif ( this.alphaMap && this.alphaMap.isTexture ) data.alphaMap = this.alphaMap.toJSON( meta ).uuid;\n\t\tif ( this.lightMap && this.lightMap.isTexture ) data.lightMap = this.lightMap.toJSON( meta ).uuid;\n\n\t\tif ( this.aoMap && this.aoMap.isTexture ) {\n\n\t\t\tdata.aoMap = this.aoMap.toJSON( meta ).uuid;\n\t\t\tdata.aoMapIntensity = this.aoMapIntensity;\n\n\t\t}\n\n\t\tif ( this.bumpMap && this.bumpMap.isTexture ) {\n\n\t\t\tdata.bumpMap = this.bumpMap.toJSON( meta ).uuid;\n\t\t\tdata.bumpScale = this.bumpScale;\n\n\t\t}\n\n\t\tif ( this.normalMap && this.normalMap.isTexture ) {\n\n\t\t\tdata.normalMap = this.normalMap.toJSON( meta ).uuid;\n\t\t\tdata.normalMapType = this.normalMapType;\n\t\t\tdata.normalScale = this.normalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.displacementMap && this.displacementMap.isTexture ) {\n\n\t\t\tdata.displacementMap = this.displacementMap.toJSON( meta ).uuid;\n\t\t\tdata.displacementScale = this.displacementScale;\n\t\t\tdata.displacementBias = this.displacementBias;\n\n\t\t}\n\n\t\tif ( this.roughnessMap && this.roughnessMap.isTexture ) data.roughnessMap = this.roughnessMap.toJSON( meta ).uuid;\n\t\tif ( this.metalnessMap && this.metalnessMap.isTexture ) data.metalnessMap = this.metalnessMap.toJSON( meta ).uuid;\n\n\t\tif ( this.emissiveMap && this.emissiveMap.isTexture ) data.emissiveMap = this.emissiveMap.toJSON( meta ).uuid;\n\t\tif ( this.specularMap && this.specularMap.isTexture ) data.specularMap = this.specularMap.toJSON( meta ).uuid;\n\n\t\tif ( this.envMap && this.envMap.isTexture ) {\n\n\t\t\tdata.envMap = this.envMap.toJSON( meta ).uuid;\n\t\t\tdata.reflectivity = this.reflectivity; // Scale behind envMap\n\t\t\tdata.refractionRatio = this.refractionRatio;\n\n\t\t\tif ( this.combine !== undefined ) data.combine = this.combine;\n\t\t\tif ( this.envMapIntensity !== undefined ) data.envMapIntensity = this.envMapIntensity;\n\n\t\t}\n\n\t\tif ( this.gradientMap && this.gradientMap.isTexture ) {\n\n\t\t\tdata.gradientMap = this.gradientMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.size !== undefined ) data.size = this.size;\n\t\tif ( this.sizeAttenuation !== undefined ) data.sizeAttenuation = this.sizeAttenuation;\n\n\t\tif ( this.blending !== NormalBlending ) data.blending = this.blending;\n\t\tif ( this.flatShading === true ) data.flatShading = this.flatShading;\n\t\tif ( this.side !== FrontSide ) data.side = this.side;\n\t\tif ( this.vertexColors ) data.vertexColors = true;\n\n\t\tif ( this.opacity < 1 ) data.opacity = this.opacity;\n\t\tif ( this.transparent === true ) data.transparent = this.transparent;\n\n\t\tdata.depthFunc = this.depthFunc;\n\t\tdata.depthTest = this.depthTest;\n\t\tdata.depthWrite = this.depthWrite;\n\n\t\tdata.stencilWrite = this.stencilWrite;\n\t\tdata.stencilWriteMask = this.stencilWriteMask;\n\t\tdata.stencilFunc = this.stencilFunc;\n\t\tdata.stencilRef = this.stencilRef;\n\t\tdata.stencilFuncMask = this.stencilFuncMask;\n\t\tdata.stencilFail = this.stencilFail;\n\t\tdata.stencilZFail = this.stencilZFail;\n\t\tdata.stencilZPass = this.stencilZPass;\n\n\t\t// rotation (SpriteMaterial)\n\t\tif ( this.rotation && this.rotation !== 0 ) data.rotation = this.rotation;\n\n\t\tif ( this.polygonOffset === true ) data.polygonOffset = true;\n\t\tif ( this.polygonOffsetFactor !== 0 ) data.polygonOffsetFactor = this.polygonOffsetFactor;\n\t\tif ( this.polygonOffsetUnits !== 0 ) data.polygonOffsetUnits = this.polygonOffsetUnits;\n\n\t\tif ( this.linewidth && this.linewidth !== 1 ) data.linewidth = this.linewidth;\n\t\tif ( this.dashSize !== undefined ) data.dashSize = this.dashSize;\n\t\tif ( this.gapSize !== undefined ) data.gapSize = this.gapSize;\n\t\tif ( this.scale !== undefined ) data.scale = this.scale;\n\n\t\tif ( this.dithering === true ) data.dithering = true;\n\n\t\tif ( this.alphaTest > 0 ) data.alphaTest = this.alphaTest;\n\t\tif ( this.premultipliedAlpha === true ) data.premultipliedAlpha = this.premultipliedAlpha;\n\n\t\tif ( this.wireframe === true ) data.wireframe = this.wireframe;\n\t\tif ( this.wireframeLinewidth > 1 ) data.wireframeLinewidth = this.wireframeLinewidth;\n\t\tif ( this.wireframeLinecap !== 'round' ) data.wireframeLinecap = this.wireframeLinecap;\n\t\tif ( this.wireframeLinejoin !== 'round' ) data.wireframeLinejoin = this.wireframeLinejoin;\n\n\t\tif ( this.morphTargets === true ) data.morphTargets = true;\n\t\tif ( this.morphNormals === true ) data.morphNormals = true;\n\t\tif ( this.skinning === true ) data.skinning = true;\n\n\t\tif ( this.visible === false ) data.visible = false;\n\n\t\tif ( this.toneMapped === false ) data.toneMapped = false;\n\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) data.userData = this.userData;\n\n\t\t// TODO: Copied from Object3D.toJSON\n\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tconst values = [];\n\n\t\t\tfor ( const key in cache ) {\n\n\t\t\t\tconst data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t\tif ( isRoot ) {\n\n\t\t\tconst textures = extractFromCache( meta.textures );\n\t\t\tconst images = extractFromCache( meta.images );\n\n\t\t\tif ( textures.length > 0 ) data.textures = textures;\n\t\t\tif ( images.length > 0 ) data.images = images;\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.fog = source.fog;\n\n\t\tthis.blending = source.blending;\n\t\tthis.side = source.side;\n\t\tthis.flatShading = source.flatShading;\n\t\tthis.vertexColors = source.vertexColors;\n\n\t\tthis.opacity = source.opacity;\n\t\tthis.transparent = source.transparent;\n\n\t\tthis.blendSrc = source.blendSrc;\n\t\tthis.blendDst = source.blendDst;\n\t\tthis.blendEquation = source.blendEquation;\n\t\tthis.blendSrcAlpha = source.blendSrcAlpha;\n\t\tthis.blendDstAlpha = source.blendDstAlpha;\n\t\tthis.blendEquationAlpha = source.blendEquationAlpha;\n\n\t\tthis.depthFunc = source.depthFunc;\n\t\tthis.depthTest = source.depthTest;\n\t\tthis.depthWrite = source.depthWrite;\n\n\t\tthis.stencilWriteMask = source.stencilWriteMask;\n\t\tthis.stencilFunc = source.stencilFunc;\n\t\tthis.stencilRef = source.stencilRef;\n\t\tthis.stencilFuncMask = source.stencilFuncMask;\n\t\tthis.stencilFail = source.stencilFail;\n\t\tthis.stencilZFail = source.stencilZFail;\n\t\tthis.stencilZPass = source.stencilZPass;\n\t\tthis.stencilWrite = source.stencilWrite;\n\n\t\tconst srcPlanes = source.clippingPlanes;\n\t\tlet dstPlanes = null;\n\n\t\tif ( srcPlanes !== null ) {\n\n\t\t\tconst n = srcPlanes.length;\n\t\t\tdstPlanes = new Array( n );\n\n\t\t\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\t\t\tdstPlanes[ i ] = srcPlanes[ i ].clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.clippingPlanes = dstPlanes;\n\t\tthis.clipIntersection = source.clipIntersection;\n\t\tthis.clipShadows = source.clipShadows;\n\n\t\tthis.shadowSide = source.shadowSide;\n\n\t\tthis.colorWrite = source.colorWrite;\n\n\t\tthis.precision = source.precision;\n\n\t\tthis.polygonOffset = source.polygonOffset;\n\t\tthis.polygonOffsetFactor = source.polygonOffsetFactor;\n\t\tthis.polygonOffsetUnits = source.polygonOffsetUnits;\n\n\t\tthis.dithering = source.dithering;\n\n\t\tthis.alphaTest = source.alphaTest;\n\t\tthis.premultipliedAlpha = source.premultipliedAlpha;\n\n\t\tthis.visible = source.visible;\n\n\t\tthis.toneMapped = source.toneMapped;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\nObject.defineProperty( Material.prototype, 'needsUpdate', {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  depthTest: <bool>,\n *  depthWrite: <bool>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>\n * }\n */\n\nfunction MeshBasicMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshBasicMaterial';\n\n\tthis.color = new Color( 0xffffff ); // emissive\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.specularMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.combine = MultiplyOperation;\n\tthis.reflectivity = 1;\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshBasicMaterial.prototype = Object.create( Material.prototype );\nMeshBasicMaterial.prototype.constructor = MeshBasicMaterial;\n\nMeshBasicMaterial.prototype.isMeshBasicMaterial = true;\n\nMeshBasicMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.specularMap = source.specularMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.combine = source.combine;\n\tthis.reflectivity = source.reflectivity;\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\n\treturn this;\n\n};\n\nconst _vector$3 = new Vector3();\nconst _vector2$1 = new Vector2();\n\nfunction BufferAttribute( array, itemSize, normalized ) {\n\n\tif ( Array.isArray( array ) ) {\n\n\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n\t}\n\n\tthis.name = '';\n\n\tthis.array = array;\n\tthis.itemSize = itemSize;\n\tthis.count = array !== undefined ? array.length / itemSize : 0;\n\tthis.normalized = normalized === true;\n\n\tthis.usage = StaticDrawUsage;\n\tthis.updateRange = { offset: 0, count: - 1 };\n\n\tthis.version = 0;\n\n}\n\nObject.defineProperty( BufferAttribute.prototype, 'needsUpdate', {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\nObject.assign( BufferAttribute.prototype, {\n\n\tisBufferAttribute: true,\n\n\tonUploadCallback: function () {},\n\n\tsetUsage: function ( value ) {\n\n\t\tthis.usage = value;\n\n\t\treturn this;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.itemSize = source.itemSize;\n\t\tthis.count = source.count;\n\t\tthis.normalized = source.normalized;\n\n\t\tthis.usage = source.usage;\n\n\t\treturn this;\n\n\t},\n\n\tcopyAt: function ( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.itemSize;\n\t\tindex2 *= attribute.itemSize;\n\n\t\tfor ( let i = 0, l = this.itemSize; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyArray: function ( array ) {\n\n\t\tthis.array.set( array );\n\n\t\treturn this;\n\n\t},\n\n\tcopyColorsArray: function ( colors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = colors.length; i < l; i ++ ) {\n\n\t\t\tlet color = colors[ i ];\n\n\t\t\tif ( color === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyColorsArray(): color is undefined', i );\n\t\t\t\tcolor = new Color();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = color.r;\n\t\t\tarray[ offset ++ ] = color.g;\n\t\t\tarray[ offset ++ ] = color.b;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector2sArray: function ( vectors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tlet vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector2sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector2();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector3sArray: function ( vectors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tlet vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector3sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector3();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector4sArray: function ( vectors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tlet vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector4sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector4();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\t\t\tarray[ offset ++ ] = vector.w;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix3: function ( m ) {\n\n\t\tif ( this.itemSize === 2 ) {\n\n\t\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t\t_vector2$1.fromBufferAttribute( this, i );\n\t\t\t\t_vector2$1.applyMatrix3( m );\n\n\t\t\t\tthis.setXY( i, _vector2$1.x, _vector2$1.y );\n\n\t\t\t}\n\n\t\t} else if ( this.itemSize === 3 ) {\n\n\t\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t\t_vector$3.fromBufferAttribute( this, i );\n\t\t\t\t_vector$3.applyMatrix3( m );\n\n\t\t\t\tthis.setXYZ( i, _vector$3.x, _vector$3.y, _vector$3.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$3.x = this.getX( i );\n\t\t\t_vector$3.y = this.getY( i );\n\t\t\t_vector$3.z = this.getZ( i );\n\n\t\t\t_vector$3.applyMatrix4( m );\n\n\t\t\tthis.setXYZ( i, _vector$3.x, _vector$3.y, _vector$3.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tapplyNormalMatrix: function ( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$3.x = this.getX( i );\n\t\t\t_vector$3.y = this.getY( i );\n\t\t\t_vector$3.z = this.getZ( i );\n\n\t\t\t_vector$3.applyNormalMatrix( m );\n\n\t\t\tthis.setXYZ( i, _vector$3.x, _vector$3.y, _vector$3.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttransformDirection: function ( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$3.x = this.getX( i );\n\t\t\t_vector$3.y = this.getY( i );\n\t\t\t_vector$3.z = this.getZ( i );\n\n\t\t\t_vector$3.transformDirection( m );\n\n\t\t\tthis.setXYZ( i, _vector$3.x, _vector$3.y, _vector$3.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tset: function ( value, offset = 0 ) {\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t},\n\n\tgetX: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize ];\n\n\t},\n\n\tsetX: function ( index, x ) {\n\n\t\tthis.array[ index * this.itemSize ] = x;\n\n\t\treturn this;\n\n\t},\n\n\tgetY: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 1 ];\n\n\t},\n\n\tsetY: function ( index, y ) {\n\n\t\tthis.array[ index * this.itemSize + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tgetZ: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 2 ];\n\n\t},\n\n\tsetZ: function ( index, z ) {\n\n\t\tthis.array[ index * this.itemSize + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tgetW: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 3 ];\n\n\t},\n\n\tsetW: function ( index, w ) {\n\n\t\tthis.array[ index * this.itemSize + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetXY: function ( index, x, y ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZ: function ( index, x, y, z ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZW: function ( index, x, y, z, w ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\t\tthis.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tonUpload: function ( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.array, this.itemSize ).copy( this );\n\n\t},\n\n\ttoJSON: function () {\n\n\t\treturn {\n\t\t\titemSize: this.itemSize,\n\t\t\ttype: this.array.constructor.name,\n\t\t\tarray: Array.prototype.slice.call( this.array ),\n\t\t\tnormalized: this.normalized\n\t\t};\n\n\t}\n\n} );\n\n//\n\nfunction Int8BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int8Array( array ), itemSize, normalized );\n\n}\n\nInt8BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt8BufferAttribute.prototype.constructor = Int8BufferAttribute;\n\n\nfunction Uint8BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint8Array( array ), itemSize, normalized );\n\n}\n\nUint8BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint8BufferAttribute.prototype.constructor = Uint8BufferAttribute;\n\n\nfunction Uint8ClampedBufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint8ClampedArray( array ), itemSize, normalized );\n\n}\n\nUint8ClampedBufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint8ClampedBufferAttribute.prototype.constructor = Uint8ClampedBufferAttribute;\n\n\nfunction Int16BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int16Array( array ), itemSize, normalized );\n\n}\n\nInt16BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt16BufferAttribute.prototype.constructor = Int16BufferAttribute;\n\n\nfunction Uint16BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint16Array( array ), itemSize, normalized );\n\n}\n\nUint16BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint16BufferAttribute.prototype.constructor = Uint16BufferAttribute;\n\n\nfunction Int32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int32Array( array ), itemSize, normalized );\n\n}\n\nInt32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt32BufferAttribute.prototype.constructor = Int32BufferAttribute;\n\n\nfunction Uint32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint32Array( array ), itemSize, normalized );\n\n}\n\nUint32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint32BufferAttribute.prototype.constructor = Uint32BufferAttribute;\n\nfunction Float16BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint16Array( array ), itemSize, normalized );\n\n}\n\nFloat16BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nFloat16BufferAttribute.prototype.constructor = Float16BufferAttribute;\nFloat16BufferAttribute.prototype.isFloat16BufferAttribute = true;\n\nfunction Float32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Float32Array( array ), itemSize, normalized );\n\n}\n\nFloat32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nFloat32BufferAttribute.prototype.constructor = Float32BufferAttribute;\n\n\nfunction Float64BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Float64Array( array ), itemSize, normalized );\n\n}\n\nFloat64BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nFloat64BufferAttribute.prototype.constructor = Float64BufferAttribute;\n\nclass DirectGeometry {\n\n\tconstructor() {\n\n\t\tthis.vertices = [];\n\t\tthis.normals = [];\n\t\tthis.colors = [];\n\t\tthis.uvs = [];\n\t\tthis.uvs2 = [];\n\n\t\tthis.groups = [];\n\n\t\tthis.morphTargets = {};\n\n\t\tthis.skinWeights = [];\n\t\tthis.skinIndices = [];\n\n\t\t// this.lineDistances = [];\n\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\t// update flags\n\n\t\tthis.verticesNeedUpdate = false;\n\t\tthis.normalsNeedUpdate = false;\n\t\tthis.colorsNeedUpdate = false;\n\t\tthis.uvsNeedUpdate = false;\n\t\tthis.groupsNeedUpdate = false;\n\n\t}\n\n\tcomputeGroups( geometry ) {\n\n\t\tconst groups = [];\n\n\t\tlet group, i;\n\t\tlet materialIndex = undefined;\n\n\t\tconst faces = geometry.faces;\n\n\t\tfor ( i = 0; i < faces.length; i ++ ) {\n\n\t\t\tconst face = faces[ i ];\n\n\t\t\t// materials\n\n\t\t\tif ( face.materialIndex !== materialIndex ) {\n\n\t\t\t\tmaterialIndex = face.materialIndex;\n\n\t\t\t\tif ( group !== undefined ) {\n\n\t\t\t\t\tgroup.count = ( i * 3 ) - group.start;\n\t\t\t\t\tgroups.push( group );\n\n\t\t\t\t}\n\n\t\t\t\tgroup = {\n\t\t\t\t\tstart: i * 3,\n\t\t\t\t\tmaterialIndex: materialIndex\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( group !== undefined ) {\n\n\t\t\tgroup.count = ( i * 3 ) - group.start;\n\t\t\tgroups.push( group );\n\n\t\t}\n\n\t\tthis.groups = groups;\n\n\t}\n\n\tfromGeometry( geometry ) {\n\n\t\tconst faces = geometry.faces;\n\t\tconst vertices = geometry.vertices;\n\t\tconst faceVertexUvs = geometry.faceVertexUvs;\n\n\t\tconst hasFaceVertexUv = faceVertexUvs[ 0 ] && faceVertexUvs[ 0 ].length > 0;\n\t\tconst hasFaceVertexUv2 = faceVertexUvs[ 1 ] && faceVertexUvs[ 1 ].length > 0;\n\n\t\t// morphs\n\n\t\tconst morphTargets = geometry.morphTargets;\n\t\tconst morphTargetsLength = morphTargets.length;\n\n\t\tlet morphTargetsPosition;\n\n\t\tif ( morphTargetsLength > 0 ) {\n\n\t\t\tmorphTargetsPosition = [];\n\n\t\t\tfor ( let i = 0; i < morphTargetsLength; i ++ ) {\n\n\t\t\t\tmorphTargetsPosition[ i ] = {\n\t\t\t\t\tname: morphTargets[ i ].name,\n\t\t\t\t \tdata: []\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.position = morphTargetsPosition;\n\n\t\t}\n\n\t\tconst morphNormals = geometry.morphNormals;\n\t\tconst morphNormalsLength = morphNormals.length;\n\n\t\tlet morphTargetsNormal;\n\n\t\tif ( morphNormalsLength > 0 ) {\n\n\t\t\tmorphTargetsNormal = [];\n\n\t\t\tfor ( let i = 0; i < morphNormalsLength; i ++ ) {\n\n\t\t\t\tmorphTargetsNormal[ i ] = {\n\t\t\t\t\tname: morphNormals[ i ].name,\n\t\t\t\t \tdata: []\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.normal = morphTargetsNormal;\n\n\t\t}\n\n\t\t// skins\n\n\t\tconst skinIndices = geometry.skinIndices;\n\t\tconst skinWeights = geometry.skinWeights;\n\n\t\tconst hasSkinIndices = skinIndices.length === vertices.length;\n\t\tconst hasSkinWeights = skinWeights.length === vertices.length;\n\n\t\t//\n\n\t\tif ( vertices.length > 0 && faces.length === 0 ) {\n\n\t\t\tconsole.error( 'THREE.DirectGeometry: Faceless geometries are not supported.' );\n\n\t\t}\n\n\t\tfor ( let i = 0; i < faces.length; i ++ ) {\n\n\t\t\tconst face = faces[ i ];\n\n\t\t\tthis.vertices.push( vertices[ face.a ], vertices[ face.b ], vertices[ face.c ] );\n\n\t\t\tconst vertexNormals = face.vertexNormals;\n\n\t\t\tif ( vertexNormals.length === 3 ) {\n\n\t\t\t\tthis.normals.push( vertexNormals[ 0 ], vertexNormals[ 1 ], vertexNormals[ 2 ] );\n\n\t\t\t} else {\n\n\t\t\t\tconst normal = face.normal;\n\n\t\t\t\tthis.normals.push( normal, normal, normal );\n\n\t\t\t}\n\n\t\t\tconst vertexColors = face.vertexColors;\n\n\t\t\tif ( vertexColors.length === 3 ) {\n\n\t\t\t\tthis.colors.push( vertexColors[ 0 ], vertexColors[ 1 ], vertexColors[ 2 ] );\n\n\t\t\t} else {\n\n\t\t\t\tconst color = face.color;\n\n\t\t\t\tthis.colors.push( color, color, color );\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexUv === true ) {\n\n\t\t\t\tconst vertexUvs = faceVertexUvs[ 0 ][ i ];\n\n\t\t\t\tif ( vertexUvs !== undefined ) {\n\n\t\t\t\t\tthis.uvs.push( vertexUvs[ 0 ], vertexUvs[ 1 ], vertexUvs[ 2 ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ', i );\n\n\t\t\t\t\tthis.uvs.push( new Vector2(), new Vector2(), new Vector2() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexUv2 === true ) {\n\n\t\t\t\tconst vertexUvs = faceVertexUvs[ 1 ][ i ];\n\n\t\t\t\tif ( vertexUvs !== undefined ) {\n\n\t\t\t\t\tthis.uvs2.push( vertexUvs[ 0 ], vertexUvs[ 1 ], vertexUvs[ 2 ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ', i );\n\n\t\t\t\t\tthis.uvs2.push( new Vector2(), new Vector2(), new Vector2() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// morphs\n\n\t\t\tfor ( let j = 0; j < morphTargetsLength; j ++ ) {\n\n\t\t\t\tconst morphTarget = morphTargets[ j ].vertices;\n\n\t\t\t\tmorphTargetsPosition[ j ].data.push( morphTarget[ face.a ], morphTarget[ face.b ], morphTarget[ face.c ] );\n\n\t\t\t}\n\n\t\t\tfor ( let j = 0; j < morphNormalsLength; j ++ ) {\n\n\t\t\t\tconst morphNormal = morphNormals[ j ].vertexNormals[ i ];\n\n\t\t\t\tmorphTargetsNormal[ j ].data.push( morphNormal.a, morphNormal.b, morphNormal.c );\n\n\t\t\t}\n\n\t\t\t// skins\n\n\t\t\tif ( hasSkinIndices ) {\n\n\t\t\t\tthis.skinIndices.push( skinIndices[ face.a ], skinIndices[ face.b ], skinIndices[ face.c ] );\n\n\t\t\t}\n\n\t\t\tif ( hasSkinWeights ) {\n\n\t\t\t\tthis.skinWeights.push( skinWeights[ face.a ], skinWeights[ face.b ], skinWeights[ face.c ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.computeGroups( geometry );\n\n\t\tthis.verticesNeedUpdate = geometry.verticesNeedUpdate;\n\t\tthis.normalsNeedUpdate = geometry.normalsNeedUpdate;\n\t\tthis.colorsNeedUpdate = geometry.colorsNeedUpdate;\n\t\tthis.uvsNeedUpdate = geometry.uvsNeedUpdate;\n\t\tthis.groupsNeedUpdate = geometry.groupsNeedUpdate;\n\n\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t}\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nfunction arrayMax( array ) {\n\n\tif ( array.length === 0 ) return - Infinity;\n\n\tlet max = array[ 0 ];\n\n\tfor ( let i = 1, l = array.length; i < l; ++ i ) {\n\n\t\tif ( array[ i ] > max ) max = array[ i ];\n\n\t}\n\n\treturn max;\n\n}\n\nconst TYPED_ARRAYS = {\n\tInt8Array: Int8Array,\n\tUint8Array: Uint8Array,\n\t// Workaround for IE11 pre KB2929437. See #11440\n\tUint8ClampedArray: typeof Uint8ClampedArray !== 'undefined' ? Uint8ClampedArray : Uint8Array,\n\tInt16Array: Int16Array,\n\tUint16Array: Uint16Array,\n\tInt32Array: Int32Array,\n\tUint32Array: Uint32Array,\n\tFloat32Array: Float32Array,\n\tFloat64Array: Float64Array\n};\n\nfunction getTypedArray( type, buffer ) {\n\n\treturn new TYPED_ARRAYS[ type ]( buffer );\n\n}\n\nlet _bufferGeometryId = 1; // BufferGeometry uses odd numbers as Id\n\nconst _m1$2 = new Matrix4();\nconst _obj = new Object3D();\nconst _offset = new Vector3();\nconst _box$2 = new Box3();\nconst _boxMorphTargets = new Box3();\nconst _vector$4 = new Vector3();\n\nfunction BufferGeometry() {\n\n\tObject.defineProperty( this, 'id', { value: _bufferGeometryId += 2 } );\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'BufferGeometry';\n\n\tthis.index = null;\n\tthis.attributes = {};\n\n\tthis.morphAttributes = {};\n\tthis.morphTargetsRelative = false;\n\n\tthis.groups = [];\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\tthis.drawRange = { start: 0, count: Infinity };\n\n\tthis.userData = {};\n\n}\n\nBufferGeometry.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: BufferGeometry,\n\n\tisBufferGeometry: true,\n\n\tgetIndex: function () {\n\n\t\treturn this.index;\n\n\t},\n\n\tsetIndex: function ( index ) {\n\n\t\tif ( Array.isArray( index ) ) {\n\n\t\t\tthis.index = new ( arrayMax( index ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( index, 1 );\n\n\t\t} else {\n\n\t\t\tthis.index = index;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetAttribute: function ( name ) {\n\n\t\treturn this.attributes[ name ];\n\n\t},\n\n\tsetAttribute: function ( name, attribute ) {\n\n\t\tthis.attributes[ name ] = attribute;\n\n\t\treturn this;\n\n\t},\n\n\tdeleteAttribute: function ( name ) {\n\n\t\tdelete this.attributes[ name ];\n\n\t\treturn this;\n\n\t},\n\n\thasAttribute: function ( name ) {\n\n\t\treturn this.attributes[ name ] !== undefined;\n\n\t},\n\n\taddGroup: function ( start, count, materialIndex = 0 ) {\n\n\t\tthis.groups.push( {\n\n\t\t\tstart: start,\n\t\t\tcount: count,\n\t\t\tmaterialIndex: materialIndex\n\n\t\t} );\n\n\t},\n\n\tclearGroups: function () {\n\n\t\tthis.groups = [];\n\n\t},\n\n\tsetDrawRange: function ( start, count ) {\n\n\t\tthis.drawRange.start = start;\n\t\tthis.drawRange.count = count;\n\n\t},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tconst position = this.attributes.position;\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tposition.applyMatrix4( matrix );\n\n\t\t\tposition.needsUpdate = true;\n\n\t\t}\n\n\t\tconst normal = this.attributes.normal;\n\n\t\tif ( normal !== undefined ) {\n\n\t\t\tconst normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\t\tnormal.applyNormalMatrix( normalMatrix );\n\n\t\t\tnormal.needsUpdate = true;\n\n\t\t}\n\n\t\tconst tangent = this.attributes.tangent;\n\n\t\tif ( tangent !== undefined ) {\n\n\t\t\ttangent.transformDirection( matrix );\n\n\t\t\ttangent.needsUpdate = true;\n\n\t\t}\n\n\t\tif ( this.boundingBox !== null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\trotateX: function ( angle ) {\n\n\t\t// rotate geometry around world x-axis\n\n\t\t_m1$2.makeRotationX( angle );\n\n\t\tthis.applyMatrix4( _m1$2 );\n\n\t\treturn this;\n\n\t},\n\n\trotateY: function ( angle ) {\n\n\t\t// rotate geometry around world y-axis\n\n\t\t_m1$2.makeRotationY( angle );\n\n\t\tthis.applyMatrix4( _m1$2 );\n\n\t\treturn this;\n\n\t},\n\n\trotateZ: function ( angle ) {\n\n\t\t// rotate geometry around world z-axis\n\n\t\t_m1$2.makeRotationZ( angle );\n\n\t\tthis.applyMatrix4( _m1$2 );\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( x, y, z ) {\n\n\t\t// translate geometry\n\n\t\t_m1$2.makeTranslation( x, y, z );\n\n\t\tthis.applyMatrix4( _m1$2 );\n\n\t\treturn this;\n\n\t},\n\n\tscale: function ( x, y, z ) {\n\n\t\t// scale geometry\n\n\t\t_m1$2.makeScale( x, y, z );\n\n\t\tthis.applyMatrix4( _m1$2 );\n\n\t\treturn this;\n\n\t},\n\n\tlookAt: function ( vector ) {\n\n\t\t_obj.lookAt( vector );\n\n\t\t_obj.updateMatrix();\n\n\t\tthis.applyMatrix4( _obj.matrix );\n\n\t\treturn this;\n\n\t},\n\n\tcenter: function () {\n\n\t\tthis.computeBoundingBox();\n\n\t\tthis.boundingBox.getCenter( _offset ).negate();\n\n\t\tthis.translate( _offset.x, _offset.y, _offset.z );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromObject: function ( object ) {\n\n\t\t// console.log( 'THREE.BufferGeometry.setFromObject(). Converting', object, this );\n\n\t\tconst geometry = object.geometry;\n\n\t\tif ( object.isPoints || object.isLine ) {\n\n\t\t\tconst positions = new Float32BufferAttribute( geometry.vertices.length * 3, 3 );\n\t\t\tconst colors = new Float32BufferAttribute( geometry.colors.length * 3, 3 );\n\n\t\t\tthis.setAttribute( 'position', positions.copyVector3sArray( geometry.vertices ) );\n\t\t\tthis.setAttribute( 'color', colors.copyColorsArray( geometry.colors ) );\n\n\t\t\tif ( geometry.lineDistances && geometry.lineDistances.length === geometry.vertices.length ) {\n\n\t\t\t\tconst lineDistances = new Float32BufferAttribute( geometry.lineDistances.length, 1 );\n\n\t\t\t\tthis.setAttribute( 'lineDistance', lineDistances.copyArray( geometry.lineDistances ) );\n\n\t\t\t}\n\n\t\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t\t}\n\n\t\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t\t}\n\n\t\t} else if ( object.isMesh ) {\n\n\t\t\tif ( geometry && geometry.isGeometry ) {\n\n\t\t\t\tthis.fromGeometry( geometry );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tconst position = [];\n\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tconst point = points[ i ];\n\t\t\tposition.push( point.x, point.y, point.z || 0 );\n\n\t\t}\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( position, 3 ) );\n\n\t\treturn this;\n\n\t},\n\n\tupdateFromObject: function ( object ) {\n\n\t\tlet geometry = object.geometry;\n\n\t\tif ( object.isMesh ) {\n\n\t\t\tlet direct = geometry.__directGeometry;\n\n\t\t\tif ( geometry.elementsNeedUpdate === true ) {\n\n\t\t\t\tdirect = undefined;\n\t\t\t\tgeometry.elementsNeedUpdate = false;\n\n\t\t\t}\n\n\t\t\tif ( direct === undefined ) {\n\n\t\t\t\treturn this.fromGeometry( geometry );\n\n\t\t\t}\n\n\t\t\tdirect.verticesNeedUpdate = geometry.verticesNeedUpdate;\n\t\t\tdirect.normalsNeedUpdate = geometry.normalsNeedUpdate;\n\t\t\tdirect.colorsNeedUpdate = geometry.colorsNeedUpdate;\n\t\t\tdirect.uvsNeedUpdate = geometry.uvsNeedUpdate;\n\t\t\tdirect.groupsNeedUpdate = geometry.groupsNeedUpdate;\n\n\t\t\tgeometry.verticesNeedUpdate = false;\n\t\t\tgeometry.normalsNeedUpdate = false;\n\t\t\tgeometry.colorsNeedUpdate = false;\n\t\t\tgeometry.uvsNeedUpdate = false;\n\t\t\tgeometry.groupsNeedUpdate = false;\n\n\t\t\tgeometry = direct;\n\n\t\t}\n\n\t\tif ( geometry.verticesNeedUpdate === true ) {\n\n\t\t\tconst attribute = this.attributes.position;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector3sArray( geometry.vertices );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.verticesNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.normalsNeedUpdate === true ) {\n\n\t\t\tconst attribute = this.attributes.normal;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector3sArray( geometry.normals );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.normalsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.colorsNeedUpdate === true ) {\n\n\t\t\tconst attribute = this.attributes.color;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyColorsArray( geometry.colors );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.colorsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.uvsNeedUpdate ) {\n\n\t\t\tconst attribute = this.attributes.uv;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector2sArray( geometry.uvs );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.uvsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.lineDistancesNeedUpdate ) {\n\n\t\t\tconst attribute = this.attributes.lineDistance;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyArray( geometry.lineDistances );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.lineDistancesNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.groupsNeedUpdate ) {\n\n\t\t\tgeometry.computeGroups( object.geometry );\n\t\t\tthis.groups = geometry.groups;\n\n\t\t\tgeometry.groupsNeedUpdate = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tfromGeometry: function ( geometry ) {\n\n\t\tgeometry.__directGeometry = new DirectGeometry().fromGeometry( geometry );\n\n\t\treturn this.fromDirectGeometry( geometry.__directGeometry );\n\n\t},\n\n\tfromDirectGeometry: function ( geometry ) {\n\n\t\tconst positions = new Float32Array( geometry.vertices.length * 3 );\n\t\tthis.setAttribute( 'position', new BufferAttribute( positions, 3 ).copyVector3sArray( geometry.vertices ) );\n\n\t\tif ( geometry.normals.length > 0 ) {\n\n\t\t\tconst normals = new Float32Array( geometry.normals.length * 3 );\n\t\t\tthis.setAttribute( 'normal', new BufferAttribute( normals, 3 ).copyVector3sArray( geometry.normals ) );\n\n\t\t}\n\n\t\tif ( geometry.colors.length > 0 ) {\n\n\t\t\tconst colors = new Float32Array( geometry.colors.length * 3 );\n\t\t\tthis.setAttribute( 'color', new BufferAttribute( colors, 3 ).copyColorsArray( geometry.colors ) );\n\n\t\t}\n\n\t\tif ( geometry.uvs.length > 0 ) {\n\n\t\t\tconst uvs = new Float32Array( geometry.uvs.length * 2 );\n\t\t\tthis.setAttribute( 'uv', new BufferAttribute( uvs, 2 ).copyVector2sArray( geometry.uvs ) );\n\n\t\t}\n\n\t\tif ( geometry.uvs2.length > 0 ) {\n\n\t\t\tconst uvs2 = new Float32Array( geometry.uvs2.length * 2 );\n\t\t\tthis.setAttribute( 'uv2', new BufferAttribute( uvs2, 2 ).copyVector2sArray( geometry.uvs2 ) );\n\n\t\t}\n\n\t\t// groups\n\n\t\tthis.groups = geometry.groups;\n\n\t\t// morphs\n\n\t\tfor ( const name in geometry.morphTargets ) {\n\n\t\t\tconst array = [];\n\t\t\tconst morphTargets = geometry.morphTargets[ name ];\n\n\t\t\tfor ( let i = 0, l = morphTargets.length; i < l; i ++ ) {\n\n\t\t\t\tconst morphTarget = morphTargets[ i ];\n\n\t\t\t\tconst attribute = new Float32BufferAttribute( morphTarget.data.length * 3, 3 );\n\t\t\t\tattribute.name = morphTarget.name;\n\n\t\t\t\tarray.push( attribute.copyVector3sArray( morphTarget.data ) );\n\n\t\t\t}\n\n\t\t\tthis.morphAttributes[ name ] = array;\n\n\t\t}\n\n\t\t// skinning\n\n\t\tif ( geometry.skinIndices.length > 0 ) {\n\n\t\t\tconst skinIndices = new Float32BufferAttribute( geometry.skinIndices.length * 4, 4 );\n\t\t\tthis.setAttribute( 'skinIndex', skinIndices.copyVector4sArray( geometry.skinIndices ) );\n\n\t\t}\n\n\t\tif ( geometry.skinWeights.length > 0 ) {\n\n\t\t\tconst skinWeights = new Float32BufferAttribute( geometry.skinWeights.length * 4, 4 );\n\t\t\tthis.setAttribute( 'skinWeight', skinWeights.copyVector4sArray( geometry.skinWeights ) );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t}\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcomputeBoundingBox: function () {\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new Box3();\n\n\t\t}\n\n\t\tconst position = this.attributes.position;\n\t\tconst morphAttributesPosition = this.morphAttributes.position;\n\n\t\tif ( position && position.isGLBufferAttribute ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set \"mesh.frustumCulled\" to \"false\".', this );\n\n\t\t\tthis.boundingBox.set(\n\t\t\t\tnew Vector3( - Infinity, - Infinity, - Infinity ),\n\t\t\t\tnew Vector3( + Infinity, + Infinity, + Infinity )\n\t\t\t);\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tthis.boundingBox.setFromBufferAttribute( position );\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\t_box$2.setFromBufferAttribute( morphAttribute );\n\n\t\t\t\t\tif ( this.morphTargetsRelative ) {\n\n\t\t\t\t\t\t_vector$4.addVectors( this.boundingBox.min, _box$2.min );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _vector$4 );\n\n\t\t\t\t\t\t_vector$4.addVectors( this.boundingBox.max, _box$2.max );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _vector$4 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _box$2.min );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _box$2.max );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.boundingBox.makeEmpty();\n\n\t\t}\n\n\t\tif ( isNaN( this.boundingBox.min.x ) || isNaN( this.boundingBox.min.y ) || isNaN( this.boundingBox.min.z ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t}\n\n\t},\n\n\tcomputeBoundingSphere: function () {\n\n\t\tif ( this.boundingSphere === null ) {\n\n\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t}\n\n\t\tconst position = this.attributes.position;\n\t\tconst morphAttributesPosition = this.morphAttributes.position;\n\n\t\tif ( position && position.isGLBufferAttribute ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set \"mesh.frustumCulled\" to \"false\".', this );\n\n\t\t\tthis.boundingSphere.set( new Vector3(), Infinity );\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( position ) {\n\n\t\t\t// first, find the center of the bounding sphere\n\n\t\t\tconst center = this.boundingSphere.center;\n\n\t\t\t_box$2.setFromBufferAttribute( position );\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\t_boxMorphTargets.setFromBufferAttribute( morphAttribute );\n\n\t\t\t\t\tif ( this.morphTargetsRelative ) {\n\n\t\t\t\t\t\t_vector$4.addVectors( _box$2.min, _boxMorphTargets.min );\n\t\t\t\t\t\t_box$2.expandByPoint( _vector$4 );\n\n\t\t\t\t\t\t_vector$4.addVectors( _box$2.max, _boxMorphTargets.max );\n\t\t\t\t\t\t_box$2.expandByPoint( _vector$4 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t_box$2.expandByPoint( _boxMorphTargets.min );\n\t\t\t\t\t\t_box$2.expandByPoint( _boxMorphTargets.max );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t_box$2.getCenter( center );\n\n\t\t\t// second, try to find a boundingSphere with a radius smaller than the\n\t\t\t// boundingSphere of the boundingBox: sqrt(3) smaller in the best case\n\n\t\t\tlet maxRadiusSq = 0;\n\n\t\t\tfor ( let i = 0, il = position.count; i < il; i ++ ) {\n\n\t\t\t\t_vector$4.fromBufferAttribute( position, i );\n\n\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector$4 ) );\n\n\t\t\t}\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\tconst morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t\t\t\tfor ( let j = 0, jl = morphAttribute.count; j < jl; j ++ ) {\n\n\t\t\t\t\t\t_vector$4.fromBufferAttribute( morphAttribute, j );\n\n\t\t\t\t\t\tif ( morphTargetsRelative ) {\n\n\t\t\t\t\t\t\t_offset.fromBufferAttribute( position, j );\n\t\t\t\t\t\t\t_vector$4.add( _offset );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector$4 ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.boundingSphere.radius = Math.sqrt( maxRadiusSq );\n\n\t\t\tif ( isNaN( this.boundingSphere.radius ) ) {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tcomputeFaceNormals: function () {\n\n\t\t// backwards compatibility\n\n\t},\n\n\tcomputeVertexNormals: function () {\n\n\t\tconst index = this.index;\n\t\tconst positionAttribute = this.getAttribute( 'position' );\n\n\t\tif ( positionAttribute !== undefined ) {\n\n\t\t\tlet normalAttribute = this.getAttribute( 'normal' );\n\n\t\t\tif ( normalAttribute === undefined ) {\n\n\t\t\t\tnormalAttribute = new BufferAttribute( new Float32Array( positionAttribute.count * 3 ), 3 );\n\t\t\t\tthis.setAttribute( 'normal', normalAttribute );\n\n\t\t\t} else {\n\n\t\t\t\t// reset existing normals to zero\n\n\t\t\t\tfor ( let i = 0, il = normalAttribute.count; i < il; i ++ ) {\n\n\t\t\t\t\tnormalAttribute.setXYZ( i, 0, 0, 0 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst pA = new Vector3(), pB = new Vector3(), pC = new Vector3();\n\t\t\tconst nA = new Vector3(), nB = new Vector3(), nC = new Vector3();\n\t\t\tconst cb = new Vector3(), ab = new Vector3();\n\n\t\t\t// indexed elements\n\n\t\t\tif ( index ) {\n\n\t\t\t\tfor ( let i = 0, il = index.count; i < il; i += 3 ) {\n\n\t\t\t\t\tconst vA = index.getX( i + 0 );\n\t\t\t\t\tconst vB = index.getX( i + 1 );\n\t\t\t\t\tconst vC = index.getX( i + 2 );\n\n\t\t\t\t\tpA.fromBufferAttribute( positionAttribute, vA );\n\t\t\t\t\tpB.fromBufferAttribute( positionAttribute, vB );\n\t\t\t\t\tpC.fromBufferAttribute( positionAttribute, vC );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnA.fromBufferAttribute( normalAttribute, vA );\n\t\t\t\t\tnB.fromBufferAttribute( normalAttribute, vB );\n\t\t\t\t\tnC.fromBufferAttribute( normalAttribute, vC );\n\n\t\t\t\t\tnA.add( cb );\n\t\t\t\t\tnB.add( cb );\n\t\t\t\t\tnC.add( cb );\n\n\t\t\t\t\tnormalAttribute.setXYZ( vA, nA.x, nA.y, nA.z );\n\t\t\t\t\tnormalAttribute.setXYZ( vB, nB.x, nB.y, nB.z );\n\t\t\t\t\tnormalAttribute.setXYZ( vC, nC.x, nC.y, nC.z );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// non-indexed elements (unconnected triangle soup)\n\n\t\t\t\tfor ( let i = 0, il = positionAttribute.count; i < il; i += 3 ) {\n\n\t\t\t\t\tpA.fromBufferAttribute( positionAttribute, i + 0 );\n\t\t\t\t\tpB.fromBufferAttribute( positionAttribute, i + 1 );\n\t\t\t\t\tpC.fromBufferAttribute( positionAttribute, i + 2 );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnormalAttribute.setXYZ( i + 0, cb.x, cb.y, cb.z );\n\t\t\t\t\tnormalAttribute.setXYZ( i + 1, cb.x, cb.y, cb.z );\n\t\t\t\t\tnormalAttribute.setXYZ( i + 2, cb.x, cb.y, cb.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.normalizeNormals();\n\n\t\t\tnormalAttribute.needsUpdate = true;\n\n\t\t}\n\n\t},\n\n\tmerge: function ( geometry, offset ) {\n\n\t\tif ( ! ( geometry && geometry.isBufferGeometry ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.', geometry );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( offset === undefined ) {\n\n\t\t\toffset = 0;\n\n\t\t\tconsole.warn(\n\t\t\t\t'THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. '\n\t\t\t\t+ 'Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge.'\n\t\t\t);\n\n\t\t}\n\n\t\tconst attributes = this.attributes;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tif ( geometry.attributes[ key ] === undefined ) continue;\n\n\t\t\tconst attribute1 = attributes[ key ];\n\t\t\tconst attributeArray1 = attribute1.array;\n\n\t\t\tconst attribute2 = geometry.attributes[ key ];\n\t\t\tconst attributeArray2 = attribute2.array;\n\n\t\t\tconst attributeOffset = attribute2.itemSize * offset;\n\t\t\tconst length = Math.min( attributeArray2.length, attributeArray1.length - attributeOffset );\n\n\t\t\tfor ( let i = 0, j = attributeOffset; i < length; i ++, j ++ ) {\n\n\t\t\t\tattributeArray1[ j ] = attributeArray2[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tnormalizeNormals: function () {\n\n\t\tconst normals = this.attributes.normal;\n\n\t\tfor ( let i = 0, il = normals.count; i < il; i ++ ) {\n\n\t\t\t_vector$4.fromBufferAttribute( normals, i );\n\n\t\t\t_vector$4.normalize();\n\n\t\t\tnormals.setXYZ( i, _vector$4.x, _vector$4.y, _vector$4.z );\n\n\t\t}\n\n\t},\n\n\ttoNonIndexed: function () {\n\n\t\tfunction convertBufferAttribute( attribute, indices ) {\n\n\t\t\tconst array = attribute.array;\n\t\t\tconst itemSize = attribute.itemSize;\n\t\t\tconst normalized = attribute.normalized;\n\n\t\t\tconst array2 = new array.constructor( indices.length * itemSize );\n\n\t\t\tlet index = 0, index2 = 0;\n\n\t\t\tfor ( let i = 0, l = indices.length; i < l; i ++ ) {\n\n\t\t\t\tindex = indices[ i ] * itemSize;\n\n\t\t\t\tfor ( let j = 0; j < itemSize; j ++ ) {\n\n\t\t\t\t\tarray2[ index2 ++ ] = array[ index ++ ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new BufferAttribute( array2, itemSize, normalized );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.index === null ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.' );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst geometry2 = new BufferGeometry();\n\n\t\tconst indices = this.index.array;\n\t\tconst attributes = this.attributes;\n\n\t\t// attributes\n\n\t\tfor ( const name in attributes ) {\n\n\t\t\tconst attribute = attributes[ name ];\n\n\t\t\tconst newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\tgeometry2.setAttribute( name, newAttribute );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tconst morphAttributes = this.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst morphArray = [];\n\t\t\tconst morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( let i = 0, il = morphAttribute.length; i < il; i ++ ) {\n\n\t\t\t\tconst attribute = morphAttribute[ i ];\n\n\t\t\t\tconst newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\t\tmorphArray.push( newAttribute );\n\n\t\t\t}\n\n\t\t\tgeometry2.morphAttributes[ name ] = morphArray;\n\n\t\t}\n\n\t\tgeometry2.morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t// groups\n\n\t\tconst groups = this.groups;\n\n\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tconst group = groups[ i ];\n\t\t\tgeometry2.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\treturn geometry2;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'BufferGeometry',\n\t\t\t\tgenerator: 'BufferGeometry.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard BufferGeometry serialization\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\t\tif ( this.name !== '' ) data.name = this.name;\n\t\tif ( Object.keys( this.userData ).length > 0 ) data.userData = this.userData;\n\n\t\tif ( this.parameters !== undefined ) {\n\n\t\t\tconst parameters = this.parameters;\n\n\t\t\tfor ( const key in parameters ) {\n\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tdata.data = { attributes: {} };\n\n\t\tconst index = this.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tdata.data.index = {\n\t\t\t\ttype: index.array.constructor.name,\n\t\t\t\tarray: Array.prototype.slice.call( index.array )\n\t\t\t};\n\n\t\t}\n\n\t\tconst attributes = this.attributes;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tconst attribute = attributes[ key ];\n\n\t\t\tconst attributeData = attribute.toJSON( data.data );\n\n\t\t\tif ( attribute.name !== '' ) attributeData.name = attribute.name;\n\n\t\t\tdata.data.attributes[ key ] = attributeData;\n\n\t\t}\n\n\t\tconst morphAttributes = {};\n\t\tlet hasMorphAttributes = false;\n\n\t\tfor ( const key in this.morphAttributes ) {\n\n\t\t\tconst attributeArray = this.morphAttributes[ key ];\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0, il = attributeArray.length; i < il; i ++ ) {\n\n\t\t\t\tconst attribute = attributeArray[ i ];\n\n\t\t\t\tconst attributeData = attribute.toJSON( data.data );\n\n\t\t\t\tif ( attribute.name !== '' ) attributeData.name = attribute.name;\n\n\t\t\t\tarray.push( attributeData );\n\n\t\t\t}\n\n\t\t\tif ( array.length > 0 ) {\n\n\t\t\t\tmorphAttributes[ key ] = array;\n\n\t\t\t\thasMorphAttributes = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( hasMorphAttributes ) {\n\n\t\t\tdata.data.morphAttributes = morphAttributes;\n\t\t\tdata.data.morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t}\n\n\t\tconst groups = this.groups;\n\n\t\tif ( groups.length > 0 ) {\n\n\t\t\tdata.data.groups = JSON.parse( JSON.stringify( groups ) );\n\n\t\t}\n\n\t\tconst boundingSphere = this.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tdata.data.boundingSphere = {\n\t\t\t\tcenter: boundingSphere.center.toArray(),\n\t\t\t\tradius: boundingSphere.radius\n\t\t\t};\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\t/*\n\t\t // Handle primitives\n\n\t\t const parameters = this.parameters;\n\n\t\t if ( parameters !== undefined ) {\n\n\t\t const values = [];\n\n\t\t for ( const key in parameters ) {\n\n\t\t values.push( parameters[ key ] );\n\n\t\t }\n\n\t\t const geometry = Object.create( this.constructor.prototype );\n\t\t this.constructor.apply( geometry, values );\n\t\t return geometry;\n\n\t\t }\n\n\t\t return new this.constructor().copy( this );\n\t\t */\n\n\t\treturn new BufferGeometry().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\t// reset\n\n\t\tthis.index = null;\n\t\tthis.attributes = {};\n\t\tthis.morphAttributes = {};\n\t\tthis.groups = [];\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\t// used for storing cloned, shared data\n\n\t\tconst data = {};\n\n\t\t// name\n\n\t\tthis.name = source.name;\n\n\t\t// index\n\n\t\tconst index = source.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tthis.setIndex( index.clone( data ) );\n\n\t\t}\n\n\t\t// attributes\n\n\t\tconst attributes = source.attributes;\n\n\t\tfor ( const name in attributes ) {\n\n\t\t\tconst attribute = attributes[ name ];\n\t\t\tthis.setAttribute( name, attribute.clone( data ) );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tconst morphAttributes = source.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst array = [];\n\t\t\tconst morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( let i = 0, l = morphAttribute.length; i < l; i ++ ) {\n\n\t\t\t\tarray.push( morphAttribute[ i ].clone( data ) );\n\n\t\t\t}\n\n\t\t\tthis.morphAttributes[ name ] = array;\n\n\t\t}\n\n\t\tthis.morphTargetsRelative = source.morphTargetsRelative;\n\n\t\t// groups\n\n\t\tconst groups = source.groups;\n\n\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tconst group = groups[ i ];\n\t\t\tthis.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\t// bounding box\n\n\t\tconst boundingBox = source.boundingBox;\n\n\t\tif ( boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = boundingBox.clone();\n\n\t\t}\n\n\t\t// bounding sphere\n\n\t\tconst boundingSphere = source.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = boundingSphere.clone();\n\n\t\t}\n\n\t\t// draw range\n\n\t\tthis.drawRange.start = source.drawRange.start;\n\t\tthis.drawRange.count = source.drawRange.count;\n\n\t\t// user data\n\n\t\tthis.userData = source.userData;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\nconst _inverseMatrix = new Matrix4();\nconst _ray = new Ray();\nconst _sphere = new Sphere();\n\nconst _vA = new Vector3();\nconst _vB = new Vector3();\nconst _vC = new Vector3();\n\nconst _tempA = new Vector3();\nconst _tempB = new Vector3();\nconst _tempC = new Vector3();\n\nconst _morphA = new Vector3();\nconst _morphB = new Vector3();\nconst _morphC = new Vector3();\n\nconst _uvA = new Vector2();\nconst _uvB = new Vector2();\nconst _uvC = new Vector2();\n\nconst _intersectionPoint = new Vector3();\nconst _intersectionPointWorld = new Vector3();\n\nfunction Mesh( geometry, material ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Mesh';\n\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n\tthis.material = material !== undefined ? material : new MeshBasicMaterial();\n\n\tthis.updateMorphTargets();\n\n}\n\nMesh.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Mesh,\n\n\tisMesh: true,\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tif ( source.morphTargetInfluences !== undefined ) {\n\n\t\t\tthis.morphTargetInfluences = source.morphTargetInfluences.slice();\n\n\t\t}\n\n\t\tif ( source.morphTargetDictionary !== undefined ) {\n\n\t\t\tthis.morphTargetDictionary = Object.assign( {}, source.morphTargetDictionary );\n\n\t\t}\n\n\t\tthis.material = source.material;\n\t\tthis.geometry = source.geometry;\n\n\t\treturn this;\n\n\t},\n\n\tupdateMorphTargets: function () {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst morphAttributes = geometry.morphAttributes;\n\t\t\tconst keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\tconst geometry = this.geometry;\n\t\tconst material = this.material;\n\t\tconst matrixWorld = this.matrixWorld;\n\n\t\tif ( material === undefined ) return;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere.copy( geometry.boundingSphere );\n\t\t_sphere.applyMatrix4( matrixWorld );\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix.copy( matrixWorld ).invert();\n\t\t_ray.copy( raycaster.ray ).applyMatrix4( _inverseMatrix );\n\n\t\t// Check boundingBox before continuing\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tif ( _ray.intersectsBox( geometry.boundingBox ) === false ) return;\n\n\t\t}\n\n\t\tlet intersection;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst index = geometry.index;\n\t\t\tconst position = geometry.attributes.position;\n\t\t\tconst morphPosition = geometry.morphAttributes.position;\n\t\t\tconst morphTargetsRelative = geometry.morphTargetsRelative;\n\t\t\tconst uv = geometry.attributes.uv;\n\t\t\tconst uv2 = geometry.attributes.uv2;\n\t\t\tconst groups = geometry.groups;\n\t\t\tconst drawRange = geometry.drawRange;\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\t// indexed buffer geometry\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tfor ( let i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tconst start = Math.max( group.start, drawRange.start );\n\t\t\t\t\t\tconst end = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\tfor ( let j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\t\tconst a = index.getX( j );\n\t\t\t\t\t\t\tconst b = index.getX( j + 1 );\n\t\t\t\t\t\t\tconst c = index.getX( j + 2 );\n\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\t\tconst end = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\tfor ( let i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\t\tconst a = index.getX( i );\n\t\t\t\t\t\tconst b = index.getX( i + 1 );\n\t\t\t\t\t\tconst c = index.getX( i + 2 );\n\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( position !== undefined ) {\n\n\t\t\t\t// non-indexed buffer geometry\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tfor ( let i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tconst start = Math.max( group.start, drawRange.start );\n\t\t\t\t\t\tconst end = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\tfor ( let j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\t\tconst a = j;\n\t\t\t\t\t\t\tconst b = j + 1;\n\t\t\t\t\t\t\tconst c = j + 2;\n\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\t\tconst end = Math.min( position.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\tfor ( let i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\t\tconst a = i;\n\t\t\t\t\t\tconst b = i + 1;\n\t\t\t\t\t\tconst c = i + 2;\n\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tconst isMultiMaterial = Array.isArray( material );\n\n\t\t\tconst vertices = geometry.vertices;\n\t\t\tconst faces = geometry.faces;\n\t\t\tlet uvs;\n\n\t\t\tconst faceVertexUvs = geometry.faceVertexUvs[ 0 ];\n\t\t\tif ( faceVertexUvs.length > 0 ) uvs = faceVertexUvs;\n\n\t\t\tfor ( let f = 0, fl = faces.length; f < fl; f ++ ) {\n\n\t\t\t\tconst face = faces[ f ];\n\t\t\t\tconst faceMaterial = isMultiMaterial ? material[ face.materialIndex ] : material;\n\n\t\t\t\tif ( faceMaterial === undefined ) continue;\n\n\t\t\t\tconst fvA = vertices[ face.a ];\n\t\t\t\tconst fvB = vertices[ face.b ];\n\t\t\t\tconst fvC = vertices[ face.c ];\n\n\t\t\t\tintersection = checkIntersection( this, faceMaterial, raycaster, _ray, fvA, fvB, fvC, _intersectionPoint );\n\n\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\tif ( uvs && uvs[ f ] ) {\n\n\t\t\t\t\t\tconst uvs_f = uvs[ f ];\n\t\t\t\t\t\t_uvA.copy( uvs_f[ 0 ] );\n\t\t\t\t\t\t_uvB.copy( uvs_f[ 1 ] );\n\t\t\t\t\t\t_uvC.copy( uvs_f[ 2 ] );\n\n\t\t\t\t\t\tintersection.uv = Triangle.getUV( _intersectionPoint, fvA, fvB, fvC, _uvA, _uvB, _uvC, new Vector2() );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tintersection.face = face;\n\t\t\t\t\tintersection.faceIndex = f;\n\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n} );\n\nfunction checkIntersection( object, material, raycaster, ray, pA, pB, pC, point ) {\n\n\tlet intersect;\n\n\tif ( material.side === BackSide ) {\n\n\t\tintersect = ray.intersectTriangle( pC, pB, pA, true, point );\n\n\t} else {\n\n\t\tintersect = ray.intersectTriangle( pA, pB, pC, material.side !== DoubleSide, point );\n\n\t}\n\n\tif ( intersect === null ) return null;\n\n\t_intersectionPointWorld.copy( point );\n\t_intersectionPointWorld.applyMatrix4( object.matrixWorld );\n\n\tconst distance = raycaster.ray.origin.distanceTo( _intersectionPointWorld );\n\n\tif ( distance < raycaster.near || distance > raycaster.far ) return null;\n\n\treturn {\n\t\tdistance: distance,\n\t\tpoint: _intersectionPointWorld.clone(),\n\t\tobject: object\n\t};\n\n}\n\nfunction checkBufferGeometryIntersection( object, material, raycaster, ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c ) {\n\n\t_vA.fromBufferAttribute( position, a );\n\t_vB.fromBufferAttribute( position, b );\n\t_vC.fromBufferAttribute( position, c );\n\n\tconst morphInfluences = object.morphTargetInfluences;\n\n\tif ( material.morphTargets && morphPosition && morphInfluences ) {\n\n\t\t_morphA.set( 0, 0, 0 );\n\t\t_morphB.set( 0, 0, 0 );\n\t\t_morphC.set( 0, 0, 0 );\n\n\t\tfor ( let i = 0, il = morphPosition.length; i < il; i ++ ) {\n\n\t\t\tconst influence = morphInfluences[ i ];\n\t\t\tconst morphAttribute = morphPosition[ i ];\n\n\t\t\tif ( influence === 0 ) continue;\n\n\t\t\t_tempA.fromBufferAttribute( morphAttribute, a );\n\t\t\t_tempB.fromBufferAttribute( morphAttribute, b );\n\t\t\t_tempC.fromBufferAttribute( morphAttribute, c );\n\n\t\t\tif ( morphTargetsRelative ) {\n\n\t\t\t\t_morphA.addScaledVector( _tempA, influence );\n\t\t\t\t_morphB.addScaledVector( _tempB, influence );\n\t\t\t\t_morphC.addScaledVector( _tempC, influence );\n\n\t\t\t} else {\n\n\t\t\t\t_morphA.addScaledVector( _tempA.sub( _vA ), influence );\n\t\t\t\t_morphB.addScaledVector( _tempB.sub( _vB ), influence );\n\t\t\t\t_morphC.addScaledVector( _tempC.sub( _vC ), influence );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_vA.add( _morphA );\n\t\t_vB.add( _morphB );\n\t\t_vC.add( _morphC );\n\n\t}\n\n\tif ( object.isSkinnedMesh ) {\n\n\t\tobject.boneTransform( a, _vA );\n\t\tobject.boneTransform( b, _vB );\n\t\tobject.boneTransform( c, _vC );\n\n\t}\n\n\tconst intersection = checkIntersection( object, material, raycaster, ray, _vA, _vB, _vC, _intersectionPoint );\n\n\tif ( intersection ) {\n\n\t\tif ( uv ) {\n\n\t\t\t_uvA.fromBufferAttribute( uv, a );\n\t\t\t_uvB.fromBufferAttribute( uv, b );\n\t\t\t_uvC.fromBufferAttribute( uv, c );\n\n\t\t\tintersection.uv = Triangle.getUV( _intersectionPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2() );\n\n\t\t}\n\n\t\tif ( uv2 ) {\n\n\t\t\t_uvA.fromBufferAttribute( uv2, a );\n\t\t\t_uvB.fromBufferAttribute( uv2, b );\n\t\t\t_uvC.fromBufferAttribute( uv2, c );\n\n\t\t\tintersection.uv2 = Triangle.getUV( _intersectionPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2() );\n\n\t\t}\n\n\t\tconst face = new Face3( a, b, c );\n\t\tTriangle.getNormal( _vA, _vB, _vC, face.normal );\n\n\t\tintersection.face = face;\n\n\t}\n\n\treturn intersection;\n\n}\n\nclass BoxBufferGeometry extends BufferGeometry {\n\n\tconstructor( width = 1, height = 1, depth = 1, widthSegments = 1, heightSegments = 1, depthSegments = 1 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'BoxBufferGeometry';\n\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\tdepth: depth,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\tdepthSegments: depthSegments\n\t\t};\n\n\t\tconst scope = this;\n\n\t\t// segments\n\n\t\twidthSegments = Math.floor( widthSegments );\n\t\theightSegments = Math.floor( heightSegments );\n\t\tdepthSegments = Math.floor( depthSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tlet numberOfVertices = 0;\n\t\tlet groupStart = 0;\n\n\t\t// build each side of the box geometry\n\n\t\tbuildPlane( 'z', 'y', 'x', - 1, - 1, depth, height, width, depthSegments, heightSegments, 0 ); // px\n\t\tbuildPlane( 'z', 'y', 'x', 1, - 1, depth, height, - width, depthSegments, heightSegments, 1 ); // nx\n\t\tbuildPlane( 'x', 'z', 'y', 1, 1, width, depth, height, widthSegments, depthSegments, 2 ); // py\n\t\tbuildPlane( 'x', 'z', 'y', 1, - 1, width, depth, - height, widthSegments, depthSegments, 3 ); // ny\n\t\tbuildPlane( 'x', 'y', 'z', 1, - 1, width, height, depth, widthSegments, heightSegments, 4 ); // pz\n\t\tbuildPlane( 'x', 'y', 'z', - 1, - 1, width, height, - depth, widthSegments, heightSegments, 5 ); // nz\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\tfunction buildPlane( u, v, w, udir, vdir, width, height, depth, gridX, gridY, materialIndex ) {\n\n\t\t\tconst segmentWidth = width / gridX;\n\t\t\tconst segmentHeight = height / gridY;\n\n\t\t\tconst widthHalf = width / 2;\n\t\t\tconst heightHalf = height / 2;\n\t\t\tconst depthHalf = depth / 2;\n\n\t\t\tconst gridX1 = gridX + 1;\n\t\t\tconst gridY1 = gridY + 1;\n\n\t\t\tlet vertexCounter = 0;\n\t\t\tlet groupCount = 0;\n\n\t\t\tconst vector = new Vector3();\n\n\t\t\t// generate vertices, normals and uvs\n\n\t\t\tfor ( let iy = 0; iy < gridY1; iy ++ ) {\n\n\t\t\t\tconst y = iy * segmentHeight - heightHalf;\n\n\t\t\t\tfor ( let ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\t\t\tconst x = ix * segmentWidth - widthHalf;\n\n\t\t\t\t\t// set values to correct vector component\n\n\t\t\t\t\tvector[ u ] = x * udir;\n\t\t\t\t\tvector[ v ] = y * vdir;\n\t\t\t\t\tvector[ w ] = depthHalf;\n\n\t\t\t\t\t// now apply vector to vertex buffer\n\n\t\t\t\t\tvertices.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t\t// set values to correct vector component\n\n\t\t\t\t\tvector[ u ] = 0;\n\t\t\t\t\tvector[ v ] = 0;\n\t\t\t\t\tvector[ w ] = depth > 0 ? 1 : - 1;\n\n\t\t\t\t\t// now apply vector to normal buffer\n\n\t\t\t\t\tnormals.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t\t// uvs\n\n\t\t\t\t\tuvs.push( ix / gridX );\n\t\t\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t\t\t\t// counters\n\n\t\t\t\t\tvertexCounter += 1;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// indices\n\n\t\t\t// 1. you need three indices to draw a single face\n\t\t\t// 2. a single segment consists of two faces\n\t\t\t// 3. so we need to generate six (2*3) indices per segment\n\n\t\t\tfor ( let iy = 0; iy < gridY; iy ++ ) {\n\n\t\t\t\tfor ( let ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\t\t\tconst a = numberOfVertices + ix + gridX1 * iy;\n\t\t\t\t\tconst b = numberOfVertices + ix + gridX1 * ( iy + 1 );\n\t\t\t\t\tconst c = numberOfVertices + ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\t\t\tconst d = numberOfVertices + ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t\t\t// faces\n\n\t\t\t\t\tindices.push( a, b, d );\n\t\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t\t// increase counter\n\n\t\t\t\t\tgroupCount += 6;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\t\tscope.addGroup( groupStart, groupCount, materialIndex );\n\n\t\t\t// calculate new start value for groups\n\n\t\t\tgroupStart += groupCount;\n\n\t\t\t// update total number of vertices\n\n\t\t\tnumberOfVertices += vertexCounter;\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * Uniform Utilities\n */\n\nfunction cloneUniforms( src ) {\n\n\tconst dst = {};\n\n\tfor ( const u in src ) {\n\n\t\tdst[ u ] = {};\n\n\t\tfor ( const p in src[ u ] ) {\n\n\t\t\tconst property = src[ u ][ p ];\n\n\t\t\tif ( property && ( property.isColor ||\n\t\t\t\tproperty.isMatrix3 || property.isMatrix4 ||\n\t\t\t\tproperty.isVector2 || property.isVector3 || property.isVector4 ||\n\t\t\t\tproperty.isTexture ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.clone();\n\n\t\t\t} else if ( Array.isArray( property ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.slice();\n\n\t\t\t} else {\n\n\t\t\t\tdst[ u ][ p ] = property;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn dst;\n\n}\n\nfunction mergeUniforms( uniforms ) {\n\n\tconst merged = {};\n\n\tfor ( let u = 0; u < uniforms.length; u ++ ) {\n\n\t\tconst tmp = cloneUniforms( uniforms[ u ] );\n\n\t\tfor ( const p in tmp ) {\n\n\t\t\tmerged[ p ] = tmp[ p ];\n\n\t\t}\n\n\t}\n\n\treturn merged;\n\n}\n\n// Legacy\n\nconst UniformsUtils = { clone: cloneUniforms, merge: mergeUniforms };\n\nvar default_vertex = \"void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\";\n\nvar default_fragment = \"void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}\";\n\n/**\n * parameters = {\n *  defines: { \"label\" : \"value\" },\n *  uniforms: { \"parameter1\": { value: 1.0 }, \"parameter2\": { value2: 2 } },\n *\n *  fragmentShader: <string>,\n *  vertexShader: <string>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  lights: <bool>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction ShaderMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'ShaderMaterial';\n\n\tthis.defines = {};\n\tthis.uniforms = {};\n\n\tthis.vertexShader = default_vertex;\n\tthis.fragmentShader = default_fragment;\n\n\tthis.linewidth = 1;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.fog = false; // set to use scene fog\n\tthis.lights = false; // set to use scene lights\n\tthis.clipping = false; // set to use user-defined clipping planes\n\n\tthis.skinning = false; // set to use skinning attribute streams\n\tthis.morphTargets = false; // set to use morph targets\n\tthis.morphNormals = false; // set to use morph normals\n\n\tthis.extensions = {\n\t\tderivatives: false, // set to use derivatives\n\t\tfragDepth: false, // set to use fragment depth values\n\t\tdrawBuffers: false, // set to use draw buffers\n\t\tshaderTextureLOD: false // set to use shader texture LOD\n\t};\n\n\t// When rendered geometry doesn't include these attributes but the material does,\n\t// use these default values in WebGL. This avoids errors when buffer data is missing.\n\tthis.defaultAttributeValues = {\n\t\t'color': [ 1, 1, 1 ],\n\t\t'uv': [ 0, 0 ],\n\t\t'uv2': [ 0, 0 ]\n\t};\n\n\tthis.index0AttributeName = undefined;\n\tthis.uniformsNeedUpdate = false;\n\n\tthis.glslVersion = null;\n\n\tif ( parameters !== undefined ) {\n\n\t\tif ( parameters.attributes !== undefined ) {\n\n\t\t\tconsole.error( 'THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n}\n\nShaderMaterial.prototype = Object.create( Material.prototype );\nShaderMaterial.prototype.constructor = ShaderMaterial;\n\nShaderMaterial.prototype.isShaderMaterial = true;\n\nShaderMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.fragmentShader = source.fragmentShader;\n\tthis.vertexShader = source.vertexShader;\n\n\tthis.uniforms = cloneUniforms( source.uniforms );\n\n\tthis.defines = Object.assign( {}, source.defines );\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\tthis.lights = source.lights;\n\tthis.clipping = source.clipping;\n\n\tthis.skinning = source.skinning;\n\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\tthis.extensions = Object.assign( {}, source.extensions );\n\n\tthis.glslVersion = source.glslVersion;\n\n\treturn this;\n\n};\n\nShaderMaterial.prototype.toJSON = function ( meta ) {\n\n\tconst data = Material.prototype.toJSON.call( this, meta );\n\n\tdata.glslVersion = this.glslVersion;\n\tdata.uniforms = {};\n\n\tfor ( const name in this.uniforms ) {\n\n\t\tconst uniform = this.uniforms[ name ];\n\t\tconst value = uniform.value;\n\n\t\tif ( value && value.isTexture ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 't',\n\t\t\t\tvalue: value.toJSON( meta ).uuid\n\t\t\t};\n\n\t\t} else if ( value && value.isColor ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'c',\n\t\t\t\tvalue: value.getHex()\n\t\t\t};\n\n\t\t} else if ( value && value.isVector2 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'v2',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value && value.isVector3 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'v3',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value && value.isVector4 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'v4',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value && value.isMatrix3 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'm3',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value && value.isMatrix4 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'm4',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\tvalue: value\n\t\t\t};\n\n\t\t\t// note: the array variants v2v, v3v, v4v, m4v and tv are not supported so far\n\n\t\t}\n\n\t}\n\n\tif ( Object.keys( this.defines ).length > 0 ) data.defines = this.defines;\n\n\tdata.vertexShader = this.vertexShader;\n\tdata.fragmentShader = this.fragmentShader;\n\n\tconst extensions = {};\n\n\tfor ( const key in this.extensions ) {\n\n\t\tif ( this.extensions[ key ] === true ) extensions[ key ] = true;\n\n\t}\n\n\tif ( Object.keys( extensions ).length > 0 ) data.extensions = extensions;\n\n\treturn data;\n\n};\n\nfunction Camera() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Camera';\n\n\tthis.matrixWorldInverse = new Matrix4();\n\n\tthis.projectionMatrix = new Matrix4();\n\tthis.projectionMatrixInverse = new Matrix4();\n\n}\n\nCamera.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Camera,\n\n\tisCamera: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tObject3D.prototype.copy.call( this, source, recursive );\n\n\t\tthis.matrixWorldInverse.copy( source.matrixWorldInverse );\n\n\t\tthis.projectionMatrix.copy( source.projectionMatrix );\n\t\tthis.projectionMatrixInverse.copy( source.projectionMatrixInverse );\n\n\t\treturn this;\n\n\t},\n\n\tgetWorldDirection: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Camera: .getWorldDirection() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tconst e = this.matrixWorld.elements;\n\n\t\treturn target.set( - e[ 8 ], - e[ 9 ], - e[ 10 ] ).normalize();\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n\t\tthis.matrixWorldInverse.copy( this.matrixWorld ).invert();\n\n\t},\n\n\tupdateWorldMatrix: function ( updateParents, updateChildren ) {\n\n\t\tObject3D.prototype.updateWorldMatrix.call( this, updateParents, updateChildren );\n\n\t\tthis.matrixWorldInverse.copy( this.matrixWorld ).invert();\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n} );\n\nfunction PerspectiveCamera( fov = 50, aspect = 1, near = 0.1, far = 2000 ) {\n\n\tCamera.call( this );\n\n\tthis.type = 'PerspectiveCamera';\n\n\tthis.fov = fov;\n\tthis.zoom = 1;\n\n\tthis.near = near;\n\tthis.far = far;\n\tthis.focus = 10;\n\n\tthis.aspect = aspect;\n\tthis.view = null;\n\n\tthis.filmGauge = 35;\t// width of the film (default in millimeters)\n\tthis.filmOffset = 0;\t// horizontal film offset (same unit as gauge)\n\n\tthis.updateProjectionMatrix();\n\n}\n\nPerspectiveCamera.prototype = Object.assign( Object.create( Camera.prototype ), {\n\n\tconstructor: PerspectiveCamera,\n\n\tisPerspectiveCamera: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tCamera.prototype.copy.call( this, source, recursive );\n\n\t\tthis.fov = source.fov;\n\t\tthis.zoom = source.zoom;\n\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\t\tthis.focus = source.focus;\n\n\t\tthis.aspect = source.aspect;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\tthis.filmGauge = source.filmGauge;\n\t\tthis.filmOffset = source.filmOffset;\n\n\t\treturn this;\n\n\t},\n\n\t/**\n\t * Sets the FOV by focal length in respect to the current .filmGauge.\n\t *\n\t * The default film gauge is 35, so that the focal length can be specified for\n\t * a 35mm (full frame) camera.\n\t *\n\t * Values for focal length and film gauge must have the same unit.\n\t */\n\tsetFocalLength: function ( focalLength ) {\n\n\t\t// see http://www.bobatkins.com/photography/technical/field_of_view.html\n\t\tconst vExtentSlope = 0.5 * this.getFilmHeight() / focalLength;\n\n\t\tthis.fov = MathUtils.RAD2DEG * 2 * Math.atan( vExtentSlope );\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\t/**\n\t * Calculates the focal length from the current .fov and .filmGauge.\n\t */\n\tgetFocalLength: function () {\n\n\t\tconst vExtentSlope = Math.tan( MathUtils.DEG2RAD * 0.5 * this.fov );\n\n\t\treturn 0.5 * this.getFilmHeight() / vExtentSlope;\n\n\t},\n\n\tgetEffectiveFOV: function () {\n\n\t\treturn MathUtils.RAD2DEG * 2 * Math.atan(\n\t\t\tMath.tan( MathUtils.DEG2RAD * 0.5 * this.fov ) / this.zoom );\n\n\t},\n\n\tgetFilmWidth: function () {\n\n\t\t// film not completely covered in portrait format (aspect < 1)\n\t\treturn this.filmGauge * Math.min( this.aspect, 1 );\n\n\t},\n\n\tgetFilmHeight: function () {\n\n\t\t// film not completely covered in landscape format (aspect > 1)\n\t\treturn this.filmGauge / Math.max( this.aspect, 1 );\n\n\t},\n\n\t/**\n\t * Sets an offset in a larger frustum. This is useful for multi-window or\n\t * multi-monitor/multi-machine setups.\n\t *\n\t * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\n\t * the monitors are in grid like this\n\t *\n\t *   +---+---+---+\n\t *   | A | B | C |\n\t *   +---+---+---+\n\t *   | D | E | F |\n\t *   +---+---+---+\n\t *\n\t * then for each monitor you would call it like this\n\t *\n\t *   const w = 1920;\n\t *   const h = 1080;\n\t *   const fullWidth = w * 3;\n\t *   const fullHeight = h * 2;\n\t *\n\t *   --A--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\n\t *   --B--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\n\t *   --C--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\n\t *   --D--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\n\t *   --E--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\n\t *   --F--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\n\t *\n\t *   Note there is no reason monitors have to be the same size or in a grid.\n\t */\n\tsetViewOffset: function ( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tthis.aspect = fullWidth / fullHeight;\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tclearViewOffset: function () {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tupdateProjectionMatrix: function () {\n\n\t\tconst near = this.near;\n\t\tlet top = near * Math.tan( MathUtils.DEG2RAD * 0.5 * this.fov ) / this.zoom;\n\t\tlet height = 2 * top;\n\t\tlet width = this.aspect * height;\n\t\tlet left = - 0.5 * width;\n\t\tconst view = this.view;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tconst fullWidth = view.fullWidth,\n\t\t\t\tfullHeight = view.fullHeight;\n\n\t\t\tleft += view.offsetX * width / fullWidth;\n\t\t\ttop -= view.offsetY * height / fullHeight;\n\t\t\twidth *= view.width / fullWidth;\n\t\t\theight *= view.height / fullHeight;\n\n\t\t}\n\n\t\tconst skew = this.filmOffset;\n\t\tif ( skew !== 0 ) left += near * skew / this.getFilmWidth();\n\n\t\tthis.projectionMatrix.makePerspective( left, left + width, top, top - height, near, this.far );\n\n\t\tthis.projectionMatrixInverse.copy( this.projectionMatrix ).invert();\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tconst data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.fov = this.fov;\n\t\tdata.object.zoom = this.zoom;\n\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\t\tdata.object.focus = this.focus;\n\n\t\tdata.object.aspect = this.aspect;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\tdata.object.filmGauge = this.filmGauge;\n\t\tdata.object.filmOffset = this.filmOffset;\n\n\t\treturn data;\n\n\t}\n\n} );\n\nconst fov = 90, aspect = 1;\n\nfunction CubeCamera( near, far, renderTarget ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'CubeCamera';\n\n\tif ( renderTarget.isWebGLCubeRenderTarget !== true ) {\n\n\t\tconsole.error( 'THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.' );\n\t\treturn;\n\n\t}\n\n\tthis.renderTarget = renderTarget;\n\n\tconst cameraPX = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraPX.layers = this.layers;\n\tcameraPX.up.set( 0, - 1, 0 );\n\tcameraPX.lookAt( new Vector3( 1, 0, 0 ) );\n\tthis.add( cameraPX );\n\n\tconst cameraNX = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraNX.layers = this.layers;\n\tcameraNX.up.set( 0, - 1, 0 );\n\tcameraNX.lookAt( new Vector3( - 1, 0, 0 ) );\n\tthis.add( cameraNX );\n\n\tconst cameraPY = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraPY.layers = this.layers;\n\tcameraPY.up.set( 0, 0, 1 );\n\tcameraPY.lookAt( new Vector3( 0, 1, 0 ) );\n\tthis.add( cameraPY );\n\n\tconst cameraNY = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraNY.layers = this.layers;\n\tcameraNY.up.set( 0, 0, - 1 );\n\tcameraNY.lookAt( new Vector3( 0, - 1, 0 ) );\n\tthis.add( cameraNY );\n\n\tconst cameraPZ = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraPZ.layers = this.layers;\n\tcameraPZ.up.set( 0, - 1, 0 );\n\tcameraPZ.lookAt( new Vector3( 0, 0, 1 ) );\n\tthis.add( cameraPZ );\n\n\tconst cameraNZ = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraNZ.layers = this.layers;\n\tcameraNZ.up.set( 0, - 1, 0 );\n\tcameraNZ.lookAt( new Vector3( 0, 0, - 1 ) );\n\tthis.add( cameraNZ );\n\n\tthis.update = function ( renderer, scene ) {\n\n\t\tif ( this.parent === null ) this.updateMatrixWorld();\n\n\t\tconst currentXrEnabled = renderer.xr.enabled;\n\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\trenderer.xr.enabled = false;\n\n\t\tconst generateMipmaps = renderTarget.texture.generateMipmaps;\n\n\t\trenderTarget.texture.generateMipmaps = false;\n\n\t\trenderer.setRenderTarget( renderTarget, 0 );\n\t\trenderer.render( scene, cameraPX );\n\n\t\trenderer.setRenderTarget( renderTarget, 1 );\n\t\trenderer.render( scene, cameraNX );\n\n\t\trenderer.setRenderTarget( renderTarget, 2 );\n\t\trenderer.render( scene, cameraPY );\n\n\t\trenderer.setRenderTarget( renderTarget, 3 );\n\t\trenderer.render( scene, cameraNY );\n\n\t\trenderer.setRenderTarget( renderTarget, 4 );\n\t\trenderer.render( scene, cameraPZ );\n\n\t\trenderTarget.texture.generateMipmaps = generateMipmaps;\n\n\t\trenderer.setRenderTarget( renderTarget, 5 );\n\t\trenderer.render( scene, cameraNZ );\n\n\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t\trenderer.xr.enabled = currentXrEnabled;\n\n\t};\n\n}\n\nCubeCamera.prototype = Object.create( Object3D.prototype );\nCubeCamera.prototype.constructor = CubeCamera;\n\nfunction CubeTexture( images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\n\n\timages = images !== undefined ? images : [];\n\tmapping = mapping !== undefined ? mapping : CubeReflectionMapping;\n\tformat = format !== undefined ? format : RGBFormat;\n\n\tTexture.call( this, images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\tthis.flipY = false;\n\n\t// Why CubeTexture._needsFlipEnvMap is necessary:\n\t//\n\t// By convention -- likely based on the RenderMan spec from the 1990's -- cube maps are specified by WebGL (and three.js)\n\t// in a coordinate system in which positive-x is to the right when looking up the positive-z axis -- in other words,\n\t// in a left-handed coordinate system. By continuing this convention, preexisting cube maps continued to render correctly.\n\n\t// three.js uses a right-handed coordinate system. So environment maps used in three.js appear to have px and nx swapped\n\t// and the flag _needsFlipEnvMap controls this conversion. The flip is not required (and thus _needsFlipEnvMap is set to false)\n\t// when using WebGLCubeRenderTarget.texture as a cube texture.\n\n\tthis._needsFlipEnvMap = true;\n\n}\n\nCubeTexture.prototype = Object.create( Texture.prototype );\nCubeTexture.prototype.constructor = CubeTexture;\n\nCubeTexture.prototype.isCubeTexture = true;\n\nObject.defineProperty( CubeTexture.prototype, 'images', {\n\n\tget: function () {\n\n\t\treturn this.image;\n\n\t},\n\n\tset: function ( value ) {\n\n\t\tthis.image = value;\n\n\t}\n\n} );\n\nfunction WebGLCubeRenderTarget( size, options, dummy ) {\n\n\tif ( Number.isInteger( options ) ) {\n\n\t\tconsole.warn( 'THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )' );\n\n\t\toptions = dummy;\n\n\t}\n\n\tWebGLRenderTarget.call( this, size, size, options );\n\n\toptions = options || {};\n\n\tthis.texture = new CubeTexture( undefined, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\n\n\tthis.texture._needsFlipEnvMap = false;\n\n}\n\nWebGLCubeRenderTarget.prototype = Object.create( WebGLRenderTarget.prototype );\nWebGLCubeRenderTarget.prototype.constructor = WebGLCubeRenderTarget;\n\nWebGLCubeRenderTarget.prototype.isWebGLCubeRenderTarget = true;\n\nWebGLCubeRenderTarget.prototype.fromEquirectangularTexture = function ( renderer, texture ) {\n\n\tthis.texture.type = texture.type;\n\tthis.texture.format = RGBAFormat; // see #18859\n\tthis.texture.encoding = texture.encoding;\n\n\tthis.texture.generateMipmaps = texture.generateMipmaps;\n\tthis.texture.minFilter = texture.minFilter;\n\tthis.texture.magFilter = texture.magFilter;\n\n\tconst shader = {\n\n\t\tuniforms: {\n\t\t\ttEquirect: { value: null },\n\t\t},\n\n\t\tvertexShader: /* glsl */`\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t#include <begin_vertex>\n\t\t\t\t#include <project_vertex>\n\n\t\t\t}\n\t\t`,\n\n\t\tfragmentShader: /* glsl */`\n\n\t\t\tuniform sampler2D tEquirect;\n\n\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t}\n\t\t`\n\t};\n\n\tconst geometry = new BoxBufferGeometry( 5, 5, 5 );\n\n\tconst material = new ShaderMaterial( {\n\n\t\tname: 'CubemapFromEquirect',\n\n\t\tuniforms: cloneUniforms( shader.uniforms ),\n\t\tvertexShader: shader.vertexShader,\n\t\tfragmentShader: shader.fragmentShader,\n\t\tside: BackSide,\n\t\tblending: NoBlending\n\n\t} );\n\n\tmaterial.uniforms.tEquirect.value = texture;\n\n\tconst mesh = new Mesh( geometry, material );\n\n\tconst currentMinFilter = texture.minFilter;\n\n\t// Avoid blurred poles\n\tif ( texture.minFilter === LinearMipmapLinearFilter ) texture.minFilter = LinearFilter;\n\n\tconst camera = new CubeCamera( 1, 10, this );\n\tcamera.update( renderer, mesh );\n\n\ttexture.minFilter = currentMinFilter;\n\n\tmesh.geometry.dispose();\n\tmesh.material.dispose();\n\n\treturn this;\n\n};\n\nWebGLCubeRenderTarget.prototype.clear = function ( renderer, color, depth, stencil ) {\n\n\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\trenderer.setRenderTarget( this, i );\n\n\t\trenderer.clear( color, depth, stencil );\n\n\t}\n\n\trenderer.setRenderTarget( currentRenderTarget );\n\n};\n\nfunction DataTexture( data, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\n\n\tTexture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\tthis.image = { data: data || null, width: width || 1, height: height || 1 };\n\n\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n\tthis.generateMipmaps = false;\n\tthis.flipY = false;\n\tthis.unpackAlignment = 1;\n\n\tthis.needsUpdate = true;\n\n}\n\nDataTexture.prototype = Object.create( Texture.prototype );\nDataTexture.prototype.constructor = DataTexture;\n\nDataTexture.prototype.isDataTexture = true;\n\nconst _sphere$1 = /*@__PURE__*/ new Sphere();\nconst _vector$5 = /*@__PURE__*/ new Vector3();\n\nclass Frustum {\n\n\tconstructor( p0, p1, p2, p3, p4, p5 ) {\n\n\t\tthis.planes = [\n\n\t\t\t( p0 !== undefined ) ? p0 : new Plane(),\n\t\t\t( p1 !== undefined ) ? p1 : new Plane(),\n\t\t\t( p2 !== undefined ) ? p2 : new Plane(),\n\t\t\t( p3 !== undefined ) ? p3 : new Plane(),\n\t\t\t( p4 !== undefined ) ? p4 : new Plane(),\n\t\t\t( p5 !== undefined ) ? p5 : new Plane()\n\n\t\t];\n\n\t}\n\n\tset( p0, p1, p2, p3, p4, p5 ) {\n\n\t\tconst planes = this.planes;\n\n\t\tplanes[ 0 ].copy( p0 );\n\t\tplanes[ 1 ].copy( p1 );\n\t\tplanes[ 2 ].copy( p2 );\n\t\tplanes[ 3 ].copy( p3 );\n\t\tplanes[ 4 ].copy( p4 );\n\t\tplanes[ 5 ].copy( p5 );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( frustum ) {\n\n\t\tconst planes = this.planes;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tplanes[ i ].copy( frustum.planes[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetFromProjectionMatrix( m ) {\n\n\t\tconst planes = this.planes;\n\t\tconst me = m.elements;\n\t\tconst me0 = me[ 0 ], me1 = me[ 1 ], me2 = me[ 2 ], me3 = me[ 3 ];\n\t\tconst me4 = me[ 4 ], me5 = me[ 5 ], me6 = me[ 6 ], me7 = me[ 7 ];\n\t\tconst me8 = me[ 8 ], me9 = me[ 9 ], me10 = me[ 10 ], me11 = me[ 11 ];\n\t\tconst me12 = me[ 12 ], me13 = me[ 13 ], me14 = me[ 14 ], me15 = me[ 15 ];\n\n\t\tplanes[ 0 ].setComponents( me3 - me0, me7 - me4, me11 - me8, me15 - me12 ).normalize();\n\t\tplanes[ 1 ].setComponents( me3 + me0, me7 + me4, me11 + me8, me15 + me12 ).normalize();\n\t\tplanes[ 2 ].setComponents( me3 + me1, me7 + me5, me11 + me9, me15 + me13 ).normalize();\n\t\tplanes[ 3 ].setComponents( me3 - me1, me7 - me5, me11 - me9, me15 - me13 ).normalize();\n\t\tplanes[ 4 ].setComponents( me3 - me2, me7 - me6, me11 - me10, me15 - me14 ).normalize();\n\t\tplanes[ 5 ].setComponents( me3 + me2, me7 + me6, me11 + me10, me15 + me14 ).normalize();\n\n\t\treturn this;\n\n\t}\n\n\tintersectsObject( object ) {\n\n\t\tconst geometry = object.geometry;\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$1.copy( geometry.boundingSphere ).applyMatrix4( object.matrixWorld );\n\n\t\treturn this.intersectsSphere( _sphere$1 );\n\n\t}\n\n\tintersectsSprite( sprite ) {\n\n\t\t_sphere$1.center.set( 0, 0, 0 );\n\t\t_sphere$1.radius = 0.7071067811865476;\n\t\t_sphere$1.applyMatrix4( sprite.matrixWorld );\n\n\t\treturn this.intersectsSphere( _sphere$1 );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\tconst planes = this.planes;\n\t\tconst center = sphere.center;\n\t\tconst negRadius = - sphere.radius;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tconst distance = planes[ i ].distanceToPoint( center );\n\n\t\t\tif ( distance < negRadius ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\tconst planes = this.planes;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tconst plane = planes[ i ];\n\n\t\t\t// corner at max distance\n\n\t\t\t_vector$5.x = plane.normal.x > 0 ? box.max.x : box.min.x;\n\t\t\t_vector$5.y = plane.normal.y > 0 ? box.max.y : box.min.y;\n\t\t\t_vector$5.z = plane.normal.z > 0 ? box.max.z : box.min.z;\n\n\t\t\tif ( plane.distanceToPoint( _vector$5 ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\tconst planes = this.planes;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tif ( planes[ i ].distanceToPoint( point ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n}\n\nfunction WebGLAnimation() {\n\n\tlet context = null;\n\tlet isAnimating = false;\n\tlet animationLoop = null;\n\tlet requestId = null;\n\n\tfunction onAnimationFrame( time, frame ) {\n\n\t\tanimationLoop( time, frame );\n\n\t\trequestId = context.requestAnimationFrame( onAnimationFrame );\n\n\t}\n\n\treturn {\n\n\t\tstart: function () {\n\n\t\t\tif ( isAnimating === true ) return;\n\t\t\tif ( animationLoop === null ) return;\n\n\t\t\trequestId = context.requestAnimationFrame( onAnimationFrame );\n\n\t\t\tisAnimating = true;\n\n\t\t},\n\n\t\tstop: function () {\n\n\t\t\tcontext.cancelAnimationFrame( requestId );\n\n\t\t\tisAnimating = false;\n\n\t\t},\n\n\t\tsetAnimationLoop: function ( callback ) {\n\n\t\t\tanimationLoop = callback;\n\n\t\t},\n\n\t\tsetContext: function ( value ) {\n\n\t\t\tcontext = value;\n\n\t\t}\n\n\t};\n\n}\n\nfunction WebGLAttributes( gl, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tconst buffers = new WeakMap();\n\n\tfunction createBuffer( attribute, bufferType ) {\n\n\t\tconst array = attribute.array;\n\t\tconst usage = attribute.usage;\n\n\t\tconst buffer = gl.createBuffer();\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\t\tgl.bufferData( bufferType, array, usage );\n\n\t\tattribute.onUploadCallback();\n\n\t\tlet type = 5126;\n\n\t\tif ( array instanceof Float32Array ) {\n\n\t\t\ttype = 5126;\n\n\t\t} else if ( array instanceof Float64Array ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.' );\n\n\t\t} else if ( array instanceof Uint16Array ) {\n\n\t\t\tif ( attribute.isFloat16BufferAttribute ) {\n\n\t\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t\ttype = 5131;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\ttype = 5123;\n\n\t\t\t}\n\n\t\t} else if ( array instanceof Int16Array ) {\n\n\t\t\ttype = 5122;\n\n\t\t} else if ( array instanceof Uint32Array ) {\n\n\t\t\ttype = 5125;\n\n\t\t} else if ( array instanceof Int32Array ) {\n\n\t\t\ttype = 5124;\n\n\t\t} else if ( array instanceof Int8Array ) {\n\n\t\t\ttype = 5120;\n\n\t\t} else if ( array instanceof Uint8Array ) {\n\n\t\t\ttype = 5121;\n\n\t\t}\n\n\t\treturn {\n\t\t\tbuffer: buffer,\n\t\t\ttype: type,\n\t\t\tbytesPerElement: array.BYTES_PER_ELEMENT,\n\t\t\tversion: attribute.version\n\t\t};\n\n\t}\n\n\tfunction updateBuffer( buffer, attribute, bufferType ) {\n\n\t\tconst array = attribute.array;\n\t\tconst updateRange = attribute.updateRange;\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\n\t\tif ( updateRange.count === - 1 ) {\n\n\t\t\t// Not using update ranges\n\n\t\t\tgl.bufferSubData( bufferType, 0, array );\n\n\t\t} else {\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n\t\t\t\t\tarray, updateRange.offset, updateRange.count );\n\n\t\t\t} else {\n\n\t\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n\t\t\t\t\tarray.subarray( updateRange.offset, updateRange.offset + updateRange.count ) );\n\n\t\t\t}\n\n\t\t\tupdateRange.count = - 1; // reset range\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction get( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\treturn buffers.get( attribute );\n\n\t}\n\n\tfunction remove( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tconst data = buffers.get( attribute );\n\n\t\tif ( data ) {\n\n\t\t\tgl.deleteBuffer( data.buffer );\n\n\t\t\tbuffers.delete( attribute );\n\n\t\t}\n\n\t}\n\n\tfunction update( attribute, bufferType ) {\n\n\t\tif ( attribute.isGLBufferAttribute ) {\n\n\t\t\tconst cached = buffers.get( attribute );\n\n\t\t\tif ( ! cached || cached.version < attribute.version ) {\n\n\t\t\t\tbuffers.set( attribute, {\n\t\t\t\t\tbuffer: attribute.buffer,\n\t\t\t\t\ttype: attribute.type,\n\t\t\t\t\tbytesPerElement: attribute.elementSize,\n\t\t\t\t\tversion: attribute.version\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tconst data = buffers.get( attribute );\n\n\t\tif ( data === undefined ) {\n\n\t\t\tbuffers.set( attribute, createBuffer( attribute, bufferType ) );\n\n\t\t} else if ( data.version < attribute.version ) {\n\n\t\t\tupdateBuffer( data.buffer, attribute, bufferType );\n\n\t\t\tdata.version = attribute.version;\n\n\t\t}\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update\n\n\t};\n\n}\n\nclass PlaneBufferGeometry extends BufferGeometry {\n\n\tconstructor( width = 1, height = 1, widthSegments = 1, heightSegments = 1 ) {\n\n\t\tsuper();\n\t\tthis.type = 'PlaneBufferGeometry';\n\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments\n\t\t};\n\n\t\tconst width_half = width / 2;\n\t\tconst height_half = height / 2;\n\n\t\tconst gridX = Math.floor( widthSegments );\n\t\tconst gridY = Math.floor( heightSegments );\n\n\t\tconst gridX1 = gridX + 1;\n\t\tconst gridY1 = gridY + 1;\n\n\t\tconst segment_width = width / gridX;\n\t\tconst segment_height = height / gridY;\n\n\t\t//\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\tfor ( let iy = 0; iy < gridY1; iy ++ ) {\n\n\t\t\tconst y = iy * segment_height - height_half;\n\n\t\t\tfor ( let ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\t\tconst x = ix * segment_width - width_half;\n\n\t\t\t\tvertices.push( x, - y, 0 );\n\n\t\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t\tuvs.push( ix / gridX );\n\t\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( let iy = 0; iy < gridY; iy ++ ) {\n\n\t\t\tfor ( let ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\t\tconst a = ix + gridX1 * iy;\n\t\t\t\tconst b = ix + gridX1 * ( iy + 1 );\n\t\t\t\tconst c = ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\t\tconst d = ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n}\n\nvar alphamap_fragment = \"#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\";\n\nvar alphamap_pars_fragment = \"#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\nvar alphatest_fragment = \"#ifdef ALPHATEST\\n\\tif ( diffuseColor.a < ALPHATEST ) discard;\\n#endif\";\n\nvar aomap_fragment = \"#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\\n\\t#endif\\n#endif\";\n\nvar aomap_pars_fragment = \"#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif\";\n\nvar begin_vertex = \"vec3 transformed = vec3( position );\";\n\nvar beginnormal_vertex = \"vec3 objectNormal = vec3( normal );\\n#ifdef USE_TANGENT\\n\\tvec3 objectTangent = vec3( tangent.xyz );\\n#endif\";\n\nvar bsdfs = \"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\\n}\\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\tif( cutoffDistance > 0.0 ) {\\n\\t\\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t}\\n\\treturn distanceFalloff;\\n#else\\n\\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\\n\\t\\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n\\t}\\n\\treturn 1.0;\\n#endif\\n}\\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\\n\\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\\n}\\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\\n\\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\\n\\treturn Fr * fresnel + F0;\\n}\\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\treturn 1.0 / ( gl * gv );\\n}\\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\\n\\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( G * D );\\n}\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\n\\tconst float LUT_SIZE = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\\n\\tfloat dotNV = saturate( dot( N, V ) );\\n\\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\n\\tfloat l = length( f );\\n\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\n}\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\n\\tfloat x = dot( v1, v2 );\\n\\tfloat y = abs( x );\\n\\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\\n\\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\\n\\tfloat v = a / b;\\n\\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\\n\\treturn cross( v1, v2 ) * theta_sintheta;\\n}\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\n\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\n\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\n\\tvec3 lightNormal = cross( v1, v2 );\\n\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\\n\\tvec3 T1, T2;\\n\\tT1 = normalize( V - N * dot( V, N ) );\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\\n\\tvec3 coords[ 4 ];\\n\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\n\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\n\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\n\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\n\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\n\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\n\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\n\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\n\\tvec3 vectorFormFactor = vec3( 0.0 );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\n\\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\\n\\treturn vec3( result );\\n}\\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\treturn specularColor * brdf.x + brdf.y;\\n}\\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\tvec3 FssEss = F * brdf.x + brdf.y;\\n\\tfloat Ess = brdf.x + brdf.y;\\n\\tfloat Ems = 1.0 - Ess;\\n\\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\\n\\tsingleScatter += FssEss;\\n\\tmultiScatter += Fms * Ems;\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\\n\\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\\n}\\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\\n\\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\\n}\\n#if defined( USE_SHEEN )\\nfloat D_Charlie(float roughness, float NoH) {\\n\\tfloat invAlpha = 1.0 / roughness;\\n\\tfloat cos2h = NoH * NoH;\\n\\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\\n}\\nfloat V_Neubelt(float NoV, float NoL) {\\n\\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\\n}\\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\\n\\tvec3 N = geometry.normal;\\n\\tvec3 V = geometry.viewDir;\\n\\tvec3 H = normalize( V + L );\\n\\tfloat dotNH = saturate( dot( N, H ) );\\n\\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\\n}\\n#endif\";\n\nvar bumpmap_pars_fragment = \"#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\\n\\t\\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\\n\\t\\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 );\\n\\t\\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\";\n\nvar clipping_planes_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvec4 plane;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\\n\\t\\tplane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\\n\\t\\t\\tplane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t\\tif ( clipped ) discard;\\n\\t#endif\\n#endif\";\n\nvar clipping_planes_pars_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvarying vec3 vClipPosition;\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\";\n\nvar clipping_planes_pars_vertex = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvarying vec3 vClipPosition;\\n#endif\";\n\nvar clipping_planes_vertex = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvClipPosition = - mvPosition.xyz;\\n#endif\";\n\nvar color_fragment = \"#ifdef USE_COLOR\\n\\tdiffuseColor.rgb *= vColor;\\n#endif\";\n\nvar color_pars_fragment = \"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_pars_vertex = \"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_vertex = \"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\\n\\tvColor = vec3( 1.0 );\\n#endif\\n#ifdef USE_COLOR\\n\\tvColor.xyz *= color.xyz;\\n#endif\\n#ifdef USE_INSTANCING_COLOR\\n\\tvColor.xyz *= instanceColor.xyz;\\n#endif\";\n\nvar common = \"#define PI 3.141592653589793\\n#define PI2 6.283185307179586\\n#define PI_HALF 1.5707963267948966\\n#define RECIPROCAL_PI 0.3183098861837907\\n#define RECIPROCAL_PI2 0.15915494309189535\\n#define EPSILON 1e-6\\n#ifndef saturate\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract(sin(sn) * c);\\n}\\n#ifdef HIGH_PRECISION\\n\\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\\n#else\\n\\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\\n\\tfloat precisionSafeLength( vec3 v ) {\\n\\t\\tfloat maxComponent = max3( abs( v ) );\\n\\t\\treturn length( v / maxComponent ) * maxComponent;\\n\\t}\\n#endif\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal;\\n#endif\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\tfloat distance = dot( planeNormal, point - pointOnPlane );\\n\\treturn - distance * planeNormal + point;\\n}\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\n}\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\\n}\\nmat3 transposeMat3( const in mat3 m ) {\\n\\tmat3 tmp;\\n\\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\\n\\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\\n\\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\\n\\treturn tmp;\\n}\\nfloat linearToRelativeLuminance( const in vec3 color ) {\\n\\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\\n\\treturn dot( weights, color.rgb );\\n}\\nbool isPerspectiveMatrix( mat4 m ) {\\n\\treturn m[ 2 ][ 3 ] == - 1.0;\\n}\\nvec2 equirectUv( in vec3 dir ) {\\n\\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\treturn vec2( u, v );\\n}\";\n\nvar cube_uv_reflection_fragment = \"#ifdef ENVMAP_TYPE_CUBE_UV\\n\\t#define cubeUV_maxMipLevel 8.0\\n\\t#define cubeUV_minMipLevel 4.0\\n\\t#define cubeUV_maxTileSize 256.0\\n\\t#define cubeUV_minTileSize 16.0\\n\\tfloat getFace( vec3 direction ) {\\n\\t\\tvec3 absDirection = abs( direction );\\n\\t\\tfloat face = - 1.0;\\n\\t\\tif ( absDirection.x > absDirection.z ) {\\n\\t\\t\\tif ( absDirection.x > absDirection.y )\\n\\t\\t\\t\\tface = direction.x > 0.0 ? 0.0 : 3.0;\\n\\t\\t\\telse\\n\\t\\t\\t\\tface = direction.y > 0.0 ? 1.0 : 4.0;\\n\\t\\t} else {\\n\\t\\t\\tif ( absDirection.z > absDirection.y )\\n\\t\\t\\t\\tface = direction.z > 0.0 ? 2.0 : 5.0;\\n\\t\\t\\telse\\n\\t\\t\\t\\tface = direction.y > 0.0 ? 1.0 : 4.0;\\n\\t\\t}\\n\\t\\treturn face;\\n\\t}\\n\\tvec2 getUV( vec3 direction, float face ) {\\n\\t\\tvec2 uv;\\n\\t\\tif ( face == 0.0 ) {\\n\\t\\t\\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\\n\\t\\t} else if ( face == 1.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\\n\\t\\t} else if ( face == 2.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\\n\\t\\t} else if ( face == 3.0 ) {\\n\\t\\t\\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\\n\\t\\t} else if ( face == 4.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\\n\\t\\t} else {\\n\\t\\t\\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\\n\\t\\t}\\n\\t\\treturn 0.5 * ( uv + 1.0 );\\n\\t}\\n\\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\\n\\t\\tfloat face = getFace( direction );\\n\\t\\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\\n\\t\\tmipInt = max( mipInt, cubeUV_minMipLevel );\\n\\t\\tfloat faceSize = exp2( mipInt );\\n\\t\\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\\n\\t\\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\\n\\t\\tvec2 f = fract( uv );\\n\\t\\tuv += 0.5 - f;\\n\\t\\tif ( face > 2.0 ) {\\n\\t\\t\\tuv.y += faceSize;\\n\\t\\t\\tface -= 3.0;\\n\\t\\t}\\n\\t\\tuv.x += face * faceSize;\\n\\t\\tif ( mipInt < cubeUV_maxMipLevel ) {\\n\\t\\t\\tuv.y += 2.0 * cubeUV_maxTileSize;\\n\\t\\t}\\n\\t\\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\\n\\t\\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\\n\\t\\tuv *= texelSize;\\n\\t\\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tuv.x += texelSize;\\n\\t\\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tuv.y += texelSize;\\n\\t\\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tuv.x -= texelSize;\\n\\t\\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tvec3 tm = mix( tl, tr, f.x );\\n\\t\\tvec3 bm = mix( bl, br, f.x );\\n\\t\\treturn mix( tm, bm, f.y );\\n\\t}\\n\\t#define r0 1.0\\n\\t#define v0 0.339\\n\\t#define m0 - 2.0\\n\\t#define r1 0.8\\n\\t#define v1 0.276\\n\\t#define m1 - 1.0\\n\\t#define r4 0.4\\n\\t#define v4 0.046\\n\\t#define m4 2.0\\n\\t#define r5 0.305\\n\\t#define v5 0.016\\n\\t#define m5 3.0\\n\\t#define r6 0.21\\n\\t#define v6 0.0038\\n\\t#define m6 4.0\\n\\tfloat roughnessToMip( float roughness ) {\\n\\t\\tfloat mip = 0.0;\\n\\t\\tif ( roughness >= r1 ) {\\n\\t\\t\\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\\n\\t\\t} else if ( roughness >= r4 ) {\\n\\t\\t\\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\\n\\t\\t} else if ( roughness >= r5 ) {\\n\\t\\t\\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\\n\\t\\t} else if ( roughness >= r6 ) {\\n\\t\\t\\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\\n\\t\\t} else {\\n\\t\\t\\tmip = - 2.0 * log2( 1.16 * roughness );\\t\\t}\\n\\t\\treturn mip;\\n\\t}\\n\\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\\n\\t\\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\\n\\t\\tfloat mipF = fract( mip );\\n\\t\\tfloat mipInt = floor( mip );\\n\\t\\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\\n\\t\\tif ( mipF == 0.0 ) {\\n\\t\\t\\treturn vec4( color0, 1.0 );\\n\\t\\t} else {\\n\\t\\t\\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\\n\\t\\t\\treturn vec4( mix( color0, color1, mipF ), 1.0 );\\n\\t\\t}\\n\\t}\\n#endif\";\n\nvar defaultnormal_vertex = \"vec3 transformedNormal = objectNormal;\\n#ifdef USE_INSTANCING\\n\\tmat3 m = mat3( instanceMatrix );\\n\\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\\n\\ttransformedNormal = m * transformedNormal;\\n#endif\\ntransformedNormal = normalMatrix * transformedNormal;\\n#ifdef FLIP_SIDED\\n\\ttransformedNormal = - transformedNormal;\\n#endif\\n#ifdef USE_TANGENT\\n\\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#ifdef FLIP_SIDED\\n\\t\\ttransformedTangent = - transformedTangent;\\n\\t#endif\\n#endif\";\n\nvar displacementmap_pars_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\";\n\nvar displacementmap_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\\n#endif\";\n\nvar emissivemap_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\";\n\nvar emissivemap_pars_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\";\n\nvar encodings_fragment = \"gl_FragColor = linearToOutputTexel( gl_FragColor );\";\n\nvar encodings_pars_fragment = \"\\nvec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\\n}\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\\n}\\nvec4 sRGBToLinear( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\\n}\\nvec4 RGBEToLinear( in vec4 value ) {\\n\\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\n}\\nvec4 LinearToRGBE( in vec4 value ) {\\n\\tfloat maxComponent = max( max( value.r, value.g ), value.b );\\n\\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\n\\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\n}\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\\n}\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\\n\\tM = ceil( M * 255.0 ) / 255.0;\\n\\treturn vec4( value.rgb / ( M * maxRange ), M );\\n}\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\n}\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat D = max( maxRange / maxRGB, 1.0 );\\n\\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\\n\\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\n}\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\nvec4 LinearToLogLuv( in vec4 value ) {\\n\\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\\n\\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\\n\\tvec4 vResult;\\n\\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\n\\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\n\\tvResult.w = fract( Le );\\n\\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\\n\\treturn vResult;\\n}\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\nvec4 LogLuvToLinear( in vec4 value ) {\\n\\tfloat Le = value.z * 255.0 + value.w;\\n\\tvec3 Xp_Y_XYZp;\\n\\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\\n\\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\n\\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\n\\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\\n\\treturn vec4( max( vRGB, 0.0 ), 1.0 );\\n}\";\n\nvar envmap_fragment = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvec3 cameraToFrag;\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\t#ifndef ENVMAP_TYPE_CUBE_UV\\n\\t\\tenvColor = envMapTexelToLinear( envColor );\\n\\t#endif\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\";\n\nvar envmap_common_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float envMapIntensity;\\n\\tuniform float flipEnvMap;\\n\\tuniform int maxMipLevel;\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\t\\n#endif\";\n\nvar envmap_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float reflectivity;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\";\n\nvar envmap_pars_vertex = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\t\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\";\n\nvar envmap_vertex = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex;\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\n\nvar fog_vertex = \"#ifdef USE_FOG\\n\\tfogDepth = - mvPosition.z;\\n#endif\";\n\nvar fog_pars_vertex = \"#ifdef USE_FOG\\n\\tvarying float fogDepth;\\n#endif\";\n\nvar fog_fragment = \"#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\";\n\nvar fog_pars_fragment = \"#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float fogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\";\n\nvar gradientmap_pars_fragment = \"#ifdef USE_GRADIENTMAP\\n\\tuniform sampler2D gradientMap;\\n#endif\\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\tfloat dotNL = dot( normal, lightDirection );\\n\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t#ifdef USE_GRADIENTMAP\\n\\t\\treturn texture2D( gradientMap, coord ).rgb;\\n\\t#else\\n\\t\\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\n\\t#endif\\n}\";\n\nvar lightmap_fragment = \"#ifdef USE_LIGHTMAP\\n\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n#endif\";\n\nvar lightmap_pars_fragment = \"#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif\";\n\nvar lights_lambert_vertex = \"vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\nvIndirectFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n\\tvIndirectBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\\n#ifdef DOUBLE_SIDED\\n\\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\\n\\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_DIR_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\";\n\nvar lights_pars_begin = \"uniform bool receiveShadow;\\nuniform vec3 ambientLightColor;\\nuniform vec3 lightProbe[ 9 ];\\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\\n\\tfloat x = normal.x, y = normal.y, z = normal.z;\\n\\tvec3 result = shCoefficients[ 0 ] * 0.886227;\\n\\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\\n\\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\\n\\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\\n\\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\\n\\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\\n\\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\\n\\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\\n\\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\\n\\treturn result;\\n}\\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\\n\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\\n\\treturn irradiance;\\n}\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treturn irradiance;\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tdirectLight.color = directionalLight.color;\\n\\t\\tdirectLight.direction = directionalLight.direction;\\n\\t\\tdirectLight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tdirectLight.color = pointLight.color;\\n\\t\\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tfloat angleCos = dot( directLight.direction, spotLight.direction );\\n\\t\\tif ( angleCos > spotLight.coneCos ) {\\n\\t\\t\\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\t\\tdirectLight.color = spotLight.color;\\n\\t\\t\\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tdirectLight.visible = true;\\n\\t\\t} else {\\n\\t\\t\\tdirectLight.color = vec3( 0.0 );\\n\\t\\t\\tdirectLight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltc_1;\\tuniform sampler2D ltc_2;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\n\\t\\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tirradiance *= PI;\\n\\t\\t#endif\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\";\n\nvar envmap_physical_pars_fragment = \"#if defined( USE_ENVMAP )\\n\\t#ifdef ENVMAP_MODE_REFRACTION\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n\\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\\n\\t\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\\n\\t\\t#else\\n\\t\\t\\tvec4 envMapColor = vec4( 0.0 );\\n\\t\\t#endif\\n\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t}\\n\\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\\n\\t\\tfloat maxMIPLevelScalar = float( maxMIPLevel );\\n\\t\\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\\n\\t\\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\\n\\t\\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\\n\\t}\\n\\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( -viewDir, normal );\\n\\t\\t\\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\\n\\t\\t#endif\\n\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\\n\\t\\t#endif\\n\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t}\\n#endif\";\n\nvar lights_toon_fragment = \"ToonMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\";\n\nvar lights_toon_pars_fragment = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct ToonMaterial {\\n\\tvec3 diffuseColor;\\n};\\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Toon\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Toon\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\nvar lights_phong_fragment = \"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\";\n\nvar lights_phong_pars_fragment = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct BlinnPhongMaterial {\\n\\tvec3 diffuseColor;\\n\\tvec3 specularColor;\\n\\tfloat specularShininess;\\n\\tfloat specularStrength;\\n};\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\nvar lights_physical_fragment = \"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\\n#ifdef REFLECTIVITY\\n\\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\\n#endif\\n#ifdef CLEARCOAT\\n\\tmaterial.clearcoat = clearcoat;\\n\\tmaterial.clearcoatRoughness = clearcoatRoughness;\\n\\t#ifdef USE_CLEARCOATMAP\\n\\t\\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\\n\\t#endif\\n\\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\t\\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\\n\\t#endif\\n\\tmaterial.clearcoat = saturate( material.clearcoat );\\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\\n\\tmaterial.clearcoatRoughness += geometryRoughness;\\n\\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\\n#endif\\n#ifdef USE_SHEEN\\n\\tmaterial.sheenColor = sheen;\\n#endif\";\n\nvar lights_physical_pars_fragment = \"struct PhysicalMaterial {\\n\\tvec3 diffuseColor;\\n\\tfloat specularRoughness;\\n\\tvec3 specularColor;\\n#ifdef CLEARCOAT\\n\\tfloat clearcoat;\\n\\tfloat clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tvec3 sheenColor;\\n#endif\\n};\\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\\n\\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\\n}\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = material.specularRoughness;\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tvec4 t1 = texture2D( ltc_1, uv );\\n\\t\\tvec4 t2 = texture2D( ltc_2, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3( t1.x, 0, t1.y ),\\n\\t\\t\\tvec3(    0, 1,    0 ),\\n\\t\\t\\tvec3( t1.z, 0, t1.w )\\n\\t\\t);\\n\\t\\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\\n\\t\\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\\n\\t\\tvec3 ccIrradiance = ccDotNL * directLight.color;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tccIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t\\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\\n\\t\\t\\tmaterial.specularRoughness,\\n\\t\\t\\tdirectLight.direction,\\n\\t\\t\\tgeometry,\\n\\t\\t\\tmaterial.sheenColor\\n\\t\\t);\\n\\t#else\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\\n\\t#endif\\n\\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t\\tfloat ccDotNL = ccDotNV;\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\tfloat clearcoatInv = 1.0 - clearcoatDHR;\\n\\tvec3 singleScattering = vec3( 0.0 );\\n\\tvec3 multiScattering = vec3( 0.0 );\\n\\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\\n\\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\\n\\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\\n\\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\\n\\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\\n\\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\";\n\nvar lights_fragment_begin = \"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\\n#ifdef CLEARCOAT\\n\\tgeometry.clearcoatNormal = clearcoatNormal;\\n#endif\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\\n\\t\\tpointLightShadow = pointLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\\n\\t\\tspotLightShadow = spotLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\\n\\t\\tdirectionalLightShadow = directionalLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 iblIrradiance = vec3( 0.0 );\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t#endif\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tvec3 radiance = vec3( 0.0 );\\n\\tvec3 clearcoatRadiance = vec3( 0.0 );\\n#endif\";\n\nvar lights_fragment_maps = \"#if defined( RE_IndirectDiffuse )\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\t\\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tlightMapIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\\n\\t#endif\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\\n\\t#ifdef CLEARCOAT\\n\\t\\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\\n\\t#endif\\n#endif\";\n\nvar lights_fragment_end = \"#if defined( RE_IndirectDiffuse )\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\\n#endif\";\n\nvar logdepthbuf_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\\n#endif\";\n\nvar logdepthbuf_pars_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tuniform float logDepthBufFC;\\n\\tvarying float vFragDepth;\\n\\tvarying float vIsPerspective;\\n#endif\";\n\nvar logdepthbuf_pars_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t\\tvarying float vIsPerspective;\\n\\t#else\\n\\t\\tuniform float logDepthBufFC;\\n\\t#endif\\n#endif\";\n\nvar logdepthbuf_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t\\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\\n\\t#else\\n\\t\\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\\n\\t\\t\\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\\n\\t\\t\\tgl_Position.z *= gl_Position.w;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\nvar map_fragment = \"#ifdef USE_MAP\\n\\tvec4 texelColor = texture2D( map, vUv );\\n\\ttexelColor = mapTexelToLinear( texelColor );\\n\\tdiffuseColor *= texelColor;\\n#endif\";\n\nvar map_pars_fragment = \"#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\";\n\nvar map_particle_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\\n#endif\\n#ifdef USE_MAP\\n\\tvec4 mapTexel = texture2D( map, uv );\\n\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\\n#endif\";\n\nvar map_particle_pars_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tuniform mat3 uvTransform;\\n#endif\\n#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\nvar metalnessmap_fragment = \"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.b;\\n#endif\";\n\nvar metalnessmap_pars_fragment = \"#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif\";\n\nvar morphnormal_vertex = \"#ifdef USE_MORPHNORMALS\\n\\tobjectNormal *= morphTargetBaseInfluence;\\n\\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\\n\\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\\n\\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\\n\\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\\n#endif\";\n\nvar morphtarget_pars_vertex = \"#ifdef USE_MORPHTARGETS\\n\\tuniform float morphTargetBaseInfluence;\\n\\t#ifndef USE_MORPHNORMALS\\n\\t\\tuniform float morphTargetInfluences[ 8 ];\\n\\t#else\\n\\t\\tuniform float morphTargetInfluences[ 4 ];\\n\\t#endif\\n#endif\";\n\nvar morphtarget_vertex = \"#ifdef USE_MORPHTARGETS\\n\\ttransformed *= morphTargetBaseInfluence;\\n\\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\\n\\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\\n\\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\\n\\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\\n\\t#ifndef USE_MORPHNORMALS\\n\\t\\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\\n\\t\\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\\n\\t\\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\\n\\t\\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\\n\\t#endif\\n#endif\";\n\nvar normal_fragment_begin = \"#ifdef FLAT_SHADED\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t#endif\\n\\t#ifdef USE_TANGENT\\n\\t\\tvec3 tangent = normalize( vTangent );\\n\\t\\tvec3 bitangent = normalize( vBitangent );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t\\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t#endif\\n\\t\\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\\n\\t\\t\\tmat3 vTBN = mat3( tangent, bitangent, normal );\\n\\t\\t#endif\\n\\t#endif\\n#endif\\nvec3 geometryNormal = normal;\";\n\nvar normal_fragment_maps = \"#ifdef OBJECTSPACE_NORMALMAP\\n\\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t#ifdef FLIP_SIDED\\n\\t\\tnormal = - normal;\\n\\t#endif\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t#endif\\n\\tnormal = normalize( normalMatrix * normal );\\n#elif defined( TANGENTSPACE_NORMALMAP )\\n\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tmapN.xy *= normalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tnormal = normalize( vTBN * mapN );\\n\\t#else\\n\\t\\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\\n\\t#endif\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\\n#endif\";\n\nvar normalmap_pars_fragment = \"#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n#endif\\n#ifdef OBJECTSPACE_NORMALMAP\\n\\tuniform mat3 normalMatrix;\\n#endif\\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\\n\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\\n\\t\\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\\n\\t\\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\\n\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\\n\\t\\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\\n\\t\\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\\n\\t\\tvec3 N = normalize( surf_norm );\\n\\t\\tmat3 tsn = mat3( S, T, N );\\n\\t\\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\treturn normalize( tsn * mapN );\\n\\t}\\n#endif\";\n\nvar clearcoat_normal_fragment_begin = \"#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal = geometryNormal;\\n#endif\";\n\nvar clearcoat_normal_fragment_maps = \"#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tclearcoatMapN.xy *= clearcoatNormalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\\n\\t#else\\n\\t\\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\\n\\t#endif\\n#endif\";\n\nvar clearcoat_pars_fragment = \"#ifdef USE_CLEARCOATMAP\\n\\tuniform sampler2D clearcoatMap;\\n#endif\\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\tuniform sampler2D clearcoatRoughnessMap;\\n#endif\\n#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tuniform sampler2D clearcoatNormalMap;\\n\\tuniform vec2 clearcoatNormalScale;\\n#endif\";\n\nvar packing = \"vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 2.0 * rgb.xyz - 1.0;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nvec4 pack2HalfToRGBA( vec2 v ) {\\n\\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\\n\\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\\n}\\nvec2 unpackRGBATo2Half( vec4 v ) {\\n\\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\";\n\nvar premultiplied_alpha_fragment = \"#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\";\n\nvar project_vertex = \"vec4 mvPosition = vec4( transformed, 1.0 );\\n#ifdef USE_INSTANCING\\n\\tmvPosition = instanceMatrix * mvPosition;\\n#endif\\nmvPosition = modelViewMatrix * mvPosition;\\ngl_Position = projectionMatrix * mvPosition;\";\n\nvar dithering_fragment = \"#ifdef DITHERING\\n\\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\\n#endif\";\n\nvar dithering_pars_fragment = \"#ifdef DITHERING\\n\\tvec3 dithering( vec3 color ) {\\n\\t\\tfloat grid_position = rand( gl_FragCoord.xy );\\n\\t\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\n\\t\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\n\\t\\treturn color + dither_shift_RGB;\\n\\t}\\n#endif\";\n\nvar roughnessmap_fragment = \"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.g;\\n#endif\";\n\nvar roughnessmap_pars_fragment = \"#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif\";\n\nvar shadowmap_pars_fragment = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\\n\\t\\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\\n\\t}\\n\\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\\n\\t\\tfloat occlusion = 1.0;\\n\\t\\tvec2 distribution = texture2DDistribution( shadow, uv );\\n\\t\\tfloat hard_shadow = step( compare , distribution.x );\\n\\t\\tif (hard_shadow != 1.0 ) {\\n\\t\\t\\tfloat distance = compare - distribution.x ;\\n\\t\\t\\tfloat variance = max( 0.00000, distribution.y * distribution.y );\\n\\t\\t\\tfloat softness_probability = variance / (variance + distance * distance );\\t\\t\\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\\t\\t\\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\\n\\t\\t}\\n\\t\\treturn occlusion;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tfloat shadow = 1.0;\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx2 = dx0 / 2.0;\\n\\t\\t\\tfloat dy2 = dy0 / 2.0;\\n\\t\\t\\tfloat dx3 = dx1 / 2.0;\\n\\t\\t\\tfloat dy3 = dy1 / 2.0;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 17.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx = texelSize.x;\\n\\t\\t\\tfloat dy = texelSize.y;\\n\\t\\t\\tvec2 uv = shadowCoord.xy;\\n\\t\\t\\tvec2 f = fract( uv * shadowMapSize + 0.5 );\\n\\t\\t\\tuv -= f * texelSize;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t  f.x ),\\n\\t\\t\\t\\t\\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t  f.x ),\\n\\t\\t\\t\\t\\t f.y )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#else\\n\\t\\t\\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn shadow;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\\t\\tdp += shadowBias;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\nvar shadowmap_pars_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n#endif\";\n\nvar shadowmap_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\tvec4 shadowWorldPosition;\\n\\t#endif\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n#endif\";\n\nvar shadowmask_pars_fragment = \"float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tspotLight = spotLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tpointLight = pointLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\";\n\nvar skinbase_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\";\n\nvar skinning_pars_vertex = \"#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\t#ifdef BONE_TEXTURE\\n\\t\\tuniform highp sampler2D boneTexture;\\n\\t\\tuniform int boneTextureSize;\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tfloat j = i * 4.0;\\n\\t\\t\\tfloat x = mod( j, float( boneTextureSize ) );\\n\\t\\t\\tfloat y = floor( j / float( boneTextureSize ) );\\n\\t\\t\\tfloat dx = 1.0 / float( boneTextureSize );\\n\\t\\t\\tfloat dy = 1.0 / float( boneTextureSize );\\n\\t\\t\\ty = dy * ( y + 0.5 );\\n\\t\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#else\\n\\t\\tuniform mat4 boneMatrices[ MAX_BONES ];\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tmat4 bone = boneMatrices[ int(i) ];\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\nvar skinning_vertex = \"#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\ttransformed = ( bindMatrixInverse * skinned ).xyz;\\n#endif\";\n\nvar skinnormal_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n\\t#ifdef USE_TANGENT\\n\\t\\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#endif\\n#endif\";\n\nvar specularmap_fragment = \"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif\";\n\nvar specularmap_pars_fragment = \"#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif\";\n\nvar tonemapping_fragment = \"#if defined( TONE_MAPPING )\\n\\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\";\n\nvar tonemapping_pars_fragment = \"#ifndef saturate\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\nuniform float toneMappingExposure;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\nvec3 RRTAndODTFit( vec3 v ) {\\n\\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\\n\\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\\n\\treturn a / b;\\n}\\nvec3 ACESFilmicToneMapping( vec3 color ) {\\n\\tconst mat3 ACESInputMat = mat3(\\n\\t\\tvec3( 0.59719, 0.07600, 0.02840 ),\\t\\tvec3( 0.35458, 0.90834, 0.13383 ),\\n\\t\\tvec3( 0.04823, 0.01566, 0.83777 )\\n\\t);\\n\\tconst mat3 ACESOutputMat = mat3(\\n\\t\\tvec3(  1.60475, -0.10208, -0.00327 ),\\t\\tvec3( -0.53108,  1.10813, -0.07276 ),\\n\\t\\tvec3( -0.07367, -0.00605,  1.07602 )\\n\\t);\\n\\tcolor *= toneMappingExposure / 0.6;\\n\\tcolor = ACESInputMat * color;\\n\\tcolor = RRTAndODTFit( color );\\n\\tcolor = ACESOutputMat * color;\\n\\treturn saturate( color );\\n}\\nvec3 CustomToneMapping( vec3 color ) { return color; }\";\n\nvar transmissionmap_fragment = \"#ifdef USE_TRANSMISSIONMAP\\n\\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\\n#endif\";\n\nvar transmissionmap_pars_fragment = \"#ifdef USE_TRANSMISSIONMAP\\n\\tuniform sampler2D transmissionMap;\\n#endif\";\n\nvar uv_pars_fragment = \"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\\n\\tvarying vec2 vUv;\\n#endif\";\n\nvar uv_pars_vertex = \"#ifdef USE_UV\\n\\t#ifdef UVS_VERTEX_ONLY\\n\\t\\tvec2 vUv;\\n\\t#else\\n\\t\\tvarying vec2 vUv;\\n\\t#endif\\n\\tuniform mat3 uvTransform;\\n#endif\";\n\nvar uv_vertex = \"#ifdef USE_UV\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n#endif\";\n\nvar uv2_pars_fragment = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif\";\n\nvar uv2_pars_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n\\tuniform mat3 uv2Transform;\\n#endif\";\n\nvar uv2_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\\n#endif\";\n\nvar worldpos_vertex = \"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\\n\\tvec4 worldPosition = vec4( transformed, 1.0 );\\n\\t#ifdef USE_INSTANCING\\n\\t\\tworldPosition = instanceMatrix * worldPosition;\\n\\t#endif\\n\\tworldPosition = modelMatrix * worldPosition;\\n#endif\";\n\nvar background_frag = \"uniform sampler2D t2D;\\nvarying vec2 vUv;\\nvoid main() {\\n\\tvec4 texColor = texture2D( t2D, vUv );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar background_vert = \"varying vec2 vUv;\\nuniform mat3 uvTransform;\\nvoid main() {\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n\\tgl_Position = vec4( position.xy, 1.0, 1.0 );\\n}\";\n\nvar cube_frag = \"#include <envmap_common_pars_fragment>\\nuniform float opacity;\\nvarying vec3 vWorldDirection;\\n#include <cube_uv_reflection_fragment>\\nvoid main() {\\n\\tvec3 vReflect = vWorldDirection;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = envColor;\\n\\tgl_FragColor.a *= opacity;\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar cube_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\tgl_Position.z = gl_Position.w;\\n}\";\n\nvar depth_frag = \"#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( fragCoordZ );\\n\\t#endif\\n}\";\n\nvar depth_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvHighPrecisionZW = gl_Position.zw;\\n}\";\n\nvar distanceRGBA_frag = \"#define DISTANCE\\nuniform vec3 referencePosition;\\nuniform float nearDistance;\\nuniform float farDistance;\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\tfloat dist = length( vWorldPosition - referencePosition );\\n\\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\\n\\tdist = saturate( dist );\\n\\tgl_FragColor = packDepthToRGBA( dist );\\n}\";\n\nvar distanceRGBA_vert = \"#define DISTANCE\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition.xyz;\\n}\";\n\nvar equirect_frag = \"uniform sampler2D tEquirect;\\nvarying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldDirection );\\n\\tvec2 sampleUV = equirectUv( direction );\\n\\tvec4 texColor = texture2D( tEquirect, sampleUV );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar equirect_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\";\n\nvar linedashed_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\nvar linedashed_vert = \"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\tvLineDistance = scale * lineDistance;\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshbasic_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\n\\t\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\t\\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include <aomap_fragment>\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshbasic_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_ENVMAP\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshlambert_frag = \"uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <emissivemap_fragment>\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vIndirectFront;\\n\\t#endif\\n\\t#include <lightmap_fragment>\\n\\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\t#else\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\t#endif\\n\\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshlambert_vert = \"#define LAMBERT\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshmatcap_frag = \"#define MATCAP\\nuniform vec3 diffuse;\\nuniform float opacity;\\nuniform sampler2D matcap;\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tvec3 viewDir = normalize( vViewPosition );\\n\\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\\n\\tvec3 y = cross( viewDir, x );\\n\\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\\n\\t#ifdef USE_MATCAP\\n\\t\\tvec4 matcapColor = texture2D( matcap, uv );\\n\\t\\tmatcapColor = matcapTexelToLinear( matcapColor );\\n\\t#else\\n\\t\\tvec4 matcapColor = vec4( 1.0 );\\n\\t#endif\\n\\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshmatcap_vert = \"#define MATCAP\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <color_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#ifndef FLAT_SHADED\\n\\t\\tvNormal = normalize( transformedNormal );\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n}\";\n\nvar meshtoon_frag = \"#define TOON\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_toon_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_toon_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshtoon_vert = \"#define TOON\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshphong_frag = \"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshphong_vert = \"#define PHONG\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshphysical_frag = \"#define STANDARD\\n#ifdef PHYSICAL\\n\\t#define REFLECTIVITY\\n\\t#define CLEARCOAT\\n\\t#define TRANSMISSION\\n#endif\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifdef TRANSMISSION\\n\\tuniform float transmission;\\n#endif\\n#ifdef REFLECTIVITY\\n\\tuniform float reflectivity;\\n#endif\\n#ifdef CLEARCOAT\\n\\tuniform float clearcoat;\\n\\tuniform float clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tuniform vec3 sheen;\\n#endif\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <transmissionmap_pars_fragment>\\n#include <bsdfs>\\n#include <cube_uv_reflection_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_physical_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <lights_pars_begin>\\n#include <lights_physical_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <clearcoat_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#ifdef TRANSMISSION\\n\\t\\tfloat totalTransmission = transmission;\\n\\t#endif\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <clearcoat_normal_fragment_begin>\\n\\t#include <clearcoat_normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <transmissionmap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#ifdef TRANSMISSION\\n\\t\\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\\n\\t#endif\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshphysical_vert = \"#define STANDARD\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar normal_frag = \"#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n}\";\n\nvar normal_vert = \"#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\";\n\nvar points_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\nvar points_vert = \"uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\tgl_PointSize = size;\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar shadow_frag = \"uniform vec3 color;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar shadow_vert = \"#include <common>\\n#include <fog_pars_vertex>\\n#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar sprite_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar sprite_vert = \"uniform float rotation;\\nuniform vec2 center;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\tvec2 scale;\\n\\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\\n\\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\\n\\t#ifndef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) scale *= - mvPosition.z;\\n\\t#endif\\n\\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\\n\\tvec2 rotatedPosition;\\n\\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\\n\\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\\n\\tmvPosition.xy += rotatedPosition;\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst ShaderChunk = {\n\talphamap_fragment: alphamap_fragment,\n\talphamap_pars_fragment: alphamap_pars_fragment,\n\talphatest_fragment: alphatest_fragment,\n\taomap_fragment: aomap_fragment,\n\taomap_pars_fragment: aomap_pars_fragment,\n\tbegin_vertex: begin_vertex,\n\tbeginnormal_vertex: beginnormal_vertex,\n\tbsdfs: bsdfs,\n\tbumpmap_pars_fragment: bumpmap_pars_fragment,\n\tclipping_planes_fragment: clipping_planes_fragment,\n\tclipping_planes_pars_fragment: clipping_planes_pars_fragment,\n\tclipping_planes_pars_vertex: clipping_planes_pars_vertex,\n\tclipping_planes_vertex: clipping_planes_vertex,\n\tcolor_fragment: color_fragment,\n\tcolor_pars_fragment: color_pars_fragment,\n\tcolor_pars_vertex: color_pars_vertex,\n\tcolor_vertex: color_vertex,\n\tcommon: common,\n\tcube_uv_reflection_fragment: cube_uv_reflection_fragment,\n\tdefaultnormal_vertex: defaultnormal_vertex,\n\tdisplacementmap_pars_vertex: displacementmap_pars_vertex,\n\tdisplacementmap_vertex: displacementmap_vertex,\n\temissivemap_fragment: emissivemap_fragment,\n\temissivemap_pars_fragment: emissivemap_pars_fragment,\n\tencodings_fragment: encodings_fragment,\n\tencodings_pars_fragment: encodings_pars_fragment,\n\tenvmap_fragment: envmap_fragment,\n\tenvmap_common_pars_fragment: envmap_common_pars_fragment,\n\tenvmap_pars_fragment: envmap_pars_fragment,\n\tenvmap_pars_vertex: envmap_pars_vertex,\n\tenvmap_physical_pars_fragment: envmap_physical_pars_fragment,\n\tenvmap_vertex: envmap_vertex,\n\tfog_vertex: fog_vertex,\n\tfog_pars_vertex: fog_pars_vertex,\n\tfog_fragment: fog_fragment,\n\tfog_pars_fragment: fog_pars_fragment,\n\tgradientmap_pars_fragment: gradientmap_pars_fragment,\n\tlightmap_fragment: lightmap_fragment,\n\tlightmap_pars_fragment: lightmap_pars_fragment,\n\tlights_lambert_vertex: lights_lambert_vertex,\n\tlights_pars_begin: lights_pars_begin,\n\tlights_toon_fragment: lights_toon_fragment,\n\tlights_toon_pars_fragment: lights_toon_pars_fragment,\n\tlights_phong_fragment: lights_phong_fragment,\n\tlights_phong_pars_fragment: lights_phong_pars_fragment,\n\tlights_physical_fragment: lights_physical_fragment,\n\tlights_physical_pars_fragment: lights_physical_pars_fragment,\n\tlights_fragment_begin: lights_fragment_begin,\n\tlights_fragment_maps: lights_fragment_maps,\n\tlights_fragment_end: lights_fragment_end,\n\tlogdepthbuf_fragment: logdepthbuf_fragment,\n\tlogdepthbuf_pars_fragment: logdepthbuf_pars_fragment,\n\tlogdepthbuf_pars_vertex: logdepthbuf_pars_vertex,\n\tlogdepthbuf_vertex: logdepthbuf_vertex,\n\tmap_fragment: map_fragment,\n\tmap_pars_fragment: map_pars_fragment,\n\tmap_particle_fragment: map_particle_fragment,\n\tmap_particle_pars_fragment: map_particle_pars_fragment,\n\tmetalnessmap_fragment: metalnessmap_fragment,\n\tmetalnessmap_pars_fragment: metalnessmap_pars_fragment,\n\tmorphnormal_vertex: morphnormal_vertex,\n\tmorphtarget_pars_vertex: morphtarget_pars_vertex,\n\tmorphtarget_vertex: morphtarget_vertex,\n\tnormal_fragment_begin: normal_fragment_begin,\n\tnormal_fragment_maps: normal_fragment_maps,\n\tnormalmap_pars_fragment: normalmap_pars_fragment,\n\tclearcoat_normal_fragment_begin: clearcoat_normal_fragment_begin,\n\tclearcoat_normal_fragment_maps: clearcoat_normal_fragment_maps,\n\tclearcoat_pars_fragment: clearcoat_pars_fragment,\n\tpacking: packing,\n\tpremultiplied_alpha_fragment: premultiplied_alpha_fragment,\n\tproject_vertex: project_vertex,\n\tdithering_fragment: dithering_fragment,\n\tdithering_pars_fragment: dithering_pars_fragment,\n\troughnessmap_fragment: roughnessmap_fragment,\n\troughnessmap_pars_fragment: roughnessmap_pars_fragment,\n\tshadowmap_pars_fragment: shadowmap_pars_fragment,\n\tshadowmap_pars_vertex: shadowmap_pars_vertex,\n\tshadowmap_vertex: shadowmap_vertex,\n\tshadowmask_pars_fragment: shadowmask_pars_fragment,\n\tskinbase_vertex: skinbase_vertex,\n\tskinning_pars_vertex: skinning_pars_vertex,\n\tskinning_vertex: skinning_vertex,\n\tskinnormal_vertex: skinnormal_vertex,\n\tspecularmap_fragment: specularmap_fragment,\n\tspecularmap_pars_fragment: specularmap_pars_fragment,\n\ttonemapping_fragment: tonemapping_fragment,\n\ttonemapping_pars_fragment: tonemapping_pars_fragment,\n\ttransmissionmap_fragment: transmissionmap_fragment,\n\ttransmissionmap_pars_fragment: transmissionmap_pars_fragment,\n\tuv_pars_fragment: uv_pars_fragment,\n\tuv_pars_vertex: uv_pars_vertex,\n\tuv_vertex: uv_vertex,\n\tuv2_pars_fragment: uv2_pars_fragment,\n\tuv2_pars_vertex: uv2_pars_vertex,\n\tuv2_vertex: uv2_vertex,\n\tworldpos_vertex: worldpos_vertex,\n\n\tbackground_frag: background_frag,\n\tbackground_vert: background_vert,\n\tcube_frag: cube_frag,\n\tcube_vert: cube_vert,\n\tdepth_frag: depth_frag,\n\tdepth_vert: depth_vert,\n\tdistanceRGBA_frag: distanceRGBA_frag,\n\tdistanceRGBA_vert: distanceRGBA_vert,\n\tequirect_frag: equirect_frag,\n\tequirect_vert: equirect_vert,\n\tlinedashed_frag: linedashed_frag,\n\tlinedashed_vert: linedashed_vert,\n\tmeshbasic_frag: meshbasic_frag,\n\tmeshbasic_vert: meshbasic_vert,\n\tmeshlambert_frag: meshlambert_frag,\n\tmeshlambert_vert: meshlambert_vert,\n\tmeshmatcap_frag: meshmatcap_frag,\n\tmeshmatcap_vert: meshmatcap_vert,\n\tmeshtoon_frag: meshtoon_frag,\n\tmeshtoon_vert: meshtoon_vert,\n\tmeshphong_frag: meshphong_frag,\n\tmeshphong_vert: meshphong_vert,\n\tmeshphysical_frag: meshphysical_frag,\n\tmeshphysical_vert: meshphysical_vert,\n\tnormal_frag: normal_frag,\n\tnormal_vert: normal_vert,\n\tpoints_frag: points_frag,\n\tpoints_vert: points_vert,\n\tshadow_frag: shadow_frag,\n\tshadow_vert: shadow_vert,\n\tsprite_frag: sprite_frag,\n\tsprite_vert: sprite_vert\n};\n\n/**\n * Uniforms library for shared webgl shaders\n */\n\nconst UniformsLib = {\n\n\tcommon: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\n\t\tmap: { value: null },\n\t\tuvTransform: { value: new Matrix3() },\n\t\tuv2Transform: { value: new Matrix3() },\n\n\t\talphaMap: { value: null },\n\n\t},\n\n\tspecularmap: {\n\n\t\tspecularMap: { value: null },\n\n\t},\n\n\tenvmap: {\n\n\t\tenvMap: { value: null },\n\t\tflipEnvMap: { value: - 1 },\n\t\treflectivity: { value: 1.0 },\n\t\trefractionRatio: { value: 0.98 },\n\t\tmaxMipLevel: { value: 0 }\n\n\t},\n\n\taomap: {\n\n\t\taoMap: { value: null },\n\t\taoMapIntensity: { value: 1 }\n\n\t},\n\n\tlightmap: {\n\n\t\tlightMap: { value: null },\n\t\tlightMapIntensity: { value: 1 }\n\n\t},\n\n\temissivemap: {\n\n\t\temissiveMap: { value: null }\n\n\t},\n\n\tbumpmap: {\n\n\t\tbumpMap: { value: null },\n\t\tbumpScale: { value: 1 }\n\n\t},\n\n\tnormalmap: {\n\n\t\tnormalMap: { value: null },\n\t\tnormalScale: { value: new Vector2( 1, 1 ) }\n\n\t},\n\n\tdisplacementmap: {\n\n\t\tdisplacementMap: { value: null },\n\t\tdisplacementScale: { value: 1 },\n\t\tdisplacementBias: { value: 0 }\n\n\t},\n\n\troughnessmap: {\n\n\t\troughnessMap: { value: null }\n\n\t},\n\n\tmetalnessmap: {\n\n\t\tmetalnessMap: { value: null }\n\n\t},\n\n\tgradientmap: {\n\n\t\tgradientMap: { value: null }\n\n\t},\n\n\tfog: {\n\n\t\tfogDensity: { value: 0.00025 },\n\t\tfogNear: { value: 1 },\n\t\tfogFar: { value: 2000 },\n\t\tfogColor: { value: new Color( 0xffffff ) }\n\n\t},\n\n\tlights: {\n\n\t\tambientLightColor: { value: [] },\n\n\t\tlightProbe: { value: [] },\n\n\t\tdirectionalLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tcolor: {}\n\t\t} },\n\n\t\tdirectionalLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowNormalBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tdirectionalShadowMap: { value: [] },\n\t\tdirectionalShadowMatrix: { value: [] },\n\n\t\tspotLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdirection: {},\n\t\t\tdistance: {},\n\t\t\tconeCos: {},\n\t\t\tpenumbraCos: {},\n\t\t\tdecay: {}\n\t\t} },\n\n\t\tspotLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowNormalBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tspotShadowMap: { value: [] },\n\t\tspotShadowMatrix: { value: [] },\n\n\t\tpointLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdecay: {},\n\t\t\tdistance: {}\n\t\t} },\n\n\t\tpointLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowNormalBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {},\n\t\t\tshadowCameraNear: {},\n\t\t\tshadowCameraFar: {}\n\t\t} },\n\n\t\tpointShadowMap: { value: [] },\n\t\tpointShadowMatrix: { value: [] },\n\n\t\themisphereLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tskyColor: {},\n\t\t\tgroundColor: {}\n\t\t} },\n\n\t\t// TODO (abelnation): RectAreaLight BRDF data needs to be moved from example to main src\n\t\trectAreaLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\twidth: {},\n\t\t\theight: {}\n\t\t} },\n\n\t\tltc_1: { value: null },\n\t\tltc_2: { value: null }\n\n\t},\n\n\tpoints: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\t\tsize: { value: 1.0 },\n\t\tscale: { value: 1.0 },\n\t\tmap: { value: null },\n\t\talphaMap: { value: null },\n\t\tuvTransform: { value: new Matrix3() }\n\n\t},\n\n\tsprite: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\t\tcenter: { value: new Vector2( 0.5, 0.5 ) },\n\t\trotation: { value: 0.0 },\n\t\tmap: { value: null },\n\t\talphaMap: { value: null },\n\t\tuvTransform: { value: new Matrix3() }\n\n\t}\n\n};\n\nconst ShaderLib = {\n\n\tbasic: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshbasic_vert,\n\t\tfragmentShader: ShaderChunk.meshbasic_frag\n\n\t},\n\n\tlambert: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshlambert_vert,\n\t\tfragmentShader: ShaderChunk.meshlambert_frag\n\n\t},\n\n\tphong: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\tspecular: { value: new Color( 0x111111 ) },\n\t\t\t\tshininess: { value: 30 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphong_vert,\n\t\tfragmentShader: ShaderChunk.meshphong_frag\n\n\t},\n\n\tstandard: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.roughnessmap,\n\t\t\tUniformsLib.metalnessmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\troughness: { value: 1.0 },\n\t\t\t\tmetalness: { value: 0.0 },\n\t\t\t\tenvMapIntensity: { value: 1 } // temporary\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphysical_vert,\n\t\tfragmentShader: ShaderChunk.meshphysical_frag\n\n\t},\n\n\ttoon: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.gradientmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshtoon_vert,\n\t\tfragmentShader: ShaderChunk.meshtoon_frag\n\n\t},\n\n\tmatcap: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tmatcap: { value: null }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshmatcap_vert,\n\t\tfragmentShader: ShaderChunk.meshmatcap_frag\n\n\t},\n\n\tpoints: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.points,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.points_vert,\n\t\tfragmentShader: ShaderChunk.points_frag\n\n\t},\n\n\tdashed: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tscale: { value: 1 },\n\t\t\t\tdashSize: { value: 1 },\n\t\t\t\ttotalSize: { value: 2 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.linedashed_vert,\n\t\tfragmentShader: ShaderChunk.linedashed_frag\n\n\t},\n\n\tdepth: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.depth_vert,\n\t\tfragmentShader: ShaderChunk.depth_frag\n\n\t},\n\n\tnormal: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.normal_vert,\n\t\tfragmentShader: ShaderChunk.normal_frag\n\n\t},\n\n\tsprite: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.sprite,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.sprite_vert,\n\t\tfragmentShader: ShaderChunk.sprite_frag\n\n\t},\n\n\tbackground: {\n\n\t\tuniforms: {\n\t\t\tuvTransform: { value: new Matrix3() },\n\t\t\tt2D: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.background_vert,\n\t\tfragmentShader: ShaderChunk.background_frag\n\n\t},\n\t/* -------------------------------------------------------------------------\n\t//\tCube map shader\n\t ------------------------------------------------------------------------- */\n\n\tcube: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.envmap,\n\t\t\t{\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.cube_vert,\n\t\tfragmentShader: ShaderChunk.cube_frag\n\n\t},\n\n\tequirect: {\n\n\t\tuniforms: {\n\t\t\ttEquirect: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.equirect_vert,\n\t\tfragmentShader: ShaderChunk.equirect_frag\n\n\t},\n\n\tdistanceRGBA: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\treferencePosition: { value: new Vector3() },\n\t\t\t\tnearDistance: { value: 1 },\n\t\t\t\tfarDistance: { value: 1000 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.distanceRGBA_vert,\n\t\tfragmentShader: ShaderChunk.distanceRGBA_frag\n\n\t},\n\n\tshadow: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.lights,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tcolor: { value: new Color( 0x00000 ) },\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t},\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.shadow_vert,\n\t\tfragmentShader: ShaderChunk.shadow_frag\n\n\t}\n\n};\n\nShaderLib.physical = {\n\n\tuniforms: mergeUniforms( [\n\t\tShaderLib.standard.uniforms,\n\t\t{\n\t\t\tclearcoat: { value: 0 },\n\t\t\tclearcoatMap: { value: null },\n\t\t\tclearcoatRoughness: { value: 0 },\n\t\t\tclearcoatRoughnessMap: { value: null },\n\t\t\tclearcoatNormalScale: { value: new Vector2( 1, 1 ) },\n\t\t\tclearcoatNormalMap: { value: null },\n\t\t\tsheen: { value: new Color( 0x000000 ) },\n\t\t\ttransmission: { value: 0 },\n\t\t\ttransmissionMap: { value: null },\n\t\t}\n\t] ),\n\n\tvertexShader: ShaderChunk.meshphysical_vert,\n\tfragmentShader: ShaderChunk.meshphysical_frag\n\n};\n\nfunction WebGLBackground( renderer, cubemaps, state, objects, premultipliedAlpha ) {\n\n\tconst clearColor = new Color( 0x000000 );\n\tlet clearAlpha = 0;\n\n\tlet planeMesh;\n\tlet boxMesh;\n\n\tlet currentBackground = null;\n\tlet currentBackgroundVersion = 0;\n\tlet currentTonemapping = null;\n\n\tfunction render( renderList, scene, camera, forceClear ) {\n\n\t\tlet background = scene.isScene === true ? scene.background : null;\n\n\t\tif ( background && background.isTexture ) {\n\n\t\t\tbackground = cubemaps.get( background );\n\n\t\t}\n\n\t\t// Ignore background in AR\n\t\t// TODO: Reconsider this.\n\n\t\tconst xr = renderer.xr;\n\t\tconst session = xr.getSession && xr.getSession();\n\n\t\tif ( session && session.environmentBlendMode === 'additive' ) {\n\n\t\t\tbackground = null;\n\n\t\t}\n\n\t\tif ( background === null ) {\n\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t} else if ( background && background.isColor ) {\n\n\t\t\tsetClear( background, 1 );\n\t\t\tforceClear = true;\n\n\t\t}\n\n\t\tif ( renderer.autoClear || forceClear ) {\n\n\t\t\trenderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\n\n\t\t}\n\n\t\tif ( background && ( background.isCubeTexture || background.isWebGLCubeRenderTarget || background.mapping === CubeUVReflectionMapping ) ) {\n\n\t\t\tif ( boxMesh === undefined ) {\n\n\t\t\t\tboxMesh = new Mesh(\n\t\t\t\t\tnew BoxBufferGeometry( 1, 1, 1 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\tname: 'BackgroundCubeMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.cube.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.cube.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.cube.fragmentShader,\n\t\t\t\t\t\tside: BackSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tboxMesh.geometry.deleteAttribute( 'normal' );\n\t\t\t\tboxMesh.geometry.deleteAttribute( 'uv' );\n\n\t\t\t\tboxMesh.onBeforeRender = function ( renderer, scene, camera ) {\n\n\t\t\t\t\tthis.matrixWorld.copyPosition( camera.matrixWorld );\n\n\t\t\t\t};\n\n\t\t\t\t// enable code injection for non-built-in material\n\t\t\t\tObject.defineProperty( boxMesh.material, 'envMap', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.envMap.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( boxMesh );\n\n\t\t\t}\n\n\t\t\tif ( background.isWebGLCubeRenderTarget ) {\n\n\t\t\t\t// TODO Deprecate\n\n\t\t\t\tbackground = background.texture;\n\n\t\t\t}\n\n\t\t\tboxMesh.material.uniforms.envMap.value = background;\n\t\t\tboxMesh.material.uniforms.flipEnvMap.value = ( background.isCubeTexture && background._needsFlipEnvMap ) ? - 1 : 1;\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t\tcurrentBackgroundVersion !== background.version ||\n\t\t\t\tcurrentTonemapping !== renderer.toneMapping ) {\n\n\t\t\t\tboxMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = background.version;\n\t\t\t\tcurrentTonemapping = renderer.toneMapping;\n\n\t\t\t}\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( boxMesh, boxMesh.geometry, boxMesh.material, 0, 0, null );\n\n\t\t} else if ( background && background.isTexture ) {\n\n\t\t\tif ( planeMesh === undefined ) {\n\n\t\t\t\tplaneMesh = new Mesh(\n\t\t\t\t\tnew PlaneBufferGeometry( 2, 2 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\tname: 'BackgroundMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.background.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.background.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.background.fragmentShader,\n\t\t\t\t\t\tside: FrontSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tplaneMesh.geometry.deleteAttribute( 'normal' );\n\n\t\t\t\t// enable code injection for non-built-in material\n\t\t\t\tObject.defineProperty( planeMesh.material, 'map', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.t2D.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( planeMesh );\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.t2D.value = background;\n\n\t\t\tif ( background.matrixAutoUpdate === true ) {\n\n\t\t\t\tbackground.updateMatrix();\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.uvTransform.value.copy( background.matrix );\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t\tcurrentBackgroundVersion !== background.version ||\n\t\t\t\tcurrentTonemapping !== renderer.toneMapping ) {\n\n\t\t\t\tplaneMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = background.version;\n\t\t\t\tcurrentTonemapping = renderer.toneMapping;\n\n\t\t\t}\n\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( planeMesh, planeMesh.geometry, planeMesh.material, 0, 0, null );\n\n\t\t}\n\n\t}\n\n\tfunction setClear( color, alpha ) {\n\n\t\tstate.buffers.color.setClear( color.r, color.g, color.b, alpha, premultipliedAlpha );\n\n\t}\n\n\treturn {\n\n\t\tgetClearColor: function () {\n\n\t\t\treturn clearColor;\n\n\t\t},\n\t\tsetClearColor: function ( color, alpha = 1 ) {\n\n\t\t\tclearColor.set( color );\n\t\t\tclearAlpha = alpha;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\tgetClearAlpha: function () {\n\n\t\t\treturn clearAlpha;\n\n\t\t},\n\t\tsetClearAlpha: function ( alpha ) {\n\n\t\t\tclearAlpha = alpha;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\trender: render\n\n\t};\n\n}\n\nfunction WebGLBindingStates( gl, extensions, attributes, capabilities ) {\n\n\tconst maxVertexAttributes = gl.getParameter( 34921 );\n\n\tconst extension = capabilities.isWebGL2 ? null : extensions.get( 'OES_vertex_array_object' );\n\tconst vaoAvailable = capabilities.isWebGL2 || extension !== null;\n\n\tconst bindingStates = {};\n\n\tconst defaultState = createBindingState( null );\n\tlet currentState = defaultState;\n\n\tfunction setup( object, material, program, geometry, index ) {\n\n\t\tlet updateBuffers = false;\n\n\t\tif ( vaoAvailable ) {\n\n\t\t\tconst state = getBindingState( geometry, program, material );\n\n\t\t\tif ( currentState !== state ) {\n\n\t\t\t\tcurrentState = state;\n\t\t\t\tbindVertexArrayObject( currentState.object );\n\n\t\t\t}\n\n\t\t\tupdateBuffers = needsUpdate( geometry, index );\n\n\t\t\tif ( updateBuffers ) saveCache( geometry, index );\n\n\t\t} else {\n\n\t\t\tconst wireframe = ( material.wireframe === true );\n\n\t\t\tif ( currentState.geometry !== geometry.id ||\n\t\t\t\tcurrentState.program !== program.id ||\n\t\t\t\tcurrentState.wireframe !== wireframe ) {\n\n\t\t\t\tcurrentState.geometry = geometry.id;\n\t\t\t\tcurrentState.program = program.id;\n\t\t\t\tcurrentState.wireframe = wireframe;\n\n\t\t\t\tupdateBuffers = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( object.isInstancedMesh === true ) {\n\n\t\t\tupdateBuffers = true;\n\n\t\t}\n\n\t\tif ( index !== null ) {\n\n\t\t\tattributes.update( index, 34963 );\n\n\t\t}\n\n\t\tif ( updateBuffers ) {\n\n\t\t\tsetupVertexAttributes( object, material, program, geometry );\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\tgl.bindBuffer( 34963, attributes.get( index ).buffer );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction createVertexArrayObject() {\n\n\t\tif ( capabilities.isWebGL2 ) return gl.createVertexArray();\n\n\t\treturn extension.createVertexArrayOES();\n\n\t}\n\n\tfunction bindVertexArrayObject( vao ) {\n\n\t\tif ( capabilities.isWebGL2 ) return gl.bindVertexArray( vao );\n\n\t\treturn extension.bindVertexArrayOES( vao );\n\n\t}\n\n\tfunction deleteVertexArrayObject( vao ) {\n\n\t\tif ( capabilities.isWebGL2 ) return gl.deleteVertexArray( vao );\n\n\t\treturn extension.deleteVertexArrayOES( vao );\n\n\t}\n\n\tfunction getBindingState( geometry, program, material ) {\n\n\t\tconst wireframe = ( material.wireframe === true );\n\n\t\tlet programMap = bindingStates[ geometry.id ];\n\n\t\tif ( programMap === undefined ) {\n\n\t\t\tprogramMap = {};\n\t\t\tbindingStates[ geometry.id ] = programMap;\n\n\t\t}\n\n\t\tlet stateMap = programMap[ program.id ];\n\n\t\tif ( stateMap === undefined ) {\n\n\t\t\tstateMap = {};\n\t\t\tprogramMap[ program.id ] = stateMap;\n\n\t\t}\n\n\t\tlet state = stateMap[ wireframe ];\n\n\t\tif ( state === undefined ) {\n\n\t\t\tstate = createBindingState( createVertexArrayObject() );\n\t\t\tstateMap[ wireframe ] = state;\n\n\t\t}\n\n\t\treturn state;\n\n\t}\n\n\tfunction createBindingState( vao ) {\n\n\t\tconst newAttributes = [];\n\t\tconst enabledAttributes = [];\n\t\tconst attributeDivisors = [];\n\n\t\tfor ( let i = 0; i < maxVertexAttributes; i ++ ) {\n\n\t\t\tnewAttributes[ i ] = 0;\n\t\t\tenabledAttributes[ i ] = 0;\n\t\t\tattributeDivisors[ i ] = 0;\n\n\t\t}\n\n\t\treturn {\n\n\t\t\t// for backward compatibility on non-VAO support browser\n\t\t\tgeometry: null,\n\t\t\tprogram: null,\n\t\t\twireframe: false,\n\n\t\t\tnewAttributes: newAttributes,\n\t\t\tenabledAttributes: enabledAttributes,\n\t\t\tattributeDivisors: attributeDivisors,\n\t\t\tobject: vao,\n\t\t\tattributes: {},\n\t\t\tindex: null\n\n\t\t};\n\n\t}\n\n\tfunction needsUpdate( geometry, index ) {\n\n\t\tconst cachedAttributes = currentState.attributes;\n\t\tconst geometryAttributes = geometry.attributes;\n\n\t\tlet attributesNum = 0;\n\n\t\tfor ( const key in geometryAttributes ) {\n\n\t\t\tconst cachedAttribute = cachedAttributes[ key ];\n\t\t\tconst geometryAttribute = geometryAttributes[ key ];\n\n\t\t\tif ( cachedAttribute === undefined ) return true;\n\n\t\t\tif ( cachedAttribute.attribute !== geometryAttribute ) return true;\n\n\t\t\tif ( cachedAttribute.data !== geometryAttribute.data ) return true;\n\n\t\t\tattributesNum ++;\n\n\t\t}\n\n\t\tif ( currentState.attributesNum !== attributesNum ) return true;\n\n\t\tif ( currentState.index !== index ) return true;\n\n\t\treturn false;\n\n\t}\n\n\tfunction saveCache( geometry, index ) {\n\n\t\tconst cache = {};\n\t\tconst attributes = geometry.attributes;\n\t\tlet attributesNum = 0;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tconst attribute = attributes[ key ];\n\n\t\t\tconst data = {};\n\t\t\tdata.attribute = attribute;\n\n\t\t\tif ( attribute.data ) {\n\n\t\t\t\tdata.data = attribute.data;\n\n\t\t\t}\n\n\t\t\tcache[ key ] = data;\n\n\t\t\tattributesNum ++;\n\n\t\t}\n\n\t\tcurrentState.attributes = cache;\n\t\tcurrentState.attributesNum = attributesNum;\n\n\t\tcurrentState.index = index;\n\n\t}\n\n\tfunction initAttributes() {\n\n\t\tconst newAttributes = currentState.newAttributes;\n\n\t\tfor ( let i = 0, il = newAttributes.length; i < il; i ++ ) {\n\n\t\t\tnewAttributes[ i ] = 0;\n\n\t\t}\n\n\t}\n\n\tfunction enableAttribute( attribute ) {\n\n\t\tenableAttributeAndDivisor( attribute, 0 );\n\n\t}\n\n\tfunction enableAttributeAndDivisor( attribute, meshPerAttribute ) {\n\n\t\tconst newAttributes = currentState.newAttributes;\n\t\tconst enabledAttributes = currentState.enabledAttributes;\n\t\tconst attributeDivisors = currentState.attributeDivisors;\n\n\t\tnewAttributes[ attribute ] = 1;\n\n\t\tif ( enabledAttributes[ attribute ] === 0 ) {\n\n\t\t\tgl.enableVertexAttribArray( attribute );\n\t\t\tenabledAttributes[ attribute ] = 1;\n\n\t\t}\n\n\t\tif ( attributeDivisors[ attribute ] !== meshPerAttribute ) {\n\n\t\t\tconst extension = capabilities.isWebGL2 ? gl : extensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t\textension[ capabilities.isWebGL2 ? 'vertexAttribDivisor' : 'vertexAttribDivisorANGLE' ]( attribute, meshPerAttribute );\n\t\t\tattributeDivisors[ attribute ] = meshPerAttribute;\n\n\t\t}\n\n\t}\n\n\tfunction disableUnusedAttributes() {\n\n\t\tconst newAttributes = currentState.newAttributes;\n\t\tconst enabledAttributes = currentState.enabledAttributes;\n\n\t\tfor ( let i = 0, il = enabledAttributes.length; i < il; i ++ ) {\n\n\t\t\tif ( enabledAttributes[ i ] !== newAttributes[ i ] ) {\n\n\t\t\t\tgl.disableVertexAttribArray( i );\n\t\t\t\tenabledAttributes[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction vertexAttribPointer( index, size, type, normalized, stride, offset ) {\n\n\t\tif ( capabilities.isWebGL2 === true && ( type === 5124 || type === 5125 ) ) {\n\n\t\t\tgl.vertexAttribIPointer( index, size, type, stride, offset );\n\n\t\t} else {\n\n\t\t\tgl.vertexAttribPointer( index, size, type, normalized, stride, offset );\n\n\t\t}\n\n\t}\n\n\tfunction setupVertexAttributes( object, material, program, geometry ) {\n\n\t\tif ( capabilities.isWebGL2 === false && ( object.isInstancedMesh || geometry.isInstancedBufferGeometry ) ) {\n\n\t\t\tif ( extensions.get( 'ANGLE_instanced_arrays' ) === null ) return;\n\n\t\t}\n\n\t\tinitAttributes();\n\n\t\tconst geometryAttributes = geometry.attributes;\n\n\t\tconst programAttributes = program.getAttributes();\n\n\t\tconst materialDefaultAttributeValues = material.defaultAttributeValues;\n\n\t\tfor ( const name in programAttributes ) {\n\n\t\t\tconst programAttribute = programAttributes[ name ];\n\n\t\t\tif ( programAttribute >= 0 ) {\n\n\t\t\t\tconst geometryAttribute = geometryAttributes[ name ];\n\n\t\t\t\tif ( geometryAttribute !== undefined ) {\n\n\t\t\t\t\tconst normalized = geometryAttribute.normalized;\n\t\t\t\t\tconst size = geometryAttribute.itemSize;\n\n\t\t\t\t\tconst attribute = attributes.get( geometryAttribute );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) continue;\n\n\t\t\t\t\tconst buffer = attribute.buffer;\n\t\t\t\t\tconst type = attribute.type;\n\t\t\t\t\tconst bytesPerElement = attribute.bytesPerElement;\n\n\t\t\t\t\tif ( geometryAttribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\t\t\tconst data = geometryAttribute.data;\n\t\t\t\t\t\tconst stride = data.stride;\n\t\t\t\t\t\tconst offset = geometryAttribute.offset;\n\n\t\t\t\t\t\tif ( data && data.isInstancedInterleavedBuffer ) {\n\n\t\t\t\t\t\t\tenableAttributeAndDivisor( programAttribute, data.meshPerAttribute );\n\n\t\t\t\t\t\t\tif ( geometry._maxInstanceCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry._maxInstanceCount = data.meshPerAttribute * data.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tenableAttribute( programAttribute );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgl.bindBuffer( 34962, buffer );\n\t\t\t\t\t\tvertexAttribPointer( programAttribute, size, type, normalized, stride * bytesPerElement, offset * bytesPerElement );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( geometryAttribute.isInstancedBufferAttribute ) {\n\n\t\t\t\t\t\t\tenableAttributeAndDivisor( programAttribute, geometryAttribute.meshPerAttribute );\n\n\t\t\t\t\t\t\tif ( geometry._maxInstanceCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry._maxInstanceCount = geometryAttribute.meshPerAttribute * geometryAttribute.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tenableAttribute( programAttribute );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgl.bindBuffer( 34962, buffer );\n\t\t\t\t\t\tvertexAttribPointer( programAttribute, size, type, normalized, 0, 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( name === 'instanceMatrix' ) {\n\n\t\t\t\t\tconst attribute = attributes.get( object.instanceMatrix );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) continue;\n\n\t\t\t\t\tconst buffer = attribute.buffer;\n\t\t\t\t\tconst type = attribute.type;\n\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute + 0, 1 );\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute + 1, 1 );\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute + 2, 1 );\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute + 3, 1 );\n\n\t\t\t\t\tgl.bindBuffer( 34962, buffer );\n\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute + 0, 4, type, false, 64, 0 );\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute + 1, 4, type, false, 64, 16 );\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute + 2, 4, type, false, 64, 32 );\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute + 3, 4, type, false, 64, 48 );\n\n\t\t\t\t} else if ( name === 'instanceColor' ) {\n\n\t\t\t\t\tconst attribute = attributes.get( object.instanceColor );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) continue;\n\n\t\t\t\t\tconst buffer = attribute.buffer;\n\t\t\t\t\tconst type = attribute.type;\n\n\t\t\t\t\tenableAttributeAndDivisor( programAttribute, 1 );\n\n\t\t\t\t\tgl.bindBuffer( 34962, buffer );\n\n\t\t\t\t\tgl.vertexAttribPointer( programAttribute, 3, type, false, 12, 0 );\n\n\t\t\t\t} else if ( materialDefaultAttributeValues !== undefined ) {\n\n\t\t\t\t\tconst value = materialDefaultAttributeValues[ name ];\n\n\t\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\t\tswitch ( value.length ) {\n\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\tgl.vertexAttrib2fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\tgl.vertexAttrib3fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\tgl.vertexAttrib4fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tgl.vertexAttrib1fv( programAttribute, value );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tdisableUnusedAttributes();\n\n\t}\n\n\tfunction dispose() {\n\n\t\treset();\n\n\t\tfor ( const geometryId in bindingStates ) {\n\n\t\t\tconst programMap = bindingStates[ geometryId ];\n\n\t\t\tfor ( const programId in programMap ) {\n\n\t\t\t\tconst stateMap = programMap[ programId ];\n\n\t\t\t\tfor ( const wireframe in stateMap ) {\n\n\t\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\n\n\t\t\t\t\tdelete stateMap[ wireframe ];\n\n\t\t\t\t}\n\n\t\t\t\tdelete programMap[ programId ];\n\n\t\t\t}\n\n\t\t\tdelete bindingStates[ geometryId ];\n\n\t\t}\n\n\t}\n\n\tfunction releaseStatesOfGeometry( geometry ) {\n\n\t\tif ( bindingStates[ geometry.id ] === undefined ) return;\n\n\t\tconst programMap = bindingStates[ geometry.id ];\n\n\t\tfor ( const programId in programMap ) {\n\n\t\t\tconst stateMap = programMap[ programId ];\n\n\t\t\tfor ( const wireframe in stateMap ) {\n\n\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\n\n\t\t\t\tdelete stateMap[ wireframe ];\n\n\t\t\t}\n\n\t\t\tdelete programMap[ programId ];\n\n\t\t}\n\n\t\tdelete bindingStates[ geometry.id ];\n\n\t}\n\n\tfunction releaseStatesOfProgram( program ) {\n\n\t\tfor ( const geometryId in bindingStates ) {\n\n\t\t\tconst programMap = bindingStates[ geometryId ];\n\n\t\t\tif ( programMap[ program.id ] === undefined ) continue;\n\n\t\t\tconst stateMap = programMap[ program.id ];\n\n\t\t\tfor ( const wireframe in stateMap ) {\n\n\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\n\n\t\t\t\tdelete stateMap[ wireframe ];\n\n\t\t\t}\n\n\t\t\tdelete programMap[ program.id ];\n\n\t\t}\n\n\t}\n\n\tfunction reset() {\n\n\t\tresetDefaultState();\n\n\t\tif ( currentState === defaultState ) return;\n\n\t\tcurrentState = defaultState;\n\t\tbindVertexArrayObject( currentState.object );\n\n\t}\n\n\t// for backward-compatilibity\n\n\tfunction resetDefaultState() {\n\n\t\tdefaultState.geometry = null;\n\t\tdefaultState.program = null;\n\t\tdefaultState.wireframe = false;\n\n\t}\n\n\treturn {\n\n\t\tsetup: setup,\n\t\treset: reset,\n\t\tresetDefaultState: resetDefaultState,\n\t\tdispose: dispose,\n\t\treleaseStatesOfGeometry: releaseStatesOfGeometry,\n\t\treleaseStatesOfProgram: releaseStatesOfProgram,\n\n\t\tinitAttributes: initAttributes,\n\t\tenableAttribute: enableAttribute,\n\t\tdisableUnusedAttributes: disableUnusedAttributes\n\n\t};\n\n}\n\nfunction WebGLBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tlet mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawArrays( mode, start, count );\n\n\t\tinfo.update( count, mode, 1 );\n\n\t}\n\n\tfunction renderInstances( start, count, primcount ) {\n\n\t\tif ( primcount === 0 ) return;\n\n\t\tlet extension, methodName;\n\n\t\tif ( isWebGL2 ) {\n\n\t\t\textension = gl;\n\t\t\tmethodName = 'drawArraysInstanced';\n\n\t\t} else {\n\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\n\t\t\tmethodName = 'drawArraysInstancedANGLE';\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ methodName ]( mode, start, count, primcount );\n\n\t\tinfo.update( count, mode, primcount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\nfunction WebGLCapabilities( gl, extensions, parameters ) {\n\n\tlet maxAnisotropy;\n\n\tfunction getMaxAnisotropy() {\n\n\t\tif ( maxAnisotropy !== undefined ) return maxAnisotropy;\n\n\t\tconst extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\tif ( extension !== null ) {\n\n\t\t\tmaxAnisotropy = gl.getParameter( extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT );\n\n\t\t} else {\n\n\t\t\tmaxAnisotropy = 0;\n\n\t\t}\n\n\t\treturn maxAnisotropy;\n\n\t}\n\n\tfunction getMaxPrecision( precision ) {\n\n\t\tif ( precision === 'highp' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36338 ).precision > 0 &&\n\t\t\t\tgl.getShaderPrecisionFormat( 35632, 36338 ).precision > 0 ) {\n\n\t\t\t\treturn 'highp';\n\n\t\t\t}\n\n\t\t\tprecision = 'mediump';\n\n\t\t}\n\n\t\tif ( precision === 'mediump' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36337 ).precision > 0 &&\n\t\t\t\tgl.getShaderPrecisionFormat( 35632, 36337 ).precision > 0 ) {\n\n\t\t\t\treturn 'mediump';\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn 'lowp';\n\n\t}\n\n\t/* eslint-disable no-undef */\n\tconst isWebGL2 = ( typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext ) ||\n\t\t( typeof WebGL2ComputeRenderingContext !== 'undefined' && gl instanceof WebGL2ComputeRenderingContext );\n\t/* eslint-enable no-undef */\n\n\tlet precision = parameters.precision !== undefined ? parameters.precision : 'highp';\n\tconst maxPrecision = getMaxPrecision( precision );\n\n\tif ( maxPrecision !== precision ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer:', precision, 'not supported, using', maxPrecision, 'instead.' );\n\t\tprecision = maxPrecision;\n\n\t}\n\n\tconst logarithmicDepthBuffer = parameters.logarithmicDepthBuffer === true;\n\n\tconst maxTextures = gl.getParameter( 34930 );\n\tconst maxVertexTextures = gl.getParameter( 35660 );\n\tconst maxTextureSize = gl.getParameter( 3379 );\n\tconst maxCubemapSize = gl.getParameter( 34076 );\n\n\tconst maxAttributes = gl.getParameter( 34921 );\n\tconst maxVertexUniforms = gl.getParameter( 36347 );\n\tconst maxVaryings = gl.getParameter( 36348 );\n\tconst maxFragmentUniforms = gl.getParameter( 36349 );\n\n\tconst vertexTextures = maxVertexTextures > 0;\n\tconst floatFragmentTextures = isWebGL2 || !! extensions.get( 'OES_texture_float' );\n\tconst floatVertexTextures = vertexTextures && floatFragmentTextures;\n\n\tconst maxSamples = isWebGL2 ? gl.getParameter( 36183 ) : 0;\n\n\treturn {\n\n\t\tisWebGL2: isWebGL2,\n\n\t\tgetMaxAnisotropy: getMaxAnisotropy,\n\t\tgetMaxPrecision: getMaxPrecision,\n\n\t\tprecision: precision,\n\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\n\t\tmaxTextures: maxTextures,\n\t\tmaxVertexTextures: maxVertexTextures,\n\t\tmaxTextureSize: maxTextureSize,\n\t\tmaxCubemapSize: maxCubemapSize,\n\n\t\tmaxAttributes: maxAttributes,\n\t\tmaxVertexUniforms: maxVertexUniforms,\n\t\tmaxVaryings: maxVaryings,\n\t\tmaxFragmentUniforms: maxFragmentUniforms,\n\n\t\tvertexTextures: vertexTextures,\n\t\tfloatFragmentTextures: floatFragmentTextures,\n\t\tfloatVertexTextures: floatVertexTextures,\n\n\t\tmaxSamples: maxSamples\n\n\t};\n\n}\n\nfunction WebGLClipping( properties ) {\n\n\tconst scope = this;\n\n\tlet globalState = null,\n\t\tnumGlobalPlanes = 0,\n\t\tlocalClippingEnabled = false,\n\t\trenderingShadows = false;\n\n\tconst plane = new Plane(),\n\t\tviewNormalMatrix = new Matrix3(),\n\n\t\tuniform = { value: null, needsUpdate: false };\n\n\tthis.uniform = uniform;\n\tthis.numPlanes = 0;\n\tthis.numIntersection = 0;\n\n\tthis.init = function ( planes, enableLocalClipping, camera ) {\n\n\t\tconst enabled =\n\t\t\tplanes.length !== 0 ||\n\t\t\tenableLocalClipping ||\n\t\t\t// enable state of previous frame - the clipping code has to\n\t\t\t// run another frame in order to reset the state:\n\t\t\tnumGlobalPlanes !== 0 ||\n\t\t\tlocalClippingEnabled;\n\n\t\tlocalClippingEnabled = enableLocalClipping;\n\n\t\tglobalState = projectPlanes( planes, camera, 0 );\n\t\tnumGlobalPlanes = planes.length;\n\n\t\treturn enabled;\n\n\t};\n\n\tthis.beginShadows = function () {\n\n\t\trenderingShadows = true;\n\t\tprojectPlanes( null );\n\n\t};\n\n\tthis.endShadows = function () {\n\n\t\trenderingShadows = false;\n\t\tresetGlobalState();\n\n\t};\n\n\tthis.setState = function ( material, camera, useCache ) {\n\n\t\tconst planes = material.clippingPlanes,\n\t\t\tclipIntersection = material.clipIntersection,\n\t\t\tclipShadows = material.clipShadows;\n\n\t\tconst materialProperties = properties.get( material );\n\n\t\tif ( ! localClippingEnabled || planes === null || planes.length === 0 || renderingShadows && ! clipShadows ) {\n\n\t\t\t// there's no local clipping\n\n\t\t\tif ( renderingShadows ) {\n\n\t\t\t\t// there's no global clipping\n\n\t\t\t\tprojectPlanes( null );\n\n\t\t\t} else {\n\n\t\t\t\tresetGlobalState();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst nGlobal = renderingShadows ? 0 : numGlobalPlanes,\n\t\t\t\tlGlobal = nGlobal * 4;\n\n\t\t\tlet dstArray = materialProperties.clippingState || null;\n\n\t\t\tuniform.value = dstArray; // ensure unique state\n\n\t\t\tdstArray = projectPlanes( planes, camera, lGlobal, useCache );\n\n\t\t\tfor ( let i = 0; i !== lGlobal; ++ i ) {\n\n\t\t\t\tdstArray[ i ] = globalState[ i ];\n\n\t\t\t}\n\n\t\t\tmaterialProperties.clippingState = dstArray;\n\t\t\tthis.numIntersection = clipIntersection ? this.numPlanes : 0;\n\t\t\tthis.numPlanes += nGlobal;\n\n\t\t}\n\n\n\t};\n\n\tfunction resetGlobalState() {\n\n\t\tif ( uniform.value !== globalState ) {\n\n\t\t\tuniform.value = globalState;\n\t\t\tuniform.needsUpdate = numGlobalPlanes > 0;\n\n\t\t}\n\n\t\tscope.numPlanes = numGlobalPlanes;\n\t\tscope.numIntersection = 0;\n\n\t}\n\n\tfunction projectPlanes( planes, camera, dstOffset, skipTransform ) {\n\n\t\tconst nPlanes = planes !== null ? planes.length : 0;\n\t\tlet dstArray = null;\n\n\t\tif ( nPlanes !== 0 ) {\n\n\t\t\tdstArray = uniform.value;\n\n\t\t\tif ( skipTransform !== true || dstArray === null ) {\n\n\t\t\t\tconst flatSize = dstOffset + nPlanes * 4,\n\t\t\t\t\tviewMatrix = camera.matrixWorldInverse;\n\n\t\t\t\tviewNormalMatrix.getNormalMatrix( viewMatrix );\n\n\t\t\t\tif ( dstArray === null || dstArray.length < flatSize ) {\n\n\t\t\t\t\tdstArray = new Float32Array( flatSize );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0, i4 = dstOffset; i !== nPlanes; ++ i, i4 += 4 ) {\n\n\t\t\t\t\tplane.copy( planes[ i ] ).applyMatrix4( viewMatrix, viewNormalMatrix );\n\n\t\t\t\t\tplane.normal.toArray( dstArray, i4 );\n\t\t\t\t\tdstArray[ i4 + 3 ] = plane.constant;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tuniform.value = dstArray;\n\t\t\tuniform.needsUpdate = true;\n\n\t\t}\n\n\t\tscope.numPlanes = nPlanes;\n\t\tscope.numIntersection = 0;\n\n\t\treturn dstArray;\n\n\t}\n\n}\n\nfunction WebGLCubeMaps( renderer ) {\n\n\tlet cubemaps = new WeakMap();\n\n\tfunction mapTextureMapping( texture, mapping ) {\n\n\t\tif ( mapping === EquirectangularReflectionMapping ) {\n\n\t\t\ttexture.mapping = CubeReflectionMapping;\n\n\t\t} else if ( mapping === EquirectangularRefractionMapping ) {\n\n\t\t\ttexture.mapping = CubeRefractionMapping;\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tfunction get( texture ) {\n\n\t\tif ( texture && texture.isTexture ) {\n\n\t\t\tconst mapping = texture.mapping;\n\n\t\t\tif ( mapping === EquirectangularReflectionMapping || mapping === EquirectangularRefractionMapping ) {\n\n\t\t\t\tif ( cubemaps.has( texture ) ) {\n\n\t\t\t\t\tconst cubemap = cubemaps.get( texture ).texture;\n\t\t\t\t\treturn mapTextureMapping( cubemap, texture.mapping );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst image = texture.image;\n\n\t\t\t\t\tif ( image && image.height > 0 ) {\n\n\t\t\t\t\t\tconst currentRenderList = renderer.getRenderList();\n\t\t\t\t\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\t\t\t\t\t\tconst currentRenderState = renderer.getRenderState();\n\n\t\t\t\t\t\tconst renderTarget = new WebGLCubeRenderTarget( image.height / 2 );\n\t\t\t\t\t\trenderTarget.fromEquirectangularTexture( renderer, texture );\n\t\t\t\t\t\tcubemaps.set( texture, renderTarget );\n\n\t\t\t\t\t\trenderer.setRenderTarget( currentRenderTarget );\n\t\t\t\t\t\trenderer.setRenderList( currentRenderList );\n\t\t\t\t\t\trenderer.setRenderState( currentRenderState );\n\n\t\t\t\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\t\t\t\treturn mapTextureMapping( renderTarget.texture, texture.mapping );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// image not yet ready. try the conversion next frame\n\n\t\t\t\t\t\treturn null;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tfunction onTextureDispose( event ) {\n\n\t\tconst texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tconst cubemap = cubemaps.get( texture );\n\n\t\tif ( cubemap !== undefined ) {\n\n\t\t\tcubemaps.delete( texture );\n\t\t\tcubemap.dispose();\n\n\t\t}\n\n\t}\n\n\tfunction dispose() {\n\n\t\tcubemaps = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\nfunction WebGLExtensions( gl ) {\n\n\tconst extensions = {};\n\n\treturn {\n\n\t\thas: function ( name ) {\n\n\t\t\tif ( extensions[ name ] !== undefined ) {\n\n\t\t\t\treturn extensions[ name ] !== null;\n\n\t\t\t}\n\n\t\t\tlet extension;\n\n\t\t\tswitch ( name ) {\n\n\t\t\t\tcase 'WEBGL_depth_texture':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_depth_texture' ) || gl.getExtension( 'MOZ_WEBGL_depth_texture' ) || gl.getExtension( 'WEBKIT_WEBGL_depth_texture' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'EXT_texture_filter_anisotropic':\n\t\t\t\t\textension = gl.getExtension( 'EXT_texture_filter_anisotropic' ) || gl.getExtension( 'MOZ_EXT_texture_filter_anisotropic' ) || gl.getExtension( 'WEBKIT_EXT_texture_filter_anisotropic' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'WEBGL_compressed_texture_s3tc':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'MOZ_WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_s3tc' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'WEBGL_compressed_texture_pvrtc':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_pvrtc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_pvrtc' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\textension = gl.getExtension( name );\n\n\t\t\t}\n\n\t\t\textensions[ name ] = extension;\n\n\t\t\treturn extension !== null;\n\n\t\t},\n\n\t\tget: function ( name ) {\n\n\t\t\tif ( ! this.has( name ) ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: ' + name + ' extension not supported.' );\n\n\t\t\t}\n\n\t\t\treturn extensions[ name ];\n\n\t\t}\n\n\t};\n\n}\n\nfunction WebGLGeometries( gl, attributes, info, bindingStates ) {\n\n\tconst geometries = new WeakMap();\n\tconst wireframeAttributes = new WeakMap();\n\n\tfunction onGeometryDispose( event ) {\n\n\t\tconst geometry = event.target;\n\t\tconst buffergeometry = geometries.get( geometry );\n\n\t\tif ( buffergeometry.index !== null ) {\n\n\t\t\tattributes.remove( buffergeometry.index );\n\n\t\t}\n\n\t\tfor ( const name in buffergeometry.attributes ) {\n\n\t\t\tattributes.remove( buffergeometry.attributes[ name ] );\n\n\t\t}\n\n\t\tgeometry.removeEventListener( 'dispose', onGeometryDispose );\n\n\t\tgeometries.delete( geometry );\n\n\t\tconst attribute = wireframeAttributes.get( buffergeometry );\n\n\t\tif ( attribute ) {\n\n\t\t\tattributes.remove( attribute );\n\t\t\twireframeAttributes.delete( buffergeometry );\n\n\t\t}\n\n\t\tbindingStates.releaseStatesOfGeometry( buffergeometry );\n\n\t\tif ( geometry.isInstancedBufferGeometry === true ) {\n\n\t\t\tdelete geometry._maxInstanceCount;\n\n\t\t}\n\n\t\t//\n\n\t\tinfo.memory.geometries --;\n\n\t}\n\n\tfunction get( object, geometry ) {\n\n\t\tlet buffergeometry = geometries.get( geometry );\n\n\t\tif ( buffergeometry ) return buffergeometry;\n\n\t\tgeometry.addEventListener( 'dispose', onGeometryDispose );\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tbuffergeometry = geometry;\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tif ( geometry._bufferGeometry === undefined ) {\n\n\t\t\t\tgeometry._bufferGeometry = new BufferGeometry().setFromObject( object );\n\n\t\t\t}\n\n\t\t\tbuffergeometry = geometry._bufferGeometry;\n\n\t\t}\n\n\t\tgeometries.set( geometry, buffergeometry );\n\n\t\tinfo.memory.geometries ++;\n\n\t\treturn buffergeometry;\n\n\t}\n\n\tfunction update( geometry ) {\n\n\t\tconst geometryAttributes = geometry.attributes;\n\n\t\t// Updating index buffer in VAO now. See WebGLBindingStates.\n\n\t\tfor ( const name in geometryAttributes ) {\n\n\t\t\tattributes.update( geometryAttributes[ name ], 34962 );\n\n\t\t}\n\n\t\t// morph targets\n\n\t\tconst morphAttributes = geometry.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst array = morphAttributes[ name ];\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tattributes.update( array[ i ], 34962 );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction updateWireframeAttribute( geometry ) {\n\n\t\tconst indices = [];\n\n\t\tconst geometryIndex = geometry.index;\n\t\tconst geometryPosition = geometry.attributes.position;\n\t\tlet version = 0;\n\n\t\tif ( geometryIndex !== null ) {\n\n\t\t\tconst array = geometryIndex.array;\n\t\t\tversion = geometryIndex.version;\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\t\tconst a = array[ i + 0 ];\n\t\t\t\tconst b = array[ i + 1 ];\n\t\t\t\tconst c = array[ i + 2 ];\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst array = geometryPosition.array;\n\t\t\tversion = geometryPosition.version;\n\n\t\t\tfor ( let i = 0, l = ( array.length / 3 ) - 1; i < l; i += 3 ) {\n\n\t\t\t\tconst a = i + 0;\n\t\t\t\tconst b = i + 1;\n\t\t\t\tconst c = i + 2;\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst attribute = new ( arrayMax( indices ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( indices, 1 );\n\t\tattribute.version = version;\n\n\t\t// Updating index buffer in VAO now. See WebGLBindingStates\n\n\t\t//\n\n\t\tconst previousAttribute = wireframeAttributes.get( geometry );\n\n\t\tif ( previousAttribute ) attributes.remove( previousAttribute );\n\n\t\t//\n\n\t\twireframeAttributes.set( geometry, attribute );\n\n\t}\n\n\tfunction getWireframeAttribute( geometry ) {\n\n\t\tconst currentAttribute = wireframeAttributes.get( geometry );\n\n\t\tif ( currentAttribute ) {\n\n\t\t\tconst geometryIndex = geometry.index;\n\n\t\t\tif ( geometryIndex !== null ) {\n\n\t\t\t\t// if the attribute is obsolete, create a new one\n\n\t\t\t\tif ( currentAttribute.version < geometryIndex.version ) {\n\n\t\t\t\t\tupdateWireframeAttribute( geometry );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tupdateWireframeAttribute( geometry );\n\n\t\t}\n\n\t\treturn wireframeAttributes.get( geometry );\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tupdate: update,\n\n\t\tgetWireframeAttribute: getWireframeAttribute\n\n\t};\n\n}\n\nfunction WebGLIndexedBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tlet mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tlet type, bytesPerElement;\n\n\tfunction setIndex( value ) {\n\n\t\ttype = value.type;\n\t\tbytesPerElement = value.bytesPerElement;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawElements( mode, count, type, start * bytesPerElement );\n\n\t\tinfo.update( count, mode, 1 );\n\n\t}\n\n\tfunction renderInstances( start, count, primcount ) {\n\n\t\tif ( primcount === 0 ) return;\n\n\t\tlet extension, methodName;\n\n\t\tif ( isWebGL2 ) {\n\n\t\t\textension = gl;\n\t\t\tmethodName = 'drawElementsInstanced';\n\n\t\t} else {\n\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\n\t\t\tmethodName = 'drawElementsInstancedANGLE';\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ methodName ]( mode, count, type, start * bytesPerElement, primcount );\n\n\t\tinfo.update( count, mode, primcount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.setIndex = setIndex;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\nfunction WebGLInfo( gl ) {\n\n\tconst memory = {\n\t\tgeometries: 0,\n\t\ttextures: 0\n\t};\n\n\tconst render = {\n\t\tframe: 0,\n\t\tcalls: 0,\n\t\ttriangles: 0,\n\t\tpoints: 0,\n\t\tlines: 0\n\t};\n\n\tfunction update( count, mode, instanceCount ) {\n\n\t\trender.calls ++;\n\n\t\tswitch ( mode ) {\n\n\t\t\tcase 4:\n\t\t\t\trender.triangles += instanceCount * ( count / 3 );\n\t\t\t\tbreak;\n\n\t\t\tcase 1:\n\t\t\t\trender.lines += instanceCount * ( count / 2 );\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\t\t\t\trender.lines += instanceCount * ( count - 1 );\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\trender.lines += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tcase 0:\n\t\t\t\trender.points += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.error( 'THREE.WebGLInfo: Unknown draw mode:', mode );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction reset() {\n\n\t\trender.frame ++;\n\t\trender.calls = 0;\n\t\trender.triangles = 0;\n\t\trender.points = 0;\n\t\trender.lines = 0;\n\n\t}\n\n\treturn {\n\t\tmemory: memory,\n\t\trender: render,\n\t\tprograms: null,\n\t\tautoReset: true,\n\t\treset: reset,\n\t\tupdate: update\n\t};\n\n}\n\nfunction numericalSort( a, b ) {\n\n\treturn a[ 0 ] - b[ 0 ];\n\n}\n\nfunction absNumericalSort( a, b ) {\n\n\treturn Math.abs( b[ 1 ] ) - Math.abs( a[ 1 ] );\n\n}\n\nfunction WebGLMorphtargets( gl ) {\n\n\tconst influencesList = {};\n\tconst morphInfluences = new Float32Array( 8 );\n\n\tconst workInfluences = [];\n\n\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\tworkInfluences[ i ] = [ i, 0 ];\n\n\t}\n\n\tfunction update( object, geometry, material, program ) {\n\n\t\tconst objectInfluences = object.morphTargetInfluences;\n\n\t\t// When object doesn't have morph target influences defined, we treat it as a 0-length array\n\t\t// This is important to make sure we set up morphTargetBaseInfluence / morphTargetInfluences\n\n\t\tconst length = objectInfluences === undefined ? 0 : objectInfluences.length;\n\n\t\tlet influences = influencesList[ geometry.id ];\n\n\t\tif ( influences === undefined ) {\n\n\t\t\t// initialise list\n\n\t\t\tinfluences = [];\n\n\t\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\t\tinfluences[ i ] = [ i, 0 ];\n\n\t\t\t}\n\n\t\t\tinfluencesList[ geometry.id ] = influences;\n\n\t\t}\n\n\t\t// Collect influences\n\n\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\tconst influence = influences[ i ];\n\n\t\t\tinfluence[ 0 ] = i;\n\t\t\tinfluence[ 1 ] = objectInfluences[ i ];\n\n\t\t}\n\n\t\tinfluences.sort( absNumericalSort );\n\n\t\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\t\tif ( i < length && influences[ i ][ 1 ] ) {\n\n\t\t\t\tworkInfluences[ i ][ 0 ] = influences[ i ][ 0 ];\n\t\t\t\tworkInfluences[ i ][ 1 ] = influences[ i ][ 1 ];\n\n\t\t\t} else {\n\n\t\t\t\tworkInfluences[ i ][ 0 ] = Number.MAX_SAFE_INTEGER;\n\t\t\t\tworkInfluences[ i ][ 1 ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tworkInfluences.sort( numericalSort );\n\n\t\tconst morphTargets = material.morphTargets && geometry.morphAttributes.position;\n\t\tconst morphNormals = material.morphNormals && geometry.morphAttributes.normal;\n\n\t\tlet morphInfluencesSum = 0;\n\n\t\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\t\tconst influence = workInfluences[ i ];\n\t\t\tconst index = influence[ 0 ];\n\t\t\tconst value = influence[ 1 ];\n\n\t\t\tif ( index !== Number.MAX_SAFE_INTEGER && value ) {\n\n\t\t\t\tif ( morphTargets && geometry.getAttribute( 'morphTarget' + i ) !== morphTargets[ index ] ) {\n\n\t\t\t\t\tgeometry.setAttribute( 'morphTarget' + i, morphTargets[ index ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( morphNormals && geometry.getAttribute( 'morphNormal' + i ) !== morphNormals[ index ] ) {\n\n\t\t\t\t\tgeometry.setAttribute( 'morphNormal' + i, morphNormals[ index ] );\n\n\t\t\t\t}\n\n\t\t\t\tmorphInfluences[ i ] = value;\n\t\t\t\tmorphInfluencesSum += value;\n\n\t\t\t} else {\n\n\t\t\t\tif ( morphTargets && geometry.hasAttribute( 'morphTarget' + i ) === true ) {\n\n\t\t\t\t\tgeometry.deleteAttribute( 'morphTarget' + i );\n\n\t\t\t\t}\n\n\t\t\t\tif ( morphNormals && geometry.hasAttribute( 'morphNormal' + i ) === true ) {\n\n\t\t\t\t\tgeometry.deleteAttribute( 'morphNormal' + i );\n\n\t\t\t\t}\n\n\t\t\t\tmorphInfluences[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// GLSL shader uses formula baseinfluence * base + sum(target * influence)\n\t\t// This allows us to switch between absolute morphs and relative morphs without changing shader code\n\t\t// When baseinfluence = 1 - sum(influence), the above is equivalent to sum((target - base) * influence)\n\t\tconst morphBaseInfluence = geometry.morphTargetsRelative ? 1 : 1 - morphInfluencesSum;\n\n\t\tprogram.getUniforms().setValue( gl, 'morphTargetBaseInfluence', morphBaseInfluence );\n\t\tprogram.getUniforms().setValue( gl, 'morphTargetInfluences', morphInfluences );\n\n\t}\n\n\treturn {\n\n\t\tupdate: update\n\n\t};\n\n}\n\nfunction WebGLObjects( gl, geometries, attributes, info ) {\n\n\tlet updateMap = new WeakMap();\n\n\tfunction update( object ) {\n\n\t\tconst frame = info.render.frame;\n\n\t\tconst geometry = object.geometry;\n\t\tconst buffergeometry = geometries.get( object, geometry );\n\n\t\t// Update once per frame\n\n\t\tif ( updateMap.get( buffergeometry ) !== frame ) {\n\n\t\t\tif ( geometry.isGeometry ) {\n\n\t\t\t\tbuffergeometry.updateFromObject( object );\n\n\t\t\t}\n\n\t\t\tgeometries.update( buffergeometry );\n\n\t\t\tupdateMap.set( buffergeometry, frame );\n\n\t\t}\n\n\t\tif ( object.isInstancedMesh ) {\n\n\t\t\tattributes.update( object.instanceMatrix, 34962 );\n\n\t\t\tif ( object.instanceColor !== null ) {\n\n\t\t\t\tattributes.update( object.instanceColor, 34962 );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn buffergeometry;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tupdateMap = new WeakMap();\n\n\t}\n\n\treturn {\n\n\t\tupdate: update,\n\t\tdispose: dispose\n\n\t};\n\n}\n\nfunction DataTexture2DArray( data = null, width = 1, height = 1, depth = 1 ) {\n\n\tTexture.call( this, null );\n\n\tthis.image = { data, width, height, depth };\n\n\tthis.magFilter = NearestFilter;\n\tthis.minFilter = NearestFilter;\n\n\tthis.wrapR = ClampToEdgeWrapping;\n\n\tthis.generateMipmaps = false;\n\tthis.flipY = false;\n\n\tthis.needsUpdate = true;\n\n}\n\nDataTexture2DArray.prototype = Object.create( Texture.prototype );\nDataTexture2DArray.prototype.constructor = DataTexture2DArray;\nDataTexture2DArray.prototype.isDataTexture2DArray = true;\n\nfunction DataTexture3D( data = null, width = 1, height = 1, depth = 1 ) {\n\n\t// We're going to add .setXXX() methods for setting properties later.\n\t// Users can still set in DataTexture3D directly.\n\t//\n\t//\tconst texture = new THREE.DataTexture3D( data, width, height, depth );\n\t// \ttexture.anisotropy = 16;\n\t//\n\t// See #14839\n\n\tTexture.call( this, null );\n\n\tthis.image = { data, width, height, depth };\n\n\tthis.magFilter = NearestFilter;\n\tthis.minFilter = NearestFilter;\n\n\tthis.wrapR = ClampToEdgeWrapping;\n\n\tthis.generateMipmaps = false;\n\tthis.flipY = false;\n\n\tthis.needsUpdate = true;\n\n\n}\n\nDataTexture3D.prototype = Object.create( Texture.prototype );\nDataTexture3D.prototype.constructor = DataTexture3D;\nDataTexture3D.prototype.isDataTexture3D = true;\n\n/**\n * Uniforms of a program.\n * Those form a tree structure with a special top-level container for the root,\n * which you get by calling 'new WebGLUniforms( gl, program )'.\n *\n *\n * Properties of inner nodes including the top-level container:\n *\n * .seq - array of nested uniforms\n * .map - nested uniforms by name\n *\n *\n * Methods of all nodes except the top-level container:\n *\n * .setValue( gl, value, [textures] )\n *\n * \t\tuploads a uniform value(s)\n *  \tthe 'textures' parameter is needed for sampler uniforms\n *\n *\n * Static methods of the top-level container (textures factorizations):\n *\n * .upload( gl, seq, values, textures )\n *\n * \t\tsets uniforms in 'seq' to 'values[id].value'\n *\n * .seqWithValue( seq, values ) : filteredSeq\n *\n * \t\tfilters 'seq' entries with corresponding entry in values\n *\n *\n * Methods of the top-level container (textures factorizations):\n *\n * .setValue( gl, name, value, textures )\n *\n * \t\tsets uniform with  name 'name' to 'value'\n *\n * .setOptional( gl, obj, prop )\n *\n * \t\tlike .set for an optional property of the object\n *\n */\n\nconst emptyTexture = new Texture();\nconst emptyTexture2dArray = new DataTexture2DArray();\nconst emptyTexture3d = new DataTexture3D();\nconst emptyCubeTexture = new CubeTexture();\n\n// --- Utilities ---\n\n// Array Caches (provide typed arrays for temporary by size)\n\nconst arrayCacheF32 = [];\nconst arrayCacheI32 = [];\n\n// Float32Array caches used for uploading Matrix uniforms\n\nconst mat4array = new Float32Array( 16 );\nconst mat3array = new Float32Array( 9 );\nconst mat2array = new Float32Array( 4 );\n\n// Flattening for arrays of vectors and matrices\n\nfunction flatten( array, nBlocks, blockSize ) {\n\n\tconst firstElem = array[ 0 ];\n\n\tif ( firstElem <= 0 || firstElem > 0 ) return array;\n\t// unoptimized: ! isNaN( firstElem )\n\t// see http://jacksondunstan.com/articles/983\n\n\tconst n = nBlocks * blockSize;\n\tlet r = arrayCacheF32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Float32Array( n );\n\t\tarrayCacheF32[ n ] = r;\n\n\t}\n\n\tif ( nBlocks !== 0 ) {\n\n\t\tfirstElem.toArray( r, 0 );\n\n\t\tfor ( let i = 1, offset = 0; i !== nBlocks; ++ i ) {\n\n\t\t\toffset += blockSize;\n\t\t\tarray[ i ].toArray( r, offset );\n\n\t\t}\n\n\t}\n\n\treturn r;\n\n}\n\nfunction arraysEqual( a, b ) {\n\n\tif ( a.length !== b.length ) return false;\n\n\tfor ( let i = 0, l = a.length; i < l; i ++ ) {\n\n\t\tif ( a[ i ] !== b[ i ] ) return false;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction copyArray( a, b ) {\n\n\tfor ( let i = 0, l = b.length; i < l; i ++ ) {\n\n\t\ta[ i ] = b[ i ];\n\n\t}\n\n}\n\n// Texture unit allocation\n\nfunction allocTexUnits( textures, n ) {\n\n\tlet r = arrayCacheI32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Int32Array( n );\n\t\tarrayCacheI32[ n ] = r;\n\n\t}\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\tr[ i ] = textures.allocateTextureUnit();\n\n\t}\n\n\treturn r;\n\n}\n\n// --- Setters ---\n\n// Note: Defining these methods externally, because they come in a bunch\n// and this way their names minify.\n\n// Single scalar\n\nfunction setValueV1f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1f( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single float vector (from flat array or THREE.VectorN)\n\nfunction setValueV2f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y ) {\n\n\t\t\tgl.uniform2f( this.addr, v.x, v.y );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform2fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV3f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z ) {\n\n\t\t\tgl.uniform3f( this.addr, v.x, v.y, v.z );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\n\t\t}\n\n\t} else if ( v.r !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.r || cache[ 1 ] !== v.g || cache[ 2 ] !== v.b ) {\n\n\t\t\tgl.uniform3f( this.addr, v.r, v.g, v.b );\n\n\t\t\tcache[ 0 ] = v.r;\n\t\t\tcache[ 1 ] = v.g;\n\t\t\tcache[ 2 ] = v.b;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform3fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV4f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z || cache[ 3 ] !== v.w ) {\n\n\t\t\tgl.uniform4f( this.addr, v.x, v.y, v.z, v.w );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\t\t\tcache[ 3 ] = v.w;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform4fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\n// Single matrix (from flat array or MatrixN)\n\nfunction setValueM2( gl, v ) {\n\n\tconst cache = this.cache;\n\tconst elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix2fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat2array.set( elements );\n\n\t\tgl.uniformMatrix2fv( this.addr, false, mat2array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValueM3( gl, v ) {\n\n\tconst cache = this.cache;\n\tconst elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix3fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat3array.set( elements );\n\n\t\tgl.uniformMatrix3fv( this.addr, false, mat3array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValueM4( gl, v ) {\n\n\tconst cache = this.cache;\n\tconst elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix4fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat4array.set( elements );\n\n\t\tgl.uniformMatrix4fv( this.addr, false, mat4array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\n// Single texture (2D / Cube)\n\nfunction setValueT1( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.safeSetTexture2D( v || emptyTexture, unit );\n\n}\n\nfunction setValueT2DArray1( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTexture2DArray( v || emptyTexture2dArray, unit );\n\n}\n\nfunction setValueT3D1( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTexture3D( v || emptyTexture3d, unit );\n\n}\n\nfunction setValueT6( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.safeSetTextureCube( v || emptyCubeTexture, unit );\n\n}\n\n// Integer / Boolean vectors or arrays thereof (always flat arrays)\n\nfunction setValueV1i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1i( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\nfunction setValueV2i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform2iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV3i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform3iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV4i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform4iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\n// uint\n\nfunction setValueV1ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1ui( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Helper to pick the right setter for the singular case\n\nfunction getSingularSetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValueV1f; // FLOAT\n\t\tcase 0x8b50: return setValueV2f; // _VEC2\n\t\tcase 0x8b51: return setValueV3f; // _VEC3\n\t\tcase 0x8b52: return setValueV4f; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2; // _MAT2\n\t\tcase 0x8b5b: return setValueM3; // _MAT3\n\t\tcase 0x8b5c: return setValueM4; // _MAT4\n\n\t\tcase 0x1404: case 0x8b56: return setValueV1i; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValueV2i; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValueV3i; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValueV4i; // _VEC4\n\n\t\tcase 0x1405: return setValueV1ui; // UINT\n\n\t\tcase 0x8b5e: // SAMPLER_2D\n\t\tcase 0x8d66: // SAMPLER_EXTERNAL_OES\n\t\tcase 0x8dca: // INT_SAMPLER_2D\n\t\tcase 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\t\tcase 0x8b62: // SAMPLER_2D_SHADOW\n\t\t\treturn setValueT1;\n\n\t\tcase 0x8b5f: // SAMPLER_3D\n\t\tcase 0x8dcb: // INT_SAMPLER_3D\n\t\tcase 0x8dd3: // UNSIGNED_INT_SAMPLER_3D\n\t\t\treturn setValueT3D1;\n\n\t\tcase 0x8b60: // SAMPLER_CUBE\n\t\tcase 0x8dcc: // INT_SAMPLER_CUBE\n\t\tcase 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\t\tcase 0x8dc5: // SAMPLER_CUBE_SHADOW\n\t\t\treturn setValueT6;\n\n\t\tcase 0x8dc1: // SAMPLER_2D_ARRAY\n\t\tcase 0x8dcf: // INT_SAMPLER_2D_ARRAY\n\t\tcase 0x8dd7: // UNSIGNED_INT_SAMPLER_2D_ARRAY\n\t\tcase 0x8dc4: // SAMPLER_2D_ARRAY_SHADOW\n\t\t\treturn setValueT2DArray1;\n\n\t}\n\n}\n\n// Array of scalars\nfunction setValueV1fArray( gl, v ) {\n\n\tgl.uniform1fv( this.addr, v );\n\n}\n\n// Integer / Boolean vectors or arrays thereof (always flat arrays)\nfunction setValueV1iArray( gl, v ) {\n\n\tgl.uniform1iv( this.addr, v );\n\n}\n\nfunction setValueV2iArray( gl, v ) {\n\n\tgl.uniform2iv( this.addr, v );\n\n}\n\nfunction setValueV3iArray( gl, v ) {\n\n\tgl.uniform3iv( this.addr, v );\n\n}\n\nfunction setValueV4iArray( gl, v ) {\n\n\tgl.uniform4iv( this.addr, v );\n\n}\n\n\n// Array of vectors (flat or from THREE classes)\n\nfunction setValueV2fArray( gl, v ) {\n\n\tconst data = flatten( v, this.size, 2 );\n\n\tgl.uniform2fv( this.addr, data );\n\n}\n\nfunction setValueV3fArray( gl, v ) {\n\n\tconst data = flatten( v, this.size, 3 );\n\n\tgl.uniform3fv( this.addr, data );\n\n}\n\nfunction setValueV4fArray( gl, v ) {\n\n\tconst data = flatten( v, this.size, 4 );\n\n\tgl.uniform4fv( this.addr, data );\n\n}\n\n// Array of matrices (flat or from THREE clases)\n\nfunction setValueM2Array( gl, v ) {\n\n\tconst data = flatten( v, this.size, 4 );\n\n\tgl.uniformMatrix2fv( this.addr, false, data );\n\n}\n\nfunction setValueM3Array( gl, v ) {\n\n\tconst data = flatten( v, this.size, 9 );\n\n\tgl.uniformMatrix3fv( this.addr, false, data );\n\n}\n\nfunction setValueM4Array( gl, v ) {\n\n\tconst data = flatten( v, this.size, 16 );\n\n\tgl.uniformMatrix4fv( this.addr, false, data );\n\n}\n\n// Array of textures (2D / Cube)\n\nfunction setValueT1Array( gl, v, textures ) {\n\n\tconst n = v.length;\n\n\tconst units = allocTexUnits( textures, n );\n\n\tgl.uniform1iv( this.addr, units );\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\ttextures.safeSetTexture2D( v[ i ] || emptyTexture, units[ i ] );\n\n\t}\n\n}\n\nfunction setValueT6Array( gl, v, textures ) {\n\n\tconst n = v.length;\n\n\tconst units = allocTexUnits( textures, n );\n\n\tgl.uniform1iv( this.addr, units );\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\ttextures.safeSetTextureCube( v[ i ] || emptyCubeTexture, units[ i ] );\n\n\t}\n\n}\n\n// Helper to pick the right setter for a pure (bottom-level) array\n\nfunction getPureArraySetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValueV1fArray; // FLOAT\n\t\tcase 0x8b50: return setValueV2fArray; // _VEC2\n\t\tcase 0x8b51: return setValueV3fArray; // _VEC3\n\t\tcase 0x8b52: return setValueV4fArray; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2Array; // _MAT2\n\t\tcase 0x8b5b: return setValueM3Array; // _MAT3\n\t\tcase 0x8b5c: return setValueM4Array; // _MAT4\n\n\t\tcase 0x1404: case 0x8b56: return setValueV1iArray; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValueV2iArray; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValueV3iArray; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValueV4iArray; // _VEC4\n\n\t\tcase 0x8b5e: // SAMPLER_2D\n\t\tcase 0x8d66: // SAMPLER_EXTERNAL_OES\n\t\tcase 0x8dca: // INT_SAMPLER_2D\n\t\tcase 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\t\tcase 0x8b62: // SAMPLER_2D_SHADOW\n\t\t\treturn setValueT1Array;\n\n\t\tcase 0x8b60: // SAMPLER_CUBE\n\t\tcase 0x8dcc: // INT_SAMPLER_CUBE\n\t\tcase 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\t\tcase 0x8dc5: // SAMPLER_CUBE_SHADOW\n\t\t\treturn setValueT6Array;\n\n\t}\n\n}\n\n// --- Uniform Classes ---\n\nfunction SingleUniform( id, activeInfo, addr ) {\n\n\tthis.id = id;\n\tthis.addr = addr;\n\tthis.cache = [];\n\tthis.setValue = getSingularSetter( activeInfo.type );\n\n\t// this.path = activeInfo.name; // DEBUG\n\n}\n\nfunction PureArrayUniform( id, activeInfo, addr ) {\n\n\tthis.id = id;\n\tthis.addr = addr;\n\tthis.cache = [];\n\tthis.size = activeInfo.size;\n\tthis.setValue = getPureArraySetter( activeInfo.type );\n\n\t// this.path = activeInfo.name; // DEBUG\n\n}\n\nPureArrayUniform.prototype.updateCache = function ( data ) {\n\n\tconst cache = this.cache;\n\n\tif ( data instanceof Float32Array && cache.length !== data.length ) {\n\n\t\tthis.cache = new Float32Array( data.length );\n\n\t}\n\n\tcopyArray( cache, data );\n\n};\n\nfunction StructuredUniform( id ) {\n\n\tthis.id = id;\n\n\tthis.seq = [];\n\tthis.map = {};\n\n}\n\nStructuredUniform.prototype.setValue = function ( gl, value, textures ) {\n\n\tconst seq = this.seq;\n\n\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tconst u = seq[ i ];\n\t\tu.setValue( gl, value[ u.id ], textures );\n\n\t}\n\n};\n\n// --- Top-level ---\n\n// Parser - builds up the property tree from the path strings\n\nconst RePathPart = /([\\w\\d_]+)(\\])?(\\[|\\.)?/g;\n\n// extracts\n// \t- the identifier (member name or array index)\n//  - followed by an optional right bracket (found when array index)\n//  - followed by an optional left bracket or dot (type of subscript)\n//\n// Note: These portions can be read in a non-overlapping fashion and\n// allow straightforward parsing of the hierarchy that WebGL encodes\n// in the uniform names.\n\nfunction addUniform( container, uniformObject ) {\n\n\tcontainer.seq.push( uniformObject );\n\tcontainer.map[ uniformObject.id ] = uniformObject;\n\n}\n\nfunction parseUniform( activeInfo, addr, container ) {\n\n\tconst path = activeInfo.name,\n\t\tpathLength = path.length;\n\n\t// reset RegExp object, because of the early exit of a previous run\n\tRePathPart.lastIndex = 0;\n\n\twhile ( true ) {\n\n\t\tconst match = RePathPart.exec( path ),\n\t\t\tmatchEnd = RePathPart.lastIndex;\n\n\t\tlet id = match[ 1 ];\n\t\tconst idIsIndex = match[ 2 ] === ']',\n\t\t\tsubscript = match[ 3 ];\n\n\t\tif ( idIsIndex ) id = id | 0; // convert to integer\n\n\t\tif ( subscript === undefined || subscript === '[' && matchEnd + 2 === pathLength ) {\n\n\t\t\t// bare name or \"pure\" bottom-level array \"[0]\" suffix\n\n\t\t\taddUniform( container, subscript === undefined ?\n\t\t\t\tnew SingleUniform( id, activeInfo, addr ) :\n\t\t\t\tnew PureArrayUniform( id, activeInfo, addr ) );\n\n\t\t\tbreak;\n\n\t\t} else {\n\n\t\t\t// step into inner node / create it in case it doesn't exist\n\n\t\t\tconst map = container.map;\n\t\t\tlet next = map[ id ];\n\n\t\t\tif ( next === undefined ) {\n\n\t\t\t\tnext = new StructuredUniform( id );\n\t\t\t\taddUniform( container, next );\n\n\t\t\t}\n\n\t\t\tcontainer = next;\n\n\t\t}\n\n\t}\n\n}\n\n// Root Container\n\nfunction WebGLUniforms( gl, program ) {\n\n\tthis.seq = [];\n\tthis.map = {};\n\n\tconst n = gl.getProgramParameter( program, 35718 );\n\n\tfor ( let i = 0; i < n; ++ i ) {\n\n\t\tconst info = gl.getActiveUniform( program, i ),\n\t\t\taddr = gl.getUniformLocation( program, info.name );\n\n\t\tparseUniform( info, addr, this );\n\n\t}\n\n}\n\nWebGLUniforms.prototype.setValue = function ( gl, name, value, textures ) {\n\n\tconst u = this.map[ name ];\n\n\tif ( u !== undefined ) u.setValue( gl, value, textures );\n\n};\n\nWebGLUniforms.prototype.setOptional = function ( gl, object, name ) {\n\n\tconst v = object[ name ];\n\n\tif ( v !== undefined ) this.setValue( gl, name, v );\n\n};\n\n\n// Static interface\n\nWebGLUniforms.upload = function ( gl, seq, values, textures ) {\n\n\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tconst u = seq[ i ],\n\t\t\tv = values[ u.id ];\n\n\t\tif ( v.needsUpdate !== false ) {\n\n\t\t\t// note: always updating when .needsUpdate is undefined\n\t\t\tu.setValue( gl, v.value, textures );\n\n\t\t}\n\n\t}\n\n};\n\nWebGLUniforms.seqWithValue = function ( seq, values ) {\n\n\tconst r = [];\n\n\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tconst u = seq[ i ];\n\t\tif ( u.id in values ) r.push( u );\n\n\t}\n\n\treturn r;\n\n};\n\nfunction WebGLShader( gl, type, string ) {\n\n\tconst shader = gl.createShader( type );\n\n\tgl.shaderSource( shader, string );\n\tgl.compileShader( shader );\n\n\treturn shader;\n\n}\n\nlet programIdCount = 0;\n\nfunction addLineNumbers( string ) {\n\n\tconst lines = string.split( '\\n' );\n\n\tfor ( let i = 0; i < lines.length; i ++ ) {\n\n\t\tlines[ i ] = ( i + 1 ) + ': ' + lines[ i ];\n\n\t}\n\n\treturn lines.join( '\\n' );\n\n}\n\nfunction getEncodingComponents( encoding ) {\n\n\tswitch ( encoding ) {\n\n\t\tcase LinearEncoding:\n\t\t\treturn [ 'Linear', '( value )' ];\n\t\tcase sRGBEncoding:\n\t\t\treturn [ 'sRGB', '( value )' ];\n\t\tcase RGBEEncoding:\n\t\t\treturn [ 'RGBE', '( value )' ];\n\t\tcase RGBM7Encoding:\n\t\t\treturn [ 'RGBM', '( value, 7.0 )' ];\n\t\tcase RGBM16Encoding:\n\t\t\treturn [ 'RGBM', '( value, 16.0 )' ];\n\t\tcase RGBDEncoding:\n\t\t\treturn [ 'RGBD', '( value, 256.0 )' ];\n\t\tcase GammaEncoding:\n\t\t\treturn [ 'Gamma', '( value, float( GAMMA_FACTOR ) )' ];\n\t\tcase LogLuvEncoding:\n\t\t\treturn [ 'LogLuv', '( value )' ];\n\t\tdefault:\n\t\t\tconsole.warn( 'THREE.WebGLProgram: Unsupported encoding:', encoding );\n\t\t\treturn [ 'Linear', '( value )' ];\n\n\t}\n\n}\n\nfunction getShaderErrors( gl, shader, type ) {\n\n\tconst status = gl.getShaderParameter( shader, 35713 );\n\tconst log = gl.getShaderInfoLog( shader ).trim();\n\n\tif ( status && log === '' ) return '';\n\n\t// --enable-privileged-webgl-extension\n\t// console.log( '**' + type + '**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );\n\n\tconst source = gl.getShaderSource( shader );\n\n\treturn 'THREE.WebGLShader: gl.getShaderInfoLog() ' + type + '\\n' + log + addLineNumbers( source );\n\n}\n\nfunction getTexelDecodingFunction( functionName, encoding ) {\n\n\tconst components = getEncodingComponents( encoding );\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return ' + components[ 0 ] + 'ToLinear' + components[ 1 ] + '; }';\n\n}\n\nfunction getTexelEncodingFunction( functionName, encoding ) {\n\n\tconst components = getEncodingComponents( encoding );\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return LinearTo' + components[ 0 ] + components[ 1 ] + '; }';\n\n}\n\nfunction getToneMappingFunction( functionName, toneMapping ) {\n\n\tlet toneMappingName;\n\n\tswitch ( toneMapping ) {\n\n\t\tcase LinearToneMapping:\n\t\t\ttoneMappingName = 'Linear';\n\t\t\tbreak;\n\n\t\tcase ReinhardToneMapping:\n\t\t\ttoneMappingName = 'Reinhard';\n\t\t\tbreak;\n\n\t\tcase CineonToneMapping:\n\t\t\ttoneMappingName = 'OptimizedCineon';\n\t\t\tbreak;\n\n\t\tcase ACESFilmicToneMapping:\n\t\t\ttoneMappingName = 'ACESFilmic';\n\t\t\tbreak;\n\n\t\tcase CustomToneMapping:\n\t\t\ttoneMappingName = 'Custom';\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tconsole.warn( 'THREE.WebGLProgram: Unsupported toneMapping:', toneMapping );\n\t\t\ttoneMappingName = 'Linear';\n\n\t}\n\n\treturn 'vec3 ' + functionName + '( vec3 color ) { return ' + toneMappingName + 'ToneMapping( color ); }';\n\n}\n\nfunction generateExtensions( parameters ) {\n\n\tconst chunks = [\n\t\t( parameters.extensionDerivatives || parameters.envMapCubeUV || parameters.bumpMap || parameters.tangentSpaceNormalMap || parameters.clearcoatNormalMap || parameters.flatShading || parameters.shaderID === 'physical' ) ? '#extension GL_OES_standard_derivatives : enable' : '',\n\t\t( parameters.extensionFragDepth || parameters.logarithmicDepthBuffer ) && parameters.rendererExtensionFragDepth ? '#extension GL_EXT_frag_depth : enable' : '',\n\t\t( parameters.extensionDrawBuffers && parameters.rendererExtensionDrawBuffers ) ? '#extension GL_EXT_draw_buffers : require' : '',\n\t\t( parameters.extensionShaderTextureLOD || parameters.envMap ) && parameters.rendererExtensionShaderTextureLod ? '#extension GL_EXT_shader_texture_lod : enable' : ''\n\t];\n\n\treturn chunks.filter( filterEmptyLine ).join( '\\n' );\n\n}\n\nfunction generateDefines( defines ) {\n\n\tconst chunks = [];\n\n\tfor ( const name in defines ) {\n\n\t\tconst value = defines[ name ];\n\n\t\tif ( value === false ) continue;\n\n\t\tchunks.push( '#define ' + name + ' ' + value );\n\n\t}\n\n\treturn chunks.join( '\\n' );\n\n}\n\nfunction fetchAttributeLocations( gl, program ) {\n\n\tconst attributes = {};\n\n\tconst n = gl.getProgramParameter( program, 35721 );\n\n\tfor ( let i = 0; i < n; i ++ ) {\n\n\t\tconst info = gl.getActiveAttrib( program, i );\n\t\tconst name = info.name;\n\n\t\t// console.log( 'THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:', name, i );\n\n\t\tattributes[ name ] = gl.getAttribLocation( program, name );\n\n\t}\n\n\treturn attributes;\n\n}\n\nfunction filterEmptyLine( string ) {\n\n\treturn string !== '';\n\n}\n\nfunction replaceLightNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_DIR_LIGHTS/g, parameters.numDirLights )\n\t\t.replace( /NUM_SPOT_LIGHTS/g, parameters.numSpotLights )\n\t\t.replace( /NUM_RECT_AREA_LIGHTS/g, parameters.numRectAreaLights )\n\t\t.replace( /NUM_POINT_LIGHTS/g, parameters.numPointLights )\n\t\t.replace( /NUM_HEMI_LIGHTS/g, parameters.numHemiLights )\n\t\t.replace( /NUM_DIR_LIGHT_SHADOWS/g, parameters.numDirLightShadows )\n\t\t.replace( /NUM_SPOT_LIGHT_SHADOWS/g, parameters.numSpotLightShadows )\n\t\t.replace( /NUM_POINT_LIGHT_SHADOWS/g, parameters.numPointLightShadows );\n\n}\n\nfunction replaceClippingPlaneNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_CLIPPING_PLANES/g, parameters.numClippingPlanes )\n\t\t.replace( /UNION_CLIPPING_PLANES/g, ( parameters.numClippingPlanes - parameters.numClipIntersection ) );\n\n}\n\n// Resolve Includes\n\nconst includePattern = /^[ \\t]*#include +<([\\w\\d./]+)>/gm;\n\nfunction resolveIncludes( string ) {\n\n\treturn string.replace( includePattern, includeReplacer );\n\n}\n\nfunction includeReplacer( match, include ) {\n\n\tconst string = ShaderChunk[ include ];\n\n\tif ( string === undefined ) {\n\n\t\tthrow new Error( 'Can not resolve #include <' + include + '>' );\n\n\t}\n\n\treturn resolveIncludes( string );\n\n}\n\n// Unroll Loops\n\nconst deprecatedUnrollLoopPattern = /#pragma unroll_loop[\\s]+?for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g;\nconst unrollLoopPattern = /#pragma unroll_loop_start\\s+for\\s*\\(\\s*int\\s+i\\s*=\\s*(\\d+)\\s*;\\s*i\\s*<\\s*(\\d+)\\s*;\\s*i\\s*\\+\\+\\s*\\)\\s*{([\\s\\S]+?)}\\s+#pragma unroll_loop_end/g;\n\nfunction unrollLoops( string ) {\n\n\treturn string\n\t\t.replace( unrollLoopPattern, loopReplacer )\n\t\t.replace( deprecatedUnrollLoopPattern, deprecatedLoopReplacer );\n\n}\n\nfunction deprecatedLoopReplacer( match, start, end, snippet ) {\n\n\tconsole.warn( 'WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead.' );\n\treturn loopReplacer( match, start, end, snippet );\n\n}\n\nfunction loopReplacer( match, start, end, snippet ) {\n\n\tlet string = '';\n\n\tfor ( let i = parseInt( start ); i < parseInt( end ); i ++ ) {\n\n\t\tstring += snippet\n\t\t\t.replace( /\\[\\s*i\\s*\\]/g, '[ ' + i + ' ]' )\n\t\t\t.replace( /UNROLLED_LOOP_INDEX/g, i );\n\n\t}\n\n\treturn string;\n\n}\n\n//\n\nfunction generatePrecision( parameters ) {\n\n\tlet precisionstring = \"precision \" + parameters.precision + \" float;\\nprecision \" + parameters.precision + \" int;\";\n\n\tif ( parameters.precision === \"highp\" ) {\n\n\t\tprecisionstring += \"\\n#define HIGH_PRECISION\";\n\n\t} else if ( parameters.precision === \"mediump\" ) {\n\n\t\tprecisionstring += \"\\n#define MEDIUM_PRECISION\";\n\n\t} else if ( parameters.precision === \"lowp\" ) {\n\n\t\tprecisionstring += \"\\n#define LOW_PRECISION\";\n\n\t}\n\n\treturn precisionstring;\n\n}\n\nfunction generateShadowMapTypeDefine( parameters ) {\n\n\tlet shadowMapTypeDefine = 'SHADOWMAP_TYPE_BASIC';\n\n\tif ( parameters.shadowMapType === PCFShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF';\n\n\t} else if ( parameters.shadowMapType === PCFSoftShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF_SOFT';\n\n\t} else if ( parameters.shadowMapType === VSMShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_VSM';\n\n\t}\n\n\treturn shadowMapTypeDefine;\n\n}\n\nfunction generateEnvMapTypeDefine( parameters ) {\n\n\tlet envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.envMapMode ) {\n\n\t\t\tcase CubeReflectionMapping:\n\t\t\tcase CubeRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\t\t\t\tbreak;\n\n\t\t\tcase CubeUVReflectionMapping:\n\t\t\tcase CubeUVRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE_UV';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapTypeDefine;\n\n}\n\nfunction generateEnvMapModeDefine( parameters ) {\n\n\tlet envMapModeDefine = 'ENVMAP_MODE_REFLECTION';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.envMapMode ) {\n\n\t\t\tcase CubeRefractionMapping:\n\t\t\tcase CubeUVRefractionMapping:\n\n\t\t\t\tenvMapModeDefine = 'ENVMAP_MODE_REFRACTION';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapModeDefine;\n\n}\n\nfunction generateEnvMapBlendingDefine( parameters ) {\n\n\tlet envMapBlendingDefine = 'ENVMAP_BLENDING_NONE';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.combine ) {\n\n\t\t\tcase MultiplyOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n\t\t\t\tbreak;\n\n\t\t\tcase MixOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MIX';\n\t\t\t\tbreak;\n\n\t\t\tcase AddOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_ADD';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapBlendingDefine;\n\n}\n\nfunction WebGLProgram( renderer, cacheKey, parameters, bindingStates ) {\n\n\tconst gl = renderer.getContext();\n\n\tconst defines = parameters.defines;\n\n\tlet vertexShader = parameters.vertexShader;\n\tlet fragmentShader = parameters.fragmentShader;\n\n\tconst shadowMapTypeDefine = generateShadowMapTypeDefine( parameters );\n\tconst envMapTypeDefine = generateEnvMapTypeDefine( parameters );\n\tconst envMapModeDefine = generateEnvMapModeDefine( parameters );\n\tconst envMapBlendingDefine = generateEnvMapBlendingDefine( parameters );\n\n\n\tconst gammaFactorDefine = ( renderer.gammaFactor > 0 ) ? renderer.gammaFactor : 1.0;\n\n\tconst customExtensions = parameters.isWebGL2 ? '' : generateExtensions( parameters );\n\n\tconst customDefines = generateDefines( defines );\n\n\tconst program = gl.createProgram();\n\n\tlet prefixVertex, prefixFragment;\n\tlet versionString = parameters.glslVersion ? '#version ' + parameters.glslVersion + \"\\n\" : '';\n\n\tif ( parameters.isRawShaderMaterial ) {\n\n\t\tprefixVertex = [\n\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixVertex.length > 0 ) {\n\n\t\t\tprefixVertex += '\\n';\n\n\t\t}\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixFragment.length > 0 ) {\n\n\t\t\tprefixFragment += '\\n';\n\n\t\t}\n\n\t} else {\n\n\t\tprefixVertex = [\n\n\t\t\tgeneratePrecision( parameters ),\n\n\t\t\t'#define SHADER_NAME ' + parameters.shaderName,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.instancing ? '#define USE_INSTANCING' : '',\n\t\t\tparameters.instancingColor ? '#define USE_INSTANCING_COLOR' : '',\n\n\t\t\tparameters.supportsVertexTextures ? '#define VERTEX_TEXTURES' : '',\n\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n\t\t\t'#define MAX_BONES ' + parameters.maxBones,\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp2 ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.tangentSpaceNormalMap ) ? '#define TANGENTSPACE_NORMALMAP' : '',\n\n\t\t\tparameters.clearcoatMap ? '#define USE_CLEARCOATMAP' : '',\n\t\t\tparameters.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '',\n\t\t\tparameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\n\t\t\tparameters.displacementMap && parameters.supportsVertexTextures ? '#define USE_DISPLACEMENTMAP' : '',\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\t\t\tparameters.transmissionMap ? '#define USE_TRANSMISSIONMAP' : '',\n\n\t\t\tparameters.vertexTangents ? '#define USE_TANGENT' : '',\n\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\n\t\t\tparameters.vertexUvs ? '#define USE_UV' : '',\n\t\t\tparameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.skinning ? '#define USE_SKINNING' : '',\n\t\t\tparameters.useVertexTexture ? '#define BONE_TEXTURE' : '',\n\n\t\t\tparameters.morphTargets ? '#define USE_MORPHTARGETS' : '',\n\t\t\tparameters.morphNormals && parameters.flatShading === false ? '#define USE_MORPHNORMALS' : '',\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\t( parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\t'uniform mat4 modelMatrix;',\n\t\t\t'uniform mat4 modelViewMatrix;',\n\t\t\t'uniform mat4 projectionMatrix;',\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform mat3 normalMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\t\t\t'uniform bool isOrthographic;',\n\n\t\t\t'#ifdef USE_INSTANCING',\n\n\t\t\t'\tattribute mat4 instanceMatrix;',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_INSTANCING_COLOR',\n\n\t\t\t'\tattribute vec3 instanceColor;',\n\n\t\t\t'#endif',\n\n\t\t\t'attribute vec3 position;',\n\t\t\t'attribute vec3 normal;',\n\t\t\t'attribute vec2 uv;',\n\n\t\t\t'#ifdef USE_TANGENT',\n\n\t\t\t'\tattribute vec4 tangent;',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_COLOR',\n\n\t\t\t'\tattribute vec3 color;',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_MORPHTARGETS',\n\n\t\t\t'\tattribute vec3 morphTarget0;',\n\t\t\t'\tattribute vec3 morphTarget1;',\n\t\t\t'\tattribute vec3 morphTarget2;',\n\t\t\t'\tattribute vec3 morphTarget3;',\n\n\t\t\t'\t#ifdef USE_MORPHNORMALS',\n\n\t\t\t'\t\tattribute vec3 morphNormal0;',\n\t\t\t'\t\tattribute vec3 morphNormal1;',\n\t\t\t'\t\tattribute vec3 morphNormal2;',\n\t\t\t'\t\tattribute vec3 morphNormal3;',\n\n\t\t\t'\t#else',\n\n\t\t\t'\t\tattribute vec3 morphTarget4;',\n\t\t\t'\t\tattribute vec3 morphTarget5;',\n\t\t\t'\t\tattribute vec3 morphTarget6;',\n\t\t\t'\t\tattribute vec3 morphTarget7;',\n\n\t\t\t'\t#endif',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_SKINNING',\n\n\t\t\t'\tattribute vec4 skinIndex;',\n\t\t\t'\tattribute vec4 skinWeight;',\n\n\t\t\t'#endif',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\n\t\t\tgeneratePrecision( parameters ),\n\n\t\t\t'#define SHADER_NAME ' + parameters.shaderName,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.alphaTest ? '#define ALPHATEST ' + parameters.alphaTest + ( parameters.alphaTest % 1 ? '' : '.0' ) : '', // add '.0' if integer\n\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp2 ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.matcap ? '#define USE_MATCAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapTypeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapBlendingDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.tangentSpaceNormalMap ) ? '#define TANGENTSPACE_NORMALMAP' : '',\n\t\t\tparameters.clearcoatMap ? '#define USE_CLEARCOATMAP' : '',\n\t\t\tparameters.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '',\n\t\t\tparameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\n\t\t\tparameters.sheen ? '#define USE_SHEEN' : '',\n\t\t\tparameters.transmissionMap ? '#define USE_TRANSMISSIONMAP' : '',\n\n\t\t\tparameters.vertexTangents ? '#define USE_TANGENT' : '',\n\t\t\tparameters.vertexColors || parameters.instancingColor ? '#define USE_COLOR' : '',\n\t\t\tparameters.vertexUvs ? '#define USE_UV' : '',\n\t\t\tparameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '',\n\n\t\t\tparameters.gradientMap ? '#define USE_GRADIENTMAP' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.premultipliedAlpha ? '#define PREMULTIPLIED_ALPHA' : '',\n\n\t\t\tparameters.physicallyCorrectLights ? '#define PHYSICALLY_CORRECT_LIGHTS' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\t( parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\t( ( parameters.extensionShaderTextureLOD || parameters.envMap ) && parameters.rendererExtensionShaderTextureLod ) ? '#define TEXTURE_LOD_EXT' : '',\n\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\t\t\t'uniform bool isOrthographic;',\n\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? '#define TONE_MAPPING' : '',\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? ShaderChunk[ 'tonemapping_pars_fragment' ] : '', // this code is required here because it is used by the toneMapping() function defined below\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? getToneMappingFunction( 'toneMapping', parameters.toneMapping ) : '',\n\n\t\t\tparameters.dithering ? '#define DITHERING' : '',\n\n\t\t\tShaderChunk[ 'encodings_pars_fragment' ], // this code is required here because it is used by the various encoding/decoding function defined below\n\t\t\tparameters.map ? getTexelDecodingFunction( 'mapTexelToLinear', parameters.mapEncoding ) : '',\n\t\t\tparameters.matcap ? getTexelDecodingFunction( 'matcapTexelToLinear', parameters.matcapEncoding ) : '',\n\t\t\tparameters.envMap ? getTexelDecodingFunction( 'envMapTexelToLinear', parameters.envMapEncoding ) : '',\n\t\t\tparameters.emissiveMap ? getTexelDecodingFunction( 'emissiveMapTexelToLinear', parameters.emissiveMapEncoding ) : '',\n\t\t\tparameters.lightMap ? getTexelDecodingFunction( 'lightMapTexelToLinear', parameters.lightMapEncoding ) : '',\n\t\t\tgetTexelEncodingFunction( 'linearToOutputTexel', parameters.outputEncoding ),\n\n\t\t\tparameters.depthPacking ? '#define DEPTH_PACKING ' + parameters.depthPacking : '',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t}\n\n\tvertexShader = resolveIncludes( vertexShader );\n\tvertexShader = replaceLightNums( vertexShader, parameters );\n\tvertexShader = replaceClippingPlaneNums( vertexShader, parameters );\n\n\tfragmentShader = resolveIncludes( fragmentShader );\n\tfragmentShader = replaceLightNums( fragmentShader, parameters );\n\tfragmentShader = replaceClippingPlaneNums( fragmentShader, parameters );\n\n\tvertexShader = unrollLoops( vertexShader );\n\tfragmentShader = unrollLoops( fragmentShader );\n\n\tif ( parameters.isWebGL2 && parameters.isRawShaderMaterial !== true ) {\n\n\t\t// GLSL 3.0 conversion for built-in materials and ShaderMaterial\n\n\t\tversionString = '#version 300 es\\n';\n\n\t\tprefixVertex = [\n\t\t\t'#define attribute in',\n\t\t\t'#define varying out',\n\t\t\t'#define texture2D texture'\n\t\t].join( '\\n' ) + '\\n' + prefixVertex;\n\n\t\tprefixFragment = [\n\t\t\t'#define varying in',\n\t\t\t( parameters.glslVersion === GLSL3 ) ? '' : 'out highp vec4 pc_fragColor;',\n\t\t\t( parameters.glslVersion === GLSL3 ) ? '' : '#define gl_FragColor pc_fragColor',\n\t\t\t'#define gl_FragDepthEXT gl_FragDepth',\n\t\t\t'#define texture2D texture',\n\t\t\t'#define textureCube texture',\n\t\t\t'#define texture2DProj textureProj',\n\t\t\t'#define texture2DLodEXT textureLod',\n\t\t\t'#define texture2DProjLodEXT textureProjLod',\n\t\t\t'#define textureCubeLodEXT textureLod',\n\t\t\t'#define texture2DGradEXT textureGrad',\n\t\t\t'#define texture2DProjGradEXT textureProjGrad',\n\t\t\t'#define textureCubeGradEXT textureGrad'\n\t\t].join( '\\n' ) + '\\n' + prefixFragment;\n\n\t}\n\n\tconst vertexGlsl = versionString + prefixVertex + vertexShader;\n\tconst fragmentGlsl = versionString + prefixFragment + fragmentShader;\n\n\t// console.log( '*VERTEX*', vertexGlsl );\n\t// console.log( '*FRAGMENT*', fragmentGlsl );\n\n\tconst glVertexShader = WebGLShader( gl, 35633, vertexGlsl );\n\tconst glFragmentShader = WebGLShader( gl, 35632, fragmentGlsl );\n\n\tgl.attachShader( program, glVertexShader );\n\tgl.attachShader( program, glFragmentShader );\n\n\t// Force a particular attribute to index 0.\n\n\tif ( parameters.index0AttributeName !== undefined ) {\n\n\t\tgl.bindAttribLocation( program, 0, parameters.index0AttributeName );\n\n\t} else if ( parameters.morphTargets === true ) {\n\n\t\t// programs with morphTargets displace position out of attribute 0\n\t\tgl.bindAttribLocation( program, 0, 'position' );\n\n\t}\n\n\tgl.linkProgram( program );\n\n\t// check for link errors\n\tif ( renderer.debug.checkShaderErrors ) {\n\n\t\tconst programLog = gl.getProgramInfoLog( program ).trim();\n\t\tconst vertexLog = gl.getShaderInfoLog( glVertexShader ).trim();\n\t\tconst fragmentLog = gl.getShaderInfoLog( glFragmentShader ).trim();\n\n\t\tlet runnable = true;\n\t\tlet haveDiagnostics = true;\n\n\t\tif ( gl.getProgramParameter( program, 35714 ) === false ) {\n\n\t\t\trunnable = false;\n\n\t\t\tconst vertexErrors = getShaderErrors( gl, glVertexShader, 'vertex' );\n\t\t\tconst fragmentErrors = getShaderErrors( gl, glFragmentShader, 'fragment' );\n\n\t\t\tconsole.error( 'THREE.WebGLProgram: shader error: ', gl.getError(), '35715', gl.getProgramParameter( program, 35715 ), 'gl.getProgramInfoLog', programLog, vertexErrors, fragmentErrors );\n\n\t\t} else if ( programLog !== '' ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLProgram: gl.getProgramInfoLog()', programLog );\n\n\t\t} else if ( vertexLog === '' || fragmentLog === '' ) {\n\n\t\t\thaveDiagnostics = false;\n\n\t\t}\n\n\t\tif ( haveDiagnostics ) {\n\n\t\t\tthis.diagnostics = {\n\n\t\t\t\trunnable: runnable,\n\n\t\t\t\tprogramLog: programLog,\n\n\t\t\t\tvertexShader: {\n\n\t\t\t\t\tlog: vertexLog,\n\t\t\t\t\tprefix: prefixVertex\n\n\t\t\t\t},\n\n\t\t\t\tfragmentShader: {\n\n\t\t\t\t\tlog: fragmentLog,\n\t\t\t\t\tprefix: prefixFragment\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}\n\n\t}\n\n\t// Clean up\n\n\t// Crashes in iOS9 and iOS10. #18402\n\t// gl.detachShader( program, glVertexShader );\n\t// gl.detachShader( program, glFragmentShader );\n\n\tgl.deleteShader( glVertexShader );\n\tgl.deleteShader( glFragmentShader );\n\n\t// set up caching for uniform locations\n\n\tlet cachedUniforms;\n\n\tthis.getUniforms = function () {\n\n\t\tif ( cachedUniforms === undefined ) {\n\n\t\t\tcachedUniforms = new WebGLUniforms( gl, program );\n\n\t\t}\n\n\t\treturn cachedUniforms;\n\n\t};\n\n\t// set up caching for attribute locations\n\n\tlet cachedAttributes;\n\n\tthis.getAttributes = function () {\n\n\t\tif ( cachedAttributes === undefined ) {\n\n\t\t\tcachedAttributes = fetchAttributeLocations( gl, program );\n\n\t\t}\n\n\t\treturn cachedAttributes;\n\n\t};\n\n\t// free resource\n\n\tthis.destroy = function () {\n\n\t\tbindingStates.releaseStatesOfProgram( this );\n\n\t\tgl.deleteProgram( program );\n\t\tthis.program = undefined;\n\n\t};\n\n\t//\n\n\tthis.name = parameters.shaderName;\n\tthis.id = programIdCount ++;\n\tthis.cacheKey = cacheKey;\n\tthis.usedTimes = 1;\n\tthis.program = program;\n\tthis.vertexShader = glVertexShader;\n\tthis.fragmentShader = glFragmentShader;\n\n\treturn this;\n\n}\n\nfunction WebGLPrograms( renderer, cubemaps, extensions, capabilities, bindingStates, clipping ) {\n\n\tconst programs = [];\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\tconst logarithmicDepthBuffer = capabilities.logarithmicDepthBuffer;\n\tconst floatVertexTextures = capabilities.floatVertexTextures;\n\tconst maxVertexUniforms = capabilities.maxVertexUniforms;\n\tconst vertexTextures = capabilities.vertexTextures;\n\n\tlet precision = capabilities.precision;\n\n\tconst shaderIDs = {\n\t\tMeshDepthMaterial: 'depth',\n\t\tMeshDistanceMaterial: 'distanceRGBA',\n\t\tMeshNormalMaterial: 'normal',\n\t\tMeshBasicMaterial: 'basic',\n\t\tMeshLambertMaterial: 'lambert',\n\t\tMeshPhongMaterial: 'phong',\n\t\tMeshToonMaterial: 'toon',\n\t\tMeshStandardMaterial: 'physical',\n\t\tMeshPhysicalMaterial: 'physical',\n\t\tMeshMatcapMaterial: 'matcap',\n\t\tLineBasicMaterial: 'basic',\n\t\tLineDashedMaterial: 'dashed',\n\t\tPointsMaterial: 'points',\n\t\tShadowMaterial: 'shadow',\n\t\tSpriteMaterial: 'sprite'\n\t};\n\n\tconst parameterNames = [\n\t\t\"precision\", \"isWebGL2\", \"supportsVertexTextures\", \"outputEncoding\", \"instancing\", \"instancingColor\",\n\t\t\"map\", \"mapEncoding\", \"matcap\", \"matcapEncoding\", \"envMap\", \"envMapMode\", \"envMapEncoding\", \"envMapCubeUV\",\n\t\t\"lightMap\", \"lightMapEncoding\", \"aoMap\", \"emissiveMap\", \"emissiveMapEncoding\", \"bumpMap\", \"normalMap\", \"objectSpaceNormalMap\", \"tangentSpaceNormalMap\", \"clearcoatMap\", \"clearcoatRoughnessMap\", \"clearcoatNormalMap\", \"displacementMap\", \"specularMap\",\n\t\t\"roughnessMap\", \"metalnessMap\", \"gradientMap\",\n\t\t\"alphaMap\", \"combine\", \"vertexColors\", \"vertexTangents\", \"vertexUvs\", \"uvsVertexOnly\", \"fog\", \"useFog\", \"fogExp2\",\n\t\t\"flatShading\", \"sizeAttenuation\", \"logarithmicDepthBuffer\", \"skinning\",\n\t\t\"maxBones\", \"useVertexTexture\", \"morphTargets\", \"morphNormals\",\n\t\t\"maxMorphTargets\", \"maxMorphNormals\", \"premultipliedAlpha\",\n\t\t\"numDirLights\", \"numPointLights\", \"numSpotLights\", \"numHemiLights\", \"numRectAreaLights\",\n\t\t\"numDirLightShadows\", \"numPointLightShadows\", \"numSpotLightShadows\",\n\t\t\"shadowMapEnabled\", \"shadowMapType\", \"toneMapping\", 'physicallyCorrectLights',\n\t\t\"alphaTest\", \"doubleSided\", \"flipSided\", \"numClippingPlanes\", \"numClipIntersection\", \"depthPacking\", \"dithering\",\n\t\t\"sheen\", \"transmissionMap\"\n\t];\n\n\tfunction getMaxBones( object ) {\n\n\t\tconst skeleton = object.skeleton;\n\t\tconst bones = skeleton.bones;\n\n\t\tif ( floatVertexTextures ) {\n\n\t\t\treturn 1024;\n\n\t\t} else {\n\n\t\t\t// default for when object is not specified\n\t\t\t// ( for example when prebuilding shader to be used with multiple objects )\n\t\t\t//\n\t\t\t//  - leave some extra space for other uniforms\n\t\t\t//  - limit here is ANGLE's 254 max uniform vectors\n\t\t\t//    (up to 54 should be safe)\n\n\t\t\tconst nVertexUniforms = maxVertexUniforms;\n\t\t\tconst nVertexMatrices = Math.floor( ( nVertexUniforms - 20 ) / 4 );\n\n\t\t\tconst maxBones = Math.min( nVertexMatrices, bones.length );\n\n\t\t\tif ( maxBones < bones.length ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Skeleton has ' + bones.length + ' bones. This GPU supports ' + maxBones + '.' );\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\treturn maxBones;\n\n\t\t}\n\n\t}\n\n\tfunction getTextureEncodingFromMap( map ) {\n\n\t\tlet encoding;\n\n\t\tif ( ! map ) {\n\n\t\t\tencoding = LinearEncoding;\n\n\t\t} else if ( map.isTexture ) {\n\n\t\t\tencoding = map.encoding;\n\n\t\t} else if ( map.isWebGLRenderTarget ) {\n\n\t\t\tconsole.warn( \"THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.\" );\n\t\t\tencoding = map.texture.encoding;\n\n\t\t}\n\n\t\treturn encoding;\n\n\t}\n\n\tfunction getParameters( material, lights, shadows, scene, object ) {\n\n\t\tconst fog = scene.fog;\n\t\tconst environment = material.isMeshStandardMaterial ? scene.environment : null;\n\n\t\tconst envMap = cubemaps.get( material.envMap || environment );\n\n\t\tconst shaderID = shaderIDs[ material.type ];\n\n\t\t// heuristics to create shader parameters according to lights in the scene\n\t\t// (not to blow over maxLights budget)\n\n\t\tconst maxBones = object.isSkinnedMesh ? getMaxBones( object ) : 0;\n\n\t\tif ( material.precision !== null ) {\n\n\t\t\tprecision = capabilities.getMaxPrecision( material.precision );\n\n\t\t\tif ( precision !== material.precision ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLProgram.getParameters:', material.precision, 'not supported, using', precision, 'instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tlet vertexShader, fragmentShader;\n\n\t\tif ( shaderID ) {\n\n\t\t\tconst shader = ShaderLib[ shaderID ];\n\n\t\t\tvertexShader = shader.vertexShader;\n\t\t\tfragmentShader = shader.fragmentShader;\n\n\t\t} else {\n\n\t\t\tvertexShader = material.vertexShader;\n\t\t\tfragmentShader = material.fragmentShader;\n\n\t\t}\n\n\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\tconst parameters = {\n\n\t\t\tisWebGL2: isWebGL2,\n\n\t\t\tshaderID: shaderID,\n\t\t\tshaderName: material.type,\n\n\t\t\tvertexShader: vertexShader,\n\t\t\tfragmentShader: fragmentShader,\n\t\t\tdefines: material.defines,\n\n\t\t\tisRawShaderMaterial: material.isRawShaderMaterial === true,\n\t\t\tglslVersion: material.glslVersion,\n\n\t\t\tprecision: precision,\n\n\t\t\tinstancing: object.isInstancedMesh === true,\n\t\t\tinstancingColor: object.isInstancedMesh === true && object.instanceColor !== null,\n\n\t\t\tsupportsVertexTextures: vertexTextures,\n\t\t\toutputEncoding: ( currentRenderTarget !== null ) ? getTextureEncodingFromMap( currentRenderTarget.texture ) : renderer.outputEncoding,\n\t\t\tmap: !! material.map,\n\t\t\tmapEncoding: getTextureEncodingFromMap( material.map ),\n\t\t\tmatcap: !! material.matcap,\n\t\t\tmatcapEncoding: getTextureEncodingFromMap( material.matcap ),\n\t\t\tenvMap: !! envMap,\n\t\t\tenvMapMode: envMap && envMap.mapping,\n\t\t\tenvMapEncoding: getTextureEncodingFromMap( envMap ),\n\t\t\tenvMapCubeUV: ( !! envMap ) && ( ( envMap.mapping === CubeUVReflectionMapping ) || ( envMap.mapping === CubeUVRefractionMapping ) ),\n\t\t\tlightMap: !! material.lightMap,\n\t\t\tlightMapEncoding: getTextureEncodingFromMap( material.lightMap ),\n\t\t\taoMap: !! material.aoMap,\n\t\t\temissiveMap: !! material.emissiveMap,\n\t\t\temissiveMapEncoding: getTextureEncodingFromMap( material.emissiveMap ),\n\t\t\tbumpMap: !! material.bumpMap,\n\t\t\tnormalMap: !! material.normalMap,\n\t\t\tobjectSpaceNormalMap: material.normalMapType === ObjectSpaceNormalMap,\n\t\t\ttangentSpaceNormalMap: material.normalMapType === TangentSpaceNormalMap,\n\t\t\tclearcoatMap: !! material.clearcoatMap,\n\t\t\tclearcoatRoughnessMap: !! material.clearcoatRoughnessMap,\n\t\t\tclearcoatNormalMap: !! material.clearcoatNormalMap,\n\t\t\tdisplacementMap: !! material.displacementMap,\n\t\t\troughnessMap: !! material.roughnessMap,\n\t\t\tmetalnessMap: !! material.metalnessMap,\n\t\t\tspecularMap: !! material.specularMap,\n\t\t\talphaMap: !! material.alphaMap,\n\n\t\t\tgradientMap: !! material.gradientMap,\n\n\t\t\tsheen: !! material.sheen,\n\n\t\t\ttransmissionMap: !! material.transmissionMap,\n\n\t\t\tcombine: material.combine,\n\n\t\t\tvertexTangents: ( material.normalMap && material.vertexTangents ),\n\t\t\tvertexColors: material.vertexColors,\n\t\t\tvertexUvs: !! material.map || !! material.bumpMap || !! material.normalMap || !! material.specularMap || !! material.alphaMap || !! material.emissiveMap || !! material.roughnessMap || !! material.metalnessMap || !! material.clearcoatMap || !! material.clearcoatRoughnessMap || !! material.clearcoatNormalMap || !! material.displacementMap || !! material.transmissionMap,\n\t\t\tuvsVertexOnly: ! ( !! material.map || !! material.bumpMap || !! material.normalMap || !! material.specularMap || !! material.alphaMap || !! material.emissiveMap || !! material.roughnessMap || !! material.metalnessMap || !! material.clearcoatNormalMap || !! material.transmissionMap ) && !! material.displacementMap,\n\n\t\t\tfog: !! fog,\n\t\t\tuseFog: material.fog,\n\t\t\tfogExp2: ( fog && fog.isFogExp2 ),\n\n\t\t\tflatShading: material.flatShading,\n\n\t\t\tsizeAttenuation: material.sizeAttenuation,\n\t\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\n\t\t\tskinning: material.skinning && maxBones > 0,\n\t\t\tmaxBones: maxBones,\n\t\t\tuseVertexTexture: floatVertexTextures,\n\n\t\t\tmorphTargets: material.morphTargets,\n\t\t\tmorphNormals: material.morphNormals,\n\t\t\tmaxMorphTargets: renderer.maxMorphTargets,\n\t\t\tmaxMorphNormals: renderer.maxMorphNormals,\n\n\t\t\tnumDirLights: lights.directional.length,\n\t\t\tnumPointLights: lights.point.length,\n\t\t\tnumSpotLights: lights.spot.length,\n\t\t\tnumRectAreaLights: lights.rectArea.length,\n\t\t\tnumHemiLights: lights.hemi.length,\n\n\t\t\tnumDirLightShadows: lights.directionalShadowMap.length,\n\t\t\tnumPointLightShadows: lights.pointShadowMap.length,\n\t\t\tnumSpotLightShadows: lights.spotShadowMap.length,\n\n\t\t\tnumClippingPlanes: clipping.numPlanes,\n\t\t\tnumClipIntersection: clipping.numIntersection,\n\n\t\t\tdithering: material.dithering,\n\n\t\t\tshadowMapEnabled: renderer.shadowMap.enabled && shadows.length > 0,\n\t\t\tshadowMapType: renderer.shadowMap.type,\n\n\t\t\ttoneMapping: material.toneMapped ? renderer.toneMapping : NoToneMapping,\n\t\t\tphysicallyCorrectLights: renderer.physicallyCorrectLights,\n\n\t\t\tpremultipliedAlpha: material.premultipliedAlpha,\n\n\t\t\talphaTest: material.alphaTest,\n\t\t\tdoubleSided: material.side === DoubleSide,\n\t\t\tflipSided: material.side === BackSide,\n\n\t\t\tdepthPacking: ( material.depthPacking !== undefined ) ? material.depthPacking : false,\n\n\t\t\tindex0AttributeName: material.index0AttributeName,\n\n\t\t\textensionDerivatives: material.extensions && material.extensions.derivatives,\n\t\t\textensionFragDepth: material.extensions && material.extensions.fragDepth,\n\t\t\textensionDrawBuffers: material.extensions && material.extensions.drawBuffers,\n\t\t\textensionShaderTextureLOD: material.extensions && material.extensions.shaderTextureLOD,\n\n\t\t\trendererExtensionFragDepth: isWebGL2 || extensions.has( 'EXT_frag_depth' ),\n\t\t\trendererExtensionDrawBuffers: isWebGL2 || extensions.has( 'WEBGL_draw_buffers' ),\n\t\t\trendererExtensionShaderTextureLod: isWebGL2 || extensions.has( 'EXT_shader_texture_lod' ),\n\n\t\t\tcustomProgramCacheKey: material.customProgramCacheKey()\n\n\t\t};\n\n\t\treturn parameters;\n\n\t}\n\n\tfunction getProgramCacheKey( parameters ) {\n\n\t\tconst array = [];\n\n\t\tif ( parameters.shaderID ) {\n\n\t\t\tarray.push( parameters.shaderID );\n\n\t\t} else {\n\n\t\t\tarray.push( parameters.fragmentShader );\n\t\t\tarray.push( parameters.vertexShader );\n\n\t\t}\n\n\t\tif ( parameters.defines !== undefined ) {\n\n\t\t\tfor ( const name in parameters.defines ) {\n\n\t\t\t\tarray.push( name );\n\t\t\t\tarray.push( parameters.defines[ name ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( parameters.isRawShaderMaterial === false ) {\n\n\t\t\tfor ( let i = 0; i < parameterNames.length; i ++ ) {\n\n\t\t\t\tarray.push( parameters[ parameterNames[ i ] ] );\n\n\t\t\t}\n\n\t\t\tarray.push( renderer.outputEncoding );\n\t\t\tarray.push( renderer.gammaFactor );\n\n\t\t}\n\n\t\tarray.push( parameters.customProgramCacheKey );\n\n\t\treturn array.join();\n\n\t}\n\n\tfunction getUniforms( material ) {\n\n\t\tconst shaderID = shaderIDs[ material.type ];\n\t\tlet uniforms;\n\n\t\tif ( shaderID ) {\n\n\t\t\tconst shader = ShaderLib[ shaderID ];\n\t\t\tuniforms = UniformsUtils.clone( shader.uniforms );\n\n\t\t} else {\n\n\t\t\tuniforms = material.uniforms;\n\n\t\t}\n\n\t\treturn uniforms;\n\n\t}\n\n\tfunction acquireProgram( parameters, cacheKey ) {\n\n\t\tlet program;\n\n\t\t// Check if code has been already compiled\n\t\tfor ( let p = 0, pl = programs.length; p < pl; p ++ ) {\n\n\t\t\tconst preexistingProgram = programs[ p ];\n\n\t\t\tif ( preexistingProgram.cacheKey === cacheKey ) {\n\n\t\t\t\tprogram = preexistingProgram;\n\t\t\t\t++ program.usedTimes;\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( program === undefined ) {\n\n\t\t\tprogram = new WebGLProgram( renderer, cacheKey, parameters, bindingStates );\n\t\t\tprograms.push( program );\n\n\t\t}\n\n\t\treturn program;\n\n\t}\n\n\tfunction releaseProgram( program ) {\n\n\t\tif ( -- program.usedTimes === 0 ) {\n\n\t\t\t// Remove from unordered set\n\t\t\tconst i = programs.indexOf( program );\n\t\t\tprograms[ i ] = programs[ programs.length - 1 ];\n\t\t\tprograms.pop();\n\n\t\t\t// Free WebGL resources\n\t\t\tprogram.destroy();\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\tgetParameters: getParameters,\n\t\tgetProgramCacheKey: getProgramCacheKey,\n\t\tgetUniforms: getUniforms,\n\t\tacquireProgram: acquireProgram,\n\t\treleaseProgram: releaseProgram,\n\t\t// Exposed for resource monitoring & error feedback via renderer.info:\n\t\tprograms: programs\n\t};\n\n}\n\nfunction WebGLProperties() {\n\n\tlet properties = new WeakMap();\n\n\tfunction get( object ) {\n\n\t\tlet map = properties.get( object );\n\n\t\tif ( map === undefined ) {\n\n\t\t\tmap = {};\n\t\t\tproperties.set( object, map );\n\n\t\t}\n\n\t\treturn map;\n\n\t}\n\n\tfunction remove( object ) {\n\n\t\tproperties.delete( object );\n\n\t}\n\n\tfunction update( object, key, value ) {\n\n\t\tproperties.get( object )[ key ] = value;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tproperties = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update,\n\t\tdispose: dispose\n\t};\n\n}\n\nfunction painterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.program !== b.program ) {\n\n\t\treturn a.program.id - b.program.id;\n\n\t} else if ( a.material.id !== b.material.id ) {\n\n\t\treturn a.material.id - b.material.id;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn a.z - b.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\nfunction reversePainterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn b.z - a.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\n\nfunction WebGLRenderList( properties ) {\n\n\tconst renderItems = [];\n\tlet renderItemsIndex = 0;\n\n\tconst opaque = [];\n\tconst transparent = [];\n\n\tconst defaultProgram = { id: - 1 };\n\n\tfunction init() {\n\n\t\trenderItemsIndex = 0;\n\n\t\topaque.length = 0;\n\t\ttransparent.length = 0;\n\n\t}\n\n\tfunction getNextRenderItem( object, geometry, material, groupOrder, z, group ) {\n\n\t\tlet renderItem = renderItems[ renderItemsIndex ];\n\t\tconst materialProperties = properties.get( material );\n\n\t\tif ( renderItem === undefined ) {\n\n\t\t\trenderItem = {\n\t\t\t\tid: object.id,\n\t\t\t\tobject: object,\n\t\t\t\tgeometry: geometry,\n\t\t\t\tmaterial: material,\n\t\t\t\tprogram: materialProperties.program || defaultProgram,\n\t\t\t\tgroupOrder: groupOrder,\n\t\t\t\trenderOrder: object.renderOrder,\n\t\t\t\tz: z,\n\t\t\t\tgroup: group\n\t\t\t};\n\n\t\t\trenderItems[ renderItemsIndex ] = renderItem;\n\n\t\t} else {\n\n\t\t\trenderItem.id = object.id;\n\t\t\trenderItem.object = object;\n\t\t\trenderItem.geometry = geometry;\n\t\t\trenderItem.material = material;\n\t\t\trenderItem.program = materialProperties.program || defaultProgram;\n\t\t\trenderItem.groupOrder = groupOrder;\n\t\t\trenderItem.renderOrder = object.renderOrder;\n\t\t\trenderItem.z = z;\n\t\t\trenderItem.group = group;\n\n\t\t}\n\n\t\trenderItemsIndex ++;\n\n\t\treturn renderItem;\n\n\t}\n\n\tfunction push( object, geometry, material, groupOrder, z, group ) {\n\n\t\tconst renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\t( material.transparent === true ? transparent : opaque ).push( renderItem );\n\n\t}\n\n\tfunction unshift( object, geometry, material, groupOrder, z, group ) {\n\n\t\tconst renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\t( material.transparent === true ? transparent : opaque ).unshift( renderItem );\n\n\t}\n\n\tfunction sort( customOpaqueSort, customTransparentSort ) {\n\n\t\tif ( opaque.length > 1 ) opaque.sort( customOpaqueSort || painterSortStable );\n\t\tif ( transparent.length > 1 ) transparent.sort( customTransparentSort || reversePainterSortStable );\n\n\t}\n\n\tfunction finish() {\n\n\t\t// Clear references from inactive renderItems in the list\n\n\t\tfor ( let i = renderItemsIndex, il = renderItems.length; i < il; i ++ ) {\n\n\t\t\tconst renderItem = renderItems[ i ];\n\n\t\t\tif ( renderItem.id === null ) break;\n\n\t\t\trenderItem.id = null;\n\t\t\trenderItem.object = null;\n\t\t\trenderItem.geometry = null;\n\t\t\trenderItem.material = null;\n\t\t\trenderItem.program = null;\n\t\t\trenderItem.group = null;\n\n\t\t}\n\n\t}\n\n\treturn {\n\n\t\topaque: opaque,\n\t\ttransparent: transparent,\n\n\t\tinit: init,\n\t\tpush: push,\n\t\tunshift: unshift,\n\t\tfinish: finish,\n\n\t\tsort: sort\n\t};\n\n}\n\nfunction WebGLRenderLists( properties ) {\n\n\tlet lists = new WeakMap();\n\n\tfunction get( scene, camera ) {\n\n\t\tconst cameras = lists.get( scene );\n\t\tlet list;\n\n\t\tif ( cameras === undefined ) {\n\n\t\t\tlist = new WebGLRenderList( properties );\n\t\t\tlists.set( scene, new WeakMap() );\n\t\t\tlists.get( scene ).set( camera, list );\n\n\t\t} else {\n\n\t\t\tlist = cameras.get( camera );\n\t\t\tif ( list === undefined ) {\n\n\t\t\t\tlist = new WebGLRenderList( properties );\n\t\t\t\tcameras.set( camera, list );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn list;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tlists = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\nfunction UniformsCache() {\n\n\tconst lights = {};\n\n\treturn {\n\n\t\tget: function ( light ) {\n\n\t\t\tif ( lights[ light.id ] !== undefined ) {\n\n\t\t\t\treturn lights[ light.id ];\n\n\t\t\t}\n\n\t\t\tlet uniforms;\n\n\t\t\tswitch ( light.type ) {\n\n\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tconeCos: 0,\n\t\t\t\t\t\tpenumbraCos: 0,\n\t\t\t\t\t\tdecay: 0\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tdecay: 0\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'HemisphereLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tskyColor: new Color(),\n\t\t\t\t\t\tgroundColor: new Color()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'RectAreaLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\thalfWidth: new Vector3(),\n\t\t\t\t\t\thalfHeight: new Vector3()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tlights[ light.id ] = uniforms;\n\n\t\t\treturn uniforms;\n\n\t\t}\n\n\t};\n\n}\n\nfunction ShadowUniformsCache() {\n\n\tconst lights = {};\n\n\treturn {\n\n\t\tget: function ( light ) {\n\n\t\t\tif ( lights[ light.id ] !== undefined ) {\n\n\t\t\t\treturn lights[ light.id ];\n\n\t\t\t}\n\n\t\t\tlet uniforms;\n\n\t\t\tswitch ( light.type ) {\n\n\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2(),\n\t\t\t\t\t\tshadowCameraNear: 1,\n\t\t\t\t\t\tshadowCameraFar: 1000\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\t// TODO (abelnation): set RectAreaLight shadow uniforms\n\n\t\t\t}\n\n\t\t\tlights[ light.id ] = uniforms;\n\n\t\t\treturn uniforms;\n\n\t\t}\n\n\t};\n\n}\n\n\n\nlet nextVersion = 0;\n\nfunction shadowCastingLightsFirst( lightA, lightB ) {\n\n\treturn ( lightB.castShadow ? 1 : 0 ) - ( lightA.castShadow ? 1 : 0 );\n\n}\n\nfunction WebGLLights( extensions, capabilities ) {\n\n\tconst cache = new UniformsCache();\n\n\tconst shadowCache = ShadowUniformsCache();\n\n\tconst state = {\n\n\t\tversion: 0,\n\n\t\thash: {\n\t\t\tdirectionalLength: - 1,\n\t\t\tpointLength: - 1,\n\t\t\tspotLength: - 1,\n\t\t\trectAreaLength: - 1,\n\t\t\themiLength: - 1,\n\n\t\t\tnumDirectionalShadows: - 1,\n\t\t\tnumPointShadows: - 1,\n\t\t\tnumSpotShadows: - 1\n\t\t},\n\n\t\tambient: [ 0, 0, 0 ],\n\t\tprobe: [],\n\t\tdirectional: [],\n\t\tdirectionalShadow: [],\n\t\tdirectionalShadowMap: [],\n\t\tdirectionalShadowMatrix: [],\n\t\tspot: [],\n\t\tspotShadow: [],\n\t\tspotShadowMap: [],\n\t\tspotShadowMatrix: [],\n\t\trectArea: [],\n\t\trectAreaLTC1: null,\n\t\trectAreaLTC2: null,\n\t\tpoint: [],\n\t\tpointShadow: [],\n\t\tpointShadowMap: [],\n\t\tpointShadowMatrix: [],\n\t\themi: []\n\n\t};\n\n\tfor ( let i = 0; i < 9; i ++ ) state.probe.push( new Vector3() );\n\n\tconst vector3 = new Vector3();\n\tconst matrix4 = new Matrix4();\n\tconst matrix42 = new Matrix4();\n\n\tfunction setup( lights, shadows, camera ) {\n\n\t\tlet r = 0, g = 0, b = 0;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) state.probe[ i ].set( 0, 0, 0 );\n\n\t\tlet directionalLength = 0;\n\t\tlet pointLength = 0;\n\t\tlet spotLength = 0;\n\t\tlet rectAreaLength = 0;\n\t\tlet hemiLength = 0;\n\n\t\tlet numDirectionalShadows = 0;\n\t\tlet numPointShadows = 0;\n\t\tlet numSpotShadows = 0;\n\n\t\tconst viewMatrix = camera.matrixWorldInverse;\n\n\t\tlights.sort( shadowCastingLightsFirst );\n\n\t\tfor ( let i = 0, l = lights.length; i < l; i ++ ) {\n\n\t\t\tconst light = lights[ i ];\n\n\t\t\tconst color = light.color;\n\t\t\tconst intensity = light.intensity;\n\t\t\tconst distance = light.distance;\n\n\t\t\tconst shadowMap = ( light.shadow && light.shadow.map ) ? light.shadow.map.texture : null;\n\n\t\t\tif ( light.isAmbientLight ) {\n\n\t\t\t\tr += color.r * intensity;\n\t\t\t\tg += color.g * intensity;\n\t\t\t\tb += color.b * intensity;\n\n\t\t\t} else if ( light.isLightProbe ) {\n\n\t\t\t\tfor ( let j = 0; j < 9; j ++ ) {\n\n\t\t\t\t\tstate.probe[ j ].addScaledVector( light.sh.coefficients[ j ], intensity );\n\n\t\t\t\t}\n\n\t\t\t} else if ( light.isDirectionalLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t\tstate.directionalShadow[ directionalLength ] = shadowUniforms;\n\t\t\t\t\tstate.directionalShadowMap[ directionalLength ] = shadowMap;\n\t\t\t\t\tstate.directionalShadowMatrix[ directionalLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumDirectionalShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.directional[ directionalLength ] = uniforms;\n\n\t\t\t\tdirectionalLength ++;\n\n\t\t\t} else if ( light.isSpotLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\n\t\t\t\tuniforms.distance = distance;\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tuniforms.coneCos = Math.cos( light.angle );\n\t\t\t\tuniforms.penumbraCos = Math.cos( light.angle * ( 1 - light.penumbra ) );\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t\tstate.spotShadow[ spotLength ] = shadowUniforms;\n\t\t\t\t\tstate.spotShadowMap[ spotLength ] = shadowMap;\n\t\t\t\t\tstate.spotShadowMatrix[ spotLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumSpotShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.spot[ spotLength ] = uniforms;\n\n\t\t\t\tspotLength ++;\n\n\t\t\t} else if ( light.isRectAreaLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\t// (a) intensity is the total visible light emitted\n\t\t\t\t//uniforms.color.copy( color ).multiplyScalar( intensity / ( light.width * light.height * Math.PI ) );\n\n\t\t\t\t// (b) intensity is the brightness of the light\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\t// extract local rotation of light to derive width/height half vectors\n\t\t\t\tmatrix42.identity();\n\t\t\t\tmatrix4.copy( light.matrixWorld );\n\t\t\t\tmatrix4.premultiply( viewMatrix );\n\t\t\t\tmatrix42.extractRotation( matrix4 );\n\n\t\t\t\tuniforms.halfWidth.set( light.width * 0.5, 0.0, 0.0 );\n\t\t\t\tuniforms.halfHeight.set( 0.0, light.height * 0.5, 0.0 );\n\n\t\t\t\tuniforms.halfWidth.applyMatrix4( matrix42 );\n\t\t\t\tuniforms.halfHeight.applyMatrix4( matrix42 );\n\n\t\t\t\t// TODO (abelnation): RectAreaLight distance?\n\t\t\t\t// uniforms.distance = distance;\n\n\t\t\t\tstate.rectArea[ rectAreaLength ] = uniforms;\n\n\t\t\t\trectAreaLength ++;\n\n\t\t\t} else if ( light.isPointLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\n\t\t\t\tuniforms.distance = light.distance;\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\t\t\t\t\tshadowUniforms.shadowCameraNear = shadow.camera.near;\n\t\t\t\t\tshadowUniforms.shadowCameraFar = shadow.camera.far;\n\n\t\t\t\t\tstate.pointShadow[ pointLength ] = shadowUniforms;\n\t\t\t\t\tstate.pointShadowMap[ pointLength ] = shadowMap;\n\t\t\t\t\tstate.pointShadowMatrix[ pointLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumPointShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.point[ pointLength ] = uniforms;\n\n\t\t\t\tpointLength ++;\n\n\t\t\t} else if ( light.isHemisphereLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\t\t\t\tuniforms.direction.normalize();\n\n\t\t\t\tuniforms.skyColor.copy( light.color ).multiplyScalar( intensity );\n\t\t\t\tuniforms.groundColor.copy( light.groundColor ).multiplyScalar( intensity );\n\n\t\t\t\tstate.hemi[ hemiLength ] = uniforms;\n\n\t\t\t\themiLength ++;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( rectAreaLength > 0 ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\t// WebGL 2\n\n\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_FLOAT_1;\n\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_FLOAT_2;\n\n\t\t\t} else {\n\n\t\t\t\t// WebGL 1\n\n\t\t\t\tif ( extensions.has( 'OES_texture_float_linear' ) === true ) {\n\n\t\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_FLOAT_1;\n\t\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_FLOAT_2;\n\n\t\t\t\t} else if ( extensions.has( 'OES_texture_half_float_linear' ) === true ) {\n\n\t\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_HALF_1;\n\t\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_HALF_2;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.ambient[ 0 ] = r;\n\t\tstate.ambient[ 1 ] = g;\n\t\tstate.ambient[ 2 ] = b;\n\n\t\tconst hash = state.hash;\n\n\t\tif ( hash.directionalLength !== directionalLength ||\n\t\t\thash.pointLength !== pointLength ||\n\t\t\thash.spotLength !== spotLength ||\n\t\t\thash.rectAreaLength !== rectAreaLength ||\n\t\t\thash.hemiLength !== hemiLength ||\n\t\t\thash.numDirectionalShadows !== numDirectionalShadows ||\n\t\t\thash.numPointShadows !== numPointShadows ||\n\t\t\thash.numSpotShadows !== numSpotShadows ) {\n\n\t\t\tstate.directional.length = directionalLength;\n\t\t\tstate.spot.length = spotLength;\n\t\t\tstate.rectArea.length = rectAreaLength;\n\t\t\tstate.point.length = pointLength;\n\t\t\tstate.hemi.length = hemiLength;\n\n\t\t\tstate.directionalShadow.length = numDirectionalShadows;\n\t\t\tstate.directionalShadowMap.length = numDirectionalShadows;\n\t\t\tstate.pointShadow.length = numPointShadows;\n\t\t\tstate.pointShadowMap.length = numPointShadows;\n\t\t\tstate.spotShadow.length = numSpotShadows;\n\t\t\tstate.spotShadowMap.length = numSpotShadows;\n\t\t\tstate.directionalShadowMatrix.length = numDirectionalShadows;\n\t\t\tstate.pointShadowMatrix.length = numPointShadows;\n\t\t\tstate.spotShadowMatrix.length = numSpotShadows;\n\n\t\t\thash.directionalLength = directionalLength;\n\t\t\thash.pointLength = pointLength;\n\t\t\thash.spotLength = spotLength;\n\t\t\thash.rectAreaLength = rectAreaLength;\n\t\t\thash.hemiLength = hemiLength;\n\n\t\t\thash.numDirectionalShadows = numDirectionalShadows;\n\t\t\thash.numPointShadows = numPointShadows;\n\t\t\thash.numSpotShadows = numSpotShadows;\n\n\t\t\tstate.version = nextVersion ++;\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\tsetup: setup,\n\t\tstate: state\n\t};\n\n}\n\nfunction WebGLRenderState( extensions, capabilities ) {\n\n\tconst lights = new WebGLLights( extensions, capabilities );\n\n\tconst lightsArray = [];\n\tconst shadowsArray = [];\n\n\tfunction init() {\n\n\t\tlightsArray.length = 0;\n\t\tshadowsArray.length = 0;\n\n\t}\n\n\tfunction pushLight( light ) {\n\n\t\tlightsArray.push( light );\n\n\t}\n\n\tfunction pushShadow( shadowLight ) {\n\n\t\tshadowsArray.push( shadowLight );\n\n\t}\n\n\tfunction setupLights( camera ) {\n\n\t\tlights.setup( lightsArray, shadowsArray, camera );\n\n\t}\n\n\tconst state = {\n\t\tlightsArray: lightsArray,\n\t\tshadowsArray: shadowsArray,\n\n\t\tlights: lights\n\t};\n\n\treturn {\n\t\tinit: init,\n\t\tstate: state,\n\t\tsetupLights: setupLights,\n\n\t\tpushLight: pushLight,\n\t\tpushShadow: pushShadow\n\t};\n\n}\n\nfunction WebGLRenderStates( extensions, capabilities ) {\n\n\tlet renderStates = new WeakMap();\n\n\tfunction get( scene, camera ) {\n\n\t\tlet renderState;\n\n\t\tif ( renderStates.has( scene ) === false ) {\n\n\t\t\trenderState = new WebGLRenderState( extensions, capabilities );\n\t\t\trenderStates.set( scene, new WeakMap() );\n\t\t\trenderStates.get( scene ).set( camera, renderState );\n\n\t\t} else {\n\n\t\t\tif ( renderStates.get( scene ).has( camera ) === false ) {\n\n\t\t\t\trenderState = new WebGLRenderState( extensions, capabilities );\n\t\t\t\trenderStates.get( scene ).set( camera, renderState );\n\n\t\t\t} else {\n\n\t\t\t\trenderState = renderStates.get( scene ).get( camera );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn renderState;\n\n\t}\n\n\tfunction dispose() {\n\n\t\trenderStates = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\n/**\n * parameters = {\n *\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n * }\n */\n\nfunction MeshDepthMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshDepthMaterial';\n\n\tthis.depthPacking = BasicDepthPacking;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\n\tthis.map = null;\n\n\tthis.alphaMap = null;\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.fog = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshDepthMaterial.prototype = Object.create( Material.prototype );\nMeshDepthMaterial.prototype.constructor = MeshDepthMaterial;\n\nMeshDepthMaterial.prototype.isMeshDepthMaterial = true;\n\nMeshDepthMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.depthPacking = source.depthPacking;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\n\tthis.map = source.map;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\treturn this;\n\n};\n\n/**\n * parameters = {\n *\n *  referencePosition: <float>,\n *  nearDistance: <float>,\n *  farDistance: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>\n *\n * }\n */\n\nfunction MeshDistanceMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshDistanceMaterial';\n\n\tthis.referencePosition = new Vector3();\n\tthis.nearDistance = 1;\n\tthis.farDistance = 1000;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\n\tthis.map = null;\n\n\tthis.alphaMap = null;\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.fog = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshDistanceMaterial.prototype = Object.create( Material.prototype );\nMeshDistanceMaterial.prototype.constructor = MeshDistanceMaterial;\n\nMeshDistanceMaterial.prototype.isMeshDistanceMaterial = true;\n\nMeshDistanceMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.referencePosition.copy( source.referencePosition );\n\tthis.nearDistance = source.nearDistance;\n\tthis.farDistance = source.farDistance;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\n\tthis.map = source.map;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\treturn this;\n\n};\n\nvar vsm_frag = \"uniform sampler2D shadow_pass;\\nuniform vec2 resolution;\\nuniform float radius;\\n#include <packing>\\nvoid main() {\\n\\tfloat mean = 0.0;\\n\\tfloat squared_mean = 0.0;\\n\\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\\n\\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\\n\\t\\t#ifdef HORIZONAL_PASS\\n\\t\\t\\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\\n\\t\\t\\tmean += distribution.x;\\n\\t\\t\\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\\n\\t\\t#else\\n\\t\\t\\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\\n\\t\\t\\tmean += depth;\\n\\t\\t\\tsquared_mean += depth * depth;\\n\\t\\t#endif\\n\\t}\\n\\tmean = mean * HALF_SAMPLE_RATE;\\n\\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\\n\\tfloat std_dev = sqrt( squared_mean - mean * mean );\\n\\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\\n}\";\n\nvar vsm_vert = \"void main() {\\n\\tgl_Position = vec4( position, 1.0 );\\n}\";\n\nfunction WebGLShadowMap( _renderer, _objects, maxTextureSize ) {\n\n\tlet _frustum = new Frustum();\n\n\tconst _shadowMapSize = new Vector2(),\n\t\t_viewportSize = new Vector2(),\n\n\t\t_viewport = new Vector4(),\n\n\t\t_depthMaterials = [],\n\t\t_distanceMaterials = [],\n\n\t\t_materialCache = {};\n\n\tconst shadowSide = { 0: BackSide, 1: FrontSide, 2: DoubleSide };\n\n\tconst shadowMaterialVertical = new ShaderMaterial( {\n\n\t\tdefines: {\n\t\t\tSAMPLE_RATE: 2.0 / 8.0,\n\t\t\tHALF_SAMPLE_RATE: 1.0 / 8.0\n\t\t},\n\n\t\tuniforms: {\n\t\t\tshadow_pass: { value: null },\n\t\t\tresolution: { value: new Vector2() },\n\t\t\tradius: { value: 4.0 }\n\t\t},\n\n\t\tvertexShader: vsm_vert,\n\n\t\tfragmentShader: vsm_frag\n\n\t} );\n\n\tconst shadowMaterialHorizonal = shadowMaterialVertical.clone();\n\tshadowMaterialHorizonal.defines.HORIZONAL_PASS = 1;\n\n\tconst fullScreenTri = new BufferGeometry();\n\tfullScreenTri.setAttribute(\n\t\t\"position\",\n\t\tnew BufferAttribute(\n\t\t\tnew Float32Array( [ - 1, - 1, 0.5, 3, - 1, 0.5, - 1, 3, 0.5 ] ),\n\t\t\t3\n\t\t)\n\t);\n\n\tconst fullScreenMesh = new Mesh( fullScreenTri, shadowMaterialVertical );\n\n\tconst scope = this;\n\n\tthis.enabled = false;\n\n\tthis.autoUpdate = true;\n\tthis.needsUpdate = false;\n\n\tthis.type = PCFShadowMap;\n\n\tthis.render = function ( lights, scene, camera ) {\n\n\t\tif ( scope.enabled === false ) return;\n\t\tif ( scope.autoUpdate === false && scope.needsUpdate === false ) return;\n\n\t\tif ( lights.length === 0 ) return;\n\n\t\tconst currentRenderTarget = _renderer.getRenderTarget();\n\t\tconst activeCubeFace = _renderer.getActiveCubeFace();\n\t\tconst activeMipmapLevel = _renderer.getActiveMipmapLevel();\n\n\t\tconst _state = _renderer.state;\n\n\t\t// Set GL state for depth map.\n\t\t_state.setBlending( NoBlending );\n\t\t_state.buffers.color.setClear( 1, 1, 1, 1 );\n\t\t_state.buffers.depth.setTest( true );\n\t\t_state.setScissorTest( false );\n\n\t\t// render depth map\n\n\t\tfor ( let i = 0, il = lights.length; i < il; i ++ ) {\n\n\t\t\tconst light = lights[ i ];\n\t\t\tconst shadow = light.shadow;\n\n\t\t\tif ( shadow === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap:', light, 'has no shadow.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif ( shadow.autoUpdate === false && shadow.needsUpdate === false ) continue;\n\n\t\t\t_shadowMapSize.copy( shadow.mapSize );\n\n\t\t\tconst shadowFrameExtents = shadow.getFrameExtents();\n\n\t\t\t_shadowMapSize.multiply( shadowFrameExtents );\n\n\t\t\t_viewportSize.copy( shadow.mapSize );\n\n\t\t\tif ( _shadowMapSize.x > maxTextureSize || _shadowMapSize.y > maxTextureSize ) {\n\n\t\t\t\tif ( _shadowMapSize.x > maxTextureSize ) {\n\n\t\t\t\t\t_viewportSize.x = Math.floor( maxTextureSize / shadowFrameExtents.x );\n\t\t\t\t\t_shadowMapSize.x = _viewportSize.x * shadowFrameExtents.x;\n\t\t\t\t\tshadow.mapSize.x = _viewportSize.x;\n\n\t\t\t\t}\n\n\t\t\t\tif ( _shadowMapSize.y > maxTextureSize ) {\n\n\t\t\t\t\t_viewportSize.y = Math.floor( maxTextureSize / shadowFrameExtents.y );\n\t\t\t\t\t_shadowMapSize.y = _viewportSize.y * shadowFrameExtents.y;\n\t\t\t\t\tshadow.mapSize.y = _viewportSize.y;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( shadow.map === null && ! shadow.isPointLightShadow && this.type === VSMShadowMap ) {\n\n\t\t\t\tconst pars = { minFilter: LinearFilter, magFilter: LinearFilter, format: RGBAFormat };\n\n\t\t\t\tshadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\t\t\t\tshadow.map.texture.name = light.name + \".shadowMap\";\n\n\t\t\t\tshadow.mapPass = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\n\t\t\t\tshadow.camera.updateProjectionMatrix();\n\n\t\t\t}\n\n\t\t\tif ( shadow.map === null ) {\n\n\t\t\t\tconst pars = { minFilter: NearestFilter, magFilter: NearestFilter, format: RGBAFormat };\n\n\t\t\t\tshadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\t\t\t\tshadow.map.texture.name = light.name + \".shadowMap\";\n\n\t\t\t\tshadow.camera.updateProjectionMatrix();\n\n\t\t\t}\n\n\t\t\t_renderer.setRenderTarget( shadow.map );\n\t\t\t_renderer.clear();\n\n\t\t\tconst viewportCount = shadow.getViewportCount();\n\n\t\t\tfor ( let vp = 0; vp < viewportCount; vp ++ ) {\n\n\t\t\t\tconst viewport = shadow.getViewport( vp );\n\n\t\t\t\t_viewport.set(\n\t\t\t\t\t_viewportSize.x * viewport.x,\n\t\t\t\t\t_viewportSize.y * viewport.y,\n\t\t\t\t\t_viewportSize.x * viewport.z,\n\t\t\t\t\t_viewportSize.y * viewport.w\n\t\t\t\t);\n\n\t\t\t\t_state.viewport( _viewport );\n\n\t\t\t\tshadow.updateMatrices( light, vp );\n\n\t\t\t\t_frustum = shadow.getFrustum();\n\n\t\t\t\trenderObject( scene, camera, shadow.camera, light, this.type );\n\n\t\t\t}\n\n\t\t\t// do blur pass for VSM\n\n\t\t\tif ( ! shadow.isPointLightShadow && this.type === VSMShadowMap ) {\n\n\t\t\t\tVSMPass( shadow, camera );\n\n\t\t\t}\n\n\t\t\tshadow.needsUpdate = false;\n\n\t\t}\n\n\t\tscope.needsUpdate = false;\n\n\t\t_renderer.setRenderTarget( currentRenderTarget, activeCubeFace, activeMipmapLevel );\n\n\t};\n\n\tfunction VSMPass( shadow, camera ) {\n\n\t\tconst geometry = _objects.update( fullScreenMesh );\n\n\t\t// vertical pass\n\n\t\tshadowMaterialVertical.uniforms.shadow_pass.value = shadow.map.texture;\n\t\tshadowMaterialVertical.uniforms.resolution.value = shadow.mapSize;\n\t\tshadowMaterialVertical.uniforms.radius.value = shadow.radius;\n\t\t_renderer.setRenderTarget( shadow.mapPass );\n\t\t_renderer.clear();\n\t\t_renderer.renderBufferDirect( camera, null, geometry, shadowMaterialVertical, fullScreenMesh, null );\n\n\t\t// horizonal pass\n\n\t\tshadowMaterialHorizonal.uniforms.shadow_pass.value = shadow.mapPass.texture;\n\t\tshadowMaterialHorizonal.uniforms.resolution.value = shadow.mapSize;\n\t\tshadowMaterialHorizonal.uniforms.radius.value = shadow.radius;\n\t\t_renderer.setRenderTarget( shadow.map );\n\t\t_renderer.clear();\n\t\t_renderer.renderBufferDirect( camera, null, geometry, shadowMaterialHorizonal, fullScreenMesh, null );\n\n\t}\n\n\tfunction getDepthMaterialVariant( useMorphing, useSkinning, useInstancing ) {\n\n\t\tconst index = useMorphing << 0 | useSkinning << 1 | useInstancing << 2;\n\n\t\tlet material = _depthMaterials[ index ];\n\n\t\tif ( material === undefined ) {\n\n\t\t\tmaterial = new MeshDepthMaterial( {\n\n\t\t\t\tdepthPacking: RGBADepthPacking,\n\n\t\t\t\tmorphTargets: useMorphing,\n\t\t\t\tskinning: useSkinning\n\n\t\t\t} );\n\n\t\t\t_depthMaterials[ index ] = material;\n\n\t\t}\n\n\t\treturn material;\n\n\t}\n\n\tfunction getDistanceMaterialVariant( useMorphing, useSkinning, useInstancing ) {\n\n\t\tconst index = useMorphing << 0 | useSkinning << 1 | useInstancing << 2;\n\n\t\tlet material = _distanceMaterials[ index ];\n\n\t\tif ( material === undefined ) {\n\n\t\t\tmaterial = new MeshDistanceMaterial( {\n\n\t\t\t\tmorphTargets: useMorphing,\n\t\t\t\tskinning: useSkinning\n\n\t\t\t} );\n\n\t\t\t_distanceMaterials[ index ] = material;\n\n\t\t}\n\n\t\treturn material;\n\n\t}\n\n\tfunction getDepthMaterial( object, geometry, material, light, shadowCameraNear, shadowCameraFar, type ) {\n\n\t\tlet result = null;\n\n\t\tlet getMaterialVariant = getDepthMaterialVariant;\n\t\tlet customMaterial = object.customDepthMaterial;\n\n\t\tif ( light.isPointLight === true ) {\n\n\t\t\tgetMaterialVariant = getDistanceMaterialVariant;\n\t\t\tcustomMaterial = object.customDistanceMaterial;\n\n\t\t}\n\n\t\tif ( customMaterial === undefined ) {\n\n\t\t\tlet useMorphing = false;\n\n\t\t\tif ( material.morphTargets === true ) {\n\n\t\t\t\tuseMorphing = geometry.morphAttributes && geometry.morphAttributes.position && geometry.morphAttributes.position.length > 0;\n\n\t\t\t}\n\n\t\t\tlet useSkinning = false;\n\n\t\t\tif ( object.isSkinnedMesh === true ) {\n\n\t\t\t\tif ( material.skinning === true ) {\n\n\t\t\t\t\tuseSkinning = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:', object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst useInstancing = object.isInstancedMesh === true;\n\n\t\t\tresult = getMaterialVariant( useMorphing, useSkinning, useInstancing );\n\n\t\t} else {\n\n\t\t\tresult = customMaterial;\n\n\t\t}\n\n\t\tif ( _renderer.localClippingEnabled &&\n\t\t\t\tmaterial.clipShadows === true &&\n\t\t\t\tmaterial.clippingPlanes.length !== 0 ) {\n\n\t\t\t// in this case we need a unique material instance reflecting the\n\t\t\t// appropriate state\n\n\t\t\tconst keyA = result.uuid, keyB = material.uuid;\n\n\t\t\tlet materialsForVariant = _materialCache[ keyA ];\n\n\t\t\tif ( materialsForVariant === undefined ) {\n\n\t\t\t\tmaterialsForVariant = {};\n\t\t\t\t_materialCache[ keyA ] = materialsForVariant;\n\n\t\t\t}\n\n\t\t\tlet cachedMaterial = materialsForVariant[ keyB ];\n\n\t\t\tif ( cachedMaterial === undefined ) {\n\n\t\t\t\tcachedMaterial = result.clone();\n\t\t\t\tmaterialsForVariant[ keyB ] = cachedMaterial;\n\n\t\t\t}\n\n\t\t\tresult = cachedMaterial;\n\n\t\t}\n\n\t\tresult.visible = material.visible;\n\t\tresult.wireframe = material.wireframe;\n\n\t\tif ( type === VSMShadowMap ) {\n\n\t\t\tresult.side = ( material.shadowSide !== null ) ? material.shadowSide : material.side;\n\n\t\t} else {\n\n\t\t\tresult.side = ( material.shadowSide !== null ) ? material.shadowSide : shadowSide[ material.side ];\n\n\t\t}\n\n\t\tresult.clipShadows = material.clipShadows;\n\t\tresult.clippingPlanes = material.clippingPlanes;\n\t\tresult.clipIntersection = material.clipIntersection;\n\n\t\tresult.wireframeLinewidth = material.wireframeLinewidth;\n\t\tresult.linewidth = material.linewidth;\n\n\t\tif ( light.isPointLight === true && result.isMeshDistanceMaterial === true ) {\n\n\t\t\tresult.referencePosition.setFromMatrixPosition( light.matrixWorld );\n\t\t\tresult.nearDistance = shadowCameraNear;\n\t\t\tresult.farDistance = shadowCameraFar;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\tfunction renderObject( object, camera, shadowCamera, light, type ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tconst visible = object.layers.test( camera.layers );\n\n\t\tif ( visible && ( object.isMesh || object.isLine || object.isPoints ) ) {\n\n\t\t\tif ( ( object.castShadow || ( object.receiveShadow && type === VSMShadowMap ) ) && ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) ) {\n\n\t\t\t\tobject.modelViewMatrix.multiplyMatrices( shadowCamera.matrixWorldInverse, object.matrixWorld );\n\n\t\t\t\tconst geometry = _objects.update( object );\n\t\t\t\tconst material = object.material;\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tconst groups = geometry.groups;\n\n\t\t\t\t\tfor ( let k = 0, kl = groups.length; k < kl; k ++ ) {\n\n\t\t\t\t\t\tconst group = groups[ k ];\n\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\tconst depthMaterial = getDepthMaterial( object, geometry, groupMaterial, light, shadowCamera.near, shadowCamera.far, type );\n\n\t\t\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, group );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\tconst depthMaterial = getDepthMaterial( object, geometry, material, light, shadowCamera.near, shadowCamera.far, type );\n\n\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, null );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\trenderObject( children[ i ], camera, shadowCamera, light, type );\n\n\t\t}\n\n\t}\n\n}\n\nfunction WebGLState( gl, extensions, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tfunction ColorBuffer() {\n\n\t\tlet locked = false;\n\n\t\tconst color = new Vector4();\n\t\tlet currentColorMask = null;\n\t\tconst currentColorClear = new Vector4( 0, 0, 0, 0 );\n\n\t\treturn {\n\n\t\t\tsetMask: function ( colorMask ) {\n\n\t\t\t\tif ( currentColorMask !== colorMask && ! locked ) {\n\n\t\t\t\t\tgl.colorMask( colorMask, colorMask, colorMask, colorMask );\n\t\t\t\t\tcurrentColorMask = colorMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( r, g, b, a, premultipliedAlpha ) {\n\n\t\t\t\tif ( premultipliedAlpha === true ) {\n\n\t\t\t\t\tr *= a; g *= a; b *= a;\n\n\t\t\t\t}\n\n\t\t\t\tcolor.set( r, g, b, a );\n\n\t\t\t\tif ( currentColorClear.equals( color ) === false ) {\n\n\t\t\t\t\tgl.clearColor( r, g, b, a );\n\t\t\t\t\tcurrentColorClear.copy( color );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentColorMask = null;\n\t\t\t\tcurrentColorClear.set( - 1, 0, 0, 0 ); // set to invalid state\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction DepthBuffer() {\n\n\t\tlet locked = false;\n\n\t\tlet currentDepthMask = null;\n\t\tlet currentDepthFunc = null;\n\t\tlet currentDepthClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( depthTest ) {\n\n\t\t\t\tif ( depthTest ) {\n\n\t\t\t\t\tenable( 2929 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tdisable( 2929 );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( depthMask ) {\n\n\t\t\t\tif ( currentDepthMask !== depthMask && ! locked ) {\n\n\t\t\t\t\tgl.depthMask( depthMask );\n\t\t\t\t\tcurrentDepthMask = depthMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( depthFunc ) {\n\n\t\t\t\tif ( currentDepthFunc !== depthFunc ) {\n\n\t\t\t\t\tif ( depthFunc ) {\n\n\t\t\t\t\t\tswitch ( depthFunc ) {\n\n\t\t\t\t\t\t\tcase NeverDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 512 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase AlwaysDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 519 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 513 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 515 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase EqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 514 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 518 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 516 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase NotEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 517 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 515 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tgl.depthFunc( 515 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcurrentDepthFunc = depthFunc;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( depth ) {\n\n\t\t\t\tif ( currentDepthClear !== depth ) {\n\n\t\t\t\t\tgl.clearDepth( depth );\n\t\t\t\t\tcurrentDepthClear = depth;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentDepthMask = null;\n\t\t\t\tcurrentDepthFunc = null;\n\t\t\t\tcurrentDepthClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction StencilBuffer() {\n\n\t\tlet locked = false;\n\n\t\tlet currentStencilMask = null;\n\t\tlet currentStencilFunc = null;\n\t\tlet currentStencilRef = null;\n\t\tlet currentStencilFuncMask = null;\n\t\tlet currentStencilFail = null;\n\t\tlet currentStencilZFail = null;\n\t\tlet currentStencilZPass = null;\n\t\tlet currentStencilClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( stencilTest ) {\n\n\t\t\t\tif ( ! locked ) {\n\n\t\t\t\t\tif ( stencilTest ) {\n\n\t\t\t\t\t\tenable( 2960 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdisable( 2960 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( stencilMask ) {\n\n\t\t\t\tif ( currentStencilMask !== stencilMask && ! locked ) {\n\n\t\t\t\t\tgl.stencilMask( stencilMask );\n\t\t\t\t\tcurrentStencilMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( stencilFunc, stencilRef, stencilMask ) {\n\n\t\t\t\tif ( currentStencilFunc !== stencilFunc ||\n\t\t\t\t     currentStencilRef !== stencilRef ||\n\t\t\t\t     currentStencilFuncMask !== stencilMask ) {\n\n\t\t\t\t\tgl.stencilFunc( stencilFunc, stencilRef, stencilMask );\n\n\t\t\t\t\tcurrentStencilFunc = stencilFunc;\n\t\t\t\t\tcurrentStencilRef = stencilRef;\n\t\t\t\t\tcurrentStencilFuncMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetOp: function ( stencilFail, stencilZFail, stencilZPass ) {\n\n\t\t\t\tif ( currentStencilFail !== stencilFail ||\n\t\t\t\t     currentStencilZFail !== stencilZFail ||\n\t\t\t\t     currentStencilZPass !== stencilZPass ) {\n\n\t\t\t\t\tgl.stencilOp( stencilFail, stencilZFail, stencilZPass );\n\n\t\t\t\t\tcurrentStencilFail = stencilFail;\n\t\t\t\t\tcurrentStencilZFail = stencilZFail;\n\t\t\t\t\tcurrentStencilZPass = stencilZPass;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( stencil ) {\n\n\t\t\t\tif ( currentStencilClear !== stencil ) {\n\n\t\t\t\t\tgl.clearStencil( stencil );\n\t\t\t\t\tcurrentStencilClear = stencil;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentStencilMask = null;\n\t\t\t\tcurrentStencilFunc = null;\n\t\t\t\tcurrentStencilRef = null;\n\t\t\t\tcurrentStencilFuncMask = null;\n\t\t\t\tcurrentStencilFail = null;\n\t\t\t\tcurrentStencilZFail = null;\n\t\t\t\tcurrentStencilZPass = null;\n\t\t\t\tcurrentStencilClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t//\n\n\tconst colorBuffer = new ColorBuffer();\n\tconst depthBuffer = new DepthBuffer();\n\tconst stencilBuffer = new StencilBuffer();\n\n\tlet enabledCapabilities = {};\n\n\tlet currentProgram = null;\n\n\tlet currentBlendingEnabled = null;\n\tlet currentBlending = null;\n\tlet currentBlendEquation = null;\n\tlet currentBlendSrc = null;\n\tlet currentBlendDst = null;\n\tlet currentBlendEquationAlpha = null;\n\tlet currentBlendSrcAlpha = null;\n\tlet currentBlendDstAlpha = null;\n\tlet currentPremultipledAlpha = false;\n\n\tlet currentFlipSided = null;\n\tlet currentCullFace = null;\n\n\tlet currentLineWidth = null;\n\n\tlet currentPolygonOffsetFactor = null;\n\tlet currentPolygonOffsetUnits = null;\n\n\tconst maxTextures = gl.getParameter( 35661 );\n\n\tlet lineWidthAvailable = false;\n\tlet version = 0;\n\tconst glVersion = gl.getParameter( 7938 );\n\n\tif ( glVersion.indexOf( 'WebGL' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^WebGL\\ ([0-9])/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 1.0 );\n\n\t} else if ( glVersion.indexOf( 'OpenGL ES' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^OpenGL\\ ES\\ ([0-9])/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 2.0 );\n\n\t}\n\n\tlet currentTextureSlot = null;\n\tlet currentBoundTextures = {};\n\n\tconst currentScissor = new Vector4();\n\tconst currentViewport = new Vector4();\n\n\tfunction createTexture( type, target, count ) {\n\n\t\tconst data = new Uint8Array( 4 ); // 4 is required to match default unpack alignment of 4.\n\t\tconst texture = gl.createTexture();\n\n\t\tgl.bindTexture( type, texture );\n\t\tgl.texParameteri( type, 10241, 9728 );\n\t\tgl.texParameteri( type, 10240, 9728 );\n\n\t\tfor ( let i = 0; i < count; i ++ ) {\n\n\t\t\tgl.texImage2D( target + i, 0, 6408, 1, 1, 0, 6408, 5121, data );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tconst emptyTextures = {};\n\temptyTextures[ 3553 ] = createTexture( 3553, 3553, 1 );\n\temptyTextures[ 34067 ] = createTexture( 34067, 34069, 6 );\n\n\t// init\n\n\tcolorBuffer.setClear( 0, 0, 0, 1 );\n\tdepthBuffer.setClear( 1 );\n\tstencilBuffer.setClear( 0 );\n\n\tenable( 2929 );\n\tdepthBuffer.setFunc( LessEqualDepth );\n\n\tsetFlipSided( false );\n\tsetCullFace( CullFaceBack );\n\tenable( 2884 );\n\n\tsetBlending( NoBlending );\n\n\t//\n\n\tfunction enable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== true ) {\n\n\t\t\tgl.enable( id );\n\t\t\tenabledCapabilities[ id ] = true;\n\n\t\t}\n\n\t}\n\n\tfunction disable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== false ) {\n\n\t\t\tgl.disable( id );\n\t\t\tenabledCapabilities[ id ] = false;\n\n\t\t}\n\n\t}\n\n\tfunction useProgram( program ) {\n\n\t\tif ( currentProgram !== program ) {\n\n\t\t\tgl.useProgram( program );\n\n\t\t\tcurrentProgram = program;\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\tconst equationToGL = {\n\t\t[ AddEquation ]: 32774,\n\t\t[ SubtractEquation ]: 32778,\n\t\t[ ReverseSubtractEquation ]: 32779\n\t};\n\n\tif ( isWebGL2 ) {\n\n\t\tequationToGL[ MinEquation ] = 32775;\n\t\tequationToGL[ MaxEquation ] = 32776;\n\n\t} else {\n\n\t\tconst extension = extensions.get( 'EXT_blend_minmax' );\n\n\t\tif ( extension !== null ) {\n\n\t\t\tequationToGL[ MinEquation ] = extension.MIN_EXT;\n\t\t\tequationToGL[ MaxEquation ] = extension.MAX_EXT;\n\n\t\t}\n\n\t}\n\n\tconst factorToGL = {\n\t\t[ ZeroFactor ]: 0,\n\t\t[ OneFactor ]: 1,\n\t\t[ SrcColorFactor ]: 768,\n\t\t[ SrcAlphaFactor ]: 770,\n\t\t[ SrcAlphaSaturateFactor ]: 776,\n\t\t[ DstColorFactor ]: 774,\n\t\t[ DstAlphaFactor ]: 772,\n\t\t[ OneMinusSrcColorFactor ]: 769,\n\t\t[ OneMinusSrcAlphaFactor ]: 771,\n\t\t[ OneMinusDstColorFactor ]: 775,\n\t\t[ OneMinusDstAlphaFactor ]: 773\n\t};\n\n\tfunction setBlending( blending, blendEquation, blendSrc, blendDst, blendEquationAlpha, blendSrcAlpha, blendDstAlpha, premultipliedAlpha ) {\n\n\t\tif ( blending === NoBlending ) {\n\n\t\t\tif ( currentBlendingEnabled ) {\n\n\t\t\t\tdisable( 3042 );\n\t\t\t\tcurrentBlendingEnabled = false;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( ! currentBlendingEnabled ) {\n\n\t\t\tenable( 3042 );\n\t\t\tcurrentBlendingEnabled = true;\n\n\t\t}\n\n\t\tif ( blending !== CustomBlending ) {\n\n\t\t\tif ( blending !== currentBlending || premultipliedAlpha !== currentPremultipledAlpha ) {\n\n\t\t\t\tif ( currentBlendEquation !== AddEquation || currentBlendEquationAlpha !== AddEquation ) {\n\n\t\t\t\t\tgl.blendEquation( 32774 );\n\n\t\t\t\t\tcurrentBlendEquation = AddEquation;\n\t\t\t\t\tcurrentBlendEquationAlpha = AddEquation;\n\n\t\t\t\t}\n\n\t\t\t\tif ( premultipliedAlpha ) {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 1, 771, 1, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 1, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 0, 769, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 768, 0, 770 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 770, 771, 1, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 770, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 0, 769 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 0, 768 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tcurrentBlendSrc = null;\n\t\t\t\tcurrentBlendDst = null;\n\t\t\t\tcurrentBlendSrcAlpha = null;\n\t\t\t\tcurrentBlendDstAlpha = null;\n\n\t\t\t\tcurrentBlending = blending;\n\t\t\t\tcurrentPremultipledAlpha = premultipliedAlpha;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// custom blending\n\n\t\tblendEquationAlpha = blendEquationAlpha || blendEquation;\n\t\tblendSrcAlpha = blendSrcAlpha || blendSrc;\n\t\tblendDstAlpha = blendDstAlpha || blendDst;\n\n\t\tif ( blendEquation !== currentBlendEquation || blendEquationAlpha !== currentBlendEquationAlpha ) {\n\n\t\t\tgl.blendEquationSeparate( equationToGL[ blendEquation ], equationToGL[ blendEquationAlpha ] );\n\n\t\t\tcurrentBlendEquation = blendEquation;\n\t\t\tcurrentBlendEquationAlpha = blendEquationAlpha;\n\n\t\t}\n\n\t\tif ( blendSrc !== currentBlendSrc || blendDst !== currentBlendDst || blendSrcAlpha !== currentBlendSrcAlpha || blendDstAlpha !== currentBlendDstAlpha ) {\n\n\t\t\tgl.blendFuncSeparate( factorToGL[ blendSrc ], factorToGL[ blendDst ], factorToGL[ blendSrcAlpha ], factorToGL[ blendDstAlpha ] );\n\n\t\t\tcurrentBlendSrc = blendSrc;\n\t\t\tcurrentBlendDst = blendDst;\n\t\t\tcurrentBlendSrcAlpha = blendSrcAlpha;\n\t\t\tcurrentBlendDstAlpha = blendDstAlpha;\n\n\t\t}\n\n\t\tcurrentBlending = blending;\n\t\tcurrentPremultipledAlpha = null;\n\n\t}\n\n\tfunction setMaterial( material, frontFaceCW ) {\n\n\t\tmaterial.side === DoubleSide\n\t\t\t? disable( 2884 )\n\t\t\t: enable( 2884 );\n\n\t\tlet flipSided = ( material.side === BackSide );\n\t\tif ( frontFaceCW ) flipSided = ! flipSided;\n\n\t\tsetFlipSided( flipSided );\n\n\t\t( material.blending === NormalBlending && material.transparent === false )\n\t\t\t? setBlending( NoBlending )\n\t\t\t: setBlending( material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha );\n\n\t\tdepthBuffer.setFunc( material.depthFunc );\n\t\tdepthBuffer.setTest( material.depthTest );\n\t\tdepthBuffer.setMask( material.depthWrite );\n\t\tcolorBuffer.setMask( material.colorWrite );\n\n\t\tconst stencilWrite = material.stencilWrite;\n\t\tstencilBuffer.setTest( stencilWrite );\n\t\tif ( stencilWrite ) {\n\n\t\t\tstencilBuffer.setMask( material.stencilWriteMask );\n\t\t\tstencilBuffer.setFunc( material.stencilFunc, material.stencilRef, material.stencilFuncMask );\n\t\t\tstencilBuffer.setOp( material.stencilFail, material.stencilZFail, material.stencilZPass );\n\n\t\t}\n\n\t\tsetPolygonOffset( material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits );\n\n\t}\n\n\t//\n\n\tfunction setFlipSided( flipSided ) {\n\n\t\tif ( currentFlipSided !== flipSided ) {\n\n\t\t\tif ( flipSided ) {\n\n\t\t\t\tgl.frontFace( 2304 );\n\n\t\t\t} else {\n\n\t\t\t\tgl.frontFace( 2305 );\n\n\t\t\t}\n\n\t\t\tcurrentFlipSided = flipSided;\n\n\t\t}\n\n\t}\n\n\tfunction setCullFace( cullFace ) {\n\n\t\tif ( cullFace !== CullFaceNone ) {\n\n\t\t\tenable( 2884 );\n\n\t\t\tif ( cullFace !== currentCullFace ) {\n\n\t\t\t\tif ( cullFace === CullFaceBack ) {\n\n\t\t\t\t\tgl.cullFace( 1029 );\n\n\t\t\t\t} else if ( cullFace === CullFaceFront ) {\n\n\t\t\t\t\tgl.cullFace( 1028 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tgl.cullFace( 1032 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( 2884 );\n\n\t\t}\n\n\t\tcurrentCullFace = cullFace;\n\n\t}\n\n\tfunction setLineWidth( width ) {\n\n\t\tif ( width !== currentLineWidth ) {\n\n\t\t\tif ( lineWidthAvailable ) gl.lineWidth( width );\n\n\t\t\tcurrentLineWidth = width;\n\n\t\t}\n\n\t}\n\n\tfunction setPolygonOffset( polygonOffset, factor, units ) {\n\n\t\tif ( polygonOffset ) {\n\n\t\t\tenable( 32823 );\n\n\t\t\tif ( currentPolygonOffsetFactor !== factor || currentPolygonOffsetUnits !== units ) {\n\n\t\t\t\tgl.polygonOffset( factor, units );\n\n\t\t\t\tcurrentPolygonOffsetFactor = factor;\n\t\t\t\tcurrentPolygonOffsetUnits = units;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( 32823 );\n\n\t\t}\n\n\t}\n\n\tfunction setScissorTest( scissorTest ) {\n\n\t\tif ( scissorTest ) {\n\n\t\t\tenable( 3089 );\n\n\t\t} else {\n\n\t\t\tdisable( 3089 );\n\n\t\t}\n\n\t}\n\n\t// texture\n\n\tfunction activeTexture( webglSlot ) {\n\n\t\tif ( webglSlot === undefined ) webglSlot = 33984 + maxTextures - 1;\n\n\t\tif ( currentTextureSlot !== webglSlot ) {\n\n\t\t\tgl.activeTexture( webglSlot );\n\t\t\tcurrentTextureSlot = webglSlot;\n\n\t\t}\n\n\t}\n\n\tfunction bindTexture( webglType, webglTexture ) {\n\n\t\tif ( currentTextureSlot === null ) {\n\n\t\t\tactiveTexture();\n\n\t\t}\n\n\t\tlet boundTexture = currentBoundTextures[ currentTextureSlot ];\n\n\t\tif ( boundTexture === undefined ) {\n\n\t\t\tboundTexture = { type: undefined, texture: undefined };\n\t\t\tcurrentBoundTextures[ currentTextureSlot ] = boundTexture;\n\n\t\t}\n\n\t\tif ( boundTexture.type !== webglType || boundTexture.texture !== webglTexture ) {\n\n\t\t\tgl.bindTexture( webglType, webglTexture || emptyTextures[ webglType ] );\n\n\t\t\tboundTexture.type = webglType;\n\t\t\tboundTexture.texture = webglTexture;\n\n\t\t}\n\n\t}\n\n\tfunction unbindTexture() {\n\n\t\tconst boundTexture = currentBoundTextures[ currentTextureSlot ];\n\n\t\tif ( boundTexture !== undefined && boundTexture.type !== undefined ) {\n\n\t\t\tgl.bindTexture( boundTexture.type, null );\n\n\t\t\tboundTexture.type = undefined;\n\t\t\tboundTexture.texture = undefined;\n\n\t\t}\n\n\t}\n\n\tfunction compressedTexImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.compressedTexImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage3D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage3D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction scissor( scissor ) {\n\n\t\tif ( currentScissor.equals( scissor ) === false ) {\n\n\t\t\tgl.scissor( scissor.x, scissor.y, scissor.z, scissor.w );\n\t\t\tcurrentScissor.copy( scissor );\n\n\t\t}\n\n\t}\n\n\tfunction viewport( viewport ) {\n\n\t\tif ( currentViewport.equals( viewport ) === false ) {\n\n\t\t\tgl.viewport( viewport.x, viewport.y, viewport.z, viewport.w );\n\t\t\tcurrentViewport.copy( viewport );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction reset() {\n\n\t\tenabledCapabilities = {};\n\n\t\tcurrentTextureSlot = null;\n\t\tcurrentBoundTextures = {};\n\n\t\tcurrentProgram = null;\n\n\t\tcurrentBlendingEnabled = null;\n\t\tcurrentBlending = null;\n\t\tcurrentBlendEquation = null;\n\t\tcurrentBlendSrc = null;\n\t\tcurrentBlendDst = null;\n\t\tcurrentBlendEquationAlpha = null;\n\t\tcurrentBlendSrcAlpha = null;\n\t\tcurrentBlendDstAlpha = null;\n\t\tcurrentPremultipledAlpha = false;\n\n\t\tcurrentFlipSided = null;\n\t\tcurrentCullFace = null;\n\n\t\tcurrentLineWidth = null;\n\n\t\tcurrentPolygonOffsetFactor = null;\n\t\tcurrentPolygonOffsetUnits = null;\n\n\t\tcolorBuffer.reset();\n\t\tdepthBuffer.reset();\n\t\tstencilBuffer.reset();\n\n\t}\n\n\treturn {\n\n\t\tbuffers: {\n\t\t\tcolor: colorBuffer,\n\t\t\tdepth: depthBuffer,\n\t\t\tstencil: stencilBuffer\n\t\t},\n\n\t\tenable: enable,\n\t\tdisable: disable,\n\n\t\tuseProgram: useProgram,\n\n\t\tsetBlending: setBlending,\n\t\tsetMaterial: setMaterial,\n\n\t\tsetFlipSided: setFlipSided,\n\t\tsetCullFace: setCullFace,\n\n\t\tsetLineWidth: setLineWidth,\n\t\tsetPolygonOffset: setPolygonOffset,\n\n\t\tsetScissorTest: setScissorTest,\n\n\t\tactiveTexture: activeTexture,\n\t\tbindTexture: bindTexture,\n\t\tunbindTexture: unbindTexture,\n\t\tcompressedTexImage2D: compressedTexImage2D,\n\t\ttexImage2D: texImage2D,\n\t\ttexImage3D: texImage3D,\n\n\t\tscissor: scissor,\n\t\tviewport: viewport,\n\n\t\treset: reset\n\n\t};\n\n}\n\nfunction WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\tconst maxTextures = capabilities.maxTextures;\n\tconst maxCubemapSize = capabilities.maxCubemapSize;\n\tconst maxTextureSize = capabilities.maxTextureSize;\n\tconst maxSamples = capabilities.maxSamples;\n\n\tconst _videoTextures = new WeakMap();\n\tlet _canvas;\n\n\t// cordova iOS (as of 5.0) still uses UIWebView, which provides OffscreenCanvas,\n\t// also OffscreenCanvas.getContext(\"webgl\"), but not OffscreenCanvas.getContext(\"2d\")!\n\t// Some implementations may only implement OffscreenCanvas partially (e.g. lacking 2d).\n\n\tlet useOffscreenCanvas = false;\n\n\ttry {\n\n\t\tuseOffscreenCanvas = typeof OffscreenCanvas !== 'undefined'\n\t\t\t&& ( new OffscreenCanvas( 1, 1 ).getContext( \"2d\" ) ) !== null;\n\n\t} catch ( err ) {\n\n\t\t// Ignore any errors\n\n\t}\n\n\tfunction createCanvas( width, height ) {\n\n\t\t// Use OffscreenCanvas when available. Specially needed in web workers\n\n\t\treturn useOffscreenCanvas ?\n\t\t\tnew OffscreenCanvas( width, height ) :\n\t\t\tdocument.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\n\t}\n\n\tfunction resizeImage( image, needsPowerOfTwo, needsNewCanvas, maxSize ) {\n\n\t\tlet scale = 1;\n\n\t\t// handle case if texture exceeds max size\n\n\t\tif ( image.width > maxSize || image.height > maxSize ) {\n\n\t\t\tscale = maxSize / Math.max( image.width, image.height );\n\n\t\t}\n\n\t\t// only perform resize if necessary\n\n\t\tif ( scale < 1 || needsPowerOfTwo === true ) {\n\n\t\t\t// only perform resize for certain image types\n\n\t\t\tif ( ( typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement ) ||\n\t\t\t\t( typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement ) ||\n\t\t\t\t( typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap ) ) {\n\n\t\t\t\tconst floor = needsPowerOfTwo ? MathUtils.floorPowerOfTwo : Math.floor;\n\n\t\t\t\tconst width = floor( scale * image.width );\n\t\t\t\tconst height = floor( scale * image.height );\n\n\t\t\t\tif ( _canvas === undefined ) _canvas = createCanvas( width, height );\n\n\t\t\t\t// cube textures can't reuse the same canvas\n\n\t\t\t\tconst canvas = needsNewCanvas ? createCanvas( width, height ) : _canvas;\n\n\t\t\t\tcanvas.width = width;\n\t\t\t\tcanvas.height = height;\n\n\t\t\t\tconst context = canvas.getContext( '2d' );\n\t\t\t\tcontext.drawImage( image, 0, 0, width, height );\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture has been resized from (' + image.width + 'x' + image.height + ') to (' + width + 'x' + height + ').' );\n\n\t\t\t\treturn canvas;\n\n\t\t\t} else {\n\n\t\t\t\tif ( 'data' in image ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Image in DataTexture is too big (' + image.width + 'x' + image.height + ').' );\n\n\t\t\t\t}\n\n\t\t\t\treturn image;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn image;\n\n\t}\n\n\tfunction isPowerOfTwo( image ) {\n\n\t\treturn MathUtils.isPowerOfTwo( image.width ) && MathUtils.isPowerOfTwo( image.height );\n\n\t}\n\n\tfunction textureNeedsPowerOfTwo( texture ) {\n\n\t\tif ( isWebGL2 ) return false;\n\n\t\treturn ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) ||\n\t\t\t( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter );\n\n\t}\n\n\tfunction textureNeedsGenerateMipmaps( texture, supportsMips ) {\n\n\t\treturn texture.generateMipmaps && supportsMips &&\n\t\t\ttexture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;\n\n\t}\n\n\tfunction generateMipmap( target, texture, width, height ) {\n\n\t\t_gl.generateMipmap( target );\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\t// Note: Math.log( x ) * Math.LOG2E used instead of Math.log2( x ) which is not supported by IE11\n\t\ttextureProperties.__maxMipLevel = Math.log( Math.max( width, height ) ) * Math.LOG2E;\n\n\t}\n\n\tfunction getInternalFormat( internalFormatName, glFormat, glType ) {\n\n\t\tif ( isWebGL2 === false ) return glFormat;\n\n\t\tif ( internalFormatName !== null ) {\n\n\t\t\tif ( _gl[ internalFormatName ] !== undefined ) return _gl[ internalFormatName ];\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format \\'' + internalFormatName + '\\'' );\n\n\t\t}\n\n\t\tlet internalFormat = glFormat;\n\n\t\tif ( glFormat === 6403 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 33326;\n\t\t\tif ( glType === 5131 ) internalFormat = 33325;\n\t\t\tif ( glType === 5121 ) internalFormat = 33321;\n\n\t\t}\n\n\t\tif ( glFormat === 6407 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 34837;\n\t\t\tif ( glType === 5131 ) internalFormat = 34843;\n\t\t\tif ( glType === 5121 ) internalFormat = 32849;\n\n\t\t}\n\n\t\tif ( glFormat === 6408 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 34836;\n\t\t\tif ( glType === 5131 ) internalFormat = 34842;\n\t\t\tif ( glType === 5121 ) internalFormat = 32856;\n\n\t\t}\n\n\t\tif ( internalFormat === 33325 || internalFormat === 33326 ||\n\t\t\tinternalFormat === 34842 || internalFormat === 34836 ) {\n\n\t\t\textensions.get( 'EXT_color_buffer_float' );\n\n\t\t}\n\n\t\treturn internalFormat;\n\n\t}\n\n\t// Fallback filters for non-power-of-2 textures\n\n\tfunction filterFallback( f ) {\n\n\t\tif ( f === NearestFilter || f === NearestMipmapNearestFilter || f === NearestMipmapLinearFilter ) {\n\n\t\t\treturn 9728;\n\n\t\t}\n\n\t\treturn 9729;\n\n\t}\n\n\t//\n\n\tfunction onTextureDispose( event ) {\n\n\t\tconst texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tdeallocateTexture( texture );\n\n\t\tif ( texture.isVideoTexture ) {\n\n\t\t\t_videoTextures.delete( texture );\n\n\t\t}\n\n\t\tinfo.memory.textures --;\n\n\t}\n\n\tfunction onRenderTargetDispose( event ) {\n\n\t\tconst renderTarget = event.target;\n\n\t\trenderTarget.removeEventListener( 'dispose', onRenderTargetDispose );\n\n\t\tdeallocateRenderTarget( renderTarget );\n\n\t\tinfo.memory.textures --;\n\n\t}\n\n\t//\n\n\tfunction deallocateTexture( texture ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( textureProperties.__webglInit === undefined ) return;\n\n\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\tproperties.remove( texture );\n\n\t}\n\n\tfunction deallocateRenderTarget( renderTarget ) {\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\tconst textureProperties = properties.get( renderTarget.texture );\n\n\t\tif ( ! renderTarget ) return;\n\n\t\tif ( textureProperties.__webglTexture !== undefined ) {\n\n\t\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\t}\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\trenderTarget.depthTexture.dispose();\n\n\t\t}\n\n\t\tif ( renderTarget.isWebGLCubeRenderTarget ) {\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer[ i ] );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer );\n\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer );\n\t\t\tif ( renderTargetProperties.__webglMultisampledFramebuffer ) _gl.deleteFramebuffer( renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\tif ( renderTargetProperties.__webglColorRenderbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglColorRenderbuffer );\n\t\t\tif ( renderTargetProperties.__webglDepthRenderbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthRenderbuffer );\n\n\t\t}\n\n\t\tproperties.remove( renderTarget.texture );\n\t\tproperties.remove( renderTarget );\n\n\t}\n\n\t//\n\n\tlet textureUnits = 0;\n\n\tfunction resetTextureUnits() {\n\n\t\ttextureUnits = 0;\n\n\t}\n\n\tfunction allocateTextureUnit() {\n\n\t\tconst textureUnit = textureUnits;\n\n\t\tif ( textureUnit >= maxTextures ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLTextures: Trying to use ' + textureUnit + ' texture units while this GPU supports only ' + maxTextures );\n\n\t\t}\n\n\t\ttextureUnits += 1;\n\n\t\treturn textureUnit;\n\n\t}\n\n\t//\n\n\tfunction setTexture2D( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.isVideoTexture ) updateVideoTexture( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tconst image = texture.image;\n\n\t\t\tif ( image === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is undefined' );\n\n\t\t\t} else if ( image.complete === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is incomplete' );\n\n\t\t\t} else {\n\n\t\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 3553, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTexture2DArray( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 35866, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTexture3D( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 32879, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTextureCube( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadCubeTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\n\t}\n\n\tconst wrappingToGL = {\n\t\t[ RepeatWrapping ]: 10497,\n\t\t[ ClampToEdgeWrapping ]: 33071,\n\t\t[ MirroredRepeatWrapping ]: 33648\n\t};\n\n\tconst filterToGL = {\n\t\t[ NearestFilter ]: 9728,\n\t\t[ NearestMipmapNearestFilter ]: 9984,\n\t\t[ NearestMipmapLinearFilter ]: 9986,\n\n\t\t[ LinearFilter ]: 9729,\n\t\t[ LinearMipmapNearestFilter ]: 9985,\n\t\t[ LinearMipmapLinearFilter ]: 9987\n\t};\n\n\tfunction setTextureParameters( textureType, texture, supportsMips ) {\n\n\t\tif ( supportsMips ) {\n\n\t\t\t_gl.texParameteri( textureType, 10242, wrappingToGL[ texture.wrapS ] );\n\t\t\t_gl.texParameteri( textureType, 10243, wrappingToGL[ texture.wrapT ] );\n\n\t\t\tif ( textureType === 32879 || textureType === 35866 ) {\n\n\t\t\t\t_gl.texParameteri( textureType, 32882, wrappingToGL[ texture.wrapR ] );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, 10240, filterToGL[ texture.magFilter ] );\n\t\t\t_gl.texParameteri( textureType, 10241, filterToGL[ texture.minFilter ] );\n\n\t\t} else {\n\n\t\t\t_gl.texParameteri( textureType, 10242, 33071 );\n\t\t\t_gl.texParameteri( textureType, 10243, 33071 );\n\n\t\t\tif ( textureType === 32879 || textureType === 35866 ) {\n\n\t\t\t\t_gl.texParameteri( textureType, 32882, 33071 );\n\n\t\t\t}\n\n\t\t\tif ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.' );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, 10240, filterFallback( texture.magFilter ) );\n\t\t\t_gl.texParameteri( textureType, 10241, filterFallback( texture.minFilter ) );\n\n\t\t\tif ( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\tif ( extension ) {\n\n\t\t\tif ( texture.type === FloatType && extensions.get( 'OES_texture_float_linear' ) === null ) return;\n\t\t\tif ( texture.type === HalfFloatType && ( isWebGL2 || extensions.get( 'OES_texture_half_float_linear' ) ) === null ) return;\n\n\t\t\tif ( texture.anisotropy > 1 || properties.get( texture ).__currentAnisotropy ) {\n\n\t\t\t\t_gl.texParameterf( textureType, extension.TEXTURE_MAX_ANISOTROPY_EXT, Math.min( texture.anisotropy, capabilities.getMaxAnisotropy() ) );\n\t\t\t\tproperties.get( texture ).__currentAnisotropy = texture.anisotropy;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction initTexture( textureProperties, texture ) {\n\n\t\tif ( textureProperties.__webglInit === undefined ) {\n\n\t\t\ttextureProperties.__webglInit = true;\n\n\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\n\t\t\tinfo.memory.textures ++;\n\n\t\t}\n\n\t}\n\n\tfunction uploadTexture( textureProperties, texture, slot ) {\n\n\t\tlet textureType = 3553;\n\n\t\tif ( texture.isDataTexture2DArray ) textureType = 35866;\n\t\tif ( texture.isDataTexture3D ) textureType = 32879;\n\n\t\tinitTexture( textureProperties, texture );\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( textureType, textureProperties.__webglTexture );\n\n\t\t_gl.pixelStorei( 37440, texture.flipY );\n\t\t_gl.pixelStorei( 37441, texture.premultiplyAlpha );\n\t\t_gl.pixelStorei( 3317, texture.unpackAlignment );\n\n\t\tconst needsPowerOfTwo = textureNeedsPowerOfTwo( texture ) && isPowerOfTwo( texture.image ) === false;\n\t\tconst image = resizeImage( texture.image, needsPowerOfTwo, false, maxTextureSize );\n\n\t\tconst supportsMips = isPowerOfTwo( image ) || isWebGL2,\n\t\t\tglFormat = utils.convert( texture.format );\n\n\t\tlet glType = utils.convert( texture.type ),\n\t\t\tglInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\n\t\tsetTextureParameters( textureType, texture, supportsMips );\n\n\t\tlet mipmap;\n\t\tconst mipmaps = texture.mipmaps;\n\n\t\tif ( texture.isDepthTexture ) {\n\n\t\t\t// populate depth texture with dummy data\n\n\t\t\tglInternalFormat = 6402;\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\tif ( texture.type === FloatType ) {\n\n\t\t\t\t\tglInternalFormat = 36012;\n\n\t\t\t\t} else if ( texture.type === UnsignedIntType ) {\n\n\t\t\t\t\tglInternalFormat = 33190;\n\n\t\t\t\t} else if ( texture.type === UnsignedInt248Type ) {\n\n\t\t\t\t\tglInternalFormat = 35056;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tglInternalFormat = 33189; // WebGL2 requires sized internalformat for glTexImage2D\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( texture.type === FloatType ) {\n\n\t\t\t\t\tconsole.error( 'WebGLRenderer: Floating point depth texture requires WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// validation checks for WebGL 1\n\n\t\t\tif ( texture.format === DepthFormat && glInternalFormat === 6402 ) {\n\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t// DEPTH_COMPONENT and type is not UNSIGNED_SHORT or UNSIGNED_INT\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tif ( texture.type !== UnsignedShortType && texture.type !== UnsignedIntType ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.' );\n\n\t\t\t\t\ttexture.type = UnsignedShortType;\n\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( texture.format === DepthStencilFormat && glInternalFormat === 6402 ) {\n\n\t\t\t\t// Depth stencil textures need the DEPTH_STENCIL internal format\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tglInternalFormat = 34041;\n\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t// DEPTH_STENCIL and type is not UNSIGNED_INT_24_8_WEBGL.\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tif ( texture.type !== UnsignedInt248Type ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.' );\n\n\t\t\t\t\ttexture.type = UnsignedInt248Type;\n\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, null );\n\n\t\t} else if ( texture.isDataTexture ) {\n\n\t\t\t// use manually created mipmaps if available\n\t\t\t// if there are no manual mipmaps\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\n\n\t\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, image.data );\n\t\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t\t}\n\n\t\t} else if ( texture.isCompressedTexture ) {\n\n\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\tmipmap = mipmaps[ i ];\n\n\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\n\n\t\t\t\t\tif ( glFormat !== null ) {\n\n\t\t\t\t\t\tstate.compressedTexImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()' );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t} else if ( texture.isDataTexture2DArray ) {\n\n\t\t\tstate.texImage3D( 35866, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\n\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t} else if ( texture.isDataTexture3D ) {\n\n\t\t\tstate.texImage3D( 32879, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\n\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t} else {\n\n\t\t\t// regular Texture (image, video, canvas)\n\n\t\t\t// use manually created mipmaps if available\n\t\t\t// if there are no manual mipmaps\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\n\n\t\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, glFormat, glType, mipmap );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, glFormat, glType, image );\n\t\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\tgenerateMipmap( textureType, texture, image.width, image.height );\n\n\t\t}\n\n\t\ttextureProperties.__version = texture.version;\n\n\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t}\n\n\tfunction uploadCubeTexture( textureProperties, texture, slot ) {\n\n\t\tif ( texture.image.length !== 6 ) return;\n\n\t\tinitTexture( textureProperties, texture );\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\n\t\t_gl.pixelStorei( 37440, texture.flipY );\n\n\t\tconst isCompressed = ( texture && ( texture.isCompressedTexture || texture.image[ 0 ].isCompressedTexture ) );\n\t\tconst isDataTexture = ( texture.image[ 0 ] && texture.image[ 0 ].isDataTexture );\n\n\t\tconst cubeImage = [];\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tif ( ! isCompressed && ! isDataTexture ) {\n\n\t\t\t\tcubeImage[ i ] = resizeImage( texture.image[ i ], false, true, maxCubemapSize );\n\n\t\t\t} else {\n\n\t\t\t\tcubeImage[ i ] = isDataTexture ? texture.image[ i ].image : texture.image[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst image = cubeImage[ 0 ],\n\t\t\tsupportsMips = isPowerOfTwo( image ) || isWebGL2,\n\t\t\tglFormat = utils.convert( texture.format ),\n\t\t\tglType = utils.convert( texture.type ),\n\t\t\tglInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\n\t\tsetTextureParameters( 34067, texture, supportsMips );\n\n\t\tlet mipmaps;\n\n\t\tif ( isCompressed ) {\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\tmipmaps = cubeImage[ i ].mipmaps;\n\n\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\tconst mipmap = mipmaps[ j ];\n\n\t\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\n\n\t\t\t\t\t\tif ( glFormat !== null ) {\n\n\t\t\t\t\t\t\tstate.compressedTexImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()' );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tstate.texImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t} else {\n\n\t\t\tmipmaps = texture.mipmaps;\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\tif ( isDataTexture ) {\n\n\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, cubeImage[ i ].width, cubeImage[ i ].height, 0, glFormat, glType, cubeImage[ i ].data );\n\n\t\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\tconst mipmap = mipmaps[ j ];\n\t\t\t\t\t\tconst mipmapImage = mipmap.image[ i ].image;\n\n\t\t\t\t\t\tstate.texImage2D( 34069 + i, j + 1, glInternalFormat, mipmapImage.width, mipmapImage.height, 0, glFormat, glType, mipmapImage.data );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, glFormat, glType, cubeImage[ i ] );\n\n\t\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\tconst mipmap = mipmaps[ j ];\n\n\t\t\t\t\t\tstate.texImage2D( 34069 + i, j + 1, glInternalFormat, glFormat, glType, mipmap.image[ i ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttextureProperties.__maxMipLevel = mipmaps.length;\n\n\t\t}\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t// We assume images for cube map have the same size.\n\t\t\tgenerateMipmap( 34067, texture, image.width, image.height );\n\n\t\t}\n\n\t\ttextureProperties.__version = texture.version;\n\n\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t}\n\n\t// Render targets\n\n\t// Setup storage for target texture and bind it to correct framebuffer\n\tfunction setupFrameBufferTexture( framebuffer, renderTarget, attachment, textureTarget ) {\n\n\t\tconst glFormat = utils.convert( renderTarget.texture.format );\n\t\tconst glType = utils.convert( renderTarget.texture.type );\n\t\tconst glInternalFormat = getInternalFormat( renderTarget.texture.internalFormat, glFormat, glType );\n\t\tstate.texImage2D( textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null );\n\t\t_gl.bindFramebuffer( 36160, framebuffer );\n\t\t_gl.framebufferTexture2D( 36160, attachment, textureTarget, properties.get( renderTarget.texture ).__webglTexture, 0 );\n\t\t_gl.bindFramebuffer( 36160, null );\n\n\t}\n\n\t// Setup storage for internal depth/stencil buffers and bind to correct framebuffer\n\tfunction setupRenderBufferStorage( renderbuffer, renderTarget, isMultisample ) {\n\n\t\t_gl.bindRenderbuffer( 36161, renderbuffer );\n\n\t\tif ( renderTarget.depthBuffer && ! renderTarget.stencilBuffer ) {\n\n\t\t\tlet glInternalFormat = 33189;\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tconst depthTexture = renderTarget.depthTexture;\n\n\t\t\t\tif ( depthTexture && depthTexture.isDepthTexture ) {\n\n\t\t\t\t\tif ( depthTexture.type === FloatType ) {\n\n\t\t\t\t\t\tglInternalFormat = 36012;\n\n\t\t\t\t\t} else if ( depthTexture.type === UnsignedIntType ) {\n\n\t\t\t\t\t\tglInternalFormat = 33190;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\t_gl.framebufferRenderbuffer( 36160, 36096, 36161, renderbuffer );\n\n\t\t} else if ( renderTarget.depthBuffer && renderTarget.stencilBuffer ) {\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, 35056, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, 34041, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\n\t\t\t_gl.framebufferRenderbuffer( 36160, 33306, 36161, renderbuffer );\n\n\t\t} else {\n\n\t\t\tconst glFormat = utils.convert( renderTarget.texture.format );\n\t\t\tconst glType = utils.convert( renderTarget.texture.type );\n\t\t\tconst glInternalFormat = getInternalFormat( renderTarget.texture.internalFormat, glFormat, glType );\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_gl.bindRenderbuffer( 36161, null );\n\n\t}\n\n\t// Setup resources for a Depth Texture for a FBO (needs an extension)\n\tfunction setupDepthTexture( framebuffer, renderTarget ) {\n\n\t\tconst isCube = ( renderTarget && renderTarget.isWebGLCubeRenderTarget );\n\t\tif ( isCube ) throw new Error( 'Depth Texture with cube render targets is not supported' );\n\n\t\t_gl.bindFramebuffer( 36160, framebuffer );\n\n\t\tif ( ! ( renderTarget.depthTexture && renderTarget.depthTexture.isDepthTexture ) ) {\n\n\t\t\tthrow new Error( 'renderTarget.depthTexture must be an instance of THREE.DepthTexture' );\n\n\t\t}\n\n\t\t// upload an empty depth texture with framebuffer size\n\t\tif ( ! properties.get( renderTarget.depthTexture ).__webglTexture ||\n\t\t\t\trenderTarget.depthTexture.image.width !== renderTarget.width ||\n\t\t\t\trenderTarget.depthTexture.image.height !== renderTarget.height ) {\n\n\t\t\trenderTarget.depthTexture.image.width = renderTarget.width;\n\t\t\trenderTarget.depthTexture.image.height = renderTarget.height;\n\t\t\trenderTarget.depthTexture.needsUpdate = true;\n\n\t\t}\n\n\t\tsetTexture2D( renderTarget.depthTexture, 0 );\n\n\t\tconst webglDepthTexture = properties.get( renderTarget.depthTexture ).__webglTexture;\n\n\t\tif ( renderTarget.depthTexture.format === DepthFormat ) {\n\n\t\t\t_gl.framebufferTexture2D( 36160, 36096, 3553, webglDepthTexture, 0 );\n\n\t\t} else if ( renderTarget.depthTexture.format === DepthStencilFormat ) {\n\n\t\t\t_gl.framebufferTexture2D( 36160, 33306, 3553, webglDepthTexture, 0 );\n\n\t\t} else {\n\n\t\t\tthrow new Error( 'Unknown depthTexture format' );\n\n\t\t}\n\n\t}\n\n\t// Setup GL resources for a non-texture depth buffer\n\tfunction setupDepthRenderbuffer( renderTarget ) {\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\n\t\tconst isCube = ( renderTarget.isWebGLCubeRenderTarget === true );\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\tif ( isCube ) throw new Error( 'target.depthTexture not supported in Cube render targets' );\n\n\t\t\tsetupDepthTexture( renderTargetProperties.__webglFramebuffer, renderTarget );\n\n\t\t} else {\n\n\t\t\tif ( isCube ) {\n\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = [];\n\n\t\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\t_gl.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\t\trenderTargetProperties.__webglDepthbuffer[ i ] = _gl.createRenderbuffer();\n\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer[ i ], renderTarget, false );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t_gl.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer );\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = _gl.createRenderbuffer();\n\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer, renderTarget, false );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_gl.bindFramebuffer( 36160, null );\n\n\t}\n\n\t// Set up GL resources for the render target\n\tfunction setupRenderTarget( renderTarget ) {\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\tconst textureProperties = properties.get( renderTarget.texture );\n\n\t\trenderTarget.addEventListener( 'dispose', onRenderTargetDispose );\n\n\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\n\t\tinfo.memory.textures ++;\n\n\t\tconst isCube = ( renderTarget.isWebGLCubeRenderTarget === true );\n\t\tconst isMultisample = ( renderTarget.isWebGLMultisampleRenderTarget === true );\n\t\tconst supportsMips = isPowerOfTwo( renderTarget ) || isWebGL2;\n\n\t\t// Handles WebGL2 RGBFormat fallback - #18858\n\n\t\tif ( isWebGL2 && renderTarget.texture.format === RGBFormat && ( renderTarget.texture.type === FloatType || renderTarget.texture.type === HalfFloatType ) ) {\n\n\t\t\trenderTarget.texture.format = RGBAFormat;\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.' );\n\n\t\t}\n\n\t\t// Setup framebuffer\n\n\t\tif ( isCube ) {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = [];\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\trenderTargetProperties.__webglFramebuffer[ i ] = _gl.createFramebuffer();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = _gl.createFramebuffer();\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t\trenderTargetProperties.__webglMultisampledFramebuffer = _gl.createFramebuffer();\n\t\t\t\t\trenderTargetProperties.__webglColorRenderbuffer = _gl.createRenderbuffer();\n\n\t\t\t\t\t_gl.bindRenderbuffer( 36161, renderTargetProperties.__webglColorRenderbuffer );\n\n\t\t\t\t\tconst glFormat = utils.convert( renderTarget.texture.format );\n\t\t\t\t\tconst glType = utils.convert( renderTarget.texture.type );\n\t\t\t\t\tconst glInternalFormat = getInternalFormat( renderTarget.texture.internalFormat, glFormat, glType );\n\t\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\t\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t\t\t_gl.bindFramebuffer( 36160, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\t\t\t_gl.framebufferRenderbuffer( 36160, 36064, 36161, renderTargetProperties.__webglColorRenderbuffer );\n\t\t\t\t\t_gl.bindRenderbuffer( 36161, null );\n\n\t\t\t\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\t\t\t\trenderTargetProperties.__webglDepthRenderbuffer = _gl.createRenderbuffer();\n\t\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthRenderbuffer, renderTarget, true );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t_gl.bindFramebuffer( 36160, null );\n\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Setup color buffer\n\n\t\tif ( isCube ) {\n\n\t\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( 34067, renderTarget.texture, supportsMips );\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer[ i ], renderTarget, 36064, 34069 + i );\n\n\t\t\t}\n\n\t\t\tif ( textureNeedsGenerateMipmaps( renderTarget.texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( 34067, renderTarget.texture, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( 34067, null );\n\n\t\t} else {\n\n\t\t\tstate.bindTexture( 3553, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( 3553, renderTarget.texture, supportsMips );\n\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer, renderTarget, 36064, 3553 );\n\n\t\t\tif ( textureNeedsGenerateMipmaps( renderTarget.texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( 3553, renderTarget.texture, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( 3553, null );\n\n\t\t}\n\n\t\t// Setup depth and stencil buffers\n\n\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\tsetupDepthRenderbuffer( renderTarget );\n\n\t\t}\n\n\t}\n\n\tfunction updateRenderTargetMipmap( renderTarget ) {\n\n\t\tconst texture = renderTarget.texture;\n\t\tconst supportsMips = isPowerOfTwo( renderTarget ) || isWebGL2;\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\tconst target = renderTarget.isWebGLCubeRenderTarget ? 34067 : 3553;\n\t\t\tconst webglTexture = properties.get( texture ).__webglTexture;\n\n\t\t\tstate.bindTexture( target, webglTexture );\n\t\t\tgenerateMipmap( target, texture, renderTarget.width, renderTarget.height );\n\t\t\tstate.bindTexture( target, null );\n\n\t\t}\n\n\t}\n\n\tfunction updateMultisampleRenderTarget( renderTarget ) {\n\n\t\tif ( renderTarget.isWebGLMultisampleRenderTarget ) {\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\tconst renderTargetProperties = properties.get( renderTarget );\n\n\t\t\t\t_gl.bindFramebuffer( 36008, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\t\t_gl.bindFramebuffer( 36009, renderTargetProperties.__webglFramebuffer );\n\n\t\t\t\tconst width = renderTarget.width;\n\t\t\t\tconst height = renderTarget.height;\n\t\t\t\tlet mask = 16384;\n\n\t\t\t\tif ( renderTarget.depthBuffer ) mask |= 256;\n\t\t\t\tif ( renderTarget.stencilBuffer ) mask |= 1024;\n\n\t\t\t\t_gl.blitFramebuffer( 0, 0, width, height, 0, 0, width, height, mask, 9728 );\n\n\t\t\t\t_gl.bindFramebuffer( 36160, renderTargetProperties.__webglMultisampledFramebuffer ); // see #18905\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction getRenderTargetSamples( renderTarget ) {\n\n\t\treturn ( isWebGL2 && renderTarget.isWebGLMultisampleRenderTarget ) ?\n\t\t\tMath.min( maxSamples, renderTarget.samples ) : 0;\n\n\t}\n\n\tfunction updateVideoTexture( texture ) {\n\n\t\tconst frame = info.render.frame;\n\n\t\t// Check the last frame we updated the VideoTexture\n\n\t\tif ( _videoTextures.get( texture ) !== frame ) {\n\n\t\t\t_videoTextures.set( texture, frame );\n\t\t\ttexture.update();\n\n\t\t}\n\n\t}\n\n\t// backwards compatibility\n\n\tlet warnedTexture2D = false;\n\tlet warnedTextureCube = false;\n\n\tfunction safeSetTexture2D( texture, slot ) {\n\n\t\tif ( texture && texture.isWebGLRenderTarget ) {\n\n\t\t\tif ( warnedTexture2D === false ) {\n\n\t\t\t\tconsole.warn( \"THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead.\" );\n\t\t\t\twarnedTexture2D = true;\n\n\t\t\t}\n\n\t\t\ttexture = texture.texture;\n\n\t\t}\n\n\t\tsetTexture2D( texture, slot );\n\n\t}\n\n\tfunction safeSetTextureCube( texture, slot ) {\n\n\t\tif ( texture && texture.isWebGLCubeRenderTarget ) {\n\n\t\t\tif ( warnedTextureCube === false ) {\n\n\t\t\t\tconsole.warn( \"THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead.\" );\n\t\t\t\twarnedTextureCube = true;\n\n\t\t\t}\n\n\t\t\ttexture = texture.texture;\n\n\t\t}\n\n\n\t\tsetTextureCube( texture, slot );\n\n\t}\n\n\t//\n\n\tthis.allocateTextureUnit = allocateTextureUnit;\n\tthis.resetTextureUnits = resetTextureUnits;\n\n\tthis.setTexture2D = setTexture2D;\n\tthis.setTexture2DArray = setTexture2DArray;\n\tthis.setTexture3D = setTexture3D;\n\tthis.setTextureCube = setTextureCube;\n\tthis.setupRenderTarget = setupRenderTarget;\n\tthis.updateRenderTargetMipmap = updateRenderTargetMipmap;\n\tthis.updateMultisampleRenderTarget = updateMultisampleRenderTarget;\n\n\tthis.safeSetTexture2D = safeSetTexture2D;\n\tthis.safeSetTextureCube = safeSetTextureCube;\n\n}\n\nfunction WebGLUtils( gl, extensions, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tfunction convert( p ) {\n\n\t\tlet extension;\n\n\t\tif ( p === UnsignedByteType ) return 5121;\n\t\tif ( p === UnsignedShort4444Type ) return 32819;\n\t\tif ( p === UnsignedShort5551Type ) return 32820;\n\t\tif ( p === UnsignedShort565Type ) return 33635;\n\n\t\tif ( p === ByteType ) return 5120;\n\t\tif ( p === ShortType ) return 5122;\n\t\tif ( p === UnsignedShortType ) return 5123;\n\t\tif ( p === IntType ) return 5124;\n\t\tif ( p === UnsignedIntType ) return 5125;\n\t\tif ( p === FloatType ) return 5126;\n\n\t\tif ( p === HalfFloatType ) {\n\n\t\t\tif ( isWebGL2 ) return 5131;\n\n\t\t\textension = extensions.get( 'OES_texture_half_float' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.HALF_FLOAT_OES;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === AlphaFormat ) return 6406;\n\t\tif ( p === RGBFormat ) return 6407;\n\t\tif ( p === RGBAFormat ) return 6408;\n\t\tif ( p === LuminanceFormat ) return 6409;\n\t\tif ( p === LuminanceAlphaFormat ) return 6410;\n\t\tif ( p === DepthFormat ) return 6402;\n\t\tif ( p === DepthStencilFormat ) return 34041;\n\t\tif ( p === RedFormat ) return 6403;\n\n\t\t// WebGL2 formats.\n\n\t\tif ( p === RedIntegerFormat ) return 36244;\n\t\tif ( p === RGFormat ) return 33319;\n\t\tif ( p === RGIntegerFormat ) return 33320;\n\t\tif ( p === RGBIntegerFormat ) return 36248;\n\t\tif ( p === RGBAIntegerFormat ) return 36249;\n\n\t\tif ( p === RGB_S3TC_DXT1_Format || p === RGBA_S3TC_DXT1_Format ||\n\t\t\tp === RGBA_S3TC_DXT3_Format || p === RGBA_S3TC_DXT5_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_S3TC_DXT1_Format ) return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT1_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT3_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT5_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_PVRTC_4BPPV1_Format || p === RGB_PVRTC_2BPPV1_Format ||\n\t\t\tp === RGBA_PVRTC_4BPPV1_Format || p === RGBA_PVRTC_2BPPV1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGB_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_ETC1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc1' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.COMPRESSED_RGB_ETC1_WEBGL;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_ETC2_Format || p === RGBA_ETC2_EAC_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_ETC2_Format ) return extension.COMPRESSED_RGB8_ETC2;\n\t\t\t\tif ( p === RGBA_ETC2_EAC_Format ) return extension.COMPRESSED_RGBA8_ETC2_EAC;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGBA_ASTC_4x4_Format || p === RGBA_ASTC_5x4_Format || p === RGBA_ASTC_5x5_Format ||\n\t\t\tp === RGBA_ASTC_6x5_Format || p === RGBA_ASTC_6x6_Format || p === RGBA_ASTC_8x5_Format ||\n\t\t\tp === RGBA_ASTC_8x6_Format || p === RGBA_ASTC_8x8_Format || p === RGBA_ASTC_10x5_Format ||\n\t\t\tp === RGBA_ASTC_10x6_Format || p === RGBA_ASTC_10x8_Format || p === RGBA_ASTC_10x10_Format ||\n\t\t\tp === RGBA_ASTC_12x10_Format || p === RGBA_ASTC_12x12_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_4x4_Format || p === SRGB8_ALPHA8_ASTC_5x4_Format || p === SRGB8_ALPHA8_ASTC_5x5_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_6x5_Format || p === SRGB8_ALPHA8_ASTC_6x6_Format || p === SRGB8_ALPHA8_ASTC_8x5_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_8x6_Format || p === SRGB8_ALPHA8_ASTC_8x8_Format || p === SRGB8_ALPHA8_ASTC_10x5_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_10x6_Format || p === SRGB8_ALPHA8_ASTC_10x8_Format || p === SRGB8_ALPHA8_ASTC_10x10_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_12x10_Format || p === SRGB8_ALPHA8_ASTC_12x12_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_astc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\t// TODO Complete?\n\n\t\t\t\treturn p;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGBA_BPTC_Format ) {\n\n\t\t\textension = extensions.get( 'EXT_texture_compression_bptc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\t// TODO Complete?\n\n\t\t\t\treturn p;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === UnsignedInt248Type ) {\n\n\t\t\tif ( isWebGL2 ) return 34042;\n\n\t\t\textension = extensions.get( 'WEBGL_depth_texture' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.UNSIGNED_INT_24_8_WEBGL;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn { convert: convert };\n\n}\n\nfunction ArrayCamera( array = [] ) {\n\n\tPerspectiveCamera.call( this );\n\n\tthis.cameras = array;\n\n}\n\nArrayCamera.prototype = Object.assign( Object.create( PerspectiveCamera.prototype ), {\n\n\tconstructor: ArrayCamera,\n\n\tisArrayCamera: true\n\n} );\n\nfunction Group() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Group';\n\n}\n\nGroup.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Group,\n\n\tisGroup: true\n\n} );\n\nfunction WebXRController() {\n\n\tthis._targetRay = null;\n\tthis._grip = null;\n\tthis._hand = null;\n\n}\n\nObject.assign( WebXRController.prototype, {\n\n\tconstructor: WebXRController,\n\n\tgetHandSpace: function () {\n\n\t\tif ( this._hand === null ) {\n\n\t\t\tthis._hand = new Group();\n\t\t\tthis._hand.matrixAutoUpdate = false;\n\t\t\tthis._hand.visible = false;\n\n\t\t\tthis._hand.joints = [];\n\t\t\tthis._hand.inputState = { pinching: false };\n\n\t\t\tif ( window.XRHand ) {\n\n\t\t\t\tfor ( let i = 0; i <= window.XRHand.LITTLE_PHALANX_TIP; i ++ ) {\n\n\t\t\t\t\t// The transform of this joint will be updated with the joint pose on each frame\n\t\t\t\t\tconst joint = new Group();\n\t\t\t\t\tjoint.matrixAutoUpdate = false;\n\t\t\t\t\tjoint.visible = false;\n\t\t\t\t\tthis._hand.joints.push( joint );\n\t\t\t\t\t// ??\n\t\t\t\t\tthis._hand.add( joint );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this._hand;\n\n\t},\n\n\tgetTargetRaySpace: function () {\n\n\t\tif ( this._targetRay === null ) {\n\n\t\t\tthis._targetRay = new Group();\n\t\t\tthis._targetRay.matrixAutoUpdate = false;\n\t\t\tthis._targetRay.visible = false;\n\n\t\t}\n\n\t\treturn this._targetRay;\n\n\t},\n\n\tgetGripSpace: function () {\n\n\t\tif ( this._grip === null ) {\n\n\t\t\tthis._grip = new Group();\n\t\t\tthis._grip.matrixAutoUpdate = false;\n\t\t\tthis._grip.visible = false;\n\n\t\t}\n\n\t\treturn this._grip;\n\n\t},\n\n\tdispatchEvent: function ( event ) {\n\n\t\tif ( this._targetRay !== null ) {\n\n\t\t\tthis._targetRay.dispatchEvent( event );\n\n\t\t}\n\n\t\tif ( this._grip !== null ) {\n\n\t\t\tthis._grip.dispatchEvent( event );\n\n\t\t}\n\n\t\tif ( this._hand !== null ) {\n\n\t\t\tthis._hand.dispatchEvent( event );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tdisconnect: function ( inputSource ) {\n\n\t\tthis.dispatchEvent( { type: 'disconnected', data: inputSource } );\n\n\t\tif ( this._targetRay !== null ) {\n\n\t\t\tthis._targetRay.visible = false;\n\n\t\t}\n\n\t\tif ( this._grip !== null ) {\n\n\t\t\tthis._grip.visible = false;\n\n\t\t}\n\n\t\tif ( this._hand !== null ) {\n\n\t\t\tthis._hand.visible = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tupdate: function ( inputSource, frame, referenceSpace ) {\n\n\t\tlet inputPose = null;\n\t\tlet gripPose = null;\n\t\tlet handPose = null;\n\n\t\tconst targetRay = this._targetRay;\n\t\tconst grip = this._grip;\n\t\tconst hand = this._hand;\n\n\t\tif ( inputSource && frame.session.visibilityState !== 'visible-blurred' ) {\n\n\t\t\tif ( hand && inputSource.hand ) {\n\n\t\t\t\thandPose = true;\n\n\t\t\t\tfor ( let i = 0; i <= window.XRHand.LITTLE_PHALANX_TIP; i ++ ) {\n\n\t\t\t\t\tif ( inputSource.hand[ i ] ) {\n\n\t\t\t\t\t\t// Update the joints groups with the XRJoint poses\n\t\t\t\t\t\tconst jointPose = frame.getJointPose( inputSource.hand[ i ], referenceSpace );\n\t\t\t\t\t\tconst joint = hand.joints[ i ];\n\n\t\t\t\t\t\tif ( jointPose !== null ) {\n\n\t\t\t\t\t\t\tjoint.matrix.fromArray( jointPose.transform.matrix );\n\t\t\t\t\t\t\tjoint.matrix.decompose( joint.position, joint.rotation, joint.scale );\n\t\t\t\t\t\t\tjoint.jointRadius = jointPose.radius;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tjoint.visible = jointPose !== null;\n\n\t\t\t\t\t\t// Custom events\n\n\t\t\t\t\t\t// Check pinch\n\t\t\t\t\t\tconst indexTip = hand.joints[ window.XRHand.INDEX_PHALANX_TIP ];\n\t\t\t\t\t\tconst thumbTip = hand.joints[ window.XRHand.THUMB_PHALANX_TIP ];\n\t\t\t\t\t\tconst distance = indexTip.position.distanceTo( thumbTip.position );\n\n\t\t\t\t\t\tconst distanceToPinch = 0.02;\n\t\t\t\t\t\tconst threshold = 0.005;\n\n\t\t\t\t\t\tif ( hand.inputState.pinching && distance > distanceToPinch + threshold ) {\n\n\t\t\t\t\t\t\thand.inputState.pinching = false;\n\t\t\t\t\t\t\tthis.dispatchEvent( {\n\t\t\t\t\t\t\t\ttype: \"pinchend\",\n\t\t\t\t\t\t\t\thandedness: inputSource.handedness,\n\t\t\t\t\t\t\t\ttarget: this\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t} else if ( ! hand.inputState.pinching && distance <= distanceToPinch - threshold ) {\n\n\t\t\t\t\t\t\thand.inputState.pinching = true;\n\t\t\t\t\t\t\tthis.dispatchEvent( {\n\t\t\t\t\t\t\t\ttype: \"pinchstart\",\n\t\t\t\t\t\t\t\thandedness: inputSource.handedness,\n\t\t\t\t\t\t\t\ttarget: this\n\t\t\t\t\t\t\t} );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( targetRay !== null ) {\n\n\t\t\t\t\tinputPose = frame.getPose( inputSource.targetRaySpace, referenceSpace );\n\n\t\t\t\t\tif ( inputPose !== null ) {\n\n\t\t\t\t\t\ttargetRay.matrix.fromArray( inputPose.transform.matrix );\n\t\t\t\t\t\ttargetRay.matrix.decompose( targetRay.position, targetRay.rotation, targetRay.scale );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( grip !== null && inputSource.gripSpace ) {\n\n\t\t\t\t\tgripPose = frame.getPose( inputSource.gripSpace, referenceSpace );\n\n\t\t\t\t\tif ( gripPose !== null ) {\n\n\t\t\t\t\t\tgrip.matrix.fromArray( gripPose.transform.matrix );\n\t\t\t\t\t\tgrip.matrix.decompose( grip.position, grip.rotation, grip.scale );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( targetRay !== null ) {\n\n\t\t\ttargetRay.visible = ( inputPose !== null );\n\n\t\t}\n\n\t\tif ( grip !== null ) {\n\n\t\t\tgrip.visible = ( gripPose !== null );\n\n\t\t}\n\n\t\tif ( hand !== null ) {\n\n\t\t\thand.visible = ( handPose !== null );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction WebXRManager( renderer, gl ) {\n\n\tconst scope = this;\n\n\tlet session = null;\n\n\tlet framebufferScaleFactor = 1.0;\n\n\tlet referenceSpace = null;\n\tlet referenceSpaceType = 'local-floor';\n\n\tlet pose = null;\n\n\tconst controllers = [];\n\tconst inputSourcesMap = new Map();\n\n\t//\n\n\tconst cameraL = new PerspectiveCamera();\n\tcameraL.layers.enable( 1 );\n\tcameraL.viewport = new Vector4();\n\n\tconst cameraR = new PerspectiveCamera();\n\tcameraR.layers.enable( 2 );\n\tcameraR.viewport = new Vector4();\n\n\tconst cameras = [ cameraL, cameraR ];\n\n\tconst cameraVR = new ArrayCamera();\n\tcameraVR.layers.enable( 1 );\n\tcameraVR.layers.enable( 2 );\n\n\tlet _currentDepthNear = null;\n\tlet _currentDepthFar = null;\n\n\t//\n\n\tthis.enabled = false;\n\n\tthis.isPresenting = false;\n\n\tthis.getController = function ( index ) {\n\n\t\tlet controller = controllers[ index ];\n\n\t\tif ( controller === undefined ) {\n\n\t\t\tcontroller = new WebXRController();\n\t\t\tcontrollers[ index ] = controller;\n\n\t\t}\n\n\t\treturn controller.getTargetRaySpace();\n\n\t};\n\n\tthis.getControllerGrip = function ( index ) {\n\n\t\tlet controller = controllers[ index ];\n\n\t\tif ( controller === undefined ) {\n\n\t\t\tcontroller = new WebXRController();\n\t\t\tcontrollers[ index ] = controller;\n\n\t\t}\n\n\t\treturn controller.getGripSpace();\n\n\t};\n\n\tthis.getHand = function ( index ) {\n\n\t\tlet controller = controllers[ index ];\n\n\t\tif ( controller === undefined ) {\n\n\t\t\tcontroller = new WebXRController();\n\t\t\tcontrollers[ index ] = controller;\n\n\t\t}\n\n\t\treturn controller.getHandSpace();\n\n\t};\n\n\t//\n\n\tfunction onSessionEvent( event ) {\n\n\t\tconst controller = inputSourcesMap.get( event.inputSource );\n\n\t\tif ( controller ) {\n\n\t\t\tcontroller.dispatchEvent( { type: event.type, data: event.inputSource } );\n\n\t\t}\n\n\t}\n\n\tfunction onSessionEnd() {\n\n\t\tinputSourcesMap.forEach( function ( controller, inputSource ) {\n\n\t\t\tcontroller.disconnect( inputSource );\n\n\t\t} );\n\n\t\tinputSourcesMap.clear();\n\n\t\t//\n\n\t\trenderer.setFramebuffer( null );\n\t\trenderer.setRenderTarget( renderer.getRenderTarget() ); // Hack #15830\n\t\tanimation.stop();\n\n\t\tscope.isPresenting = false;\n\n\t\tscope.dispatchEvent( { type: 'sessionend' } );\n\n\t}\n\n\tfunction onRequestReferenceSpace( value ) {\n\n\t\treferenceSpace = value;\n\n\t\tanimation.setContext( session );\n\t\tanimation.start();\n\n\t\tscope.isPresenting = true;\n\n\t\tscope.dispatchEvent( { type: 'sessionstart' } );\n\n\t}\n\n\tthis.setFramebufferScaleFactor = function ( value ) {\n\n\t\tframebufferScaleFactor = value;\n\n\t\tif ( scope.isPresenting === true ) {\n\n\t\t\tconsole.warn( 'THREE.WebXRManager: Cannot change framebuffer scale while presenting.' );\n\n\t\t}\n\n\t};\n\n\tthis.setReferenceSpaceType = function ( value ) {\n\n\t\treferenceSpaceType = value;\n\n\t\tif ( scope.isPresenting === true ) {\n\n\t\t\tconsole.warn( 'THREE.WebXRManager: Cannot change reference space type while presenting.' );\n\n\t\t}\n\n\t};\n\n\tthis.getReferenceSpace = function () {\n\n\t\treturn referenceSpace;\n\n\t};\n\n\tthis.getSession = function () {\n\n\t\treturn session;\n\n\t};\n\n\tthis.setSession = function ( value ) {\n\n\t\tsession = value;\n\n\t\tif ( session !== null ) {\n\n\t\t\tsession.addEventListener( 'select', onSessionEvent );\n\t\t\tsession.addEventListener( 'selectstart', onSessionEvent );\n\t\t\tsession.addEventListener( 'selectend', onSessionEvent );\n\t\t\tsession.addEventListener( 'squeeze', onSessionEvent );\n\t\t\tsession.addEventListener( 'squeezestart', onSessionEvent );\n\t\t\tsession.addEventListener( 'squeezeend', onSessionEvent );\n\t\t\tsession.addEventListener( 'end', onSessionEnd );\n\n\t\t\tconst attributes = gl.getContextAttributes();\n\n\t\t\tif ( attributes.xrCompatible !== true ) {\n\n\t\t\t\tgl.makeXRCompatible();\n\n\t\t\t}\n\n\t\t\tconst layerInit = {\n\t\t\t\tantialias: attributes.antialias,\n\t\t\t\talpha: attributes.alpha,\n\t\t\t\tdepth: attributes.depth,\n\t\t\t\tstencil: attributes.stencil,\n\t\t\t\tframebufferScaleFactor: framebufferScaleFactor\n\t\t\t};\n\n\t\t\t// eslint-disable-next-line no-undef\n\t\t\tconst baseLayer = new XRWebGLLayer( session, gl, layerInit );\n\n\t\t\tsession.updateRenderState( { baseLayer: baseLayer } );\n\n\t\t\tsession.requestReferenceSpace( referenceSpaceType ).then( onRequestReferenceSpace );\n\n\t\t\t//\n\n\t\t\tsession.addEventListener( 'inputsourceschange', updateInputSources );\n\n\t\t}\n\n\t};\n\n\tfunction updateInputSources( event ) {\n\n\t\tconst inputSources = session.inputSources;\n\n\t\t// Assign inputSources to available controllers\n\n\t\tfor ( let i = 0; i < controllers.length; i ++ ) {\n\n\t\t\tinputSourcesMap.set( inputSources[ i ], controllers[ i ] );\n\n\t\t}\n\n\t\t// Notify disconnected\n\n\t\tfor ( let i = 0; i < event.removed.length; i ++ ) {\n\n\t\t\tconst inputSource = event.removed[ i ];\n\t\t\tconst controller = inputSourcesMap.get( inputSource );\n\n\t\t\tif ( controller ) {\n\n\t\t\t\tcontroller.dispatchEvent( { type: 'disconnected', data: inputSource } );\n\t\t\t\tinputSourcesMap.delete( inputSource );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Notify connected\n\n\t\tfor ( let i = 0; i < event.added.length; i ++ ) {\n\n\t\t\tconst inputSource = event.added[ i ];\n\t\t\tconst controller = inputSourcesMap.get( inputSource );\n\n\t\t\tif ( controller ) {\n\n\t\t\t\tcontroller.dispatchEvent( { type: 'connected', data: inputSource } );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t//\n\n\tconst cameraLPos = new Vector3();\n\tconst cameraRPos = new Vector3();\n\n\t/**\n\t * Assumes 2 cameras that are parallel and share an X-axis, and that\n\t * the cameras' projection and world matrices have already been set.\n\t * And that near and far planes are identical for both cameras.\n\t * Visualization of this technique: https://computergraphics.stackexchange.com/a/4765\n\t */\n\tfunction setProjectionFromUnion( camera, cameraL, cameraR ) {\n\n\t\tcameraLPos.setFromMatrixPosition( cameraL.matrixWorld );\n\t\tcameraRPos.setFromMatrixPosition( cameraR.matrixWorld );\n\n\t\tconst ipd = cameraLPos.distanceTo( cameraRPos );\n\n\t\tconst projL = cameraL.projectionMatrix.elements;\n\t\tconst projR = cameraR.projectionMatrix.elements;\n\n\t\t// VR systems will have identical far and near planes, and\n\t\t// most likely identical top and bottom frustum extents.\n\t\t// Use the left camera for these values.\n\t\tconst near = projL[ 14 ] / ( projL[ 10 ] - 1 );\n\t\tconst far = projL[ 14 ] / ( projL[ 10 ] + 1 );\n\t\tconst topFov = ( projL[ 9 ] + 1 ) / projL[ 5 ];\n\t\tconst bottomFov = ( projL[ 9 ] - 1 ) / projL[ 5 ];\n\n\t\tconst leftFov = ( projL[ 8 ] - 1 ) / projL[ 0 ];\n\t\tconst rightFov = ( projR[ 8 ] + 1 ) / projR[ 0 ];\n\t\tconst left = near * leftFov;\n\t\tconst right = near * rightFov;\n\n\t\t// Calculate the new camera's position offset from the\n\t\t// left camera. xOffset should be roughly half `ipd`.\n\t\tconst zOffset = ipd / ( - leftFov + rightFov );\n\t\tconst xOffset = zOffset * - leftFov;\n\n\t\t// TODO: Better way to apply this offset?\n\t\tcameraL.matrixWorld.decompose( camera.position, camera.quaternion, camera.scale );\n\t\tcamera.translateX( xOffset );\n\t\tcamera.translateZ( zOffset );\n\t\tcamera.matrixWorld.compose( camera.position, camera.quaternion, camera.scale );\n\t\tcamera.matrixWorldInverse.copy( camera.matrixWorld ).invert();\n\n\t\t// Find the union of the frustum values of the cameras and scale\n\t\t// the values so that the near plane's position does not change in world space,\n\t\t// although must now be relative to the new union camera.\n\t\tconst near2 = near + zOffset;\n\t\tconst far2 = far + zOffset;\n\t\tconst left2 = left - xOffset;\n\t\tconst right2 = right + ( ipd - xOffset );\n\t\tconst top2 = topFov * far / far2 * near2;\n\t\tconst bottom2 = bottomFov * far / far2 * near2;\n\n\t\tcamera.projectionMatrix.makePerspective( left2, right2, top2, bottom2, near2, far2 );\n\n\t}\n\n\tfunction updateCamera( camera, parent ) {\n\n\t\tif ( parent === null ) {\n\n\t\t\tcamera.matrixWorld.copy( camera.matrix );\n\n\t\t} else {\n\n\t\t\tcamera.matrixWorld.multiplyMatrices( parent.matrixWorld, camera.matrix );\n\n\t\t}\n\n\t\tcamera.matrixWorldInverse.copy( camera.matrixWorld ).invert();\n\n\t}\n\n\tthis.getCamera = function ( camera ) {\n\n\t\tcameraVR.near = cameraR.near = cameraL.near = camera.near;\n\t\tcameraVR.far = cameraR.far = cameraL.far = camera.far;\n\n\t\tif ( _currentDepthNear !== cameraVR.near || _currentDepthFar !== cameraVR.far ) {\n\n\t\t\t// Note that the new renderState won't apply until the next frame. See #18320\n\n\t\t\tsession.updateRenderState( {\n\t\t\t\tdepthNear: cameraVR.near,\n\t\t\t\tdepthFar: cameraVR.far\n\t\t\t} );\n\n\t\t\t_currentDepthNear = cameraVR.near;\n\t\t\t_currentDepthFar = cameraVR.far;\n\n\t\t}\n\n\t\tconst parent = camera.parent;\n\t\tconst cameras = cameraVR.cameras;\n\n\t\tupdateCamera( cameraVR, parent );\n\n\t\tfor ( let i = 0; i < cameras.length; i ++ ) {\n\n\t\t\tupdateCamera( cameras[ i ], parent );\n\n\t\t}\n\n\t\t// update camera and its children\n\n\t\tcamera.matrixWorld.copy( cameraVR.matrixWorld );\n\n\t\tconst children = camera.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].updateMatrixWorld( true );\n\n\t\t}\n\n\t\t// update projection matrix for proper view frustum culling\n\n\t\tif ( cameras.length === 2 ) {\n\n\t\t\tsetProjectionFromUnion( cameraVR, cameraL, cameraR );\n\n\t\t} else {\n\n\t\t\t// assume single camera setup (AR)\n\n\t\t\tcameraVR.projectionMatrix.copy( cameraL.projectionMatrix );\n\n\t\t}\n\n\t\treturn cameraVR;\n\n\t};\n\n\t// Animation Loop\n\n\tlet onAnimationFrameCallback = null;\n\n\tfunction onAnimationFrame( time, frame ) {\n\n\t\tpose = frame.getViewerPose( referenceSpace );\n\n\t\tif ( pose !== null ) {\n\n\t\t\tconst views = pose.views;\n\t\t\tconst baseLayer = session.renderState.baseLayer;\n\n\t\t\trenderer.setFramebuffer( baseLayer.framebuffer );\n\n\t\t\tlet cameraVRNeedsUpdate = false;\n\n\t\t\t// check if it's necessary to rebuild cameraVR's camera list\n\n\t\t\tif ( views.length !== cameraVR.cameras.length ) {\n\n\t\t\t\tcameraVR.cameras.length = 0;\n\t\t\t\tcameraVRNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t\tfor ( let i = 0; i < views.length; i ++ ) {\n\n\t\t\t\tconst view = views[ i ];\n\t\t\t\tconst viewport = baseLayer.getViewport( view );\n\n\t\t\t\tconst camera = cameras[ i ];\n\t\t\t\tcamera.matrix.fromArray( view.transform.matrix );\n\t\t\t\tcamera.projectionMatrix.fromArray( view.projectionMatrix );\n\t\t\t\tcamera.viewport.set( viewport.x, viewport.y, viewport.width, viewport.height );\n\n\t\t\t\tif ( i === 0 ) {\n\n\t\t\t\t\tcameraVR.matrix.copy( camera.matrix );\n\n\t\t\t\t}\n\n\t\t\t\tif ( cameraVRNeedsUpdate === true ) {\n\n\t\t\t\t\tcameraVR.cameras.push( camera );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tconst inputSources = session.inputSources;\n\n\t\tfor ( let i = 0; i < controllers.length; i ++ ) {\n\n\t\t\tconst controller = controllers[ i ];\n\t\t\tconst inputSource = inputSources[ i ];\n\n\t\t\tcontroller.update( inputSource, frame, referenceSpace );\n\n\t\t}\n\n\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time, frame );\n\n\t}\n\n\tconst animation = new WebGLAnimation();\n\tanimation.setAnimationLoop( onAnimationFrame );\n\n\tthis.setAnimationLoop = function ( callback ) {\n\n\t\tonAnimationFrameCallback = callback;\n\n\t};\n\n\tthis.dispose = function () {};\n\n}\n\nObject.assign( WebXRManager.prototype, EventDispatcher.prototype );\n\nfunction WebGLMaterials( properties ) {\n\n\tfunction refreshFogUniforms( uniforms, fog ) {\n\n\t\tuniforms.fogColor.value.copy( fog.color );\n\n\t\tif ( fog.isFog ) {\n\n\t\t\tuniforms.fogNear.value = fog.near;\n\t\t\tuniforms.fogFar.value = fog.far;\n\n\t\t} else if ( fog.isFogExp2 ) {\n\n\t\t\tuniforms.fogDensity.value = fog.density;\n\n\t\t}\n\n\t}\n\n\tfunction refreshMaterialUniforms( uniforms, material, pixelRatio, height ) {\n\n\t\tif ( material.isMeshBasicMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\n\t\t} else if ( material.isMeshLambertMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsLambert( uniforms, material );\n\n\t\t} else if ( material.isMeshToonMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsToon( uniforms, material );\n\n\t\t} else if ( material.isMeshPhongMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsPhong( uniforms, material );\n\n\t\t} else if ( material.isMeshStandardMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\n\t\t\tif ( material.isMeshPhysicalMaterial ) {\n\n\t\t\t\trefreshUniformsPhysical( uniforms, material );\n\n\t\t\t} else {\n\n\t\t\t\trefreshUniformsStandard( uniforms, material );\n\n\t\t\t}\n\n\t\t} else if ( material.isMeshMatcapMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsMatcap( uniforms, material );\n\n\t\t} else if ( material.isMeshDepthMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsDepth( uniforms, material );\n\n\t\t} else if ( material.isMeshDistanceMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsDistance( uniforms, material );\n\n\t\t} else if ( material.isMeshNormalMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsNormal( uniforms, material );\n\n\t\t} else if ( material.isLineBasicMaterial ) {\n\n\t\t\trefreshUniformsLine( uniforms, material );\n\n\t\t\tif ( material.isLineDashedMaterial ) {\n\n\t\t\t\trefreshUniformsDash( uniforms, material );\n\n\t\t\t}\n\n\t\t} else if ( material.isPointsMaterial ) {\n\n\t\t\trefreshUniformsPoints( uniforms, material, pixelRatio, height );\n\n\t\t} else if ( material.isSpriteMaterial ) {\n\n\t\t\trefreshUniformsSprites( uniforms, material );\n\n\t\t} else if ( material.isShadowMaterial ) {\n\n\t\t\tuniforms.color.value.copy( material.color );\n\t\t\tuniforms.opacity.value = material.opacity;\n\n\t\t} else if ( material.isShaderMaterial ) {\n\n\t\t\tmaterial.uniformsNeedUpdate = false; // #15581\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsCommon( uniforms, material ) {\n\n\t\tuniforms.opacity.value = material.opacity;\n\n\t\tif ( material.color ) {\n\n\t\t\tuniforms.diffuse.value.copy( material.color );\n\n\t\t}\n\n\t\tif ( material.emissive ) {\n\n\t\t\tuniforms.emissive.value.copy( material.emissive ).multiplyScalar( material.emissiveIntensity );\n\n\t\t}\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\tif ( material.specularMap ) {\n\n\t\t\tuniforms.specularMap.value = material.specularMap;\n\n\t\t}\n\n\t\tconst envMap = properties.get( material ).envMap;\n\n\t\tif ( envMap ) {\n\n\t\t\tuniforms.envMap.value = envMap;\n\n\t\t\tuniforms.flipEnvMap.value = ( envMap.isCubeTexture && envMap._needsFlipEnvMap ) ? - 1 : 1;\n\n\t\t\tuniforms.reflectivity.value = material.reflectivity;\n\t\t\tuniforms.refractionRatio.value = material.refractionRatio;\n\n\t\t\tconst maxMipLevel = properties.get( envMap ).__maxMipLevel;\n\n\t\t\tif ( maxMipLevel !== undefined ) {\n\n\t\t\t\tuniforms.maxMipLevel.value = maxMipLevel;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.lightMap ) {\n\n\t\t\tuniforms.lightMap.value = material.lightMap;\n\t\t\tuniforms.lightMapIntensity.value = material.lightMapIntensity;\n\n\t\t}\n\n\t\tif ( material.aoMap ) {\n\n\t\t\tuniforms.aoMap.value = material.aoMap;\n\t\t\tuniforms.aoMapIntensity.value = material.aoMapIntensity;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. specular map\n\t\t// 3. displacementMap map\n\t\t// 4. normal map\n\t\t// 5. bump map\n\t\t// 6. roughnessMap map\n\t\t// 7. metalnessMap map\n\t\t// 8. alphaMap map\n\t\t// 9. emissiveMap map\n\t\t// 10. clearcoat map\n\t\t// 11. clearcoat normal map\n\t\t// 12. clearcoat roughnessMap map\n\n\t\tlet uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.specularMap ) {\n\n\t\t\tuvScaleMap = material.specularMap;\n\n\t\t} else if ( material.displacementMap ) {\n\n\t\t\tuvScaleMap = material.displacementMap;\n\n\t\t} else if ( material.normalMap ) {\n\n\t\t\tuvScaleMap = material.normalMap;\n\n\t\t} else if ( material.bumpMap ) {\n\n\t\t\tuvScaleMap = material.bumpMap;\n\n\t\t} else if ( material.roughnessMap ) {\n\n\t\t\tuvScaleMap = material.roughnessMap;\n\n\t\t} else if ( material.metalnessMap ) {\n\n\t\t\tuvScaleMap = material.metalnessMap;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t} else if ( material.emissiveMap ) {\n\n\t\t\tuvScaleMap = material.emissiveMap;\n\n\t\t} else if ( material.clearcoatMap ) {\n\n\t\t\tuvScaleMap = material.clearcoatMap;\n\n\t\t} else if ( material.clearcoatNormalMap ) {\n\n\t\t\tuvScaleMap = material.clearcoatNormalMap;\n\n\t\t} else if ( material.clearcoatRoughnessMap ) {\n\n\t\t\tuvScaleMap = material.clearcoatRoughnessMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\t// backwards compatibility\n\t\t\tif ( uvScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\tuvScaleMap = uvScaleMap.texture;\n\n\t\t\t}\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities for uv2\n\t\t// 1. ao map\n\t\t// 2. light map\n\n\t\tlet uv2ScaleMap;\n\n\t\tif ( material.aoMap ) {\n\n\t\t\tuv2ScaleMap = material.aoMap;\n\n\t\t} else if ( material.lightMap ) {\n\n\t\t\tuv2ScaleMap = material.lightMap;\n\n\t\t}\n\n\t\tif ( uv2ScaleMap !== undefined ) {\n\n\t\t\t// backwards compatibility\n\t\t\tif ( uv2ScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\tuv2ScaleMap = uv2ScaleMap.texture;\n\n\t\t\t}\n\n\t\t\tif ( uv2ScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuv2ScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uv2Transform.value.copy( uv2ScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLine( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\n\t}\n\n\tfunction refreshUniformsDash( uniforms, material ) {\n\n\t\tuniforms.dashSize.value = material.dashSize;\n\t\tuniforms.totalSize.value = material.dashSize + material.gapSize;\n\t\tuniforms.scale.value = material.scale;\n\n\t}\n\n\tfunction refreshUniformsPoints( uniforms, material, pixelRatio, height ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.size.value = material.size * pixelRatio;\n\t\tuniforms.scale.value = height * 0.5;\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. alpha map\n\n\t\tlet uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsSprites( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.rotation.value = material.rotation;\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. alpha map\n\n\t\tlet uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLambert( uniforms, material ) {\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhong( uniforms, material ) {\n\n\t\tuniforms.specular.value.copy( material.specular );\n\t\tuniforms.shininess.value = Math.max( material.shininess, 1e-4 ); // to prevent pow( 0.0, 0.0 )\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsToon( uniforms, material ) {\n\n\t\tif ( material.gradientMap ) {\n\n\t\t\tuniforms.gradientMap.value = material.gradientMap;\n\n\t\t}\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsStandard( uniforms, material ) {\n\n\t\tuniforms.roughness.value = material.roughness;\n\t\tuniforms.metalness.value = material.metalness;\n\n\t\tif ( material.roughnessMap ) {\n\n\t\t\tuniforms.roughnessMap.value = material.roughnessMap;\n\n\t\t}\n\n\t\tif ( material.metalnessMap ) {\n\n\t\t\tuniforms.metalnessMap.value = material.metalnessMap;\n\n\t\t}\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tconst envMap = properties.get( material ).envMap;\n\n\t\tif ( envMap ) {\n\n\t\t\t//uniforms.envMap.value = material.envMap; // part of uniforms common\n\t\t\tuniforms.envMapIntensity.value = material.envMapIntensity;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhysical( uniforms, material ) {\n\n\t\trefreshUniformsStandard( uniforms, material );\n\n\t\tuniforms.reflectivity.value = material.reflectivity; // also part of uniforms common\n\n\t\tuniforms.clearcoat.value = material.clearcoat;\n\t\tuniforms.clearcoatRoughness.value = material.clearcoatRoughness;\n\t\tif ( material.sheen ) uniforms.sheen.value.copy( material.sheen );\n\n\t\tif ( material.clearcoatMap ) {\n\n\t\t\tuniforms.clearcoatMap.value = material.clearcoatMap;\n\n\t\t}\n\n\t\tif ( material.clearcoatRoughnessMap ) {\n\n\t\t\tuniforms.clearcoatRoughnessMap.value = material.clearcoatRoughnessMap;\n\n\t\t}\n\n\t\tif ( material.clearcoatNormalMap ) {\n\n\t\t\tuniforms.clearcoatNormalScale.value.copy( material.clearcoatNormalScale );\n\t\t\tuniforms.clearcoatNormalMap.value = material.clearcoatNormalMap;\n\n\t\t\tif ( material.side === BackSide ) {\n\n\t\t\t\tuniforms.clearcoatNormalScale.value.negate();\n\n\t\t\t}\n\n\t\t}\n\n\t\tuniforms.transmission.value = material.transmission;\n\n\t\tif ( material.transmissionMap ) {\n\n\t\t\tuniforms.transmissionMap.value = material.transmissionMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsMatcap( uniforms, material ) {\n\n\t\tif ( material.matcap ) {\n\n\t\t\tuniforms.matcap.value = material.matcap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDepth( uniforms, material ) {\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDistance( uniforms, material ) {\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tuniforms.referencePosition.value.copy( material.referencePosition );\n\t\tuniforms.nearDistance.value = material.nearDistance;\n\t\tuniforms.farDistance.value = material.farDistance;\n\n\t}\n\n\tfunction refreshUniformsNormal( uniforms, material ) {\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\trefreshFogUniforms: refreshFogUniforms,\n\t\trefreshMaterialUniforms: refreshMaterialUniforms\n\t};\n\n}\n\nfunction createCanvasElement() {\n\n\tconst canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\tcanvas.style.display = 'block';\n\treturn canvas;\n\n}\n\nfunction WebGLRenderer( parameters ) {\n\n\tparameters = parameters || {};\n\n\tconst _canvas = parameters.canvas !== undefined ? parameters.canvas : createCanvasElement(),\n\t\t_context = parameters.context !== undefined ? parameters.context : null,\n\n\t\t_alpha = parameters.alpha !== undefined ? parameters.alpha : false,\n\t\t_depth = parameters.depth !== undefined ? parameters.depth : true,\n\t\t_stencil = parameters.stencil !== undefined ? parameters.stencil : true,\n\t\t_antialias = parameters.antialias !== undefined ? parameters.antialias : false,\n\t\t_premultipliedAlpha = parameters.premultipliedAlpha !== undefined ? parameters.premultipliedAlpha : true,\n\t\t_preserveDrawingBuffer = parameters.preserveDrawingBuffer !== undefined ? parameters.preserveDrawingBuffer : false,\n\t\t_powerPreference = parameters.powerPreference !== undefined ? parameters.powerPreference : 'default',\n\t\t_failIfMajorPerformanceCaveat = parameters.failIfMajorPerformanceCaveat !== undefined ? parameters.failIfMajorPerformanceCaveat : false;\n\n\tlet currentRenderList = null;\n\tlet currentRenderState = null;\n\n\t// public properties\n\n\tthis.domElement = _canvas;\n\n\t// Debug configuration container\n\tthis.debug = {\n\n\t\t/**\n\t\t * Enables error checking and reporting when shader programs are being compiled\n\t\t * @type {boolean}\n\t\t */\n\t\tcheckShaderErrors: true\n\t};\n\n\t// clearing\n\n\tthis.autoClear = true;\n\tthis.autoClearColor = true;\n\tthis.autoClearDepth = true;\n\tthis.autoClearStencil = true;\n\n\t// scene graph\n\n\tthis.sortObjects = true;\n\n\t// user-defined clipping\n\n\tthis.clippingPlanes = [];\n\tthis.localClippingEnabled = false;\n\n\t// physically based shading\n\n\tthis.gammaFactor = 2.0;\t// for backwards compatibility\n\tthis.outputEncoding = LinearEncoding;\n\n\t// physical lights\n\n\tthis.physicallyCorrectLights = false;\n\n\t// tone mapping\n\n\tthis.toneMapping = NoToneMapping;\n\tthis.toneMappingExposure = 1.0;\n\n\t// morphs\n\n\tthis.maxMorphTargets = 8;\n\tthis.maxMorphNormals = 4;\n\n\t// internal properties\n\n\tconst _this = this;\n\n\tlet _isContextLost = false;\n\n\t// internal state cache\n\n\tlet _framebuffer = null;\n\n\tlet _currentActiveCubeFace = 0;\n\tlet _currentActiveMipmapLevel = 0;\n\tlet _currentRenderTarget = null;\n\tlet _currentFramebuffer = null;\n\tlet _currentMaterialId = - 1;\n\n\tlet _currentCamera = null;\n\tlet _currentArrayCamera = null;\n\n\tconst _currentViewport = new Vector4();\n\tconst _currentScissor = new Vector4();\n\tlet _currentScissorTest = null;\n\n\t//\n\n\tlet _width = _canvas.width;\n\tlet _height = _canvas.height;\n\n\tlet _pixelRatio = 1;\n\tlet _opaqueSort = null;\n\tlet _transparentSort = null;\n\n\tconst _viewport = new Vector4( 0, 0, _width, _height );\n\tconst _scissor = new Vector4( 0, 0, _width, _height );\n\tlet _scissorTest = false;\n\n\t// frustum\n\n\tconst _frustum = new Frustum();\n\n\t// clipping\n\n\tlet _clippingEnabled = false;\n\tlet _localClippingEnabled = false;\n\n\t// camera matrices cache\n\n\tconst _projScreenMatrix = new Matrix4();\n\n\tconst _vector3 = new Vector3();\n\n\tconst _emptyScene = { background: null, fog: null, environment: null, overrideMaterial: null, isScene: true };\n\n\tfunction getTargetPixelRatio() {\n\n\t\treturn _currentRenderTarget === null ? _pixelRatio : 1;\n\n\t}\n\n\t// initialize\n\n\tlet _gl = _context;\n\n\tfunction getContext( contextNames, contextAttributes ) {\n\n\t\tfor ( let i = 0; i < contextNames.length; i ++ ) {\n\n\t\t\tconst contextName = contextNames[ i ];\n\t\t\tconst context = _canvas.getContext( contextName, contextAttributes );\n\t\t\tif ( context !== null ) return context;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\ttry {\n\n\t\tconst contextAttributes = {\n\t\t\talpha: _alpha,\n\t\t\tdepth: _depth,\n\t\t\tstencil: _stencil,\n\t\t\tantialias: _antialias,\n\t\t\tpremultipliedAlpha: _premultipliedAlpha,\n\t\t\tpreserveDrawingBuffer: _preserveDrawingBuffer,\n\t\t\tpowerPreference: _powerPreference,\n\t\t\tfailIfMajorPerformanceCaveat: _failIfMajorPerformanceCaveat\n\t\t};\n\n\t\t// event listeners must be registered before WebGL context is created, see #12753\n\n\t\t_canvas.addEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.addEventListener( 'webglcontextrestored', onContextRestore, false );\n\n\t\tif ( _gl === null ) {\n\n\t\t\tconst contextNames = [ 'webgl2', 'webgl', 'experimental-webgl' ];\n\n\t\t\tif ( _this.isWebGL1Renderer === true ) {\n\n\t\t\t\tcontextNames.shift();\n\n\t\t\t}\n\n\t\t\t_gl = getContext( contextNames, contextAttributes );\n\n\t\t\tif ( _gl === null ) {\n\n\t\t\t\tif ( getContext( contextNames ) ) {\n\n\t\t\t\t\tthrow new Error( 'Error creating WebGL context with your selected attributes.' );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( 'Error creating WebGL context.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Some experimental-webgl implementations do not have getShaderPrecisionFormat\n\n\t\tif ( _gl.getShaderPrecisionFormat === undefined ) {\n\n\t\t\t_gl.getShaderPrecisionFormat = function () {\n\n\t\t\t\treturn { 'rangeMin': 1, 'rangeMax': 1, 'precision': 1 };\n\n\t\t\t};\n\n\t\t}\n\n\t} catch ( error ) {\n\n\t\tconsole.error( 'THREE.WebGLRenderer: ' + error.message );\n\t\tthrow error;\n\n\t}\n\n\tlet extensions, capabilities, state, info;\n\tlet properties, textures, cubemaps, attributes, geometries, objects;\n\tlet programCache, materials, renderLists, renderStates, clipping;\n\n\tlet background, morphtargets, bufferRenderer, indexedBufferRenderer;\n\n\tlet utils, bindingStates;\n\n\tfunction initGLContext() {\n\n\t\textensions = new WebGLExtensions( _gl );\n\n\t\tcapabilities = new WebGLCapabilities( _gl, extensions, parameters );\n\n\t\tif ( capabilities.isWebGL2 === false ) {\n\n\t\t\textensions.get( 'WEBGL_depth_texture' );\n\t\t\textensions.get( 'OES_texture_float' );\n\t\t\textensions.get( 'OES_texture_half_float' );\n\t\t\textensions.get( 'OES_texture_half_float_linear' );\n\t\t\textensions.get( 'OES_standard_derivatives' );\n\t\t\textensions.get( 'OES_element_index_uint' );\n\t\t\textensions.get( 'OES_vertex_array_object' );\n\t\t\textensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t}\n\n\t\textensions.get( 'OES_texture_float_linear' );\n\n\t\tutils = new WebGLUtils( _gl, extensions, capabilities );\n\n\t\tstate = new WebGLState( _gl, extensions, capabilities );\n\t\tstate.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor() );\n\t\tstate.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor() );\n\n\t\tinfo = new WebGLInfo( _gl );\n\t\tproperties = new WebGLProperties();\n\t\ttextures = new WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info );\n\t\tcubemaps = new WebGLCubeMaps( _this );\n\t\tattributes = new WebGLAttributes( _gl, capabilities );\n\t\tbindingStates = new WebGLBindingStates( _gl, extensions, attributes, capabilities );\n\t\tgeometries = new WebGLGeometries( _gl, attributes, info, bindingStates );\n\t\tobjects = new WebGLObjects( _gl, geometries, attributes, info );\n\t\tmorphtargets = new WebGLMorphtargets( _gl );\n\t\tclipping = new WebGLClipping( properties );\n\t\tprogramCache = new WebGLPrograms( _this, cubemaps, extensions, capabilities, bindingStates, clipping );\n\t\tmaterials = new WebGLMaterials( properties );\n\t\trenderLists = new WebGLRenderLists( properties );\n\t\trenderStates = new WebGLRenderStates( extensions, capabilities );\n\t\tbackground = new WebGLBackground( _this, cubemaps, state, objects, _premultipliedAlpha );\n\n\t\tbufferRenderer = new WebGLBufferRenderer( _gl, extensions, info, capabilities );\n\t\tindexedBufferRenderer = new WebGLIndexedBufferRenderer( _gl, extensions, info, capabilities );\n\n\t\tinfo.programs = programCache.programs;\n\n\t\t_this.capabilities = capabilities;\n\t\t_this.extensions = extensions;\n\t\t_this.properties = properties;\n\t\t_this.renderLists = renderLists;\n\t\t_this.state = state;\n\t\t_this.info = info;\n\n\t}\n\n\tinitGLContext();\n\n\t// xr\n\n\tconst xr = new WebXRManager( _this, _gl );\n\n\tthis.xr = xr;\n\n\t// shadow map\n\n\tconst shadowMap = new WebGLShadowMap( _this, objects, capabilities.maxTextureSize );\n\n\tthis.shadowMap = shadowMap;\n\n\t// API\n\n\tthis.getContext = function () {\n\n\t\treturn _gl;\n\n\t};\n\n\tthis.getContextAttributes = function () {\n\n\t\treturn _gl.getContextAttributes();\n\n\t};\n\n\tthis.forceContextLoss = function () {\n\n\t\tconst extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.loseContext();\n\n\t};\n\n\tthis.forceContextRestore = function () {\n\n\t\tconst extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.restoreContext();\n\n\t};\n\n\tthis.getPixelRatio = function () {\n\n\t\treturn _pixelRatio;\n\n\t};\n\n\tthis.setPixelRatio = function ( value ) {\n\n\t\tif ( value === undefined ) return;\n\n\t\t_pixelRatio = value;\n\n\t\tthis.setSize( _width, _height, false );\n\n\t};\n\n\tthis.getSize = function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'WebGLRenderer: .getsize() now requires a Vector2 as an argument' );\n\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.set( _width, _height );\n\n\t};\n\n\tthis.setSize = function ( width, height, updateStyle ) {\n\n\t\tif ( xr.isPresenting ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Can\\'t change size while VR device is presenting.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_canvas.width = Math.floor( width * _pixelRatio );\n\t\t_canvas.height = Math.floor( height * _pixelRatio );\n\n\t\tif ( updateStyle !== false ) {\n\n\t\t\t_canvas.style.width = width + 'px';\n\t\t\t_canvas.style.height = height + 'px';\n\n\t\t}\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getDrawingBufferSize = function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument' );\n\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.set( _width * _pixelRatio, _height * _pixelRatio ).floor();\n\n\t};\n\n\tthis.setDrawingBufferSize = function ( width, height, pixelRatio ) {\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_pixelRatio = pixelRatio;\n\n\t\t_canvas.width = Math.floor( width * pixelRatio );\n\t\t_canvas.height = Math.floor( height * pixelRatio );\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getCurrentViewport = function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument' );\n\n\t\t\ttarget = new Vector4();\n\n\t\t}\n\n\t\treturn target.copy( _currentViewport );\n\n\t};\n\n\tthis.getViewport = function ( target ) {\n\n\t\treturn target.copy( _viewport );\n\n\t};\n\n\tthis.setViewport = function ( x, y, width, height ) {\n\n\t\tif ( x.isVector4 ) {\n\n\t\t\t_viewport.set( x.x, x.y, x.z, x.w );\n\n\t\t} else {\n\n\t\t\t_viewport.set( x, y, width, height );\n\n\t\t}\n\n\t\tstate.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor() );\n\n\t};\n\n\tthis.getScissor = function ( target ) {\n\n\t\treturn target.copy( _scissor );\n\n\t};\n\n\tthis.setScissor = function ( x, y, width, height ) {\n\n\t\tif ( x.isVector4 ) {\n\n\t\t\t_scissor.set( x.x, x.y, x.z, x.w );\n\n\t\t} else {\n\n\t\t\t_scissor.set( x, y, width, height );\n\n\t\t}\n\n\t\tstate.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor() );\n\n\t};\n\n\tthis.getScissorTest = function () {\n\n\t\treturn _scissorTest;\n\n\t};\n\n\tthis.setScissorTest = function ( boolean ) {\n\n\t\tstate.setScissorTest( _scissorTest = boolean );\n\n\t};\n\n\tthis.setOpaqueSort = function ( method ) {\n\n\t\t_opaqueSort = method;\n\n\t};\n\n\tthis.setTransparentSort = function ( method ) {\n\n\t\t_transparentSort = method;\n\n\t};\n\n\t// Clearing\n\n\tthis.getClearColor = function () {\n\n\t\treturn background.getClearColor();\n\n\t};\n\n\tthis.setClearColor = function () {\n\n\t\tbackground.setClearColor.apply( background, arguments );\n\n\t};\n\n\tthis.getClearAlpha = function () {\n\n\t\treturn background.getClearAlpha();\n\n\t};\n\n\tthis.setClearAlpha = function () {\n\n\t\tbackground.setClearAlpha.apply( background, arguments );\n\n\t};\n\n\tthis.clear = function ( color, depth, stencil ) {\n\n\t\tlet bits = 0;\n\n\t\tif ( color === undefined || color ) bits |= 16384;\n\t\tif ( depth === undefined || depth ) bits |= 256;\n\t\tif ( stencil === undefined || stencil ) bits |= 1024;\n\n\t\t_gl.clear( bits );\n\n\t};\n\n\tthis.clearColor = function () {\n\n\t\tthis.clear( true, false, false );\n\n\t};\n\n\tthis.clearDepth = function () {\n\n\t\tthis.clear( false, true, false );\n\n\t};\n\n\tthis.clearStencil = function () {\n\n\t\tthis.clear( false, false, true );\n\n\t};\n\n\t//\n\n\tthis.dispose = function () {\n\n\t\t_canvas.removeEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.removeEventListener( 'webglcontextrestored', onContextRestore, false );\n\n\t\trenderLists.dispose();\n\t\trenderStates.dispose();\n\t\tproperties.dispose();\n\t\tcubemaps.dispose();\n\t\tobjects.dispose();\n\t\tbindingStates.dispose();\n\n\t\txr.dispose();\n\n\t\tanimation.stop();\n\n\t};\n\n\t// Events\n\n\tfunction onContextLost( event ) {\n\n\t\tevent.preventDefault();\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Lost.' );\n\n\t\t_isContextLost = true;\n\n\t}\n\n\tfunction onContextRestore( /* event */ ) {\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Restored.' );\n\n\t\t_isContextLost = false;\n\n\t\tinitGLContext();\n\n\t}\n\n\tfunction onMaterialDispose( event ) {\n\n\t\tconst material = event.target;\n\n\t\tmaterial.removeEventListener( 'dispose', onMaterialDispose );\n\n\t\tdeallocateMaterial( material );\n\n\t}\n\n\t// Buffer deallocation\n\n\tfunction deallocateMaterial( material ) {\n\n\t\treleaseMaterialProgramReference( material );\n\n\t\tproperties.remove( material );\n\n\t}\n\n\n\tfunction releaseMaterialProgramReference( material ) {\n\n\t\tconst programInfo = properties.get( material ).program;\n\n\t\tif ( programInfo !== undefined ) {\n\n\t\t\tprogramCache.releaseProgram( programInfo );\n\n\t\t}\n\n\t}\n\n\t// Buffer rendering\n\n\tfunction renderObjectImmediate( object, program ) {\n\n\t\tobject.render( function ( object ) {\n\n\t\t\t_this.renderBufferImmediate( object, program );\n\n\t\t} );\n\n\t}\n\n\tthis.renderBufferImmediate = function ( object, program ) {\n\n\t\tbindingStates.initAttributes();\n\n\t\tconst buffers = properties.get( object );\n\n\t\tif ( object.hasPositions && ! buffers.position ) buffers.position = _gl.createBuffer();\n\t\tif ( object.hasNormals && ! buffers.normal ) buffers.normal = _gl.createBuffer();\n\t\tif ( object.hasUvs && ! buffers.uv ) buffers.uv = _gl.createBuffer();\n\t\tif ( object.hasColors && ! buffers.color ) buffers.color = _gl.createBuffer();\n\n\t\tconst programAttributes = program.getAttributes();\n\n\t\tif ( object.hasPositions ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.position );\n\t\t\t_gl.bufferData( 34962, object.positionArray, 35048 );\n\n\t\t\tbindingStates.enableAttribute( programAttributes.position );\n\t\t\t_gl.vertexAttribPointer( programAttributes.position, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasNormals ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.normal );\n\t\t\t_gl.bufferData( 34962, object.normalArray, 35048 );\n\n\t\t\tbindingStates.enableAttribute( programAttributes.normal );\n\t\t\t_gl.vertexAttribPointer( programAttributes.normal, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasUvs ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.uv );\n\t\t\t_gl.bufferData( 34962, object.uvArray, 35048 );\n\n\t\t\tbindingStates.enableAttribute( programAttributes.uv );\n\t\t\t_gl.vertexAttribPointer( programAttributes.uv, 2, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasColors ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.color );\n\t\t\t_gl.bufferData( 34962, object.colorArray, 35048 );\n\n\t\t\tbindingStates.enableAttribute( programAttributes.color );\n\t\t\t_gl.vertexAttribPointer( programAttributes.color, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tbindingStates.disableUnusedAttributes();\n\n\t\t_gl.drawArrays( 4, 0, object.count );\n\n\t\tobject.count = 0;\n\n\t};\n\n\tthis.renderBufferDirect = function ( camera, scene, geometry, material, object, group ) {\n\n\t\tif ( scene === null ) scene = _emptyScene; // renderBufferDirect second parameter used to be fog (could be null)\n\n\t\tconst frontFaceCW = ( object.isMesh && object.matrixWorld.determinant() < 0 );\n\n\t\tconst program = setProgram( camera, scene, material, object );\n\n\t\tstate.setMaterial( material, frontFaceCW );\n\n\t\t//\n\n\t\tlet index = geometry.index;\n\t\tconst position = geometry.attributes.position;\n\n\t\t//\n\n\t\tif ( index === null ) {\n\n\t\t\tif ( position === undefined || position.count === 0 ) return;\n\n\t\t} else if ( index.count === 0 ) {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t//\n\n\t\tlet rangeFactor = 1;\n\n\t\tif ( material.wireframe === true ) {\n\n\t\t\tindex = geometries.getWireframeAttribute( geometry );\n\t\t\trangeFactor = 2;\n\n\t\t}\n\n\t\tif ( material.morphTargets || material.morphNormals ) {\n\n\t\t\tmorphtargets.update( object, geometry, material, program );\n\n\t\t}\n\n\t\tbindingStates.setup( object, material, program, geometry, index );\n\n\t\tlet attribute;\n\t\tlet renderer = bufferRenderer;\n\n\t\tif ( index !== null ) {\n\n\t\t\tattribute = attributes.get( index );\n\n\t\t\trenderer = indexedBufferRenderer;\n\t\t\trenderer.setIndex( attribute );\n\n\t\t}\n\n\t\t//\n\n\t\tconst dataCount = ( index !== null ) ? index.count : position.count;\n\n\t\tconst rangeStart = geometry.drawRange.start * rangeFactor;\n\t\tconst rangeCount = geometry.drawRange.count * rangeFactor;\n\n\t\tconst groupStart = group !== null ? group.start * rangeFactor : 0;\n\t\tconst groupCount = group !== null ? group.count * rangeFactor : Infinity;\n\n\t\tconst drawStart = Math.max( rangeStart, groupStart );\n\t\tconst drawEnd = Math.min( dataCount, rangeStart + rangeCount, groupStart + groupCount ) - 1;\n\n\t\tconst drawCount = Math.max( 0, drawEnd - drawStart + 1 );\n\n\t\tif ( drawCount === 0 ) return;\n\n\t\t//\n\n\t\tif ( object.isMesh ) {\n\n\t\t\tif ( material.wireframe === true ) {\n\n\t\t\t\tstate.setLineWidth( material.wireframeLinewidth * getTargetPixelRatio() );\n\t\t\t\trenderer.setMode( 1 );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setMode( 4 );\n\n\t\t\t}\n\n\t\t} else if ( object.isLine ) {\n\n\t\t\tlet lineWidth = material.linewidth;\n\n\t\t\tif ( lineWidth === undefined ) lineWidth = 1; // Not using Line*Material\n\n\t\t\tstate.setLineWidth( lineWidth * getTargetPixelRatio() );\n\n\t\t\tif ( object.isLineSegments ) {\n\n\t\t\t\trenderer.setMode( 1 );\n\n\t\t\t} else if ( object.isLineLoop ) {\n\n\t\t\t\trenderer.setMode( 2 );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setMode( 3 );\n\n\t\t\t}\n\n\t\t} else if ( object.isPoints ) {\n\n\t\t\trenderer.setMode( 0 );\n\n\t\t} else if ( object.isSprite ) {\n\n\t\t\trenderer.setMode( 4 );\n\n\t\t}\n\n\t\tif ( object.isInstancedMesh ) {\n\n\t\t\trenderer.renderInstances( drawStart, drawCount, object.count );\n\n\t\t} else if ( geometry.isInstancedBufferGeometry ) {\n\n\t\t\tconst instanceCount = Math.min( geometry.instanceCount, geometry._maxInstanceCount );\n\n\t\t\trenderer.renderInstances( drawStart, drawCount, instanceCount );\n\n\t\t} else {\n\n\t\t\trenderer.render( drawStart, drawCount );\n\n\t\t}\n\n\t};\n\n\t// Compile\n\n\tthis.compile = function ( scene, camera ) {\n\n\t\tcurrentRenderState = renderStates.get( scene, camera );\n\t\tcurrentRenderState.init();\n\n\t\tscene.traverseVisible( function ( object ) {\n\n\t\t\tif ( object.isLight && object.layers.test( camera.layers ) ) {\n\n\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t\tcurrentRenderState.setupLights( camera );\n\n\t\tconst compiled = new WeakMap();\n\n\t\tscene.traverse( function ( object ) {\n\n\t\t\tconst material = object.material;\n\n\t\t\tif ( material ) {\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tfor ( let i = 0; i < material.length; i ++ ) {\n\n\t\t\t\t\t\tconst material2 = material[ i ];\n\n\t\t\t\t\t\tif ( compiled.has( material2 ) === false ) {\n\n\t\t\t\t\t\t\tinitMaterial( material2, scene, object );\n\t\t\t\t\t\t\tcompiled.set( material2 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( compiled.has( material ) === false ) {\n\n\t\t\t\t\tinitMaterial( material, scene, object );\n\t\t\t\t\tcompiled.set( material );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t};\n\n\t// Animation Loop\n\n\tlet onAnimationFrameCallback = null;\n\n\tfunction onAnimationFrame( time ) {\n\n\t\tif ( xr.isPresenting ) return;\n\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time );\n\n\t}\n\n\tconst animation = new WebGLAnimation();\n\tanimation.setAnimationLoop( onAnimationFrame );\n\n\tif ( typeof window !== 'undefined' ) animation.setContext( window );\n\n\tthis.setAnimationLoop = function ( callback ) {\n\n\t\tonAnimationFrameCallback = callback;\n\t\txr.setAnimationLoop( callback );\n\n\t\t( callback === null ) ? animation.stop() : animation.start();\n\n\t};\n\n\t// Rendering\n\n\tthis.render = function ( scene, camera ) {\n\n\t\tlet renderTarget, forceClear;\n\n\t\tif ( arguments[ 2 ] !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead.' );\n\t\t\trenderTarget = arguments[ 2 ];\n\n\t\t}\n\n\t\tif ( arguments[ 3 ] !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead.' );\n\t\t\tforceClear = arguments[ 3 ];\n\n\t\t}\n\n\t\tif ( camera !== undefined && camera.isCamera !== true ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( _isContextLost === true ) return;\n\n\t\t// reset caching for this frame\n\n\t\tbindingStates.resetDefaultState();\n\t\t_currentMaterialId = - 1;\n\t\t_currentCamera = null;\n\n\t\t// update scene graph\n\n\t\tif ( scene.autoUpdate === true ) scene.updateMatrixWorld();\n\n\t\t// update camera matrices and frustum\n\n\t\tif ( camera.parent === null ) camera.updateMatrixWorld();\n\n\t\tif ( xr.enabled === true && xr.isPresenting === true ) {\n\n\t\t\tcamera = xr.getCamera( camera );\n\n\t\t}\n\n\t\t//\n\t\tif ( scene.isScene === true ) scene.onBeforeRender( _this, scene, camera, renderTarget || _currentRenderTarget );\n\n\t\tcurrentRenderState = renderStates.get( scene, camera );\n\t\tcurrentRenderState.init();\n\n\t\t_projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\t_frustum.setFromProjectionMatrix( _projScreenMatrix );\n\n\t\t_localClippingEnabled = this.localClippingEnabled;\n\t\t_clippingEnabled = clipping.init( this.clippingPlanes, _localClippingEnabled, camera );\n\n\t\tcurrentRenderList = renderLists.get( scene, camera );\n\t\tcurrentRenderList.init();\n\n\t\tprojectObject( scene, camera, 0, _this.sortObjects );\n\n\t\tcurrentRenderList.finish();\n\n\t\tif ( _this.sortObjects === true ) {\n\n\t\t\tcurrentRenderList.sort( _opaqueSort, _transparentSort );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( _clippingEnabled === true ) clipping.beginShadows();\n\n\t\tconst shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\tshadowMap.render( shadowsArray, scene, camera );\n\n\t\tcurrentRenderState.setupLights( camera );\n\n\t\tif ( _clippingEnabled === true ) clipping.endShadows();\n\n\t\t//\n\n\t\tif ( this.info.autoReset === true ) this.info.reset();\n\n\t\tif ( renderTarget !== undefined ) {\n\n\t\t\tthis.setRenderTarget( renderTarget );\n\n\t\t}\n\n\t\t//\n\n\t\tbackground.render( currentRenderList, scene, camera, forceClear );\n\n\t\t// render scene\n\n\t\tconst opaqueObjects = currentRenderList.opaque;\n\t\tconst transparentObjects = currentRenderList.transparent;\n\n\t\tif ( opaqueObjects.length > 0 ) renderObjects( opaqueObjects, scene, camera );\n\t\tif ( transparentObjects.length > 0 ) renderObjects( transparentObjects, scene, camera );\n\n\t\t//\n\n\t\tif ( scene.isScene === true ) scene.onAfterRender( _this, scene, camera );\n\n\t\t//\n\n\t\tif ( _currentRenderTarget !== null ) {\n\n\t\t\t// Generate mipmap if we're using any kind of mipmap filtering\n\n\t\t\ttextures.updateRenderTargetMipmap( _currentRenderTarget );\n\n\t\t\t// resolve multisample renderbuffers to a single-sample texture if necessary\n\n\t\t\ttextures.updateMultisampleRenderTarget( _currentRenderTarget );\n\n\t\t}\n\n\t\t// Ensure depth buffer writing is enabled so it can be cleared on next render\n\n\t\tstate.buffers.depth.setTest( true );\n\t\tstate.buffers.depth.setMask( true );\n\t\tstate.buffers.color.setMask( true );\n\n\t\tstate.setPolygonOffset( false );\n\n\t\t// _gl.finish();\n\n\t\tcurrentRenderList = null;\n\t\tcurrentRenderState = null;\n\n\t};\n\n\tfunction projectObject( object, camera, groupOrder, sortObjects ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tconst visible = object.layers.test( camera.layers );\n\n\t\tif ( visible ) {\n\n\t\t\tif ( object.isGroup ) {\n\n\t\t\t\tgroupOrder = object.renderOrder;\n\n\t\t\t} else if ( object.isLOD ) {\n\n\t\t\t\tif ( object.autoUpdate === true ) object.update( camera );\n\n\t\t\t} else if ( object.isLight ) {\n\n\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isSprite ) {\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsSprite( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst geometry = objects.update( object );\n\t\t\t\t\tconst material = object.material;\n\n\t\t\t\t\tif ( material.visible ) {\n\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isImmediateRenderObject ) {\n\n\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t}\n\n\t\t\t\tcurrentRenderList.push( object, null, object.material, groupOrder, _vector3.z, null );\n\n\t\t\t} else if ( object.isMesh || object.isLine || object.isPoints ) {\n\n\t\t\t\tif ( object.isSkinnedMesh ) {\n\n\t\t\t\t\t// update skeleton only once in a frame\n\n\t\t\t\t\tif ( object.skeleton.frame !== info.render.frame ) {\n\n\t\t\t\t\t\tobject.skeleton.update();\n\t\t\t\t\t\tobject.skeleton.frame = info.render.frame;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst geometry = objects.update( object );\n\t\t\t\t\tconst material = object.material;\n\n\t\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\t\tconst groups = geometry.groups;\n\n\t\t\t\t\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\t\tcurrentRenderList.push( object, geometry, groupMaterial, groupOrder, _vector3.z, group );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tprojectObject( children[ i ], camera, groupOrder, sortObjects );\n\n\t\t}\n\n\t}\n\n\tfunction renderObjects( renderList, scene, camera ) {\n\n\t\tconst overrideMaterial = scene.isScene === true ? scene.overrideMaterial : null;\n\n\t\tfor ( let i = 0, l = renderList.length; i < l; i ++ ) {\n\n\t\t\tconst renderItem = renderList[ i ];\n\n\t\t\tconst object = renderItem.object;\n\t\t\tconst geometry = renderItem.geometry;\n\t\t\tconst material = overrideMaterial === null ? renderItem.material : overrideMaterial;\n\t\t\tconst group = renderItem.group;\n\n\t\t\tif ( camera.isArrayCamera ) {\n\n\t\t\t\t_currentArrayCamera = camera;\n\n\t\t\t\tconst cameras = camera.cameras;\n\n\t\t\t\tfor ( let j = 0, jl = cameras.length; j < jl; j ++ ) {\n\n\t\t\t\t\tconst camera2 = cameras[ j ];\n\n\t\t\t\t\tif ( object.layers.test( camera2.layers ) ) {\n\n\t\t\t\t\t\tstate.viewport( _currentViewport.copy( camera2.viewport ) );\n\n\t\t\t\t\t\tcurrentRenderState.setupLights( camera2 );\n\n\t\t\t\t\t\trenderObject( object, scene, camera2, geometry, material, group );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t_currentArrayCamera = null;\n\n\t\t\t\trenderObject( object, scene, camera, geometry, material, group );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction renderObject( object, scene, camera, geometry, material, group ) {\n\n\t\tobject.onBeforeRender( _this, scene, camera, geometry, material, group );\n\t\tcurrentRenderState = renderStates.get( scene, _currentArrayCamera || camera );\n\n\t\tobject.modelViewMatrix.multiplyMatrices( camera.matrixWorldInverse, object.matrixWorld );\n\t\tobject.normalMatrix.getNormalMatrix( object.modelViewMatrix );\n\n\t\tif ( object.isImmediateRenderObject ) {\n\n\t\t\tconst program = setProgram( camera, scene, material, object );\n\n\t\t\tstate.setMaterial( material );\n\n\t\t\tbindingStates.reset();\n\n\t\t\trenderObjectImmediate( object, program );\n\n\t\t} else {\n\n\t\t\t_this.renderBufferDirect( camera, scene, geometry, material, object, group );\n\n\t\t}\n\n\t\tobject.onAfterRender( _this, scene, camera, geometry, material, group );\n\t\tcurrentRenderState = renderStates.get( scene, _currentArrayCamera || camera );\n\n\t}\n\n\tfunction initMaterial( material, scene, object ) {\n\n\t\tif ( scene.isScene !== true ) scene = _emptyScene; // scene could be a Mesh, Line, Points, ...\n\n\t\tconst materialProperties = properties.get( material );\n\n\t\tconst lights = currentRenderState.state.lights;\n\t\tconst shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\tconst lightsStateVersion = lights.state.version;\n\n\t\tconst parameters = programCache.getParameters( material, lights.state, shadowsArray, scene, object );\n\t\tconst programCacheKey = programCache.getProgramCacheKey( parameters );\n\n\t\tlet program = materialProperties.program;\n\t\tlet programChange = true;\n\n\t\tif ( program === undefined ) {\n\n\t\t\t// new material\n\t\t\tmaterial.addEventListener( 'dispose', onMaterialDispose );\n\n\t\t} else if ( program.cacheKey !== programCacheKey ) {\n\n\t\t\t// changed glsl or parameters\n\t\t\treleaseMaterialProgramReference( material );\n\n\t\t} else if ( materialProperties.lightsStateVersion !== lightsStateVersion ) {\n\n\t\t\tprogramChange = false;\n\n\t\t} else if ( parameters.shaderID !== undefined ) {\n\n\t\t\t// same glsl and uniform list, envMap still needs the update here to avoid a frame-late effect\n\n\t\t\tconst environment = material.isMeshStandardMaterial ? scene.environment : null;\n\t\t\tmaterialProperties.envMap = cubemaps.get( material.envMap || environment );\n\n\t\t\treturn;\n\n\t\t} else {\n\n\t\t\t// only rebuild uniform list\n\t\t\tprogramChange = false;\n\n\t\t}\n\n\t\tif ( programChange ) {\n\n\t\t\tparameters.uniforms = programCache.getUniforms( material );\n\n\t\t\tmaterial.onBeforeCompile( parameters, _this );\n\n\t\t\tprogram = programCache.acquireProgram( parameters, programCacheKey );\n\n\t\t\tmaterialProperties.program = program;\n\t\t\tmaterialProperties.uniforms = parameters.uniforms;\n\t\t\tmaterialProperties.outputEncoding = parameters.outputEncoding;\n\n\t\t}\n\n\t\tconst uniforms = materialProperties.uniforms;\n\n\t\tif ( ! material.isShaderMaterial &&\n\t\t\t! material.isRawShaderMaterial ||\n\t\t\tmaterial.clipping === true ) {\n\n\t\t\tmaterialProperties.numClippingPlanes = clipping.numPlanes;\n\t\t\tmaterialProperties.numIntersection = clipping.numIntersection;\n\t\t\tuniforms.clippingPlanes = clipping.uniform;\n\n\t\t}\n\n\t\tmaterialProperties.environment = material.isMeshStandardMaterial ? scene.environment : null;\n\t\tmaterialProperties.fog = scene.fog;\n\t\tmaterialProperties.envMap = cubemaps.get( material.envMap || materialProperties.environment );\n\n\t\t// store the light setup it was created for\n\n\t\tmaterialProperties.needsLights = materialNeedsLights( material );\n\t\tmaterialProperties.lightsStateVersion = lightsStateVersion;\n\n\t\tif ( materialProperties.needsLights ) {\n\n\t\t\t// wire up the material to this renderer's lighting state\n\n\t\t\tuniforms.ambientLightColor.value = lights.state.ambient;\n\t\t\tuniforms.lightProbe.value = lights.state.probe;\n\t\t\tuniforms.directionalLights.value = lights.state.directional;\n\t\t\tuniforms.directionalLightShadows.value = lights.state.directionalShadow;\n\t\t\tuniforms.spotLights.value = lights.state.spot;\n\t\t\tuniforms.spotLightShadows.value = lights.state.spotShadow;\n\t\t\tuniforms.rectAreaLights.value = lights.state.rectArea;\n\t\t\tuniforms.ltc_1.value = lights.state.rectAreaLTC1;\n\t\t\tuniforms.ltc_2.value = lights.state.rectAreaLTC2;\n\t\t\tuniforms.pointLights.value = lights.state.point;\n\t\t\tuniforms.pointLightShadows.value = lights.state.pointShadow;\n\t\t\tuniforms.hemisphereLights.value = lights.state.hemi;\n\n\t\t\tuniforms.directionalShadowMap.value = lights.state.directionalShadowMap;\n\t\t\tuniforms.directionalShadowMatrix.value = lights.state.directionalShadowMatrix;\n\t\t\tuniforms.spotShadowMap.value = lights.state.spotShadowMap;\n\t\t\tuniforms.spotShadowMatrix.value = lights.state.spotShadowMatrix;\n\t\t\tuniforms.pointShadowMap.value = lights.state.pointShadowMap;\n\t\t\tuniforms.pointShadowMatrix.value = lights.state.pointShadowMatrix;\n\t\t\t// TODO (abelnation): add area lights shadow info to uniforms\n\n\t\t}\n\n\t\tconst progUniforms = materialProperties.program.getUniforms();\n\t\tconst uniformsList = WebGLUniforms.seqWithValue( progUniforms.seq, uniforms );\n\n\t\tmaterialProperties.uniformsList = uniformsList;\n\n\t}\n\n\tfunction setProgram( camera, scene, material, object ) {\n\n\t\tif ( scene.isScene !== true ) scene = _emptyScene; // scene could be a Mesh, Line, Points, ...\n\n\t\ttextures.resetTextureUnits();\n\n\t\tconst fog = scene.fog;\n\t\tconst environment = material.isMeshStandardMaterial ? scene.environment : null;\n\t\tconst encoding = ( _currentRenderTarget === null ) ? _this.outputEncoding : _currentRenderTarget.texture.encoding;\n\t\tconst envMap = cubemaps.get( material.envMap || environment );\n\n\t\tconst materialProperties = properties.get( material );\n\t\tconst lights = currentRenderState.state.lights;\n\n\t\tif ( _clippingEnabled === true ) {\n\n\t\t\tif ( _localClippingEnabled === true || camera !== _currentCamera ) {\n\n\t\t\t\tconst useCache =\n\t\t\t\t\tcamera === _currentCamera &&\n\t\t\t\t\tmaterial.id === _currentMaterialId;\n\n\t\t\t\t// we might want to call this function with some ClippingGroup\n\t\t\t\t// object instead of the material, once it becomes feasible\n\t\t\t\t// (#8465, #8379)\n\t\t\t\tclipping.setState( material, camera, useCache );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.version === materialProperties.__version ) {\n\n\t\t\tif ( material.fog && materialProperties.fog !== fog ) {\n\n\t\t\t\tinitMaterial( material, scene, object );\n\n\t\t\t} else if ( materialProperties.environment !== environment ) {\n\n\t\t\t\tinitMaterial( material, scene, object );\n\n\t\t\t} else if ( materialProperties.needsLights && ( materialProperties.lightsStateVersion !== lights.state.version ) ) {\n\n\t\t\t\tinitMaterial( material, scene, object );\n\n\t\t\t} else if ( materialProperties.numClippingPlanes !== undefined &&\n\t\t\t\t( materialProperties.numClippingPlanes !== clipping.numPlanes ||\n\t\t\t\tmaterialProperties.numIntersection !== clipping.numIntersection ) ) {\n\n\t\t\t\tinitMaterial( material, scene, object );\n\n\t\t\t} else if ( materialProperties.outputEncoding !== encoding ) {\n\n\t\t\t\tinitMaterial( material, scene, object );\n\n\t\t\t} else if ( materialProperties.envMap !== envMap ) {\n\n\t\t\t\tinitMaterial( material, scene, object );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tinitMaterial( material, scene, object );\n\t\t\tmaterialProperties.__version = material.version;\n\n\t\t}\n\n\t\tlet refreshProgram = false;\n\t\tlet refreshMaterial = false;\n\t\tlet refreshLights = false;\n\n\t\tconst program = materialProperties.program,\n\t\t\tp_uniforms = program.getUniforms(),\n\t\t\tm_uniforms = materialProperties.uniforms;\n\n\t\tif ( state.useProgram( program.program ) ) {\n\n\t\t\trefreshProgram = true;\n\t\t\trefreshMaterial = true;\n\t\t\trefreshLights = true;\n\n\t\t}\n\n\t\tif ( material.id !== _currentMaterialId ) {\n\n\t\t\t_currentMaterialId = material.id;\n\n\t\t\trefreshMaterial = true;\n\n\t\t}\n\n\t\tif ( refreshProgram || _currentCamera !== camera ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'projectionMatrix', camera.projectionMatrix );\n\n\t\t\tif ( capabilities.logarithmicDepthBuffer ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'logDepthBufFC',\n\t\t\t\t\t2.0 / ( Math.log( camera.far + 1.0 ) / Math.LN2 ) );\n\n\t\t\t}\n\n\t\t\tif ( _currentCamera !== camera ) {\n\n\t\t\t\t_currentCamera = camera;\n\n\t\t\t\t// lighting uniforms depend on the camera so enforce an update\n\t\t\t\t// now, in case this material supports lights - or later, when\n\t\t\t\t// the next material that does gets activated:\n\n\t\t\t\trefreshMaterial = true;\t\t// set to true on material change\n\t\t\t\trefreshLights = true;\t\t// remains set until update done\n\n\t\t\t}\n\n\t\t\t// load material specific uniforms\n\t\t\t// (shader material also gets them for the sake of genericity)\n\n\t\t\tif ( material.isShaderMaterial ||\n\t\t\t\tmaterial.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.envMap ) {\n\n\t\t\t\tconst uCamPos = p_uniforms.map.cameraPosition;\n\n\t\t\t\tif ( uCamPos !== undefined ) {\n\n\t\t\t\t\tuCamPos.setValue( _gl,\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( camera.matrixWorld ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshLambertMaterial ||\n\t\t\t\tmaterial.isMeshBasicMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.isShaderMaterial ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'isOrthographic', camera.isOrthographicCamera === true );\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshLambertMaterial ||\n\t\t\t\tmaterial.isMeshBasicMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.isShaderMaterial ||\n\t\t\t\tmaterial.isShadowMaterial ||\n\t\t\t\tmaterial.skinning ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'viewMatrix', camera.matrixWorldInverse );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// skinning uniforms must be set even if material didn't change\n\t\t// auto-setting of texture unit for bone texture must go before other textures\n\t\t// otherwise textures used for skinning can take over texture units reserved for other material textures\n\n\t\tif ( material.skinning ) {\n\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrix' );\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrixInverse' );\n\n\t\t\tconst skeleton = object.skeleton;\n\n\t\t\tif ( skeleton ) {\n\n\t\t\t\tconst bones = skeleton.bones;\n\n\t\t\t\tif ( capabilities.floatVertexTextures ) {\n\n\t\t\t\t\tif ( skeleton.boneTexture === null ) {\n\n\t\t\t\t\t\t// layout (1 matrix = 4 pixels)\n\t\t\t\t\t\t//      RGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)\n\t\t\t\t\t\t//  with  8x8  pixel texture max   16 bones * 4 pixels =  (8 * 8)\n\t\t\t\t\t\t//       16x16 pixel texture max   64 bones * 4 pixels = (16 * 16)\n\t\t\t\t\t\t//       32x32 pixel texture max  256 bones * 4 pixels = (32 * 32)\n\t\t\t\t\t\t//       64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)\n\n\n\t\t\t\t\t\tlet size = Math.sqrt( bones.length * 4 ); // 4 pixels needed for 1 matrix\n\t\t\t\t\t\tsize = MathUtils.ceilPowerOfTwo( size );\n\t\t\t\t\t\tsize = Math.max( size, 4 );\n\n\t\t\t\t\t\tconst boneMatrices = new Float32Array( size * size * 4 ); // 4 floats per RGBA pixel\n\t\t\t\t\t\tboneMatrices.set( skeleton.boneMatrices ); // copy current values\n\n\t\t\t\t\t\tconst boneTexture = new DataTexture( boneMatrices, size, size, RGBAFormat, FloatType );\n\n\t\t\t\t\t\tskeleton.boneMatrices = boneMatrices;\n\t\t\t\t\t\tskeleton.boneTexture = boneTexture;\n\t\t\t\t\t\tskeleton.boneTextureSize = size;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTexture', skeleton.boneTexture, textures );\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTextureSize', skeleton.boneTextureSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tp_uniforms.setOptional( _gl, skeleton, 'boneMatrices' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( refreshMaterial || materialProperties.receiveShadow !== object.receiveShadow ) {\n\n\t\t\tmaterialProperties.receiveShadow = object.receiveShadow;\n\t\t\tp_uniforms.setValue( _gl, 'receiveShadow', object.receiveShadow );\n\n\t\t}\n\n\t\tif ( refreshMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'toneMappingExposure', _this.toneMappingExposure );\n\n\t\t\tif ( materialProperties.needsLights ) {\n\n\t\t\t\t// the current material requires lighting info\n\n\t\t\t\t// note: all lighting uniforms are always set correctly\n\t\t\t\t// they simply reference the renderer's state for their\n\t\t\t\t// values\n\t\t\t\t//\n\t\t\t\t// use the current material's .needsUpdate flags to set\n\t\t\t\t// the GL state when required\n\n\t\t\t\tmarkUniformsLightsNeedsUpdate( m_uniforms, refreshLights );\n\n\t\t\t}\n\n\t\t\t// refresh uniforms common to several materials\n\n\t\t\tif ( fog && material.fog ) {\n\n\t\t\t\tmaterials.refreshFogUniforms( m_uniforms, fog );\n\n\t\t\t}\n\n\t\t\tmaterials.refreshMaterialUniforms( m_uniforms, material, _pixelRatio, _height );\n\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, textures );\n\n\t\t}\n\n\t\tif ( material.isShaderMaterial && material.uniformsNeedUpdate === true ) {\n\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, textures );\n\t\t\tmaterial.uniformsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( material.isSpriteMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'center', object.center );\n\n\t\t}\n\n\t\t// common matrices\n\n\t\tp_uniforms.setValue( _gl, 'modelViewMatrix', object.modelViewMatrix );\n\t\tp_uniforms.setValue( _gl, 'normalMatrix', object.normalMatrix );\n\t\tp_uniforms.setValue( _gl, 'modelMatrix', object.matrixWorld );\n\n\t\treturn program;\n\n\t}\n\n\t// If uniforms are marked as clean, they don't need to be loaded to the GPU.\n\n\tfunction markUniformsLightsNeedsUpdate( uniforms, value ) {\n\n\t\tuniforms.ambientLightColor.needsUpdate = value;\n\t\tuniforms.lightProbe.needsUpdate = value;\n\n\t\tuniforms.directionalLights.needsUpdate = value;\n\t\tuniforms.directionalLightShadows.needsUpdate = value;\n\t\tuniforms.pointLights.needsUpdate = value;\n\t\tuniforms.pointLightShadows.needsUpdate = value;\n\t\tuniforms.spotLights.needsUpdate = value;\n\t\tuniforms.spotLightShadows.needsUpdate = value;\n\t\tuniforms.rectAreaLights.needsUpdate = value;\n\t\tuniforms.hemisphereLights.needsUpdate = value;\n\n\t}\n\n\tfunction materialNeedsLights( material ) {\n\n\t\treturn material.isMeshLambertMaterial || material.isMeshToonMaterial || material.isMeshPhongMaterial ||\n\t\t\tmaterial.isMeshStandardMaterial || material.isShadowMaterial ||\n\t\t\t( material.isShaderMaterial && material.lights === true );\n\n\t}\n\n\t//\n\tthis.setFramebuffer = function ( value ) {\n\n\t\tif ( _framebuffer !== value && _currentRenderTarget === null ) _gl.bindFramebuffer( 36160, value );\n\n\t\t_framebuffer = value;\n\n\t};\n\n\tthis.getActiveCubeFace = function () {\n\n\t\treturn _currentActiveCubeFace;\n\n\t};\n\n\tthis.getActiveMipmapLevel = function () {\n\n\t\treturn _currentActiveMipmapLevel;\n\n\t};\n\n\tthis.getRenderList = function () {\n\n\t\treturn currentRenderList;\n\n\t};\n\n\tthis.setRenderList = function ( renderList ) {\n\n\t\tcurrentRenderList = renderList;\n\n\t};\n\n\tthis.getRenderState = function () {\n\n\t\treturn currentRenderState;\n\n\t};\n\n\tthis.setRenderState = function ( renderState ) {\n\n\t\tcurrentRenderState = renderState;\n\n\t};\n\n\tthis.getRenderTarget = function () {\n\n\t\treturn _currentRenderTarget;\n\n\t};\n\n\tthis.setRenderTarget = function ( renderTarget, activeCubeFace = 0, activeMipmapLevel = 0 ) {\n\n\t\t_currentRenderTarget = renderTarget;\n\t\t_currentActiveCubeFace = activeCubeFace;\n\t\t_currentActiveMipmapLevel = activeMipmapLevel;\n\n\t\tif ( renderTarget && properties.get( renderTarget ).__webglFramebuffer === undefined ) {\n\n\t\t\ttextures.setupRenderTarget( renderTarget );\n\n\t\t}\n\n\t\tlet framebuffer = _framebuffer;\n\t\tlet isCube = false;\n\n\t\tif ( renderTarget ) {\n\n\t\t\tconst __webglFramebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\t\tif ( renderTarget.isWebGLCubeRenderTarget ) {\n\n\t\t\t\tframebuffer = __webglFramebuffer[ activeCubeFace ];\n\t\t\t\tisCube = true;\n\n\t\t\t} else if ( renderTarget.isWebGLMultisampleRenderTarget ) {\n\n\t\t\t\tframebuffer = properties.get( renderTarget ).__webglMultisampledFramebuffer;\n\n\t\t\t} else {\n\n\t\t\t\tframebuffer = __webglFramebuffer;\n\n\t\t\t}\n\n\t\t\t_currentViewport.copy( renderTarget.viewport );\n\t\t\t_currentScissor.copy( renderTarget.scissor );\n\t\t\t_currentScissorTest = renderTarget.scissorTest;\n\n\t\t} else {\n\n\t\t\t_currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor();\n\t\t\t_currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor();\n\t\t\t_currentScissorTest = _scissorTest;\n\n\t\t}\n\n\t\tif ( _currentFramebuffer !== framebuffer ) {\n\n\t\t\t_gl.bindFramebuffer( 36160, framebuffer );\n\t\t\t_currentFramebuffer = framebuffer;\n\n\t\t}\n\n\t\tstate.viewport( _currentViewport );\n\t\tstate.scissor( _currentScissor );\n\t\tstate.setScissorTest( _currentScissorTest );\n\n\t\tif ( isCube ) {\n\n\t\t\tconst textureProperties = properties.get( renderTarget.texture );\n\t\t\t_gl.framebufferTexture2D( 36160, 36064, 34069 + activeCubeFace, textureProperties.__webglTexture, activeMipmapLevel );\n\n\t\t}\n\n\t};\n\n\tthis.readRenderTargetPixels = function ( renderTarget, x, y, width, height, buffer, activeCubeFaceIndex ) {\n\n\t\tif ( ! ( renderTarget && renderTarget.isWebGLRenderTarget ) ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tlet framebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\tif ( renderTarget.isWebGLCubeRenderTarget && activeCubeFaceIndex !== undefined ) {\n\n\t\t\tframebuffer = framebuffer[ activeCubeFaceIndex ];\n\n\t\t}\n\n\t\tif ( framebuffer ) {\n\n\t\t\tlet restore = false;\n\n\t\t\tif ( framebuffer !== _currentFramebuffer ) {\n\n\t\t\t\t_gl.bindFramebuffer( 36160, framebuffer );\n\n\t\t\t\trestore = true;\n\n\t\t\t}\n\n\t\t\ttry {\n\n\t\t\t\tconst texture = renderTarget.texture;\n\t\t\t\tconst textureFormat = texture.format;\n\t\t\t\tconst textureType = texture.type;\n\n\t\t\t\tif ( textureFormat !== RGBAFormat && utils.convert( textureFormat ) !== _gl.getParameter( 35739 ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( textureType !== UnsignedByteType && utils.convert( textureType ) !== _gl.getParameter( 35738 ) && // IE11, Edge and Chrome Mac < 52 (#9513)\n\t\t\t\t\t! ( textureType === FloatType && ( capabilities.isWebGL2 || extensions.get( 'OES_texture_float' ) || extensions.get( 'WEBGL_color_buffer_float' ) ) ) && // Chrome Mac >= 52 and Firefox\n\t\t\t\t\t! ( textureType === HalfFloatType && ( capabilities.isWebGL2 ? extensions.get( 'EXT_color_buffer_float' ) : extensions.get( 'EXT_color_buffer_half_float' ) ) ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( _gl.checkFramebufferStatus( 36160 ) === 36053 ) {\n\n\t\t\t\t\t// the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)\n\n\t\t\t\t\tif ( ( x >= 0 && x <= ( renderTarget.width - width ) ) && ( y >= 0 && y <= ( renderTarget.height - height ) ) ) {\n\n\t\t\t\t\t\t_gl.readPixels( x, y, width, height, utils.convert( textureFormat ), utils.convert( textureType ), buffer );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.' );\n\n\t\t\t\t}\n\n\t\t\t} finally {\n\n\t\t\t\tif ( restore ) {\n\n\t\t\t\t\t_gl.bindFramebuffer( 36160, _currentFramebuffer );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.copyFramebufferToTexture = function ( position, texture, level = 0 ) {\n\n\t\tconst levelScale = Math.pow( 2, - level );\n\t\tconst width = Math.floor( texture.image.width * levelScale );\n\t\tconst height = Math.floor( texture.image.height * levelScale );\n\t\tconst glFormat = utils.convert( texture.format );\n\n\t\ttextures.setTexture2D( texture, 0 );\n\n\t\t_gl.copyTexImage2D( 3553, level, glFormat, position.x, position.y, width, height, 0 );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.copyTextureToTexture = function ( position, srcTexture, dstTexture, level = 0 ) {\n\n\t\tconst width = srcTexture.image.width;\n\t\tconst height = srcTexture.image.height;\n\t\tconst glFormat = utils.convert( dstTexture.format );\n\t\tconst glType = utils.convert( dstTexture.type );\n\n\t\ttextures.setTexture2D( dstTexture, 0 );\n\n\t\t// As another texture upload may have changed pixelStorei\n\t\t// parameters, make sure they are correct for the dstTexture\n\t\t_gl.pixelStorei( 37440, dstTexture.flipY );\n\t\t_gl.pixelStorei( 37441, dstTexture.premultiplyAlpha );\n\t\t_gl.pixelStorei( 3317, dstTexture.unpackAlignment );\n\n\t\tif ( srcTexture.isDataTexture ) {\n\n\t\t\t_gl.texSubImage2D( 3553, level, position.x, position.y, width, height, glFormat, glType, srcTexture.image.data );\n\n\t\t} else {\n\n\t\t\tif ( srcTexture.isCompressedTexture ) {\n\n\t\t\t\t_gl.compressedTexSubImage2D( 3553, level, position.x, position.y, srcTexture.mipmaps[ 0 ].width, srcTexture.mipmaps[ 0 ].height, glFormat, srcTexture.mipmaps[ 0 ].data );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.texSubImage2D( 3553, level, position.x, position.y, glFormat, glType, srcTexture.image );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Generate mipmaps only when copying level 0\n\t\tif ( level === 0 && dstTexture.generateMipmaps ) _gl.generateMipmap( 3553 );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.initTexture = function ( texture ) {\n\n\t\ttextures.setTexture2D( texture, 0 );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'observe', { detail: this } ) ); // eslint-disable-line no-undef\n\n\t}\n\n}\n\nfunction WebGL1Renderer( parameters ) {\n\n\tWebGLRenderer.call( this, parameters );\n\n}\n\nWebGL1Renderer.prototype = Object.assign( Object.create( WebGLRenderer.prototype ), {\n\n\tconstructor: WebGL1Renderer,\n\n\tisWebGL1Renderer: true\n\n} );\n\nclass FogExp2 {\n\n\tconstructor( color, density ) {\n\n\t\tObject.defineProperty( this, 'isFogExp2', { value: true } );\n\n\t\tthis.name = '';\n\n\t\tthis.color = new Color( color );\n\t\tthis.density = ( density !== undefined ) ? density : 0.00025;\n\n\t}\n\n\tclone() {\n\n\t\treturn new FogExp2( this.color, this.density );\n\n\t}\n\n\ttoJSON( /* meta */ ) {\n\n\t\treturn {\n\t\t\ttype: 'FogExp2',\n\t\t\tcolor: this.color.getHex(),\n\t\t\tdensity: this.density\n\t\t};\n\n\t}\n\n}\n\nclass Fog {\n\n\tconstructor( color, near, far ) {\n\n\t\tObject.defineProperty( this, 'isFog', { value: true } );\n\n\t\tthis.name = '';\n\n\t\tthis.color = new Color( color );\n\n\t\tthis.near = ( near !== undefined ) ? near : 1;\n\t\tthis.far = ( far !== undefined ) ? far : 1000;\n\n\t}\n\n\tclone() {\n\n\t\treturn new Fog( this.color, this.near, this.far );\n\n\t}\n\n\ttoJSON( /* meta */ ) {\n\n\t\treturn {\n\t\t\ttype: 'Fog',\n\t\t\tcolor: this.color.getHex(),\n\t\t\tnear: this.near,\n\t\t\tfar: this.far\n\t\t};\n\n\t}\n\n}\n\nclass Scene extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tObject.defineProperty( this, 'isScene', { value: true } );\n\n\t\tthis.type = 'Scene';\n\n\t\tthis.background = null;\n\t\tthis.environment = null;\n\t\tthis.fog = null;\n\n\t\tthis.overrideMaterial = null;\n\n\t\tthis.autoUpdate = true; // checked by the renderer\n\n\t\tif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t\t\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'observe', { detail: this } ) ); // eslint-disable-line no-undef\n\n\t\t}\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tif ( source.background !== null ) this.background = source.background.clone();\n\t\tif ( source.environment !== null ) this.environment = source.environment.clone();\n\t\tif ( source.fog !== null ) this.fog = source.fog.clone();\n\n\t\tif ( source.overrideMaterial !== null ) this.overrideMaterial = source.overrideMaterial.clone();\n\n\t\tthis.autoUpdate = source.autoUpdate;\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tif ( this.background !== null ) data.object.background = this.background.toJSON( meta );\n\t\tif ( this.environment !== null ) data.object.environment = this.environment.toJSON( meta );\n\t\tif ( this.fog !== null ) data.object.fog = this.fog.toJSON();\n\n\t\treturn data;\n\n\t}\n\n}\n\nfunction InterleavedBuffer( array, stride ) {\n\n\tthis.array = array;\n\tthis.stride = stride;\n\tthis.count = array !== undefined ? array.length / stride : 0;\n\n\tthis.usage = StaticDrawUsage;\n\tthis.updateRange = { offset: 0, count: - 1 };\n\n\tthis.version = 0;\n\n\tthis.uuid = MathUtils.generateUUID();\n\n}\n\nObject.defineProperty( InterleavedBuffer.prototype, 'needsUpdate', {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\nObject.assign( InterleavedBuffer.prototype, {\n\n\tisInterleavedBuffer: true,\n\n\tonUploadCallback: function () {},\n\n\tsetUsage: function ( value ) {\n\n\t\tthis.usage = value;\n\n\t\treturn this;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.count = source.count;\n\t\tthis.stride = source.stride;\n\t\tthis.usage = source.usage;\n\n\t\treturn this;\n\n\t},\n\n\tcopyAt: function ( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.stride;\n\t\tindex2 *= attribute.stride;\n\n\t\tfor ( let i = 0, l = this.stride; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tset: function ( value, offset = 0 ) {\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function ( data ) {\n\n\t\tif ( data.arrayBuffers === undefined ) {\n\n\t\t\tdata.arrayBuffers = {};\n\n\t\t}\n\n\t\tif ( this.array.buffer._uuid === undefined ) {\n\n\t\t\tthis.array.buffer._uuid = MathUtils.generateUUID();\n\n\t\t}\n\n\t\tif ( data.arrayBuffers[ this.array.buffer._uuid ] === undefined ) {\n\n\t\t\tdata.arrayBuffers[ this.array.buffer._uuid ] = this.array.slice( 0 ).buffer;\n\n\t\t}\n\n\t\tconst array = new this.array.constructor( data.arrayBuffers[ this.array.buffer._uuid ] );\n\n\t\tconst ib = new InterleavedBuffer( array, this.stride );\n\t\tib.setUsage( this.usage );\n\n\t\treturn ib;\n\n\t},\n\n\tonUpload: function ( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( data ) {\n\n\t\tif ( data.arrayBuffers === undefined ) {\n\n\t\t\tdata.arrayBuffers = {};\n\n\t\t}\n\n\t\t// generate UUID for array buffer if necessary\n\n\t\tif ( this.array.buffer._uuid === undefined ) {\n\n\t\t\tthis.array.buffer._uuid = MathUtils.generateUUID();\n\n\t\t}\n\n\t\tif ( data.arrayBuffers[ this.array.buffer._uuid ] === undefined ) {\n\n\t\t\tdata.arrayBuffers[ this.array.buffer._uuid ] = Array.prototype.slice.call( new Uint32Array( this.array.buffer ) );\n\n\t\t}\n\n\t\t//\n\n\t\treturn {\n\t\t\tuuid: this.uuid,\n\t\t\tbuffer: this.array.buffer._uuid,\n\t\t\ttype: this.array.constructor.name,\n\t\t\tstride: this.stride\n\t\t};\n\n\t}\n\n} );\n\nconst _vector$6 = new Vector3();\n\nfunction InterleavedBufferAttribute( interleavedBuffer, itemSize, offset, normalized ) {\n\n\tthis.name = '';\n\n\tthis.data = interleavedBuffer;\n\tthis.itemSize = itemSize;\n\tthis.offset = offset;\n\n\tthis.normalized = normalized === true;\n\n}\n\nObject.defineProperties( InterleavedBufferAttribute.prototype, {\n\n\tcount: {\n\n\t\tget: function () {\n\n\t\t\treturn this.data.count;\n\n\t\t}\n\n\t},\n\n\tarray: {\n\n\t\tget: function () {\n\n\t\t\treturn this.data.array;\n\n\t\t}\n\n\t},\n\n\tneedsUpdate: {\n\n\t\tset: function ( value ) {\n\n\t\t\tthis.data.needsUpdate = value;\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( InterleavedBufferAttribute.prototype, {\n\n\tisInterleavedBufferAttribute: true,\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tfor ( let i = 0, l = this.data.count; i < l; i ++ ) {\n\n\t\t\t_vector$6.x = this.getX( i );\n\t\t\t_vector$6.y = this.getY( i );\n\t\t\t_vector$6.z = this.getZ( i );\n\n\t\t\t_vector$6.applyMatrix4( m );\n\n\t\t\tthis.setXYZ( i, _vector$6.x, _vector$6.y, _vector$6.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( index, x ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset ] = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( index, y ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( index, z ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetW: function ( index, w ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tgetX: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset ];\n\n\t},\n\n\tgetY: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 1 ];\n\n\t},\n\n\tgetZ: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 2 ];\n\n\t},\n\n\tgetW: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 3 ];\n\n\t},\n\n\tsetXY: function ( index, x, y ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZ: function ( index, x, y, z ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZW: function ( index, x, y, z, w ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\t\tthis.data.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function ( data ) {\n\n\t\tif ( data === undefined ) {\n\n\t\t\tconsole.log( 'THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.' );\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0; i < this.count; i ++ ) {\n\n\t\t\t\tconst index = i * this.data.stride + this.offset;\n\n\t\t\t\tfor ( let j = 0; j < this.itemSize; j ++ ) {\n\n\t\t\t\t\tarray.push( this.data.array[ index + j ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new BufferAttribute( new this.array.constructor( array ), this.itemSize, this.normalized );\n\n\t\t} else {\n\n\t\t\tif ( data.interleavedBuffers === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers = {};\n\n\t\t\t}\n\n\t\t\tif ( data.interleavedBuffers[ this.data.uuid ] === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers[ this.data.uuid ] = this.data.clone( data );\n\n\t\t\t}\n\n\t\t\treturn new InterleavedBufferAttribute( data.interleavedBuffers[ this.data.uuid ], this.itemSize, this.offset, this.normalized );\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( data ) {\n\n\t\tif ( data === undefined ) {\n\n\t\t\tconsole.log( 'THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.' );\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0; i < this.count; i ++ ) {\n\n\t\t\t\tconst index = i * this.data.stride + this.offset;\n\n\t\t\t\tfor ( let j = 0; j < this.itemSize; j ++ ) {\n\n\t\t\t\t\tarray.push( this.data.array[ index + j ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// deinterleave data and save it as an ordinary buffer attribute for now\n\n\t\t\treturn {\n\t\t\t\titemSize: this.itemSize,\n\t\t\t\ttype: this.array.constructor.name,\n\t\t\t\tarray: array,\n\t\t\t\tnormalized: this.normalized\n\t\t\t};\n\n\t\t} else {\n\n\t\t\t// save as true interlaved attribtue\n\n\t\t\tif ( data.interleavedBuffers === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers = {};\n\n\t\t\t}\n\n\t\t\tif ( data.interleavedBuffers[ this.data.uuid ] === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers[ this.data.uuid ] = this.data.toJSON( data );\n\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tisInterleavedBufferAttribute: true,\n\t\t\t\titemSize: this.itemSize,\n\t\t\t\tdata: this.data.uuid,\n\t\t\t\toffset: this.offset,\n\t\t\t\tnormalized: this.normalized\n\t\t\t};\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * parameters = {\n *  color: <hex>,\n *  map: new THREE.Texture( <Image> ),\n *  alphaMap: new THREE.Texture( <Image> ),\n *  rotation: <float>,\n *  sizeAttenuation: <bool>\n * }\n */\n\nfunction SpriteMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'SpriteMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\n\tthis.map = null;\n\n\tthis.alphaMap = null;\n\n\tthis.rotation = 0;\n\n\tthis.sizeAttenuation = true;\n\n\tthis.transparent = true;\n\n\tthis.setValues( parameters );\n\n}\n\nSpriteMaterial.prototype = Object.create( Material.prototype );\nSpriteMaterial.prototype.constructor = SpriteMaterial;\nSpriteMaterial.prototype.isSpriteMaterial = true;\n\nSpriteMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.rotation = source.rotation;\n\n\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\treturn this;\n\n};\n\nlet _geometry;\n\nconst _intersectPoint = new Vector3();\nconst _worldScale = new Vector3();\nconst _mvPosition = new Vector3();\n\nconst _alignedPosition = new Vector2();\nconst _rotatedPosition = new Vector2();\nconst _viewWorldMatrix = new Matrix4();\n\nconst _vA$1 = new Vector3();\nconst _vB$1 = new Vector3();\nconst _vC$1 = new Vector3();\n\nconst _uvA$1 = new Vector2();\nconst _uvB$1 = new Vector2();\nconst _uvC$1 = new Vector2();\n\nfunction Sprite( material ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Sprite';\n\n\tif ( _geometry === undefined ) {\n\n\t\t_geometry = new BufferGeometry();\n\n\t\tconst float32Array = new Float32Array( [\n\t\t\t- 0.5, - 0.5, 0, 0, 0,\n\t\t\t0.5, - 0.5, 0, 1, 0,\n\t\t\t0.5, 0.5, 0, 1, 1,\n\t\t\t- 0.5, 0.5, 0, 0, 1\n\t\t] );\n\n\t\tconst interleavedBuffer = new InterleavedBuffer( float32Array, 5 );\n\n\t\t_geometry.setIndex( [ 0, 1, 2,\t0, 2, 3 ] );\n\t\t_geometry.setAttribute( 'position', new InterleavedBufferAttribute( interleavedBuffer, 3, 0, false ) );\n\t\t_geometry.setAttribute( 'uv', new InterleavedBufferAttribute( interleavedBuffer, 2, 3, false ) );\n\n\t}\n\n\tthis.geometry = _geometry;\n\tthis.material = ( material !== undefined ) ? material : new SpriteMaterial();\n\n\tthis.center = new Vector2( 0.5, 0.5 );\n\n}\n\nSprite.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Sprite,\n\n\tisSprite: true,\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\tif ( raycaster.camera === null ) {\n\n\t\t\tconsole.error( 'THREE.Sprite: \"Raycaster.camera\" needs to be set in order to raycast against sprites.' );\n\n\t\t}\n\n\t\t_worldScale.setFromMatrixScale( this.matrixWorld );\n\n\t\t_viewWorldMatrix.copy( raycaster.camera.matrixWorld );\n\t\tthis.modelViewMatrix.multiplyMatrices( raycaster.camera.matrixWorldInverse, this.matrixWorld );\n\n\t\t_mvPosition.setFromMatrixPosition( this.modelViewMatrix );\n\n\t\tif ( raycaster.camera.isPerspectiveCamera && this.material.sizeAttenuation === false ) {\n\n\t\t\t_worldScale.multiplyScalar( - _mvPosition.z );\n\n\t\t}\n\n\t\tconst rotation = this.material.rotation;\n\t\tlet sin, cos;\n\n\t\tif ( rotation !== 0 ) {\n\n\t\t\tcos = Math.cos( rotation );\n\t\t\tsin = Math.sin( rotation );\n\n\t\t}\n\n\t\tconst center = this.center;\n\n\t\ttransformVertex( _vA$1.set( - 0.5, - 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\ttransformVertex( _vB$1.set( 0.5, - 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\ttransformVertex( _vC$1.set( 0.5, 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\n\t\t_uvA$1.set( 0, 0 );\n\t\t_uvB$1.set( 1, 0 );\n\t\t_uvC$1.set( 1, 1 );\n\n\t\t// check first triangle\n\t\tlet intersect = raycaster.ray.intersectTriangle( _vA$1, _vB$1, _vC$1, false, _intersectPoint );\n\n\t\tif ( intersect === null ) {\n\n\t\t\t// check second triangle\n\t\t\ttransformVertex( _vB$1.set( - 0.5, 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\t\t_uvB$1.set( 0, 1 );\n\n\t\t\tintersect = raycaster.ray.intersectTriangle( _vA$1, _vC$1, _vB$1, false, _intersectPoint );\n\t\t\tif ( intersect === null ) {\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst distance = raycaster.ray.origin.distanceTo( _intersectPoint );\n\n\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\tintersects.push( {\n\n\t\t\tdistance: distance,\n\t\t\tpoint: _intersectPoint.clone(),\n\t\t\tuv: Triangle.getUV( _intersectPoint, _vA$1, _vB$1, _vC$1, _uvA$1, _uvB$1, _uvC$1, new Vector2() ),\n\t\t\tface: null,\n\t\t\tobject: this\n\n\t\t} );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tif ( source.center !== undefined ) this.center.copy( source.center );\n\n\t\tthis.material = source.material;\n\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction transformVertex( vertexPosition, mvPosition, center, scale, sin, cos ) {\n\n\t// compute position in camera space\n\t_alignedPosition.subVectors( vertexPosition, center ).addScalar( 0.5 ).multiply( scale );\n\n\t// to check if rotation is not zero\n\tif ( sin !== undefined ) {\n\n\t\t_rotatedPosition.x = ( cos * _alignedPosition.x ) - ( sin * _alignedPosition.y );\n\t\t_rotatedPosition.y = ( sin * _alignedPosition.x ) + ( cos * _alignedPosition.y );\n\n\t} else {\n\n\t\t_rotatedPosition.copy( _alignedPosition );\n\n\t}\n\n\n\tvertexPosition.copy( mvPosition );\n\tvertexPosition.x += _rotatedPosition.x;\n\tvertexPosition.y += _rotatedPosition.y;\n\n\t// transform to world space\n\tvertexPosition.applyMatrix4( _viewWorldMatrix );\n\n}\n\nconst _v1$4 = new Vector3();\nconst _v2$2 = new Vector3();\n\nfunction LOD() {\n\n\tObject3D.call( this );\n\n\tthis._currentLevel = 0;\n\n\tthis.type = 'LOD';\n\n\tObject.defineProperties( this, {\n\t\tlevels: {\n\t\t\tenumerable: true,\n\t\t\tvalue: []\n\t\t}\n\t} );\n\n\tthis.autoUpdate = true;\n\n}\n\nLOD.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: LOD,\n\n\tisLOD: true,\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source, false );\n\n\t\tconst levels = source.levels;\n\n\t\tfor ( let i = 0, l = levels.length; i < l; i ++ ) {\n\n\t\t\tconst level = levels[ i ];\n\n\t\t\tthis.addLevel( level.object.clone(), level.distance );\n\n\t\t}\n\n\t\tthis.autoUpdate = source.autoUpdate;\n\n\t\treturn this;\n\n\t},\n\n\taddLevel: function ( object, distance = 0 ) {\n\n\t\tdistance = Math.abs( distance );\n\n\t\tconst levels = this.levels;\n\n\t\tlet l;\n\n\t\tfor ( l = 0; l < levels.length; l ++ ) {\n\n\t\t\tif ( distance < levels[ l ].distance ) {\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tlevels.splice( l, 0, { distance: distance, object: object } );\n\n\t\tthis.add( object );\n\n\t\treturn this;\n\n\t},\n\n\tgetCurrentLevel: function () {\n\n\t\treturn this._currentLevel;\n\n\t},\n\n\tgetObjectForDistance: function ( distance ) {\n\n\t\tconst levels = this.levels;\n\n\t\tif ( levels.length > 0 ) {\n\n\t\t\tlet i, l;\n\n\t\t\tfor ( i = 1, l = levels.length; i < l; i ++ ) {\n\n\t\t\t\tif ( distance < levels[ i ].distance ) {\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn levels[ i - 1 ].object;\n\n\t\t}\n\n\t\treturn null;\n\n\t},\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\tconst levels = this.levels;\n\n\t\tif ( levels.length > 0 ) {\n\n\t\t\t_v1$4.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tconst distance = raycaster.ray.origin.distanceTo( _v1$4 );\n\n\t\t\tthis.getObjectForDistance( distance ).raycast( raycaster, intersects );\n\n\t\t}\n\n\t},\n\n\tupdate: function ( camera ) {\n\n\t\tconst levels = this.levels;\n\n\t\tif ( levels.length > 1 ) {\n\n\t\t\t_v1$4.setFromMatrixPosition( camera.matrixWorld );\n\t\t\t_v2$2.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tconst distance = _v1$4.distanceTo( _v2$2 ) / camera.zoom;\n\n\t\t\tlevels[ 0 ].object.visible = true;\n\n\t\t\tlet i, l;\n\n\t\t\tfor ( i = 1, l = levels.length; i < l; i ++ ) {\n\n\t\t\t\tif ( distance >= levels[ i ].distance ) {\n\n\t\t\t\t\tlevels[ i - 1 ].object.visible = false;\n\t\t\t\t\tlevels[ i ].object.visible = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._currentLevel = i - 1;\n\n\t\t\tfor ( ; i < l; i ++ ) {\n\n\t\t\t\tlevels[ i ].object.visible = false;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tconst data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tif ( this.autoUpdate === false ) data.object.autoUpdate = false;\n\n\t\tdata.object.levels = [];\n\n\t\tconst levels = this.levels;\n\n\t\tfor ( let i = 0, l = levels.length; i < l; i ++ ) {\n\n\t\t\tconst level = levels[ i ];\n\n\t\t\tdata.object.levels.push( {\n\t\t\t\tobject: level.object.uuid,\n\t\t\t\tdistance: level.distance\n\t\t\t} );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n} );\n\nfunction SkinnedMesh( geometry, material ) {\n\n\tif ( geometry && geometry.isGeometry ) {\n\n\t\tconsole.error( 'THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t}\n\n\tMesh.call( this, geometry, material );\n\n\tthis.type = 'SkinnedMesh';\n\n\tthis.bindMode = 'attached';\n\tthis.bindMatrix = new Matrix4();\n\tthis.bindMatrixInverse = new Matrix4();\n\n}\n\nSkinnedMesh.prototype = Object.assign( Object.create( Mesh.prototype ), {\n\n\tconstructor: SkinnedMesh,\n\n\tisSkinnedMesh: true,\n\n\tcopy: function ( source ) {\n\n\t\tMesh.prototype.copy.call( this, source );\n\n\t\tthis.bindMode = source.bindMode;\n\t\tthis.bindMatrix.copy( source.bindMatrix );\n\t\tthis.bindMatrixInverse.copy( source.bindMatrixInverse );\n\n\t\tthis.skeleton = source.skeleton;\n\n\t\treturn this;\n\n\t},\n\n\tbind: function ( skeleton, bindMatrix ) {\n\n\t\tthis.skeleton = skeleton;\n\n\t\tif ( bindMatrix === undefined ) {\n\n\t\t\tthis.updateMatrixWorld( true );\n\n\t\t\tthis.skeleton.calculateInverses();\n\n\t\t\tbindMatrix = this.matrixWorld;\n\n\t\t}\n\n\t\tthis.bindMatrix.copy( bindMatrix );\n\t\tthis.bindMatrixInverse.copy( bindMatrix ).invert();\n\n\t},\n\n\tpose: function () {\n\n\t\tthis.skeleton.pose();\n\n\t},\n\n\tnormalizeSkinWeights: function () {\n\n\t\tconst vector = new Vector4();\n\n\t\tconst skinWeight = this.geometry.attributes.skinWeight;\n\n\t\tfor ( let i = 0, l = skinWeight.count; i < l; i ++ ) {\n\n\t\t\tvector.x = skinWeight.getX( i );\n\t\t\tvector.y = skinWeight.getY( i );\n\t\t\tvector.z = skinWeight.getZ( i );\n\t\t\tvector.w = skinWeight.getW( i );\n\n\t\t\tconst scale = 1.0 / vector.manhattanLength();\n\n\t\t\tif ( scale !== Infinity ) {\n\n\t\t\t\tvector.multiplyScalar( scale );\n\n\t\t\t} else {\n\n\t\t\t\tvector.set( 1, 0, 0, 0 ); // do something reasonable\n\n\t\t\t}\n\n\t\t\tskinWeight.setXYZW( i, vector.x, vector.y, vector.z, vector.w );\n\n\t\t}\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tMesh.prototype.updateMatrixWorld.call( this, force );\n\n\t\tif ( this.bindMode === 'attached' ) {\n\n\t\t\tthis.bindMatrixInverse.copy( this.matrixWorld ).invert();\n\n\t\t} else if ( this.bindMode === 'detached' ) {\n\n\t\t\tthis.bindMatrixInverse.copy( this.bindMatrix ).invert();\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.SkinnedMesh: Unrecognized bindMode: ' + this.bindMode );\n\n\t\t}\n\n\t},\n\n\tboneTransform: ( function () {\n\n\t\tconst basePosition = new Vector3();\n\n\t\tconst skinIndex = new Vector4();\n\t\tconst skinWeight = new Vector4();\n\n\t\tconst vector = new Vector3();\n\t\tconst matrix = new Matrix4();\n\n\t\treturn function ( index, target ) {\n\n\t\t\tconst skeleton = this.skeleton;\n\t\t\tconst geometry = this.geometry;\n\n\t\t\tskinIndex.fromBufferAttribute( geometry.attributes.skinIndex, index );\n\t\t\tskinWeight.fromBufferAttribute( geometry.attributes.skinWeight, index );\n\n\t\t\tbasePosition.fromBufferAttribute( geometry.attributes.position, index ).applyMatrix4( this.bindMatrix );\n\n\t\t\ttarget.set( 0, 0, 0 );\n\n\t\t\tfor ( let i = 0; i < 4; i ++ ) {\n\n\t\t\t\tconst weight = skinWeight.getComponent( i );\n\n\t\t\t\tif ( weight !== 0 ) {\n\n\t\t\t\t\tconst boneIndex = skinIndex.getComponent( i );\n\n\t\t\t\t\tmatrix.multiplyMatrices( skeleton.bones[ boneIndex ].matrixWorld, skeleton.boneInverses[ boneIndex ] );\n\n\t\t\t\t\ttarget.addScaledVector( vector.copy( basePosition ).applyMatrix4( matrix ), weight );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn target.applyMatrix4( this.bindMatrixInverse );\n\n\t\t};\n\n\t}() )\n\n} );\n\nfunction Bone() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Bone';\n\n}\n\nBone.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Bone,\n\n\tisBone: true\n\n} );\n\nconst _offsetMatrix = new Matrix4();\nconst _identityMatrix = new Matrix4();\n\nfunction Skeleton( bones = [], boneInverses = [] ) {\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\tthis.bones = bones.slice( 0 );\n\tthis.boneInverses = boneInverses;\n\tthis.boneMatrices = null;\n\n\tthis.boneTexture = null;\n\tthis.boneTextureSize = 0;\n\n\tthis.frame = - 1;\n\n\tthis.init();\n\n}\n\nObject.assign( Skeleton.prototype, {\n\n\tinit: function () {\n\n\t\tconst bones = this.bones;\n\t\tconst boneInverses = this.boneInverses;\n\n\t\tthis.boneMatrices = new Float32Array( bones.length * 16 );\n\n\t\t// calculate inverse bone matrices if necessary\n\n\t\tif ( boneInverses.length === 0 ) {\n\n\t\t\tthis.calculateInverses();\n\n\t\t} else {\n\n\t\t\t// handle special case\n\n\t\t\tif ( bones.length !== boneInverses.length ) {\n\n\t\t\t\tconsole.warn( 'THREE.Skeleton: Number of inverse bone matrices does not match amount of bones.' );\n\n\t\t\t\tthis.boneInverses = [];\n\n\t\t\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\t\t\tthis.boneInverses.push( new Matrix4() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tcalculateInverses: function () {\n\n\t\tthis.boneInverses.length = 0;\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst inverse = new Matrix4();\n\n\t\t\tif ( this.bones[ i ] ) {\n\n\t\t\t\tinverse.copy( this.bones[ i ].matrixWorld ).invert();\n\n\t\t\t}\n\n\t\t\tthis.boneInverses.push( inverse );\n\n\t\t}\n\n\t},\n\n\tpose: function () {\n\n\t\t// recover the bind-time world matrices\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst bone = this.bones[ i ];\n\n\t\t\tif ( bone ) {\n\n\t\t\t\tbone.matrixWorld.copy( this.boneInverses[ i ] ).invert();\n\n\t\t\t}\n\n\t\t}\n\n\t\t// compute the local matrices, positions, rotations and scales\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst bone = this.bones[ i ];\n\n\t\t\tif ( bone ) {\n\n\t\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\t\tbone.matrix.copy( bone.parent.matrixWorld ).invert();\n\t\t\t\t\tbone.matrix.multiply( bone.matrixWorld );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbone.matrix.copy( bone.matrixWorld );\n\n\t\t\t\t}\n\n\t\t\t\tbone.matrix.decompose( bone.position, bone.quaternion, bone.scale );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tupdate: function () {\n\n\t\tconst bones = this.bones;\n\t\tconst boneInverses = this.boneInverses;\n\t\tconst boneMatrices = this.boneMatrices;\n\t\tconst boneTexture = this.boneTexture;\n\n\t\t// flatten bone matrices to array\n\n\t\tfor ( let i = 0, il = bones.length; i < il; i ++ ) {\n\n\t\t\t// compute the offset between the current and the original transform\n\n\t\t\tconst matrix = bones[ i ] ? bones[ i ].matrixWorld : _identityMatrix;\n\n\t\t\t_offsetMatrix.multiplyMatrices( matrix, boneInverses[ i ] );\n\t\t\t_offsetMatrix.toArray( boneMatrices, i * 16 );\n\n\t\t}\n\n\t\tif ( boneTexture !== null ) {\n\n\t\t\tboneTexture.needsUpdate = true;\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new Skeleton( this.bones, this.boneInverses );\n\n\t},\n\n\tgetBoneByName: function ( name ) {\n\n\t\tfor ( let i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tconst bone = this.bones[ i ];\n\n\t\t\tif ( bone.name === name ) {\n\n\t\t\t\treturn bone;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t},\n\n\tdispose: function ( ) {\n\n\t\tif ( this.boneTexture !== null ) {\n\n\t\t\tthis.boneTexture.dispose();\n\n\t\t\tthis.boneTexture = null;\n\n\t\t}\n\n\t},\n\n\tfromJSON: function ( json, bones ) {\n\n\t\tthis.uuid = json.uuid;\n\n\t\tfor ( let i = 0, l = json.bones.length; i < l; i ++ ) {\n\n\t\t\tconst uuid = json.bones[ i ];\n\t\t\tlet bone = bones[ uuid ];\n\n\t\t\tif ( bone === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Skeleton: No bone found with UUID:', uuid );\n\t\t\t\tbone = new Bone();\n\n\t\t\t}\n\n\t\t\tthis.bones.push( bone );\n\t\t\tthis.boneInverses.push( new Matrix4().fromArray( json.boneInverses[ i ] ) );\n\n\t\t}\n\n\t\tthis.init();\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Skeleton',\n\t\t\t\tgenerator: 'Skeleton.toJSON'\n\t\t\t},\n\t\t\tbones: [],\n\t\t\tboneInverses: []\n\t\t};\n\n\t\tdata.uuid = this.uuid;\n\n\t\tconst bones = this.bones;\n\t\tconst boneInverses = this.boneInverses;\n\n\t\tfor ( let i = 0, l = bones.length; i < l; i ++ ) {\n\n\t\t\tconst bone = bones[ i ];\n\t\t\tdata.bones.push( bone.uuid );\n\n\t\t\tconst boneInverse = boneInverses[ i ];\n\t\t\tdata.boneInverses.push( boneInverse.toArray() );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n} );\n\nconst _instanceLocalMatrix = new Matrix4();\nconst _instanceWorldMatrix = new Matrix4();\n\nconst _instanceIntersects = [];\n\nconst _mesh = new Mesh();\n\nfunction InstancedMesh( geometry, material, count ) {\n\n\tMesh.call( this, geometry, material );\n\n\tthis.instanceMatrix = new BufferAttribute( new Float32Array( count * 16 ), 16 );\n\tthis.instanceColor = null;\n\n\tthis.count = count;\n\n\tthis.frustumCulled = false;\n\n}\n\nInstancedMesh.prototype = Object.assign( Object.create( Mesh.prototype ), {\n\n\tconstructor: InstancedMesh,\n\n\tisInstancedMesh: true,\n\n\tcopy: function ( source ) {\n\n\t\tMesh.prototype.copy.call( this, source );\n\n\t\tthis.instanceMatrix.copy( source.instanceMatrix );\n\t\tthis.count = source.count;\n\n\t\treturn this;\n\n\t},\n\n\tgetColorAt: function ( index, color ) {\n\n\t\tcolor.fromArray( this.instanceColor.array, index * 3 );\n\n\t},\n\n\tgetMatrixAt: function ( index, matrix ) {\n\n\t\tmatrix.fromArray( this.instanceMatrix.array, index * 16 );\n\n\t},\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\tconst matrixWorld = this.matrixWorld;\n\t\tconst raycastTimes = this.count;\n\n\t\t_mesh.geometry = this.geometry;\n\t\t_mesh.material = this.material;\n\n\t\tif ( _mesh.material === undefined ) return;\n\n\t\tfor ( let instanceId = 0; instanceId < raycastTimes; instanceId ++ ) {\n\n\t\t\t// calculate the world matrix for each instance\n\n\t\t\tthis.getMatrixAt( instanceId, _instanceLocalMatrix );\n\n\t\t\t_instanceWorldMatrix.multiplyMatrices( matrixWorld, _instanceLocalMatrix );\n\n\t\t\t// the mesh represents this single instance\n\n\t\t\t_mesh.matrixWorld = _instanceWorldMatrix;\n\n\t\t\t_mesh.raycast( raycaster, _instanceIntersects );\n\n\t\t\t// process the result of raycast\n\n\t\t\tfor ( let i = 0, l = _instanceIntersects.length; i < l; i ++ ) {\n\n\t\t\t\tconst intersect = _instanceIntersects[ i ];\n\t\t\t\tintersect.instanceId = instanceId;\n\t\t\t\tintersect.object = this;\n\t\t\t\tintersects.push( intersect );\n\n\t\t\t}\n\n\t\t\t_instanceIntersects.length = 0;\n\n\t\t}\n\n\t},\n\n\tsetColorAt: function ( index, color ) {\n\n\t\tif ( this.instanceColor === null ) {\n\n\t\t\tthis.instanceColor = new BufferAttribute( new Float32Array( this.count * 3 ), 3 );\n\n\t\t}\n\n\t\tcolor.toArray( this.instanceColor.array, index * 3 );\n\n\t},\n\n\tsetMatrixAt: function ( index, matrix ) {\n\n\t\tmatrix.toArray( this.instanceMatrix.array, index * 16 );\n\n\t},\n\n\tupdateMorphTargets: function () {\n\n\t}\n\n} );\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *  linecap: \"round\",\n *  linejoin: \"round\"\n * }\n */\n\nfunction LineBasicMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'LineBasicMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\n\tthis.linewidth = 1;\n\tthis.linecap = 'round';\n\tthis.linejoin = 'round';\n\n\tthis.morphTargets = false;\n\n\tthis.setValues( parameters );\n\n}\n\nLineBasicMaterial.prototype = Object.create( Material.prototype );\nLineBasicMaterial.prototype.constructor = LineBasicMaterial;\n\nLineBasicMaterial.prototype.isLineBasicMaterial = true;\n\nLineBasicMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.linewidth = source.linewidth;\n\tthis.linecap = source.linecap;\n\tthis.linejoin = source.linejoin;\n\n\tthis.morphTargets = source.morphTargets;\n\n\treturn this;\n\n};\n\nconst _start = new Vector3();\nconst _end = new Vector3();\nconst _inverseMatrix$1 = new Matrix4();\nconst _ray$1 = new Ray();\nconst _sphere$2 = new Sphere();\n\nfunction Line( geometry, material, mode ) {\n\n\tif ( mode === 1 ) {\n\n\t\tconsole.error( 'THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead.' );\n\n\t}\n\n\tObject3D.call( this );\n\n\tthis.type = 'Line';\n\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n\tthis.material = material !== undefined ? material : new LineBasicMaterial();\n\n\tthis.updateMorphTargets();\n\n}\n\nLine.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Line,\n\n\tisLine: true,\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tthis.material = source.material;\n\t\tthis.geometry = source.geometry;\n\n\t\treturn this;\n\n\t},\n\n\tcomputeLineDistances: function () {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t// we assume non-indexed geometry\n\n\t\t\tif ( geometry.index === null ) {\n\n\t\t\t\tconst positionAttribute = geometry.attributes.position;\n\t\t\t\tconst lineDistances = [ 0 ];\n\n\t\t\t\tfor ( let i = 1, l = positionAttribute.count; i < l; i ++ ) {\n\n\t\t\t\t\t_start.fromBufferAttribute( positionAttribute, i - 1 );\n\t\t\t\t\t_end.fromBufferAttribute( positionAttribute, i );\n\n\t\t\t\t\tlineDistances[ i ] = lineDistances[ i - 1 ];\n\t\t\t\t\tlineDistances[ i ] += _start.distanceTo( _end );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.setAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tconst vertices = geometry.vertices;\n\t\t\tconst lineDistances = geometry.lineDistances;\n\n\t\t\tlineDistances[ 0 ] = 0;\n\n\t\t\tfor ( let i = 1, l = vertices.length; i < l; i ++ ) {\n\n\t\t\t\tlineDistances[ i ] = lineDistances[ i - 1 ];\n\t\t\t\tlineDistances[ i ] += vertices[ i - 1 ].distanceTo( vertices[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\tconst geometry = this.geometry;\n\t\tconst matrixWorld = this.matrixWorld;\n\t\tconst threshold = raycaster.params.Line.threshold;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$2.copy( geometry.boundingSphere );\n\t\t_sphere$2.applyMatrix4( matrixWorld );\n\t\t_sphere$2.radius += threshold;\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere$2 ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix$1.copy( matrixWorld ).invert();\n\t\t_ray$1.copy( raycaster.ray ).applyMatrix4( _inverseMatrix$1 );\n\n\t\tconst localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\tconst localThresholdSq = localThreshold * localThreshold;\n\n\t\tconst vStart = new Vector3();\n\t\tconst vEnd = new Vector3();\n\t\tconst interSegment = new Vector3();\n\t\tconst interRay = new Vector3();\n\t\tconst step = this.isLineSegments ? 2 : 1;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst index = geometry.index;\n\t\t\tconst attributes = geometry.attributes;\n\t\t\tconst positionAttribute = attributes.position;\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\tconst indices = index.array;\n\n\t\t\t\tfor ( let i = 0, l = indices.length - 1; i < l; i += step ) {\n\n\t\t\t\t\tconst a = indices[ i ];\n\t\t\t\t\tconst b = indices[ i + 1 ];\n\n\t\t\t\t\tvStart.fromBufferAttribute( positionAttribute, a );\n\t\t\t\t\tvEnd.fromBufferAttribute( positionAttribute, b );\n\n\t\t\t\t\tconst distSq = _ray$1.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\t\tif ( distSq > localThresholdSq ) continue;\n\n\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\tconst distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tfor ( let i = 0, l = positionAttribute.count - 1; i < l; i += step ) {\n\n\t\t\t\t\tvStart.fromBufferAttribute( positionAttribute, i );\n\t\t\t\t\tvEnd.fromBufferAttribute( positionAttribute, i + 1 );\n\n\t\t\t\t\tconst distSq = _ray$1.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\t\tif ( distSq > localThresholdSq ) continue;\n\n\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\tconst distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tconst vertices = geometry.vertices;\n\t\t\tconst nbVertices = vertices.length;\n\n\t\t\tfor ( let i = 0; i < nbVertices - 1; i += step ) {\n\n\t\t\t\tconst distSq = _ray$1.distanceSqToSegment( vertices[ i ], vertices[ i + 1 ], interRay, interSegment );\n\n\t\t\t\tif ( distSq > localThresholdSq ) continue;\n\n\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\tconst distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\tintersects.push( {\n\n\t\t\t\t\tdistance: distance,\n\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\tindex: i,\n\t\t\t\t\tface: null,\n\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\tobject: this\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tupdateMorphTargets: function () {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst morphAttributes = geometry.morphAttributes;\n\t\t\tconst keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n} );\n\nconst _start$1 = new Vector3();\nconst _end$1 = new Vector3();\n\nfunction LineSegments( geometry, material ) {\n\n\tLine.call( this, geometry, material );\n\n\tthis.type = 'LineSegments';\n\n}\n\nLineSegments.prototype = Object.assign( Object.create( Line.prototype ), {\n\n\tconstructor: LineSegments,\n\n\tisLineSegments: true,\n\n\tcomputeLineDistances: function () {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t// we assume non-indexed geometry\n\n\t\t\tif ( geometry.index === null ) {\n\n\t\t\t\tconst positionAttribute = geometry.attributes.position;\n\t\t\t\tconst lineDistances = [];\n\n\t\t\t\tfor ( let i = 0, l = positionAttribute.count; i < l; i += 2 ) {\n\n\t\t\t\t\t_start$1.fromBufferAttribute( positionAttribute, i );\n\t\t\t\t\t_end$1.fromBufferAttribute( positionAttribute, i + 1 );\n\n\t\t\t\t\tlineDistances[ i ] = ( i === 0 ) ? 0 : lineDistances[ i - 1 ];\n\t\t\t\t\tlineDistances[ i + 1 ] = lineDistances[ i ] + _start$1.distanceTo( _end$1 );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.setAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tconst vertices = geometry.vertices;\n\t\t\tconst lineDistances = geometry.lineDistances;\n\n\t\t\tfor ( let i = 0, l = vertices.length; i < l; i += 2 ) {\n\n\t\t\t\t_start$1.copy( vertices[ i ] );\n\t\t\t\t_end$1.copy( vertices[ i + 1 ] );\n\n\t\t\t\tlineDistances[ i ] = ( i === 0 ) ? 0 : lineDistances[ i - 1 ];\n\t\t\t\tlineDistances[ i + 1 ] = lineDistances[ i ] + _start$1.distanceTo( _end$1 );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction LineLoop( geometry, material ) {\n\n\tLine.call( this, geometry, material );\n\n\tthis.type = 'LineLoop';\n\n}\n\nLineLoop.prototype = Object.assign( Object.create( Line.prototype ), {\n\n\tconstructor: LineLoop,\n\n\tisLineLoop: true,\n\n} );\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  size: <float>,\n *  sizeAttenuation: <bool>\n *\n *  morphTargets: <bool>\n * }\n */\n\nfunction PointsMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'PointsMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\n\tthis.map = null;\n\n\tthis.alphaMap = null;\n\n\tthis.size = 1;\n\tthis.sizeAttenuation = true;\n\n\tthis.morphTargets = false;\n\n\tthis.setValues( parameters );\n\n}\n\nPointsMaterial.prototype = Object.create( Material.prototype );\nPointsMaterial.prototype.constructor = PointsMaterial;\n\nPointsMaterial.prototype.isPointsMaterial = true;\n\nPointsMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.size = source.size;\n\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\tthis.morphTargets = source.morphTargets;\n\n\treturn this;\n\n};\n\nconst _inverseMatrix$2 = new Matrix4();\nconst _ray$2 = new Ray();\nconst _sphere$3 = new Sphere();\nconst _position$1 = new Vector3();\n\nfunction Points( geometry, material ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Points';\n\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n\tthis.material = material !== undefined ? material : new PointsMaterial();\n\n\tthis.updateMorphTargets();\n\n}\n\nPoints.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Points,\n\n\tisPoints: true,\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tthis.material = source.material;\n\t\tthis.geometry = source.geometry;\n\n\t\treturn this;\n\n\t},\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\tconst geometry = this.geometry;\n\t\tconst matrixWorld = this.matrixWorld;\n\t\tconst threshold = raycaster.params.Points.threshold;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$3.copy( geometry.boundingSphere );\n\t\t_sphere$3.applyMatrix4( matrixWorld );\n\t\t_sphere$3.radius += threshold;\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere$3 ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix$2.copy( matrixWorld ).invert();\n\t\t_ray$2.copy( raycaster.ray ).applyMatrix4( _inverseMatrix$2 );\n\n\t\tconst localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\tconst localThresholdSq = localThreshold * localThreshold;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst index = geometry.index;\n\t\t\tconst attributes = geometry.attributes;\n\t\t\tconst positionAttribute = attributes.position;\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\tconst indices = index.array;\n\n\t\t\t\tfor ( let i = 0, il = indices.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst a = indices[ i ];\n\n\t\t\t\t\t_position$1.fromBufferAttribute( positionAttribute, a );\n\n\t\t\t\t\ttestPoint( _position$1, a, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tfor ( let i = 0, l = positionAttribute.count; i < l; i ++ ) {\n\n\t\t\t\t\t_position$1.fromBufferAttribute( positionAttribute, i );\n\n\t\t\t\t\ttestPoint( _position$1, i, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst vertices = geometry.vertices;\n\n\t\t\tfor ( let i = 0, l = vertices.length; i < l; i ++ ) {\n\n\t\t\t\ttestPoint( vertices[ i ], i, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tupdateMorphTargets: function () {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst morphAttributes = geometry.morphAttributes;\n\t\t\tconst keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n} );\n\nfunction testPoint( point, index, localThresholdSq, matrixWorld, raycaster, intersects, object ) {\n\n\tconst rayPointDistanceSq = _ray$2.distanceSqToPoint( point );\n\n\tif ( rayPointDistanceSq < localThresholdSq ) {\n\n\t\tconst intersectPoint = new Vector3();\n\n\t\t_ray$2.closestPointToPoint( point, intersectPoint );\n\t\tintersectPoint.applyMatrix4( matrixWorld );\n\n\t\tconst distance = raycaster.ray.origin.distanceTo( intersectPoint );\n\n\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\tintersects.push( {\n\n\t\t\tdistance: distance,\n\t\t\tdistanceToRay: Math.sqrt( rayPointDistanceSq ),\n\t\t\tpoint: intersectPoint,\n\t\t\tindex: index,\n\t\t\tface: null,\n\t\t\tobject: object\n\n\t\t} );\n\n\t}\n\n}\n\nfunction VideoTexture( video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\tTexture.call( this, video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\tthis.format = format !== undefined ? format : RGBFormat;\n\n\tthis.minFilter = minFilter !== undefined ? minFilter : LinearFilter;\n\tthis.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n\n\tthis.generateMipmaps = false;\n\n\tconst scope = this;\n\n\tfunction updateVideo() {\n\n\t\tscope.needsUpdate = true;\n\t\tvideo.requestVideoFrameCallback( updateVideo );\n\n\t}\n\n\tif ( 'requestVideoFrameCallback' in video ) {\n\n\t\tvideo.requestVideoFrameCallback( updateVideo );\n\n\t}\n\n}\n\nVideoTexture.prototype = Object.assign( Object.create( Texture.prototype ), {\n\n\tconstructor: VideoTexture,\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.image ).copy( this );\n\n\t},\n\n\tisVideoTexture: true,\n\n\tupdate: function () {\n\n\t\tconst video = this.image;\n\t\tconst hasVideoFrameCallback = 'requestVideoFrameCallback' in video;\n\n\t\tif ( hasVideoFrameCallback === false && video.readyState >= video.HAVE_CURRENT_DATA ) {\n\n\t\t\tthis.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n} );\n\nfunction CompressedTexture( mipmaps, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\n\n\tTexture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\tthis.image = { width: width, height: height };\n\tthis.mipmaps = mipmaps;\n\n\t// no flipping for cube textures\n\t// (also flipping doesn't work for compressed textures )\n\n\tthis.flipY = false;\n\n\t// can't generate mipmaps for compressed textures\n\t// mips must be embedded in DDS files\n\n\tthis.generateMipmaps = false;\n\n}\n\nCompressedTexture.prototype = Object.create( Texture.prototype );\nCompressedTexture.prototype.constructor = CompressedTexture;\n\nCompressedTexture.prototype.isCompressedTexture = true;\n\nfunction CanvasTexture( canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\tTexture.call( this, canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\tthis.needsUpdate = true;\n\n}\n\nCanvasTexture.prototype = Object.create( Texture.prototype );\nCanvasTexture.prototype.constructor = CanvasTexture;\nCanvasTexture.prototype.isCanvasTexture = true;\n\nfunction DepthTexture( width, height, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, format ) {\n\n\tformat = format !== undefined ? format : DepthFormat;\n\n\tif ( format !== DepthFormat && format !== DepthStencilFormat ) {\n\n\t\tthrow new Error( 'DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat' );\n\n\t}\n\n\tif ( type === undefined && format === DepthFormat ) type = UnsignedShortType;\n\tif ( type === undefined && format === DepthStencilFormat ) type = UnsignedInt248Type;\n\n\tTexture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\tthis.image = { width: width, height: height };\n\n\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n\tthis.flipY = false;\n\tthis.generateMipmaps = false;\n\n}\n\nDepthTexture.prototype = Object.create( Texture.prototype );\nDepthTexture.prototype.constructor = DepthTexture;\nDepthTexture.prototype.isDepthTexture = true;\n\nlet _geometryId = 0; // Geometry uses even numbers as Id\nconst _m1$3 = new Matrix4();\nconst _obj$1 = new Object3D();\nconst _offset$1 = new Vector3();\n\nfunction Geometry() {\n\n\tObject.defineProperty( this, 'id', { value: _geometryId += 2 } );\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Geometry';\n\n\tthis.vertices = [];\n\tthis.colors = [];\n\tthis.faces = [];\n\tthis.faceVertexUvs = [[]];\n\n\tthis.morphTargets = [];\n\tthis.morphNormals = [];\n\n\tthis.skinWeights = [];\n\tthis.skinIndices = [];\n\n\tthis.lineDistances = [];\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\t// update flags\n\n\tthis.elementsNeedUpdate = false;\n\tthis.verticesNeedUpdate = false;\n\tthis.uvsNeedUpdate = false;\n\tthis.normalsNeedUpdate = false;\n\tthis.colorsNeedUpdate = false;\n\tthis.lineDistancesNeedUpdate = false;\n\tthis.groupsNeedUpdate = false;\n\n}\n\nGeometry.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Geometry,\n\n\tisGeometry: true,\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tconst normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\tfor ( let i = 0, il = this.vertices.length; i < il; i ++ ) {\n\n\t\t\tconst vertex = this.vertices[ i ];\n\t\t\tvertex.applyMatrix4( matrix );\n\n\t\t}\n\n\t\tfor ( let i = 0, il = this.faces.length; i < il; i ++ ) {\n\n\t\t\tconst face = this.faces[ i ];\n\t\t\tface.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\tfor ( let j = 0, jl = face.vertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\tface.vertexNormals[ j ].applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.boundingBox !== null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t\tthis.verticesNeedUpdate = true;\n\t\tthis.normalsNeedUpdate = true;\n\n\t\treturn this;\n\n\t},\n\n\trotateX: function ( angle ) {\n\n\t\t// rotate geometry around world x-axis\n\n\t\t_m1$3.makeRotationX( angle );\n\n\t\tthis.applyMatrix4( _m1$3 );\n\n\t\treturn this;\n\n\t},\n\n\trotateY: function ( angle ) {\n\n\t\t// rotate geometry around world y-axis\n\n\t\t_m1$3.makeRotationY( angle );\n\n\t\tthis.applyMatrix4( _m1$3 );\n\n\t\treturn this;\n\n\t},\n\n\trotateZ: function ( angle ) {\n\n\t\t// rotate geometry around world z-axis\n\n\t\t_m1$3.makeRotationZ( angle );\n\n\t\tthis.applyMatrix4( _m1$3 );\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( x, y, z ) {\n\n\t\t// translate geometry\n\n\t\t_m1$3.makeTranslation( x, y, z );\n\n\t\tthis.applyMatrix4( _m1$3 );\n\n\t\treturn this;\n\n\t},\n\n\tscale: function ( x, y, z ) {\n\n\t\t// scale geometry\n\n\t\t_m1$3.makeScale( x, y, z );\n\n\t\tthis.applyMatrix4( _m1$3 );\n\n\t\treturn this;\n\n\t},\n\n\tlookAt: function ( vector ) {\n\n\t\t_obj$1.lookAt( vector );\n\n\t\t_obj$1.updateMatrix();\n\n\t\tthis.applyMatrix4( _obj$1.matrix );\n\n\t\treturn this;\n\n\t},\n\n\tfromBufferGeometry: function ( geometry ) {\n\n\t\tconst scope = this;\n\n\t\tconst index = geometry.index !== null ? geometry.index : undefined;\n\t\tconst attributes = geometry.attributes;\n\n\t\tif ( attributes.position === undefined ) {\n\n\t\t\tconsole.error( 'THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion.' );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst position = attributes.position;\n\t\tconst normal = attributes.normal;\n\t\tconst color = attributes.color;\n\t\tconst uv = attributes.uv;\n\t\tconst uv2 = attributes.uv2;\n\n\t\tif ( uv2 !== undefined ) this.faceVertexUvs[ 1 ] = [];\n\n\t\tfor ( let i = 0; i < position.count; i ++ ) {\n\n\t\t\tscope.vertices.push( new Vector3().fromBufferAttribute( position, i ) );\n\n\t\t\tif ( color !== undefined ) {\n\n\t\t\t\tscope.colors.push( new Color().fromBufferAttribute( color, i ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction addFace( a, b, c, materialIndex ) {\n\n\t\t\tconst vertexColors = ( color === undefined ) ? [] : [\n\t\t\t\tscope.colors[ a ].clone(),\n\t\t\t\tscope.colors[ b ].clone(),\n\t\t\t\tscope.colors[ c ].clone()\n\t\t\t];\n\n\t\t\tconst vertexNormals = ( normal === undefined ) ? [] : [\n\t\t\t\tnew Vector3().fromBufferAttribute( normal, a ),\n\t\t\t\tnew Vector3().fromBufferAttribute( normal, b ),\n\t\t\t\tnew Vector3().fromBufferAttribute( normal, c )\n\t\t\t];\n\n\t\t\tconst face = new Face3( a, b, c, vertexNormals, vertexColors, materialIndex );\n\n\t\t\tscope.faces.push( face );\n\n\t\t\tif ( uv !== undefined ) {\n\n\t\t\t\tscope.faceVertexUvs[ 0 ].push( [\n\t\t\t\t\tnew Vector2().fromBufferAttribute( uv, a ),\n\t\t\t\t\tnew Vector2().fromBufferAttribute( uv, b ),\n\t\t\t\t\tnew Vector2().fromBufferAttribute( uv, c )\n\t\t\t\t] );\n\n\t\t\t}\n\n\t\t\tif ( uv2 !== undefined ) {\n\n\t\t\t\tscope.faceVertexUvs[ 1 ].push( [\n\t\t\t\t\tnew Vector2().fromBufferAttribute( uv2, a ),\n\t\t\t\t\tnew Vector2().fromBufferAttribute( uv2, b ),\n\t\t\t\t\tnew Vector2().fromBufferAttribute( uv2, c )\n\t\t\t\t] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst groups = geometry.groups;\n\n\t\tif ( groups.length > 0 ) {\n\n\t\t\tfor ( let i = 0; i < groups.length; i ++ ) {\n\n\t\t\t\tconst group = groups[ i ];\n\n\t\t\t\tconst start = group.start;\n\t\t\t\tconst count = group.count;\n\n\t\t\t\tfor ( let j = start, jl = start + count; j < jl; j += 3 ) {\n\n\t\t\t\t\tif ( index !== undefined ) {\n\n\t\t\t\t\t\taddFace( index.getX( j ), index.getX( j + 1 ), index.getX( j + 2 ), group.materialIndex );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\taddFace( j, j + 1, j + 2, group.materialIndex );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( index !== undefined ) {\n\n\t\t\t\tfor ( let i = 0; i < index.count; i += 3 ) {\n\n\t\t\t\t\taddFace( index.getX( i ), index.getX( i + 1 ), index.getX( i + 2 ) );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tfor ( let i = 0; i < position.count; i += 3 ) {\n\n\t\t\t\t\taddFace( i, i + 1, i + 2 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.computeFaceNormals();\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t}\n\n\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcenter: function () {\n\n\t\tthis.computeBoundingBox();\n\n\t\tthis.boundingBox.getCenter( _offset$1 ).negate();\n\n\t\tthis.translate( _offset$1.x, _offset$1.y, _offset$1.z );\n\n\t\treturn this;\n\n\t},\n\n\tnormalize: function () {\n\n\t\tthis.computeBoundingSphere();\n\n\t\tconst center = this.boundingSphere.center;\n\t\tconst radius = this.boundingSphere.radius;\n\n\t\tconst s = radius === 0 ? 1 : 1.0 / radius;\n\n\t\tconst matrix = new Matrix4();\n\t\tmatrix.set(\n\t\t\ts, 0, 0, - s * center.x,\n\t\t\t0, s, 0, - s * center.y,\n\t\t\t0, 0, s, - s * center.z,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\tthis.applyMatrix4( matrix );\n\n\t\treturn this;\n\n\t},\n\n\tcomputeFaceNormals: function () {\n\n\t\tconst cb = new Vector3(), ab = new Vector3();\n\n\t\tfor ( let f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tconst face = this.faces[ f ];\n\n\t\t\tconst vA = this.vertices[ face.a ];\n\t\t\tconst vB = this.vertices[ face.b ];\n\t\t\tconst vC = this.vertices[ face.c ];\n\n\t\t\tcb.subVectors( vC, vB );\n\t\t\tab.subVectors( vA, vB );\n\t\t\tcb.cross( ab );\n\n\t\t\tcb.normalize();\n\n\t\t\tface.normal.copy( cb );\n\n\t\t}\n\n\t},\n\n\tcomputeVertexNormals: function ( areaWeighted = true ) {\n\n\t\tconst vertices = new Array( this.vertices.length );\n\n\t\tfor ( let v = 0, vl = this.vertices.length; v < vl; v ++ ) {\n\n\t\t\tvertices[ v ] = new Vector3();\n\n\t\t}\n\n\t\tif ( areaWeighted ) {\n\n\t\t\t// vertex normals weighted by triangle areas\n\t\t\t// http://www.iquilezles.org/www/articles/normals/normals.htm\n\n\t\t\tconst cb = new Vector3(), ab = new Vector3();\n\n\t\t\tfor ( let f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tconst face = this.faces[ f ];\n\n\t\t\t\tconst vA = this.vertices[ face.a ];\n\t\t\t\tconst vB = this.vertices[ face.b ];\n\t\t\t\tconst vC = this.vertices[ face.c ];\n\n\t\t\t\tcb.subVectors( vC, vB );\n\t\t\t\tab.subVectors( vA, vB );\n\t\t\t\tcb.cross( ab );\n\n\t\t\t\tvertices[ face.a ].add( cb );\n\t\t\t\tvertices[ face.b ].add( cb );\n\t\t\t\tvertices[ face.c ].add( cb );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.computeFaceNormals();\n\n\t\t\tfor ( let f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tconst face = this.faces[ f ];\n\n\t\t\t\tvertices[ face.a ].add( face.normal );\n\t\t\t\tvertices[ face.b ].add( face.normal );\n\t\t\t\tvertices[ face.c ].add( face.normal );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( let v = 0, vl = this.vertices.length; v < vl; v ++ ) {\n\n\t\t\tvertices[ v ].normalize();\n\n\t\t}\n\n\t\tfor ( let f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tconst face = this.faces[ f ];\n\n\t\t\tconst vertexNormals = face.vertexNormals;\n\n\t\t\tif ( vertexNormals.length === 3 ) {\n\n\t\t\t\tvertexNormals[ 0 ].copy( vertices[ face.a ] );\n\t\t\t\tvertexNormals[ 1 ].copy( vertices[ face.b ] );\n\t\t\t\tvertexNormals[ 2 ].copy( vertices[ face.c ] );\n\n\t\t\t} else {\n\n\t\t\t\tvertexNormals[ 0 ] = vertices[ face.a ].clone();\n\t\t\t\tvertexNormals[ 1 ] = vertices[ face.b ].clone();\n\t\t\t\tvertexNormals[ 2 ] = vertices[ face.c ].clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.faces.length > 0 ) {\n\n\t\t\tthis.normalsNeedUpdate = true;\n\n\t\t}\n\n\t},\n\n\tcomputeFlatVertexNormals: function () {\n\n\t\tthis.computeFaceNormals();\n\n\t\tfor ( let f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tconst face = this.faces[ f ];\n\n\t\t\tconst vertexNormals = face.vertexNormals;\n\n\t\t\tif ( vertexNormals.length === 3 ) {\n\n\t\t\t\tvertexNormals[ 0 ].copy( face.normal );\n\t\t\t\tvertexNormals[ 1 ].copy( face.normal );\n\t\t\t\tvertexNormals[ 2 ].copy( face.normal );\n\n\t\t\t} else {\n\n\t\t\t\tvertexNormals[ 0 ] = face.normal.clone();\n\t\t\t\tvertexNormals[ 1 ] = face.normal.clone();\n\t\t\t\tvertexNormals[ 2 ] = face.normal.clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.faces.length > 0 ) {\n\n\t\t\tthis.normalsNeedUpdate = true;\n\n\t\t}\n\n\t},\n\n\tcomputeMorphNormals: function () {\n\n\t\t// save original normals\n\t\t// - create temp variables on first access\n\t\t//   otherwise just copy (for faster repeated calls)\n\n\t\tfor ( let f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tconst face = this.faces[ f ];\n\n\t\t\tif ( ! face.__originalFaceNormal ) {\n\n\t\t\t\tface.__originalFaceNormal = face.normal.clone();\n\n\t\t\t} else {\n\n\t\t\t\tface.__originalFaceNormal.copy( face.normal );\n\n\t\t\t}\n\n\t\t\tif ( ! face.__originalVertexNormals ) face.__originalVertexNormals = [];\n\n\t\t\tfor ( let i = 0, il = face.vertexNormals.length; i < il; i ++ ) {\n\n\t\t\t\tif ( ! face.__originalVertexNormals[ i ] ) {\n\n\t\t\t\t\tface.__originalVertexNormals[ i ] = face.vertexNormals[ i ].clone();\n\n\t\t\t\t} else {\n\n\t\t\t\t\tface.__originalVertexNormals[ i ].copy( face.vertexNormals[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// use temp geometry to compute face and vertex normals for each morph\n\n\t\tconst tmpGeo = new Geometry();\n\t\ttmpGeo.faces = this.faces;\n\n\t\tfor ( let i = 0, il = this.morphTargets.length; i < il; i ++ ) {\n\n\t\t\t// create on first access\n\n\t\t\tif ( ! this.morphNormals[ i ] ) {\n\n\t\t\t\tthis.morphNormals[ i ] = {};\n\t\t\t\tthis.morphNormals[ i ].faceNormals = [];\n\t\t\t\tthis.morphNormals[ i ].vertexNormals = [];\n\n\t\t\t\tconst dstNormalsFace = this.morphNormals[ i ].faceNormals;\n\t\t\t\tconst dstNormalsVertex = this.morphNormals[ i ].vertexNormals;\n\n\t\t\t\tfor ( let f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\t\tconst faceNormal = new Vector3();\n\t\t\t\t\tconst vertexNormals = { a: new Vector3(), b: new Vector3(), c: new Vector3() };\n\n\t\t\t\t\tdstNormalsFace.push( faceNormal );\n\t\t\t\t\tdstNormalsVertex.push( vertexNormals );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst morphNormals = this.morphNormals[ i ];\n\n\t\t\t// set vertices to morph target\n\n\t\t\ttmpGeo.vertices = this.morphTargets[ i ].vertices;\n\n\t\t\t// compute morph normals\n\n\t\t\ttmpGeo.computeFaceNormals();\n\t\t\ttmpGeo.computeVertexNormals();\n\n\t\t\t// store morph normals\n\n\t\t\tfor ( let f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tconst face = this.faces[ f ];\n\n\t\t\t\tconst faceNormal = morphNormals.faceNormals[ f ];\n\t\t\t\tconst vertexNormals = morphNormals.vertexNormals[ f ];\n\n\t\t\t\tfaceNormal.copy( face.normal );\n\n\t\t\t\tvertexNormals.a.copy( face.vertexNormals[ 0 ] );\n\t\t\t\tvertexNormals.b.copy( face.vertexNormals[ 1 ] );\n\t\t\t\tvertexNormals.c.copy( face.vertexNormals[ 2 ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// restore original normals\n\n\t\tfor ( let f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tconst face = this.faces[ f ];\n\n\t\t\tface.normal = face.__originalFaceNormal;\n\t\t\tface.vertexNormals = face.__originalVertexNormals;\n\n\t\t}\n\n\t},\n\n\tcomputeBoundingBox: function () {\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new Box3();\n\n\t\t}\n\n\t\tthis.boundingBox.setFromPoints( this.vertices );\n\n\t},\n\n\tcomputeBoundingSphere: function () {\n\n\t\tif ( this.boundingSphere === null ) {\n\n\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t}\n\n\t\tthis.boundingSphere.setFromPoints( this.vertices );\n\n\t},\n\n\tmerge: function ( geometry, matrix, materialIndexOffset = 0 ) {\n\n\t\tif ( ! ( geometry && geometry.isGeometry ) ) {\n\n\t\t\tconsole.error( 'THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.', geometry );\n\t\t\treturn;\n\n\t\t}\n\n\t\tlet normalMatrix;\n\t\tconst vertexOffset = this.vertices.length,\n\t\t\tvertices1 = this.vertices,\n\t\t\tvertices2 = geometry.vertices,\n\t\t\tfaces1 = this.faces,\n\t\t\tfaces2 = geometry.faces,\n\t\t\tcolors1 = this.colors,\n\t\t\tcolors2 = geometry.colors;\n\n\t\tif ( matrix !== undefined ) {\n\n\t\t\tnormalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\t}\n\n\t\t// vertices\n\n\t\tfor ( let i = 0, il = vertices2.length; i < il; i ++ ) {\n\n\t\t\tconst vertex = vertices2[ i ];\n\n\t\t\tconst vertexCopy = vertex.clone();\n\n\t\t\tif ( matrix !== undefined ) vertexCopy.applyMatrix4( matrix );\n\n\t\t\tvertices1.push( vertexCopy );\n\n\t\t}\n\n\t\t// colors\n\n\t\tfor ( let i = 0, il = colors2.length; i < il; i ++ ) {\n\n\t\t\tcolors1.push( colors2[ i ].clone() );\n\n\t\t}\n\n\t\t// faces\n\n\t\tfor ( let i = 0, il = faces2.length; i < il; i ++ ) {\n\n\t\t\tconst face = faces2[ i ];\n\t\t\tlet normal, color;\n\t\t\tconst faceVertexNormals = face.vertexNormals,\n\t\t\t\tfaceVertexColors = face.vertexColors;\n\n\t\t\tconst faceCopy = new Face3( face.a + vertexOffset, face.b + vertexOffset, face.c + vertexOffset );\n\t\t\tfaceCopy.normal.copy( face.normal );\n\n\t\t\tif ( normalMatrix !== undefined ) {\n\n\t\t\t\tfaceCopy.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t}\n\n\t\t\tfor ( let j = 0, jl = faceVertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\tnormal = faceVertexNormals[ j ].clone();\n\n\t\t\t\tif ( normalMatrix !== undefined ) {\n\n\t\t\t\t\tnormal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t\t}\n\n\t\t\t\tfaceCopy.vertexNormals.push( normal );\n\n\t\t\t}\n\n\t\t\tfaceCopy.color.copy( face.color );\n\n\t\t\tfor ( let j = 0, jl = faceVertexColors.length; j < jl; j ++ ) {\n\n\t\t\t\tcolor = faceVertexColors[ j ];\n\t\t\t\tfaceCopy.vertexColors.push( color.clone() );\n\n\t\t\t}\n\n\t\t\tfaceCopy.materialIndex = face.materialIndex + materialIndexOffset;\n\n\t\t\tfaces1.push( faceCopy );\n\n\t\t}\n\n\t\t// uvs\n\n\t\tfor ( let i = 0, il = geometry.faceVertexUvs.length; i < il; i ++ ) {\n\n\t\t\tconst faceVertexUvs2 = geometry.faceVertexUvs[ i ];\n\n\t\t\tif ( this.faceVertexUvs[ i ] === undefined ) this.faceVertexUvs[ i ] = [];\n\n\t\t\tfor ( let j = 0, jl = faceVertexUvs2.length; j < jl; j ++ ) {\n\n\t\t\t\tconst uvs2 = faceVertexUvs2[ j ], uvsCopy = [];\n\n\t\t\t\tfor ( let k = 0, kl = uvs2.length; k < kl; k ++ ) {\n\n\t\t\t\t\tuvsCopy.push( uvs2[ k ].clone() );\n\n\t\t\t\t}\n\n\t\t\t\tthis.faceVertexUvs[ i ].push( uvsCopy );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tmergeMesh: function ( mesh ) {\n\n\t\tif ( ! ( mesh && mesh.isMesh ) ) {\n\n\t\t\tconsole.error( 'THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.', mesh );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( mesh.matrixAutoUpdate ) mesh.updateMatrix();\n\n\t\tthis.merge( mesh.geometry, mesh.matrix );\n\n\t},\n\n\t/*\n\t * Checks for duplicate vertices with hashmap.\n\t * Duplicated vertices are removed\n\t * and faces' vertices are updated.\n\t */\n\n\tmergeVertices: function ( precisionPoints = 4 ) {\n\n\t\tconst verticesMap = {}; // Hashmap for looking up vertices by position coordinates (and making sure they are unique)\n\t\tconst unique = [], changes = [];\n\n\t\tconst precision = Math.pow( 10, precisionPoints );\n\n\t\tfor ( let i = 0, il = this.vertices.length; i < il; i ++ ) {\n\n\t\t\tconst v = this.vertices[ i ];\n\t\t\tconst key = Math.round( v.x * precision ) + '_' + Math.round( v.y * precision ) + '_' + Math.round( v.z * precision );\n\n\t\t\tif ( verticesMap[ key ] === undefined ) {\n\n\t\t\t\tverticesMap[ key ] = i;\n\t\t\t\tunique.push( this.vertices[ i ] );\n\t\t\t\tchanges[ i ] = unique.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\t//console.log('Duplicate vertex found. ', i, ' could be using ', verticesMap[key]);\n\t\t\t\tchanges[ i ] = changes[ verticesMap[ key ] ];\n\n\t\t\t}\n\n\t\t}\n\n\n\t\t// if faces are completely degenerate after merging vertices, we\n\t\t// have to remove them from the geometry.\n\t\tconst faceIndicesToRemove = [];\n\n\t\tfor ( let i = 0, il = this.faces.length; i < il; i ++ ) {\n\n\t\t\tconst face = this.faces[ i ];\n\n\t\t\tface.a = changes[ face.a ];\n\t\t\tface.b = changes[ face.b ];\n\t\t\tface.c = changes[ face.c ];\n\n\t\t\tconst indices = [ face.a, face.b, face.c ];\n\n\t\t\t// if any duplicate vertices are found in a Face3\n\t\t\t// we have to remove the face as nothing can be saved\n\t\t\tfor ( let n = 0; n < 3; n ++ ) {\n\n\t\t\t\tif ( indices[ n ] === indices[ ( n + 1 ) % 3 ] ) {\n\n\t\t\t\t\tfaceIndicesToRemove.push( i );\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( let i = faceIndicesToRemove.length - 1; i >= 0; i -- ) {\n\n\t\t\tconst idx = faceIndicesToRemove[ i ];\n\n\t\t\tthis.faces.splice( idx, 1 );\n\n\t\t\tfor ( let j = 0, jl = this.faceVertexUvs.length; j < jl; j ++ ) {\n\n\t\t\t\tthis.faceVertexUvs[ j ].splice( idx, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Use unique set of vertices\n\n\t\tconst diff = this.vertices.length - unique.length;\n\t\tthis.vertices = unique;\n\t\treturn diff;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.vertices = [];\n\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tconst point = points[ i ];\n\t\t\tthis.vertices.push( new Vector3( point.x, point.y, point.z || 0 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsortFacesByMaterialIndex: function () {\n\n\t\tconst faces = this.faces;\n\t\tconst length = faces.length;\n\n\t\t// tag faces\n\n\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\tfaces[ i ]._id = i;\n\n\t\t}\n\n\t\t// sort faces\n\n\t\tfunction materialIndexSort( a, b ) {\n\n\t\t\treturn a.materialIndex - b.materialIndex;\n\n\t\t}\n\n\t\tfaces.sort( materialIndexSort );\n\n\t\t// sort uvs\n\n\t\tconst uvs1 = this.faceVertexUvs[ 0 ];\n\t\tconst uvs2 = this.faceVertexUvs[ 1 ];\n\n\t\tlet newUvs1, newUvs2;\n\n\t\tif ( uvs1 && uvs1.length === length ) newUvs1 = [];\n\t\tif ( uvs2 && uvs2.length === length ) newUvs2 = [];\n\n\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\tconst id = faces[ i ]._id;\n\n\t\t\tif ( newUvs1 ) newUvs1.push( uvs1[ id ] );\n\t\t\tif ( newUvs2 ) newUvs2.push( uvs2[ id ] );\n\n\t\t}\n\n\t\tif ( newUvs1 ) this.faceVertexUvs[ 0 ] = newUvs1;\n\t\tif ( newUvs2 ) this.faceVertexUvs[ 1 ] = newUvs2;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Geometry',\n\t\t\t\tgenerator: 'Geometry.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard Geometry serialization\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\t\tif ( this.name !== '' ) data.name = this.name;\n\n\t\tif ( this.parameters !== undefined ) {\n\n\t\t\tconst parameters = this.parameters;\n\n\t\t\tfor ( const key in parameters ) {\n\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tconst vertices = [];\n\n\t\tfor ( let i = 0; i < this.vertices.length; i ++ ) {\n\n\t\t\tconst vertex = this.vertices[ i ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t\tconst faces = [];\n\t\tconst normals = [];\n\t\tconst normalsHash = {};\n\t\tconst colors = [];\n\t\tconst colorsHash = {};\n\t\tconst uvs = [];\n\t\tconst uvsHash = {};\n\n\t\tfor ( let i = 0; i < this.faces.length; i ++ ) {\n\n\t\t\tconst face = this.faces[ i ];\n\n\t\t\tconst hasMaterial = true;\n\t\t\tconst hasFaceUv = false; // deprecated\n\t\t\tconst hasFaceVertexUv = this.faceVertexUvs[ 0 ][ i ] !== undefined;\n\t\t\tconst hasFaceNormal = face.normal.length() > 0;\n\t\t\tconst hasFaceVertexNormal = face.vertexNormals.length > 0;\n\t\t\tconst hasFaceColor = face.color.r !== 1 || face.color.g !== 1 || face.color.b !== 1;\n\t\t\tconst hasFaceVertexColor = face.vertexColors.length > 0;\n\n\t\t\tlet faceType = 0;\n\n\t\t\tfaceType = setBit( faceType, 0, 0 ); // isQuad\n\t\t\tfaceType = setBit( faceType, 1, hasMaterial );\n\t\t\tfaceType = setBit( faceType, 2, hasFaceUv );\n\t\t\tfaceType = setBit( faceType, 3, hasFaceVertexUv );\n\t\t\tfaceType = setBit( faceType, 4, hasFaceNormal );\n\t\t\tfaceType = setBit( faceType, 5, hasFaceVertexNormal );\n\t\t\tfaceType = setBit( faceType, 6, hasFaceColor );\n\t\t\tfaceType = setBit( faceType, 7, hasFaceVertexColor );\n\n\t\t\tfaces.push( faceType );\n\t\t\tfaces.push( face.a, face.b, face.c );\n\t\t\tfaces.push( face.materialIndex );\n\n\t\t\tif ( hasFaceVertexUv ) {\n\n\t\t\t\tconst faceVertexUvs = this.faceVertexUvs[ 0 ][ i ];\n\n\t\t\t\tfaces.push(\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 0 ] ),\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 1 ] ),\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 2 ] )\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t\tif ( hasFaceNormal ) {\n\n\t\t\t\tfaces.push( getNormalIndex( face.normal ) );\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexNormal ) {\n\n\t\t\t\tconst vertexNormals = face.vertexNormals;\n\n\t\t\t\tfaces.push(\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 0 ] ),\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 1 ] ),\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 2 ] )\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t\tif ( hasFaceColor ) {\n\n\t\t\t\tfaces.push( getColorIndex( face.color ) );\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexColor ) {\n\n\t\t\t\tconst vertexColors = face.vertexColors;\n\n\t\t\t\tfaces.push(\n\t\t\t\t\tgetColorIndex( vertexColors[ 0 ] ),\n\t\t\t\t\tgetColorIndex( vertexColors[ 1 ] ),\n\t\t\t\t\tgetColorIndex( vertexColors[ 2 ] )\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction setBit( value, position, enabled ) {\n\n\t\t\treturn enabled ? value | ( 1 << position ) : value & ( ~ ( 1 << position ) );\n\n\t\t}\n\n\t\tfunction getNormalIndex( normal ) {\n\n\t\t\tconst hash = normal.x.toString() + normal.y.toString() + normal.z.toString();\n\n\t\t\tif ( normalsHash[ hash ] !== undefined ) {\n\n\t\t\t\treturn normalsHash[ hash ];\n\n\t\t\t}\n\n\t\t\tnormalsHash[ hash ] = normals.length / 3;\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\treturn normalsHash[ hash ];\n\n\t\t}\n\n\t\tfunction getColorIndex( color ) {\n\n\t\t\tconst hash = color.r.toString() + color.g.toString() + color.b.toString();\n\n\t\t\tif ( colorsHash[ hash ] !== undefined ) {\n\n\t\t\t\treturn colorsHash[ hash ];\n\n\t\t\t}\n\n\t\t\tcolorsHash[ hash ] = colors.length;\n\t\t\tcolors.push( color.getHex() );\n\n\t\t\treturn colorsHash[ hash ];\n\n\t\t}\n\n\t\tfunction getUvIndex( uv ) {\n\n\t\t\tconst hash = uv.x.toString() + uv.y.toString();\n\n\t\t\tif ( uvsHash[ hash ] !== undefined ) {\n\n\t\t\t\treturn uvsHash[ hash ];\n\n\t\t\t}\n\n\t\t\tuvsHash[ hash ] = uvs.length / 2;\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\treturn uvsHash[ hash ];\n\n\t\t}\n\n\t\tdata.data = {};\n\n\t\tdata.data.vertices = vertices;\n\t\tdata.data.normals = normals;\n\t\tif ( colors.length > 0 ) data.data.colors = colors;\n\t\tif ( uvs.length > 0 ) data.data.uvs = [ uvs ]; // temporal backward compatibility\n\t\tdata.data.faces = faces;\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\t/*\n\t\t // Handle primitives\n\n\t\t const parameters = this.parameters;\n\n\t\t if ( parameters !== undefined ) {\n\n\t\t const values = [];\n\n\t\t for ( const key in parameters ) {\n\n\t\t values.push( parameters[ key ] );\n\n\t\t }\n\n\t\t const geometry = Object.create( this.constructor.prototype );\n\t\t this.constructor.apply( geometry, values );\n\t\t return geometry;\n\n\t\t }\n\n\t\t return new this.constructor().copy( this );\n\t\t */\n\n\t\treturn new Geometry().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\t// reset\n\n\t\tthis.vertices = [];\n\t\tthis.colors = [];\n\t\tthis.faces = [];\n\t\tthis.faceVertexUvs = [[]];\n\t\tthis.morphTargets = [];\n\t\tthis.morphNormals = [];\n\t\tthis.skinWeights = [];\n\t\tthis.skinIndices = [];\n\t\tthis.lineDistances = [];\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\t// name\n\n\t\tthis.name = source.name;\n\n\t\t// vertices\n\n\t\tconst vertices = source.vertices;\n\n\t\tfor ( let i = 0, il = vertices.length; i < il; i ++ ) {\n\n\t\t\tthis.vertices.push( vertices[ i ].clone() );\n\n\t\t}\n\n\t\t// colors\n\n\t\tconst colors = source.colors;\n\n\t\tfor ( let i = 0, il = colors.length; i < il; i ++ ) {\n\n\t\t\tthis.colors.push( colors[ i ].clone() );\n\n\t\t}\n\n\t\t// faces\n\n\t\tconst faces = source.faces;\n\n\t\tfor ( let i = 0, il = faces.length; i < il; i ++ ) {\n\n\t\t\tthis.faces.push( faces[ i ].clone() );\n\n\t\t}\n\n\t\t// face vertex uvs\n\n\t\tfor ( let i = 0, il = source.faceVertexUvs.length; i < il; i ++ ) {\n\n\t\t\tconst faceVertexUvs = source.faceVertexUvs[ i ];\n\n\t\t\tif ( this.faceVertexUvs[ i ] === undefined ) {\n\n\t\t\t\tthis.faceVertexUvs[ i ] = [];\n\n\t\t\t}\n\n\t\t\tfor ( let j = 0, jl = faceVertexUvs.length; j < jl; j ++ ) {\n\n\t\t\t\tconst uvs = faceVertexUvs[ j ], uvsCopy = [];\n\n\t\t\t\tfor ( let k = 0, kl = uvs.length; k < kl; k ++ ) {\n\n\t\t\t\t\tconst uv = uvs[ k ];\n\n\t\t\t\t\tuvsCopy.push( uv.clone() );\n\n\t\t\t\t}\n\n\t\t\t\tthis.faceVertexUvs[ i ].push( uvsCopy );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// morph targets\n\n\t\tconst morphTargets = source.morphTargets;\n\n\t\tfor ( let i = 0, il = morphTargets.length; i < il; i ++ ) {\n\n\t\t\tconst morphTarget = {};\n\t\t\tmorphTarget.name = morphTargets[ i ].name;\n\n\t\t\t// vertices\n\n\t\t\tif ( morphTargets[ i ].vertices !== undefined ) {\n\n\t\t\t\tmorphTarget.vertices = [];\n\n\t\t\t\tfor ( let j = 0, jl = morphTargets[ i ].vertices.length; j < jl; j ++ ) {\n\n\t\t\t\t\tmorphTarget.vertices.push( morphTargets[ i ].vertices[ j ].clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// normals\n\n\t\t\tif ( morphTargets[ i ].normals !== undefined ) {\n\n\t\t\t\tmorphTarget.normals = [];\n\n\t\t\t\tfor ( let j = 0, jl = morphTargets[ i ].normals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tmorphTarget.normals.push( morphTargets[ i ].normals[ j ].clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.push( morphTarget );\n\n\t\t}\n\n\t\t// morph normals\n\n\t\tconst morphNormals = source.morphNormals;\n\n\t\tfor ( let i = 0, il = morphNormals.length; i < il; i ++ ) {\n\n\t\t\tconst morphNormal = {};\n\n\t\t\t// vertex normals\n\n\t\t\tif ( morphNormals[ i ].vertexNormals !== undefined ) {\n\n\t\t\t\tmorphNormal.vertexNormals = [];\n\n\t\t\t\tfor ( let j = 0, jl = morphNormals[ i ].vertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tconst srcVertexNormal = morphNormals[ i ].vertexNormals[ j ];\n\t\t\t\t\tconst destVertexNormal = {};\n\n\t\t\t\t\tdestVertexNormal.a = srcVertexNormal.a.clone();\n\t\t\t\t\tdestVertexNormal.b = srcVertexNormal.b.clone();\n\t\t\t\t\tdestVertexNormal.c = srcVertexNormal.c.clone();\n\n\t\t\t\t\tmorphNormal.vertexNormals.push( destVertexNormal );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// face normals\n\n\t\t\tif ( morphNormals[ i ].faceNormals !== undefined ) {\n\n\t\t\t\tmorphNormal.faceNormals = [];\n\n\t\t\t\tfor ( let j = 0, jl = morphNormals[ i ].faceNormals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tmorphNormal.faceNormals.push( morphNormals[ i ].faceNormals[ j ].clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.morphNormals.push( morphNormal );\n\n\t\t}\n\n\t\t// skin weights\n\n\t\tconst skinWeights = source.skinWeights;\n\n\t\tfor ( let i = 0, il = skinWeights.length; i < il; i ++ ) {\n\n\t\t\tthis.skinWeights.push( skinWeights[ i ].clone() );\n\n\t\t}\n\n\t\t// skin indices\n\n\t\tconst skinIndices = source.skinIndices;\n\n\t\tfor ( let i = 0, il = skinIndices.length; i < il; i ++ ) {\n\n\t\t\tthis.skinIndices.push( skinIndices[ i ].clone() );\n\n\t\t}\n\n\t\t// line distances\n\n\t\tconst lineDistances = source.lineDistances;\n\n\t\tfor ( let i = 0, il = lineDistances.length; i < il; i ++ ) {\n\n\t\t\tthis.lineDistances.push( lineDistances[ i ] );\n\n\t\t}\n\n\t\t// bounding box\n\n\t\tconst boundingBox = source.boundingBox;\n\n\t\tif ( boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = boundingBox.clone();\n\n\t\t}\n\n\t\t// bounding sphere\n\n\t\tconst boundingSphere = source.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = boundingSphere.clone();\n\n\t\t}\n\n\t\t// update flags\n\n\t\tthis.elementsNeedUpdate = source.elementsNeedUpdate;\n\t\tthis.verticesNeedUpdate = source.verticesNeedUpdate;\n\t\tthis.uvsNeedUpdate = source.uvsNeedUpdate;\n\t\tthis.normalsNeedUpdate = source.normalsNeedUpdate;\n\t\tthis.colorsNeedUpdate = source.colorsNeedUpdate;\n\t\tthis.lineDistancesNeedUpdate = source.lineDistancesNeedUpdate;\n\t\tthis.groupsNeedUpdate = source.groupsNeedUpdate;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\nclass BoxGeometry extends Geometry {\n\n\tconstructor( width, height, depth, widthSegments, heightSegments, depthSegments ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'BoxGeometry';\n\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\tdepth: depth,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\tdepthSegments: depthSegments\n\t\t};\n\n\t\tthis.fromBufferGeometry( new BoxBufferGeometry( width, height, depth, widthSegments, heightSegments, depthSegments ) );\n\t\tthis.mergeVertices();\n\n\t}\n\n}\n\nclass CircleBufferGeometry extends BufferGeometry {\n\n\tconstructor( radius = 1, segments = 8, thetaStart = 0, thetaLength = Math.PI * 2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'CircleBufferGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tsegments: segments,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tsegments = Math.max( 3, segments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tconst vertex = new Vector3();\n\t\tconst uv = new Vector2();\n\n\t\t// center point\n\n\t\tvertices.push( 0, 0, 0 );\n\t\tnormals.push( 0, 0, 1 );\n\t\tuvs.push( 0.5, 0.5 );\n\n\t\tfor ( let s = 0, i = 3; s <= segments; s ++, i += 3 ) {\n\n\t\t\tconst segment = thetaStart + s / segments * thetaLength;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = radius * Math.cos( segment );\n\t\t\tvertex.y = radius * Math.sin( segment );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t// uvs\n\n\t\t\tuv.x = ( vertices[ i ] / radius + 1 ) / 2;\n\t\t\tuv.y = ( vertices[ i + 1 ] / radius + 1 ) / 2;\n\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let i = 1; i <= segments; i ++ ) {\n\n\t\t\tindices.push( i, i + 1, 0 );\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n}\n\nclass CircleGeometry extends Geometry {\n\n\tconstructor( radius, segments, thetaStart, thetaLength ) {\n\n\t\tsuper();\n\t\tthis.type = 'CircleGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tsegments: segments,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tthis.fromBufferGeometry( new CircleBufferGeometry( radius, segments, thetaStart, thetaLength ) );\n\t\tthis.mergeVertices();\n\n\t}\n\n}\n\nclass CylinderBufferGeometry extends BufferGeometry {\n\n\tconstructor( radiusTop = 1, radiusBottom = 1, height = 1, radialSegments = 8, heightSegments = 1, openEnded = false, thetaStart = 0, thetaLength = Math.PI * 2 ) {\n\n\t\tsuper();\n\t\tthis.type = 'CylinderBufferGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradiusTop: radiusTop,\n\t\t\tradiusBottom: radiusBottom,\n\t\t\theight: height,\n\t\t\tradialSegments: radialSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\topenEnded: openEnded,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tconst scope = this;\n\n\t\tradialSegments = Math.floor( radialSegments );\n\t\theightSegments = Math.floor( heightSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tlet index = 0;\n\t\tconst indexArray = [];\n\t\tconst halfHeight = height / 2;\n\t\tlet groupStart = 0;\n\n\t\t// generate geometry\n\n\t\tgenerateTorso();\n\n\t\tif ( openEnded === false ) {\n\n\t\t\tif ( radiusTop > 0 ) generateCap( true );\n\t\t\tif ( radiusBottom > 0 ) generateCap( false );\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\tfunction generateTorso() {\n\n\t\t\tconst normal = new Vector3();\n\t\t\tconst vertex = new Vector3();\n\n\t\t\tlet groupCount = 0;\n\n\t\t\t// this will be used to calculate the normal\n\t\t\tconst slope = ( radiusBottom - radiusTop ) / height;\n\n\t\t\t// generate vertices, normals and uvs\n\n\t\t\tfor ( let y = 0; y <= heightSegments; y ++ ) {\n\n\t\t\t\tconst indexRow = [];\n\n\t\t\t\tconst v = y / heightSegments;\n\n\t\t\t\t// calculate the radius of the current row\n\n\t\t\t\tconst radius = v * ( radiusBottom - radiusTop ) + radiusTop;\n\n\t\t\t\tfor ( let x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\t\t\tconst u = x / radialSegments;\n\n\t\t\t\t\tconst theta = u * thetaLength + thetaStart;\n\n\t\t\t\t\tconst sinTheta = Math.sin( theta );\n\t\t\t\t\tconst cosTheta = Math.cos( theta );\n\n\t\t\t\t\t// vertex\n\n\t\t\t\t\tvertex.x = radius * sinTheta;\n\t\t\t\t\tvertex.y = - v * height + halfHeight;\n\t\t\t\t\tvertex.z = radius * cosTheta;\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t\t// normal\n\n\t\t\t\t\tnormal.set( sinTheta, slope, cosTheta ).normalize();\n\t\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t\t// uv\n\n\t\t\t\t\tuvs.push( u, 1 - v );\n\n\t\t\t\t\t// save index of vertex in respective row\n\n\t\t\t\t\tindexRow.push( index ++ );\n\n\t\t\t\t}\n\n\t\t\t\t// now save vertices of the row in our index array\n\n\t\t\t\tindexArray.push( indexRow );\n\n\t\t\t}\n\n\t\t\t// generate indices\n\n\t\t\tfor ( let x = 0; x < radialSegments; x ++ ) {\n\n\t\t\t\tfor ( let y = 0; y < heightSegments; y ++ ) {\n\n\t\t\t\t\t// we use the index array to access the correct indices\n\n\t\t\t\t\tconst a = indexArray[ y ][ x ];\n\t\t\t\t\tconst b = indexArray[ y + 1 ][ x ];\n\t\t\t\t\tconst c = indexArray[ y + 1 ][ x + 1 ];\n\t\t\t\t\tconst d = indexArray[ y ][ x + 1 ];\n\n\t\t\t\t\t// faces\n\n\t\t\t\t\tindices.push( a, b, d );\n\t\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t\t// update group counter\n\n\t\t\t\t\tgroupCount += 6;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\t\tscope.addGroup( groupStart, groupCount, 0 );\n\n\t\t\t// calculate new start value for groups\n\n\t\t\tgroupStart += groupCount;\n\n\t\t}\n\n\t\tfunction generateCap( top ) {\n\n\t\t\t// save the index of the first center vertex\n\t\t\tconst centerIndexStart = index;\n\n\t\t\tconst uv = new Vector2();\n\t\t\tconst vertex = new Vector3();\n\n\t\t\tlet groupCount = 0;\n\n\t\t\tconst radius = ( top === true ) ? radiusTop : radiusBottom;\n\t\t\tconst sign = ( top === true ) ? 1 : - 1;\n\n\t\t\t// first we generate the center vertex data of the cap.\n\t\t\t// because the geometry needs one set of uvs per face,\n\t\t\t// we must generate a center vertex per face/segment\n\n\t\t\tfor ( let x = 1; x <= radialSegments; x ++ ) {\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertices.push( 0, halfHeight * sign, 0 );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( 0.5, 0.5 );\n\n\t\t\t\t// increase index\n\n\t\t\t\tindex ++;\n\n\t\t\t}\n\n\t\t\t// save the index of the last center vertex\n\t\t\tconst centerIndexEnd = index;\n\n\t\t\t// now we generate the surrounding vertices, normals and uvs\n\n\t\t\tfor ( let x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\t\tconst u = x / radialSegments;\n\t\t\t\tconst theta = u * thetaLength + thetaStart;\n\n\t\t\t\tconst cosTheta = Math.cos( theta );\n\t\t\t\tconst sinTheta = Math.sin( theta );\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = radius * sinTheta;\n\t\t\t\tvertex.y = halfHeight * sign;\n\t\t\t\tvertex.z = radius * cosTheta;\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t\t// uv\n\n\t\t\t\tuv.x = ( cosTheta * 0.5 ) + 0.5;\n\t\t\t\tuv.y = ( sinTheta * 0.5 * sign ) + 0.5;\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t\t// increase index\n\n\t\t\t\tindex ++;\n\n\t\t\t}\n\n\t\t\t// generate indices\n\n\t\t\tfor ( let x = 0; x < radialSegments; x ++ ) {\n\n\t\t\t\tconst c = centerIndexStart + x;\n\t\t\t\tconst i = centerIndexEnd + x;\n\n\t\t\t\tif ( top === true ) {\n\n\t\t\t\t\t// face top\n\n\t\t\t\t\tindices.push( i, i + 1, c );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// face bottom\n\n\t\t\t\t\tindices.push( i + 1, i, c );\n\n\t\t\t\t}\n\n\t\t\t\tgroupCount += 3;\n\n\t\t\t}\n\n\t\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\t\tscope.addGroup( groupStart, groupCount, top === true ? 1 : 2 );\n\n\t\t\t// calculate new start value for groups\n\n\t\t\tgroupStart += groupCount;\n\n\t\t}\n\n\t}\n\n}\n\nclass CylinderGeometry extends Geometry {\n\n\tconstructor( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\t\tsuper();\n\t\tthis.type = 'CylinderGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradiusTop: radiusTop,\n\t\t\tradiusBottom: radiusBottom,\n\t\t\theight: height,\n\t\t\tradialSegments: radialSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\topenEnded: openEnded,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tthis.fromBufferGeometry( new CylinderBufferGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) );\n\t\tthis.mergeVertices();\n\n\t}\n\n}\n\nclass ConeGeometry extends CylinderGeometry {\n\n\tconstructor( radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\t\tsuper( 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\n\t\tthis.type = 'ConeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\theight: height,\n\t\t\tradialSegments: radialSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\topenEnded: openEnded,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t}\n\n}\n\nclass ConeBufferGeometry extends CylinderBufferGeometry {\n\n\tconstructor( radius = 1, height = 1, radialSegments = 8, heightSegments = 1, openEnded = false, thetaStart = 0, thetaLength = Math.PI * 2 ) {\n\n\t\tsuper( 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\n\n\t\tthis.type = 'ConeBufferGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\theight: height,\n\t\t\tradialSegments: radialSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\topenEnded: openEnded,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t}\n\n}\n\nclass PolyhedronBufferGeometry extends BufferGeometry {\n\n\tconstructor( vertices, indices, radius = 1, detail = 0 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'PolyhedronBufferGeometry';\n\n\t\tthis.parameters = {\n\t\t\tvertices: vertices,\n\t\t\tindices: indices,\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t\t// default buffer data\n\n\t\tconst vertexBuffer = [];\n\t\tconst uvBuffer = [];\n\n\t\t// the subdivision creates the vertex buffer data\n\n\t\tsubdivide( detail );\n\n\t\t// all vertices should lie on a conceptual sphere with a given radius\n\n\t\tapplyRadius( radius );\n\n\t\t// finally, create the uv data\n\n\t\tgenerateUVs();\n\n\t\t// build non-indexed geometry\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertexBuffer, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( vertexBuffer.slice(), 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvBuffer, 2 ) );\n\n\t\tif ( detail === 0 ) {\n\n\t\t\tthis.computeVertexNormals(); // flat normals\n\n\t\t} else {\n\n\t\t\tthis.normalizeNormals(); // smooth normals\n\n\t\t}\n\n\t\t// helper functions\n\n\t\tfunction subdivide( detail ) {\n\n\t\t\tconst a = new Vector3();\n\t\t\tconst b = new Vector3();\n\t\t\tconst c = new Vector3();\n\n\t\t\t// iterate over all faces and apply a subdivison with the given detail value\n\n\t\t\tfor ( let i = 0; i < indices.length; i += 3 ) {\n\n\t\t\t\t// get the vertices of the face\n\n\t\t\t\tgetVertexByIndex( indices[ i + 0 ], a );\n\t\t\t\tgetVertexByIndex( indices[ i + 1 ], b );\n\t\t\t\tgetVertexByIndex( indices[ i + 2 ], c );\n\n\t\t\t\t// perform subdivision\n\n\t\t\t\tsubdivideFace( a, b, c, detail );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction subdivideFace( a, b, c, detail ) {\n\n\t\t\tconst cols = detail + 1;\n\n\t\t\t// we use this multidimensional array as a data structure for creating the subdivision\n\n\t\t\tconst v = [];\n\n\t\t\t// construct all of the vertices for this subdivision\n\n\t\t\tfor ( let i = 0; i <= cols; i ++ ) {\n\n\t\t\t\tv[ i ] = [];\n\n\t\t\t\tconst aj = a.clone().lerp( c, i / cols );\n\t\t\t\tconst bj = b.clone().lerp( c, i / cols );\n\n\t\t\t\tconst rows = cols - i;\n\n\t\t\t\tfor ( let j = 0; j <= rows; j ++ ) {\n\n\t\t\t\t\tif ( j === 0 && i === cols ) {\n\n\t\t\t\t\t\tv[ i ][ j ] = aj;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tv[ i ][ j ] = aj.clone().lerp( bj, j / rows );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// construct all of the faces\n\n\t\t\tfor ( let i = 0; i < cols; i ++ ) {\n\n\t\t\t\tfor ( let j = 0; j < 2 * ( cols - i ) - 1; j ++ ) {\n\n\t\t\t\t\tconst k = Math.floor( j / 2 );\n\n\t\t\t\t\tif ( j % 2 === 0 ) {\n\n\t\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\t\t\t\t\t\tpushVertex( v[ i ][ k ] );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\t\tpushVertex( v[ i + 1 ][ k + 1 ] );\n\t\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction applyRadius( radius ) {\n\n\t\t\tconst vertex = new Vector3();\n\n\t\t\t// iterate over the entire buffer and apply the radius to each vertex\n\n\t\t\tfor ( let i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\t\tvertex.normalize().multiplyScalar( radius );\n\n\t\t\t\tvertexBuffer[ i + 0 ] = vertex.x;\n\t\t\t\tvertexBuffer[ i + 1 ] = vertex.y;\n\t\t\t\tvertexBuffer[ i + 2 ] = vertex.z;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction generateUVs() {\n\n\t\t\tconst vertex = new Vector3();\n\n\t\t\tfor ( let i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\t\tconst u = azimuth( vertex ) / 2 / Math.PI + 0.5;\n\t\t\t\tconst v = inclination( vertex ) / Math.PI + 0.5;\n\t\t\t\tuvBuffer.push( u, 1 - v );\n\n\t\t\t}\n\n\t\t\tcorrectUVs();\n\n\t\t\tcorrectSeam();\n\n\t\t}\n\n\t\tfunction correctSeam() {\n\n\t\t\t// handle case when face straddles the seam, see #3269\n\n\t\t\tfor ( let i = 0; i < uvBuffer.length; i += 6 ) {\n\n\t\t\t\t// uv data of a single face\n\n\t\t\t\tconst x0 = uvBuffer[ i + 0 ];\n\t\t\t\tconst x1 = uvBuffer[ i + 2 ];\n\t\t\t\tconst x2 = uvBuffer[ i + 4 ];\n\n\t\t\t\tconst max = Math.max( x0, x1, x2 );\n\t\t\t\tconst min = Math.min( x0, x1, x2 );\n\n\t\t\t\t// 0.9 is somewhat arbitrary\n\n\t\t\t\tif ( max > 0.9 && min < 0.1 ) {\n\n\t\t\t\t\tif ( x0 < 0.2 ) uvBuffer[ i + 0 ] += 1;\n\t\t\t\t\tif ( x1 < 0.2 ) uvBuffer[ i + 2 ] += 1;\n\t\t\t\t\tif ( x2 < 0.2 ) uvBuffer[ i + 4 ] += 1;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction pushVertex( vertex ) {\n\n\t\t\tvertexBuffer.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t\tfunction getVertexByIndex( index, vertex ) {\n\n\t\t\tconst stride = index * 3;\n\n\t\t\tvertex.x = vertices[ stride + 0 ];\n\t\t\tvertex.y = vertices[ stride + 1 ];\n\t\t\tvertex.z = vertices[ stride + 2 ];\n\n\t\t}\n\n\t\tfunction correctUVs() {\n\n\t\t\tconst a = new Vector3();\n\t\t\tconst b = new Vector3();\n\t\t\tconst c = new Vector3();\n\n\t\t\tconst centroid = new Vector3();\n\n\t\t\tconst uvA = new Vector2();\n\t\t\tconst uvB = new Vector2();\n\t\t\tconst uvC = new Vector2();\n\n\t\t\tfor ( let i = 0, j = 0; i < vertexBuffer.length; i += 9, j += 6 ) {\n\n\t\t\t\ta.set( vertexBuffer[ i + 0 ], vertexBuffer[ i + 1 ], vertexBuffer[ i + 2 ] );\n\t\t\t\tb.set( vertexBuffer[ i + 3 ], vertexBuffer[ i + 4 ], vertexBuffer[ i + 5 ] );\n\t\t\t\tc.set( vertexBuffer[ i + 6 ], vertexBuffer[ i + 7 ], vertexBuffer[ i + 8 ] );\n\n\t\t\t\tuvA.set( uvBuffer[ j + 0 ], uvBuffer[ j + 1 ] );\n\t\t\t\tuvB.set( uvBuffer[ j + 2 ], uvBuffer[ j + 3 ] );\n\t\t\t\tuvC.set( uvBuffer[ j + 4 ], uvBuffer[ j + 5 ] );\n\n\t\t\t\tcentroid.copy( a ).add( b ).add( c ).divideScalar( 3 );\n\n\t\t\t\tconst azi = azimuth( centroid );\n\n\t\t\t\tcorrectUV( uvA, j + 0, a, azi );\n\t\t\t\tcorrectUV( uvB, j + 2, b, azi );\n\t\t\t\tcorrectUV( uvC, j + 4, c, azi );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction correctUV( uv, stride, vector, azimuth ) {\n\n\t\t\tif ( ( azimuth < 0 ) && ( uv.x === 1 ) ) {\n\n\t\t\t\tuvBuffer[ stride ] = uv.x - 1;\n\n\t\t\t}\n\n\t\t\tif ( ( vector.x === 0 ) && ( vector.z === 0 ) ) {\n\n\t\t\t\tuvBuffer[ stride ] = azimuth / 2 / Math.PI + 0.5;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Angle around the Y axis, counter-clockwise when looking from above.\n\n\t\tfunction azimuth( vector ) {\n\n\t\t\treturn Math.atan2( vector.z, - vector.x );\n\n\t\t}\n\n\n\t\t// Angle above the XZ plane.\n\n\t\tfunction inclination( vector ) {\n\n\t\t\treturn Math.atan2( - vector.y, Math.sqrt( ( vector.x * vector.x ) + ( vector.z * vector.z ) ) );\n\n\t\t}\n\n\t}\n\n}\n\nclass DodecahedronBufferGeometry extends PolyhedronBufferGeometry {\n\n\tconstructor( radius = 1, detail = 0 ) {\n\n\t\tconst t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\t\tconst r = 1 / t;\n\n\t\tconst vertices = [\n\n\t\t\t// (1, 1, 1)\n\t\t\t- 1, - 1, - 1,\t- 1, - 1, 1,\n\t\t\t- 1, 1, - 1, - 1, 1, 1,\n\t\t\t1, - 1, - 1, 1, - 1, 1,\n\t\t\t1, 1, - 1, 1, 1, 1,\n\n\t\t\t// (0, 1/, )\n\t\t\t0, - r, - t, 0, - r, t,\n\t\t\t0, r, - t, 0, r, t,\n\n\t\t\t// (1/, , 0)\n\t\t\t- r, - t, 0, - r, t, 0,\n\t\t\tr, - t, 0, r, t, 0,\n\n\t\t\t// (, 0, 1/)\n\t\t\t- t, 0, - r, t, 0, - r,\n\t\t\t- t, 0, r, t, 0, r\n\t\t];\n\n\t\tconst indices = [\n\t\t\t3, 11, 7, \t3, 7, 15, \t3, 15, 13,\n\t\t\t7, 19, 17, \t7, 17, 6, \t7, 6, 15,\n\t\t\t17, 4, 8, \t17, 8, 10, \t17, 10, 6,\n\t\t\t8, 0, 16, \t8, 16, 2, \t8, 2, 10,\n\t\t\t0, 12, 1, \t0, 1, 18, \t0, 18, 16,\n\t\t\t6, 10, 2, \t6, 2, 13, \t6, 13, 15,\n\t\t\t2, 16, 18, \t2, 18, 3, \t2, 3, 13,\n\t\t\t18, 1, 9, \t18, 9, 11, \t18, 11, 3,\n\t\t\t4, 14, 12, \t4, 12, 0, \t4, 0, 8,\n\t\t\t11, 9, 5, \t11, 5, 19, \t11, 19, 7,\n\t\t\t19, 5, 14, \t19, 14, 4, \t19, 4, 17,\n\t\t\t1, 12, 14, \t1, 14, 5, \t1, 5, 9\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'DodecahedronBufferGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n}\n\nclass DodecahedronGeometry extends Geometry {\n\n\tconstructor( radius, detail ) {\n\n\t\tsuper();\n\t\tthis.type = 'DodecahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t\tthis.fromBufferGeometry( new DodecahedronBufferGeometry( radius, detail ) );\n\t\tthis.mergeVertices();\n\n\t}\n\n}\n\nconst _v0$2 = new Vector3();\nconst _v1$5 = new Vector3();\nconst _normal$1 = new Vector3();\nconst _triangle = new Triangle();\n\nclass EdgesGeometry extends BufferGeometry {\n\n\tconstructor( geometry, thresholdAngle ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'EdgesGeometry';\n\n\t\tthis.parameters = {\n\t\t\tthresholdAngle: thresholdAngle\n\t\t};\n\n\t\tthresholdAngle = ( thresholdAngle !== undefined ) ? thresholdAngle : 1;\n\n\t\tif ( geometry.isGeometry ) {\n\n\t\t\tgeometry = new BufferGeometry().fromGeometry( geometry );\n\n\t\t}\n\n\t\tconst precisionPoints = 4;\n\t\tconst precision = Math.pow( 10, precisionPoints );\n\t\tconst thresholdDot = Math.cos( MathUtils.DEG2RAD * thresholdAngle );\n\n\t\tconst indexAttr = geometry.getIndex();\n\t\tconst positionAttr = geometry.getAttribute( 'position' );\n\t\tconst indexCount = indexAttr ? indexAttr.count : positionAttr.count;\n\n\t\tconst indexArr = [ 0, 0, 0 ];\n\t\tconst vertKeys = [ 'a', 'b', 'c' ];\n\t\tconst hashes = new Array( 3 );\n\n\t\tconst edgeData = {};\n\t\tconst vertices = [];\n\t\tfor ( let i = 0; i < indexCount; i += 3 ) {\n\n\t\t\tif ( indexAttr ) {\n\n\t\t\t\tindexArr[ 0 ] = indexAttr.getX( i );\n\t\t\t\tindexArr[ 1 ] = indexAttr.getX( i + 1 );\n\t\t\t\tindexArr[ 2 ] = indexAttr.getX( i + 2 );\n\n\t\t\t} else {\n\n\t\t\t\tindexArr[ 0 ] = i;\n\t\t\t\tindexArr[ 1 ] = i + 1;\n\t\t\t\tindexArr[ 2 ] = i + 2;\n\n\t\t\t}\n\n\t\t\tconst { a, b, c } = _triangle;\n\t\t\ta.fromBufferAttribute( positionAttr, indexArr[ 0 ] );\n\t\t\tb.fromBufferAttribute( positionAttr, indexArr[ 1 ] );\n\t\t\tc.fromBufferAttribute( positionAttr, indexArr[ 2 ] );\n\t\t\t_triangle.getNormal( _normal$1 );\n\n\t\t\t// create hashes for the edge from the vertices\n\t\t\thashes[ 0 ] = `${ Math.round( a.x * precision ) },${ Math.round( a.y * precision ) },${ Math.round( a.z * precision ) }`;\n\t\t\thashes[ 1 ] = `${ Math.round( b.x * precision ) },${ Math.round( b.y * precision ) },${ Math.round( b.z * precision ) }`;\n\t\t\thashes[ 2 ] = `${ Math.round( c.x * precision ) },${ Math.round( c.y * precision ) },${ Math.round( c.z * precision ) }`;\n\n\t\t\t// skip degenerate triangles\n\t\t\tif ( hashes[ 0 ] === hashes[ 1 ] || hashes[ 1 ] === hashes[ 2 ] || hashes[ 2 ] === hashes[ 0 ] ) {\n\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\t// iterate over every edge\n\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t// get the first and next vertex making up the edge\n\t\t\t\tconst jNext = ( j + 1 ) % 3;\n\t\t\t\tconst vecHash0 = hashes[ j ];\n\t\t\t\tconst vecHash1 = hashes[ jNext ];\n\t\t\t\tconst v0 = _triangle[ vertKeys[ j ] ];\n\t\t\t\tconst v1 = _triangle[ vertKeys[ jNext ] ];\n\n\t\t\t\tconst hash = `${ vecHash0 }_${ vecHash1 }`;\n\t\t\t\tconst reverseHash = `${ vecHash1 }_${ vecHash0 }`;\n\n\t\t\t\tif ( reverseHash in edgeData && edgeData[ reverseHash ] ) {\n\n\t\t\t\t\t// if we found a sibling edge add it into the vertex array if\n\t\t\t\t\t// it meets the angle threshold and delete the edge from the map.\n\t\t\t\t\tif ( _normal$1.dot( edgeData[ reverseHash ].normal ) <= thresholdDot ) {\n\n\t\t\t\t\t\tvertices.push( v0.x, v0.y, v0.z );\n\t\t\t\t\t\tvertices.push( v1.x, v1.y, v1.z );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tedgeData[ reverseHash ] = null;\n\n\t\t\t\t} else if ( ! ( hash in edgeData ) ) {\n\n\t\t\t\t\t// if we've already got an edge here then skip adding a new one\n\t\t\t\t\tedgeData[ hash ] = {\n\n\t\t\t\t\t\tindex0: indexArr[ j ],\n\t\t\t\t\t\tindex1: indexArr[ jNext ],\n\t\t\t\t\t\tnormal: _normal$1.clone(),\n\n\t\t\t\t\t};\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// iterate over all remaining, unmatched edges and add them to the vertex array\n\t\tfor ( const key in edgeData ) {\n\n\t\t\tif ( edgeData[ key ] ) {\n\n\t\t\t\tconst { index0, index1 } = edgeData[ key ];\n\t\t\t\t_v0$2.fromBufferAttribute( positionAttr, index0 );\n\t\t\t\t_v1$5.fromBufferAttribute( positionAttr, index1 );\n\n\t\t\t\tvertices.push( _v0$2.x, _v0$2.y, _v0$2.z );\n\t\t\t\tvertices.push( _v1$5.x, _v1$5.y, _v1$5.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n\t}\n\n}\n\n/**\n * Port from https://github.com/mapbox/earcut (v2.2.2)\n */\n\nconst Earcut = {\n\n\ttriangulate: function ( data, holeIndices, dim ) {\n\n\t\tdim = dim || 2;\n\n\t\tconst hasHoles = holeIndices && holeIndices.length;\n\t\tconst outerLen = hasHoles ? holeIndices[ 0 ] * dim : data.length;\n\t\tlet outerNode = linkedList( data, 0, outerLen, dim, true );\n\t\tconst triangles = [];\n\n\t\tif ( ! outerNode || outerNode.next === outerNode.prev ) return triangles;\n\n\t\tlet minX, minY, maxX, maxY, x, y, invSize;\n\n\t\tif ( hasHoles ) outerNode = eliminateHoles( data, holeIndices, outerNode, dim );\n\n\t\t// if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n\t\tif ( data.length > 80 * dim ) {\n\n\t\t\tminX = maxX = data[ 0 ];\n\t\t\tminY = maxY = data[ 1 ];\n\n\t\t\tfor ( let i = dim; i < outerLen; i += dim ) {\n\n\t\t\t\tx = data[ i ];\n\t\t\t\ty = data[ i + 1 ];\n\t\t\t\tif ( x < minX ) minX = x;\n\t\t\t\tif ( y < minY ) minY = y;\n\t\t\t\tif ( x > maxX ) maxX = x;\n\t\t\t\tif ( y > maxY ) maxY = y;\n\n\t\t\t}\n\n\t\t\t// minX, minY and invSize are later used to transform coords into integers for z-order calculation\n\t\t\tinvSize = Math.max( maxX - minX, maxY - minY );\n\t\t\tinvSize = invSize !== 0 ? 1 / invSize : 0;\n\n\t\t}\n\n\t\tearcutLinked( outerNode, triangles, dim, minX, minY, invSize );\n\n\t\treturn triangles;\n\n\t}\n\n};\n\n// create a circular doubly linked list from polygon points in the specified winding order\nfunction linkedList( data, start, end, dim, clockwise ) {\n\n\tlet i, last;\n\n\tif ( clockwise === ( signedArea( data, start, end, dim ) > 0 ) ) {\n\n\t\tfor ( i = start; i < end; i += dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\n\n\t} else {\n\n\t\tfor ( i = end - dim; i >= start; i -= dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\n\n\t}\n\n\tif ( last && equals( last, last.next ) ) {\n\n\t\tremoveNode( last );\n\t\tlast = last.next;\n\n\t}\n\n\treturn last;\n\n}\n\n// eliminate colinear or duplicate points\nfunction filterPoints( start, end ) {\n\n\tif ( ! start ) return start;\n\tif ( ! end ) end = start;\n\n\tlet p = start,\n\t\tagain;\n\tdo {\n\n\t\tagain = false;\n\n\t\tif ( ! p.steiner && ( equals( p, p.next ) || area( p.prev, p, p.next ) === 0 ) ) {\n\n\t\t\tremoveNode( p );\n\t\t\tp = end = p.prev;\n\t\t\tif ( p === p.next ) break;\n\t\t\tagain = true;\n\n\t\t} else {\n\n\t\t\tp = p.next;\n\n\t\t}\n\n\t} while ( again || p !== end );\n\n\treturn end;\n\n}\n\n// main ear slicing loop which triangulates a polygon (given as a linked list)\nfunction earcutLinked( ear, triangles, dim, minX, minY, invSize, pass ) {\n\n\tif ( ! ear ) return;\n\n\t// interlink polygon nodes in z-order\n\tif ( ! pass && invSize ) indexCurve( ear, minX, minY, invSize );\n\n\tlet stop = ear,\n\t\tprev, next;\n\n\t// iterate through ears, slicing them one by one\n\twhile ( ear.prev !== ear.next ) {\n\n\t\tprev = ear.prev;\n\t\tnext = ear.next;\n\n\t\tif ( invSize ? isEarHashed( ear, minX, minY, invSize ) : isEar( ear ) ) {\n\n\t\t\t// cut off the triangle\n\t\t\ttriangles.push( prev.i / dim );\n\t\t\ttriangles.push( ear.i / dim );\n\t\t\ttriangles.push( next.i / dim );\n\n\t\t\tremoveNode( ear );\n\n\t\t\t// skipping the next vertex leads to less sliver triangles\n\t\t\tear = next.next;\n\t\t\tstop = next.next;\n\n\t\t\tcontinue;\n\n\t\t}\n\n\t\tear = next;\n\n\t\t// if we looped through the whole remaining polygon and can't find any more ears\n\t\tif ( ear === stop ) {\n\n\t\t\t// try filtering points and slicing again\n\t\t\tif ( ! pass ) {\n\n\t\t\t\tearcutLinked( filterPoints( ear ), triangles, dim, minX, minY, invSize, 1 );\n\n\t\t\t\t// if this didn't work, try curing all small self-intersections locally\n\n\t\t\t} else if ( pass === 1 ) {\n\n\t\t\t\tear = cureLocalIntersections( filterPoints( ear ), triangles, dim );\n\t\t\t\tearcutLinked( ear, triangles, dim, minX, minY, invSize, 2 );\n\n\t\t\t\t// as a last resort, try splitting the remaining polygon into two\n\n\t\t\t} else if ( pass === 2 ) {\n\n\t\t\t\tsplitEarcut( ear, triangles, dim, minX, minY, invSize );\n\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n}\n\n// check whether a polygon node forms a valid ear with adjacent nodes\nfunction isEar( ear ) {\n\n\tconst a = ear.prev,\n\t\tb = ear,\n\t\tc = ear.next;\n\n\tif ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\n\n\t// now make sure we don't have other points inside the potential ear\n\tlet p = ear.next.next;\n\n\twhile ( p !== ear.prev ) {\n\n\t\tif ( pointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.next;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction isEarHashed( ear, minX, minY, invSize ) {\n\n\tconst a = ear.prev,\n\t\tb = ear,\n\t\tc = ear.next;\n\n\tif ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\n\n\t// triangle bbox; min & max are calculated like this for speed\n\tconst minTX = a.x < b.x ? ( a.x < c.x ? a.x : c.x ) : ( b.x < c.x ? b.x : c.x ),\n\t\tminTY = a.y < b.y ? ( a.y < c.y ? a.y : c.y ) : ( b.y < c.y ? b.y : c.y ),\n\t\tmaxTX = a.x > b.x ? ( a.x > c.x ? a.x : c.x ) : ( b.x > c.x ? b.x : c.x ),\n\t\tmaxTY = a.y > b.y ? ( a.y > c.y ? a.y : c.y ) : ( b.y > c.y ? b.y : c.y );\n\n\t// z-order range for the current triangle bbox;\n\tconst minZ = zOrder( minTX, minTY, minX, minY, invSize ),\n\t\tmaxZ = zOrder( maxTX, maxTY, minX, minY, invSize );\n\n\tlet p = ear.prevZ,\n\t\tn = ear.nextZ;\n\n\t// look for points inside the triangle in both directions\n\twhile ( p && p.z >= minZ && n && n.z <= maxZ ) {\n\n\t\tif ( p !== ear.prev && p !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.prevZ;\n\n\t\tif ( n !== ear.prev && n !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y ) &&\n\t\t\tarea( n.prev, n, n.next ) >= 0 ) return false;\n\t\tn = n.nextZ;\n\n\t}\n\n\t// look for remaining points in decreasing z-order\n\twhile ( p && p.z >= minZ ) {\n\n\t\tif ( p !== ear.prev && p !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.prevZ;\n\n\t}\n\n\t// look for remaining points in increasing z-order\n\twhile ( n && n.z <= maxZ ) {\n\n\t\tif ( n !== ear.prev && n !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y ) &&\n\t\t\tarea( n.prev, n, n.next ) >= 0 ) return false;\n\t\tn = n.nextZ;\n\n\t}\n\n\treturn true;\n\n}\n\n// go through all polygon nodes and cure small local self-intersections\nfunction cureLocalIntersections( start, triangles, dim ) {\n\n\tlet p = start;\n\tdo {\n\n\t\tconst a = p.prev,\n\t\t\tb = p.next.next;\n\n\t\tif ( ! equals( a, b ) && intersects( a, p, p.next, b ) && locallyInside( a, b ) && locallyInside( b, a ) ) {\n\n\t\t\ttriangles.push( a.i / dim );\n\t\t\ttriangles.push( p.i / dim );\n\t\t\ttriangles.push( b.i / dim );\n\n\t\t\t// remove two nodes involved\n\t\t\tremoveNode( p );\n\t\t\tremoveNode( p.next );\n\n\t\t\tp = start = b;\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\treturn filterPoints( p );\n\n}\n\n// try splitting polygon into two and triangulate them independently\nfunction splitEarcut( start, triangles, dim, minX, minY, invSize ) {\n\n\t// look for a valid diagonal that divides the polygon into two\n\tlet a = start;\n\tdo {\n\n\t\tlet b = a.next.next;\n\t\twhile ( b !== a.prev ) {\n\n\t\t\tif ( a.i !== b.i && isValidDiagonal( a, b ) ) {\n\n\t\t\t\t// split the polygon in two by the diagonal\n\t\t\t\tlet c = splitPolygon( a, b );\n\n\t\t\t\t// filter colinear points around the cuts\n\t\t\t\ta = filterPoints( a, a.next );\n\t\t\t\tc = filterPoints( c, c.next );\n\n\t\t\t\t// run earcut on each half\n\t\t\t\tearcutLinked( a, triangles, dim, minX, minY, invSize );\n\t\t\t\tearcutLinked( c, triangles, dim, minX, minY, invSize );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tb = b.next;\n\n\t\t}\n\n\t\ta = a.next;\n\n\t} while ( a !== start );\n\n}\n\n// link every hole into the outer loop, producing a single-ring polygon without holes\nfunction eliminateHoles( data, holeIndices, outerNode, dim ) {\n\n\tconst queue = [];\n\tlet i, len, start, end, list;\n\n\tfor ( i = 0, len = holeIndices.length; i < len; i ++ ) {\n\n\t\tstart = holeIndices[ i ] * dim;\n\t\tend = i < len - 1 ? holeIndices[ i + 1 ] * dim : data.length;\n\t\tlist = linkedList( data, start, end, dim, false );\n\t\tif ( list === list.next ) list.steiner = true;\n\t\tqueue.push( getLeftmost( list ) );\n\n\t}\n\n\tqueue.sort( compareX );\n\n\t// process holes from left to right\n\tfor ( i = 0; i < queue.length; i ++ ) {\n\n\t\teliminateHole( queue[ i ], outerNode );\n\t\touterNode = filterPoints( outerNode, outerNode.next );\n\n\t}\n\n\treturn outerNode;\n\n}\n\nfunction compareX( a, b ) {\n\n\treturn a.x - b.x;\n\n}\n\n// find a bridge between vertices that connects hole with an outer ring and and link it\nfunction eliminateHole( hole, outerNode ) {\n\n\touterNode = findHoleBridge( hole, outerNode );\n\tif ( outerNode ) {\n\n\t\tconst b = splitPolygon( outerNode, hole );\n\n\t\t// filter collinear points around the cuts\n\t\tfilterPoints( outerNode, outerNode.next );\n\t\tfilterPoints( b, b.next );\n\n\t}\n\n}\n\n// David Eberly's algorithm for finding a bridge between hole and outer polygon\nfunction findHoleBridge( hole, outerNode ) {\n\n\tlet p = outerNode;\n\tconst hx = hole.x;\n\tconst hy = hole.y;\n\tlet qx = - Infinity, m;\n\n\t// find a segment intersected by a ray from the hole's leftmost point to the left;\n\t// segment's endpoint with lesser x will be potential connection point\n\tdo {\n\n\t\tif ( hy <= p.y && hy >= p.next.y && p.next.y !== p.y ) {\n\n\t\t\tconst x = p.x + ( hy - p.y ) * ( p.next.x - p.x ) / ( p.next.y - p.y );\n\t\t\tif ( x <= hx && x > qx ) {\n\n\t\t\t\tqx = x;\n\t\t\t\tif ( x === hx ) {\n\n\t\t\t\t\tif ( hy === p.y ) return p;\n\t\t\t\t\tif ( hy === p.next.y ) return p.next;\n\n\t\t\t\t}\n\n\t\t\t\tm = p.x < p.next.x ? p : p.next;\n\n\t\t\t}\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== outerNode );\n\n\tif ( ! m ) return null;\n\n\tif ( hx === qx ) return m; // hole touches outer segment; pick leftmost endpoint\n\n\t// look for points inside the triangle of hole point, segment intersection and endpoint;\n\t// if there are no points found, we have a valid connection;\n\t// otherwise choose the point of the minimum angle with the ray as connection point\n\n\tconst stop = m,\n\t\tmx = m.x,\n\t\tmy = m.y;\n\tlet tanMin = Infinity, tan;\n\n\tp = m;\n\n\tdo {\n\n\t\tif ( hx >= p.x && p.x >= mx && hx !== p.x &&\n\t\t\t\tpointInTriangle( hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y ) ) {\n\n\t\t\ttan = Math.abs( hy - p.y ) / ( hx - p.x ); // tangential\n\n\t\t\tif ( locallyInside( p, hole ) && ( tan < tanMin || ( tan === tanMin && ( p.x > m.x || ( p.x === m.x && sectorContainsSector( m, p ) ) ) ) ) ) {\n\n\t\t\t\tm = p;\n\t\t\t\ttanMin = tan;\n\n\t\t\t}\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== stop );\n\n\treturn m;\n\n}\n\n// whether sector in vertex m contains sector in vertex p in the same coordinates\nfunction sectorContainsSector( m, p ) {\n\n\treturn area( m.prev, m, p.prev ) < 0 && area( p.next, m, m.next ) < 0;\n\n}\n\n// interlink polygon nodes in z-order\nfunction indexCurve( start, minX, minY, invSize ) {\n\n\tlet p = start;\n\tdo {\n\n\t\tif ( p.z === null ) p.z = zOrder( p.x, p.y, minX, minY, invSize );\n\t\tp.prevZ = p.prev;\n\t\tp.nextZ = p.next;\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\tp.prevZ.nextZ = null;\n\tp.prevZ = null;\n\n\tsortLinked( p );\n\n}\n\n// Simon Tatham's linked list merge sort algorithm\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\nfunction sortLinked( list ) {\n\n\tlet i, p, q, e, tail, numMerges, pSize, qSize,\n\t\tinSize = 1;\n\n\tdo {\n\n\t\tp = list;\n\t\tlist = null;\n\t\ttail = null;\n\t\tnumMerges = 0;\n\n\t\twhile ( p ) {\n\n\t\t\tnumMerges ++;\n\t\t\tq = p;\n\t\t\tpSize = 0;\n\t\t\tfor ( i = 0; i < inSize; i ++ ) {\n\n\t\t\t\tpSize ++;\n\t\t\t\tq = q.nextZ;\n\t\t\t\tif ( ! q ) break;\n\n\t\t\t}\n\n\t\t\tqSize = inSize;\n\n\t\t\twhile ( pSize > 0 || ( qSize > 0 && q ) ) {\n\n\t\t\t\tif ( pSize !== 0 && ( qSize === 0 || ! q || p.z <= q.z ) ) {\n\n\t\t\t\t\te = p;\n\t\t\t\t\tp = p.nextZ;\n\t\t\t\t\tpSize --;\n\n\t\t\t\t} else {\n\n\t\t\t\t\te = q;\n\t\t\t\t\tq = q.nextZ;\n\t\t\t\t\tqSize --;\n\n\t\t\t\t}\n\n\t\t\t\tif ( tail ) tail.nextZ = e;\n\t\t\t\telse list = e;\n\n\t\t\t\te.prevZ = tail;\n\t\t\t\ttail = e;\n\n\t\t\t}\n\n\t\t\tp = q;\n\n\t\t}\n\n\t\ttail.nextZ = null;\n\t\tinSize *= 2;\n\n\t} while ( numMerges > 1 );\n\n\treturn list;\n\n}\n\n// z-order of a point given coords and inverse of the longer side of data bbox\nfunction zOrder( x, y, minX, minY, invSize ) {\n\n\t// coords are transformed into non-negative 15-bit integer range\n\tx = 32767 * ( x - minX ) * invSize;\n\ty = 32767 * ( y - minY ) * invSize;\n\n\tx = ( x | ( x << 8 ) ) & 0x00FF00FF;\n\tx = ( x | ( x << 4 ) ) & 0x0F0F0F0F;\n\tx = ( x | ( x << 2 ) ) & 0x33333333;\n\tx = ( x | ( x << 1 ) ) & 0x55555555;\n\n\ty = ( y | ( y << 8 ) ) & 0x00FF00FF;\n\ty = ( y | ( y << 4 ) ) & 0x0F0F0F0F;\n\ty = ( y | ( y << 2 ) ) & 0x33333333;\n\ty = ( y | ( y << 1 ) ) & 0x55555555;\n\n\treturn x | ( y << 1 );\n\n}\n\n// find the leftmost node of a polygon ring\nfunction getLeftmost( start ) {\n\n\tlet p = start,\n\t\tleftmost = start;\n\tdo {\n\n\t\tif ( p.x < leftmost.x || ( p.x === leftmost.x && p.y < leftmost.y ) ) leftmost = p;\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\treturn leftmost;\n\n}\n\n// check if a point lies within a convex triangle\nfunction pointInTriangle( ax, ay, bx, by, cx, cy, px, py ) {\n\n\treturn ( cx - px ) * ( ay - py ) - ( ax - px ) * ( cy - py ) >= 0 &&\n\t\t\t( ax - px ) * ( by - py ) - ( bx - px ) * ( ay - py ) >= 0 &&\n\t\t\t( bx - px ) * ( cy - py ) - ( cx - px ) * ( by - py ) >= 0;\n\n}\n\n// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\nfunction isValidDiagonal( a, b ) {\n\n\treturn a.next.i !== b.i && a.prev.i !== b.i && ! intersectsPolygon( a, b ) && // dones't intersect other edges\n\t\t( locallyInside( a, b ) && locallyInside( b, a ) && middleInside( a, b ) && // locally visible\n\t\t( area( a.prev, a, b.prev ) || area( a, b.prev, b ) ) || // does not create opposite-facing sectors\n\t\tequals( a, b ) && area( a.prev, a, a.next ) > 0 && area( b.prev, b, b.next ) > 0 ); // special zero-length case\n\n}\n\n// signed area of a triangle\nfunction area( p, q, r ) {\n\n\treturn ( q.y - p.y ) * ( r.x - q.x ) - ( q.x - p.x ) * ( r.y - q.y );\n\n}\n\n// check if two points are equal\nfunction equals( p1, p2 ) {\n\n\treturn p1.x === p2.x && p1.y === p2.y;\n\n}\n\n// check if two segments intersect\nfunction intersects( p1, q1, p2, q2 ) {\n\n\tconst o1 = sign( area( p1, q1, p2 ) );\n\tconst o2 = sign( area( p1, q1, q2 ) );\n\tconst o3 = sign( area( p2, q2, p1 ) );\n\tconst o4 = sign( area( p2, q2, q1 ) );\n\n\tif ( o1 !== o2 && o3 !== o4 ) return true; // general case\n\n\tif ( o1 === 0 && onSegment( p1, p2, q1 ) ) return true; // p1, q1 and p2 are collinear and p2 lies on p1q1\n\tif ( o2 === 0 && onSegment( p1, q2, q1 ) ) return true; // p1, q1 and q2 are collinear and q2 lies on p1q1\n\tif ( o3 === 0 && onSegment( p2, p1, q2 ) ) return true; // p2, q2 and p1 are collinear and p1 lies on p2q2\n\tif ( o4 === 0 && onSegment( p2, q1, q2 ) ) return true; // p2, q2 and q1 are collinear and q1 lies on p2q2\n\n\treturn false;\n\n}\n\n// for collinear points p, q, r, check if point q lies on segment pr\nfunction onSegment( p, q, r ) {\n\n\treturn q.x <= Math.max( p.x, r.x ) && q.x >= Math.min( p.x, r.x ) && q.y <= Math.max( p.y, r.y ) && q.y >= Math.min( p.y, r.y );\n\n}\n\nfunction sign( num ) {\n\n\treturn num > 0 ? 1 : num < 0 ? - 1 : 0;\n\n}\n\n// check if a polygon diagonal intersects any polygon segments\nfunction intersectsPolygon( a, b ) {\n\n\tlet p = a;\n\tdo {\n\n\t\tif ( p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\n\t\t\t\tintersects( p, p.next, a, b ) ) return true;\n\t\tp = p.next;\n\n\t} while ( p !== a );\n\n\treturn false;\n\n}\n\n// check if a polygon diagonal is locally inside the polygon\nfunction locallyInside( a, b ) {\n\n\treturn area( a.prev, a, a.next ) < 0 ?\n\t\tarea( a, b, a.next ) >= 0 && area( a, a.prev, b ) >= 0 :\n\t\tarea( a, b, a.prev ) < 0 || area( a, a.next, b ) < 0;\n\n}\n\n// check if the middle point of a polygon diagonal is inside the polygon\nfunction middleInside( a, b ) {\n\n\tlet p = a,\n\t\tinside = false;\n\tconst px = ( a.x + b.x ) / 2,\n\t\tpy = ( a.y + b.y ) / 2;\n\tdo {\n\n\t\tif ( ( ( p.y > py ) !== ( p.next.y > py ) ) && p.next.y !== p.y &&\n\t\t\t\t( px < ( p.next.x - p.x ) * ( py - p.y ) / ( p.next.y - p.y ) + p.x ) )\n\t\t\tinside = ! inside;\n\t\tp = p.next;\n\n\t} while ( p !== a );\n\n\treturn inside;\n\n}\n\n// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\nfunction splitPolygon( a, b ) {\n\n\tconst a2 = new Node( a.i, a.x, a.y ),\n\t\tb2 = new Node( b.i, b.x, b.y ),\n\t\tan = a.next,\n\t\tbp = b.prev;\n\n\ta.next = b;\n\tb.prev = a;\n\n\ta2.next = an;\n\tan.prev = a2;\n\n\tb2.next = a2;\n\ta2.prev = b2;\n\n\tbp.next = b2;\n\tb2.prev = bp;\n\n\treturn b2;\n\n}\n\n// create a node and optionally link it with previous one (in a circular doubly linked list)\nfunction insertNode( i, x, y, last ) {\n\n\tconst p = new Node( i, x, y );\n\n\tif ( ! last ) {\n\n\t\tp.prev = p;\n\t\tp.next = p;\n\n\t} else {\n\n\t\tp.next = last.next;\n\t\tp.prev = last;\n\t\tlast.next.prev = p;\n\t\tlast.next = p;\n\n\t}\n\n\treturn p;\n\n}\n\nfunction removeNode( p ) {\n\n\tp.next.prev = p.prev;\n\tp.prev.next = p.next;\n\n\tif ( p.prevZ ) p.prevZ.nextZ = p.nextZ;\n\tif ( p.nextZ ) p.nextZ.prevZ = p.prevZ;\n\n}\n\nfunction Node( i, x, y ) {\n\n\t// vertex index in coordinates array\n\tthis.i = i;\n\n\t// vertex coordinates\n\tthis.x = x;\n\tthis.y = y;\n\n\t// previous and next vertex nodes in a polygon ring\n\tthis.prev = null;\n\tthis.next = null;\n\n\t// z-order curve value\n\tthis.z = null;\n\n\t// previous and next nodes in z-order\n\tthis.prevZ = null;\n\tthis.nextZ = null;\n\n\t// indicates whether this is a steiner point\n\tthis.steiner = false;\n\n}\n\nfunction signedArea( data, start, end, dim ) {\n\n\tlet sum = 0;\n\tfor ( let i = start, j = end - dim; i < end; i += dim ) {\n\n\t\tsum += ( data[ j ] - data[ i ] ) * ( data[ i + 1 ] + data[ j + 1 ] );\n\t\tj = i;\n\n\t}\n\n\treturn sum;\n\n}\n\nconst ShapeUtils = {\n\n\t// calculate area of the contour polygon\n\n\tarea: function ( contour ) {\n\n\t\tconst n = contour.length;\n\t\tlet a = 0.0;\n\n\t\tfor ( let p = n - 1, q = 0; q < n; p = q ++ ) {\n\n\t\t\ta += contour[ p ].x * contour[ q ].y - contour[ q ].x * contour[ p ].y;\n\n\t\t}\n\n\t\treturn a * 0.5;\n\n\t},\n\n\tisClockWise: function ( pts ) {\n\n\t\treturn ShapeUtils.area( pts ) < 0;\n\n\t},\n\n\ttriangulateShape: function ( contour, holes ) {\n\n\t\tconst vertices = []; // flat array of vertices like [ x0,y0, x1,y1, x2,y2, ... ]\n\t\tconst holeIndices = []; // array of hole indices\n\t\tconst faces = []; // final array of vertex indices like [ [ a,b,d ], [ b,c,d ] ]\n\n\t\tremoveDupEndPts( contour );\n\t\taddContour( vertices, contour );\n\n\t\t//\n\n\t\tlet holeIndex = contour.length;\n\n\t\tholes.forEach( removeDupEndPts );\n\n\t\tfor ( let i = 0; i < holes.length; i ++ ) {\n\n\t\t\tholeIndices.push( holeIndex );\n\t\t\tholeIndex += holes[ i ].length;\n\t\t\taddContour( vertices, holes[ i ] );\n\n\t\t}\n\n\t\t//\n\n\t\tconst triangles = Earcut.triangulate( vertices, holeIndices );\n\n\t\t//\n\n\t\tfor ( let i = 0; i < triangles.length; i += 3 ) {\n\n\t\t\tfaces.push( triangles.slice( i, i + 3 ) );\n\n\t\t}\n\n\t\treturn faces;\n\n\t}\n\n};\n\nfunction removeDupEndPts( points ) {\n\n\tconst l = points.length;\n\n\tif ( l > 2 && points[ l - 1 ].equals( points[ 0 ] ) ) {\n\n\t\tpoints.pop();\n\n\t}\n\n}\n\nfunction addContour( vertices, contour ) {\n\n\tfor ( let i = 0; i < contour.length; i ++ ) {\n\n\t\tvertices.push( contour[ i ].x );\n\t\tvertices.push( contour[ i ].y );\n\n\t}\n\n}\n\n/**\n * Creates extruded geometry from a path shape.\n *\n * parameters = {\n *\n *  curveSegments: <int>, // number of points on the curves\n *  steps: <int>, // number of points for z-side extrusions / used for subdividing segments of extrude spline too\n *  depth: <float>, // Depth to extrude the shape\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into the original shape bevel goes\n *  bevelSize: <float>, // how far from shape outline (including bevelOffset) is bevel\n *  bevelOffset: <float>, // how far from shape outline does bevel start\n *  bevelSegments: <int>, // number of bevel layers\n *\n *  extrudePath: <THREE.Curve> // curve to extrude shape along\n *\n *  UVGenerator: <Object> // object that provides UV generator functions\n *\n * }\n */\n\nclass ExtrudeBufferGeometry extends BufferGeometry {\n\n\tconstructor( shapes, options ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'ExtrudeBufferGeometry';\n\n\t\tthis.parameters = {\n\t\t\tshapes: shapes,\n\t\t\toptions: options\n\t\t};\n\n\t\tshapes = Array.isArray( shapes ) ? shapes : [ shapes ];\n\n\t\tconst scope = this;\n\n\t\tconst verticesArray = [];\n\t\tconst uvArray = [];\n\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tconst shape = shapes[ i ];\n\t\t\taddShape( shape );\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( verticesArray, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvArray, 2 ) );\n\n\t\tthis.computeVertexNormals();\n\n\t\t// functions\n\n\t\tfunction addShape( shape ) {\n\n\t\t\tconst placeholder = [];\n\n\t\t\t// options\n\n\t\t\tconst curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;\n\t\t\tconst steps = options.steps !== undefined ? options.steps : 1;\n\t\t\tlet depth = options.depth !== undefined ? options.depth : 100;\n\n\t\t\tlet bevelEnabled = options.bevelEnabled !== undefined ? options.bevelEnabled : true;\n\t\t\tlet bevelThickness = options.bevelThickness !== undefined ? options.bevelThickness : 6;\n\t\t\tlet bevelSize = options.bevelSize !== undefined ? options.bevelSize : bevelThickness - 2;\n\t\t\tlet bevelOffset = options.bevelOffset !== undefined ? options.bevelOffset : 0;\n\t\t\tlet bevelSegments = options.bevelSegments !== undefined ? options.bevelSegments : 3;\n\n\t\t\tconst extrudePath = options.extrudePath;\n\n\t\t\tconst uvgen = options.UVGenerator !== undefined ? options.UVGenerator : WorldUVGenerator;\n\n\t\t\t// deprecated options\n\n\t\t\tif ( options.amount !== undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ExtrudeBufferGeometry: amount has been renamed to depth.' );\n\t\t\t\tdepth = options.amount;\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tlet extrudePts, extrudeByPath = false;\n\t\t\tlet splineTube, binormal, normal, position2;\n\n\t\t\tif ( extrudePath ) {\n\n\t\t\t\textrudePts = extrudePath.getSpacedPoints( steps );\n\n\t\t\t\textrudeByPath = true;\n\t\t\t\tbevelEnabled = false; // bevels not supported for path extrusion\n\n\t\t\t\t// SETUP TNB variables\n\n\t\t\t\t// TODO1 - have a .isClosed in spline?\n\n\t\t\t\tsplineTube = extrudePath.computeFrenetFrames( steps, false );\n\n\t\t\t\t// console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);\n\n\t\t\t\tbinormal = new Vector3();\n\t\t\t\tnormal = new Vector3();\n\t\t\t\tposition2 = new Vector3();\n\n\t\t\t}\n\n\t\t\t// Safeguards if bevels are not enabled\n\n\t\t\tif ( ! bevelEnabled ) {\n\n\t\t\t\tbevelSegments = 0;\n\t\t\t\tbevelThickness = 0;\n\t\t\t\tbevelSize = 0;\n\t\t\t\tbevelOffset = 0;\n\n\t\t\t}\n\n\t\t\t// Variables initialization\n\n\t\t\tconst shapePoints = shape.extractPoints( curveSegments );\n\n\t\t\tlet vertices = shapePoints.shape;\n\t\t\tconst holes = shapePoints.holes;\n\n\t\t\tconst reverse = ! ShapeUtils.isClockWise( vertices );\n\n\t\t\tif ( reverse ) {\n\n\t\t\t\tvertices = vertices.reverse();\n\n\t\t\t\t// Maybe we should also check if holes are in the opposite direction, just to be safe ...\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\n\t\t\t\t\tif ( ShapeUtils.isClockWise( ahole ) ) {\n\n\t\t\t\t\t\tholes[ h ] = ahole.reverse();\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tconst faces = ShapeUtils.triangulateShape( vertices, holes );\n\n\t\t\t/* Vertices */\n\n\t\t\tconst contour = vertices; // vertices has all points but contour has only points of circumference\n\n\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tconst ahole = holes[ h ];\n\n\t\t\t\tvertices = vertices.concat( ahole );\n\n\t\t\t}\n\n\n\t\t\tfunction scalePt2( pt, vec, size ) {\n\n\t\t\t\tif ( ! vec ) console.error( \"THREE.ExtrudeGeometry: vec does not exist\" );\n\n\t\t\t\treturn vec.clone().multiplyScalar( size ).add( pt );\n\n\t\t\t}\n\n\t\t\tconst vlen = vertices.length, flen = faces.length;\n\n\n\t\t\t// Find directions for point movement\n\n\n\t\t\tfunction getBevelVec( inPt, inPrev, inNext ) {\n\n\t\t\t\t// computes for inPt the corresponding point inPt' on a new contour\n\t\t\t\t//   shifted by 1 unit (length of normalized vector) to the left\n\t\t\t\t// if we walk along contour clockwise, this new contour is outside the old one\n\t\t\t\t//\n\t\t\t\t// inPt' is the intersection of the two lines parallel to the two\n\t\t\t\t//  adjacent edges of inPt at a distance of 1 unit on the left side.\n\n\t\t\t\tlet v_trans_x, v_trans_y, shrink_by; // resulting translation vector for inPt\n\n\t\t\t\t// good reading for geometry algorithms (here: line-line intersection)\n\t\t\t\t// http://geomalgorithms.com/a05-_intersect-1.html\n\n\t\t\t\tconst v_prev_x = inPt.x - inPrev.x,\n\t\t\t\t\tv_prev_y = inPt.y - inPrev.y;\n\t\t\t\tconst v_next_x = inNext.x - inPt.x,\n\t\t\t\t\tv_next_y = inNext.y - inPt.y;\n\n\t\t\t\tconst v_prev_lensq = ( v_prev_x * v_prev_x + v_prev_y * v_prev_y );\n\n\t\t\t\t// check for collinear edges\n\t\t\t\tconst collinear0 = ( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\t\t\tif ( Math.abs( collinear0 ) > Number.EPSILON ) {\n\n\t\t\t\t\t// not collinear\n\n\t\t\t\t\t// length of vectors for normalizing\n\n\t\t\t\t\tconst v_prev_len = Math.sqrt( v_prev_lensq );\n\t\t\t\t\tconst v_next_len = Math.sqrt( v_next_x * v_next_x + v_next_y * v_next_y );\n\n\t\t\t\t\t// shift adjacent points by unit vectors to the left\n\n\t\t\t\t\tconst ptPrevShift_x = ( inPrev.x - v_prev_y / v_prev_len );\n\t\t\t\t\tconst ptPrevShift_y = ( inPrev.y + v_prev_x / v_prev_len );\n\n\t\t\t\t\tconst ptNextShift_x = ( inNext.x - v_next_y / v_next_len );\n\t\t\t\t\tconst ptNextShift_y = ( inNext.y + v_next_x / v_next_len );\n\n\t\t\t\t\t// scaling factor for v_prev to intersection point\n\n\t\t\t\t\tconst sf = ( ( ptNextShift_x - ptPrevShift_x ) * v_next_y -\n\t\t\t\t\t\t\t( ptNextShift_y - ptPrevShift_y ) * v_next_x ) /\n\t\t\t\t\t\t( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\t\t\t\t// vector from inPt to intersection point\n\n\t\t\t\t\tv_trans_x = ( ptPrevShift_x + v_prev_x * sf - inPt.x );\n\t\t\t\t\tv_trans_y = ( ptPrevShift_y + v_prev_y * sf - inPt.y );\n\n\t\t\t\t\t// Don't normalize!, otherwise sharp corners become ugly\n\t\t\t\t\t//  but prevent crazy spikes\n\t\t\t\t\tconst v_trans_lensq = ( v_trans_x * v_trans_x + v_trans_y * v_trans_y );\n\t\t\t\t\tif ( v_trans_lensq <= 2 ) {\n\n\t\t\t\t\t\treturn new Vector2( v_trans_x, v_trans_y );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tshrink_by = Math.sqrt( v_trans_lensq / 2 );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// handle special case of collinear edges\n\n\t\t\t\t\tlet direction_eq = false; // assumes: opposite\n\n\t\t\t\t\tif ( v_prev_x > Number.EPSILON ) {\n\n\t\t\t\t\t\tif ( v_next_x > Number.EPSILON ) {\n\n\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( v_prev_x < - Number.EPSILON ) {\n\n\t\t\t\t\t\t\tif ( v_next_x < - Number.EPSILON ) {\n\n\t\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tif ( Math.sign( v_prev_y ) === Math.sign( v_next_y ) ) {\n\n\t\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( direction_eq ) {\n\n\t\t\t\t\t\t// console.log(\"Warning: lines are a straight sequence\");\n\t\t\t\t\t\tv_trans_x = - v_prev_y;\n\t\t\t\t\t\tv_trans_y = v_prev_x;\n\t\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// console.log(\"Warning: lines are a straight spike\");\n\t\t\t\t\t\tv_trans_x = v_prev_x;\n\t\t\t\t\t\tv_trans_y = v_prev_y;\n\t\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq / 2 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn new Vector2( v_trans_x / shrink_by, v_trans_y / shrink_by );\n\n\t\t\t}\n\n\n\t\t\tconst contourMovements = [];\n\n\t\t\tfor ( let i = 0, il = contour.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\t\tif ( j === il ) j = 0;\n\t\t\t\tif ( k === il ) k = 0;\n\n\t\t\t\t//  (j)---(i)---(k)\n\t\t\t\t// console.log('i,j,k', i, j , k)\n\n\t\t\t\tcontourMovements[ i ] = getBevelVec( contour[ i ], contour[ j ], contour[ k ] );\n\n\t\t\t}\n\n\t\t\tconst holesMovements = [];\n\t\t\tlet oneHoleMovements, verticesMovements = contourMovements.concat();\n\n\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tconst ahole = holes[ h ];\n\n\t\t\t\toneHoleMovements = [];\n\n\t\t\t\tfor ( let i = 0, il = ahole.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\t\t\tif ( j === il ) j = 0;\n\t\t\t\t\tif ( k === il ) k = 0;\n\n\t\t\t\t\t//  (j)---(i)---(k)\n\t\t\t\t\toneHoleMovements[ i ] = getBevelVec( ahole[ i ], ahole[ j ], ahole[ k ] );\n\n\t\t\t\t}\n\n\t\t\t\tholesMovements.push( oneHoleMovements );\n\t\t\t\tverticesMovements = verticesMovements.concat( oneHoleMovements );\n\n\t\t\t}\n\n\n\t\t\t// Loop bevelSegments, 1 for the front, 1 for the back\n\n\t\t\tfor ( let b = 0; b < bevelSegments; b ++ ) {\n\n\t\t\t\t//for ( b = bevelSegments; b > 0; b -- ) {\n\n\t\t\t\tconst t = b / bevelSegments;\n\t\t\t\tconst z = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\t\t\tconst bs = bevelSize * Math.sin( t * Math.PI / 2 ) + bevelOffset;\n\n\t\t\t\t// contract shape\n\n\t\t\t\tfor ( let i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst vert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\n\t\t\t\t\tv( vert.x, vert.y, - z );\n\n\t\t\t\t}\n\n\t\t\t\t// expand holes\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\t\t\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\t\t\tfor ( let i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst vert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\t\t\tv( vert.x, vert.y, - z );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst bs = bevelSize + bevelOffset;\n\n\t\t\t// Back facing vertices\n\n\t\t\tfor ( let i = 0; i < vlen; i ++ ) {\n\n\t\t\t\tconst vert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\tv( vert.x, vert.y, 0 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );\n\n\t\t\t\t\tnormal.copy( splineTube.normals[ 0 ] ).multiplyScalar( vert.x );\n\t\t\t\t\tbinormal.copy( splineTube.binormals[ 0 ] ).multiplyScalar( vert.y );\n\n\t\t\t\t\tposition2.copy( extrudePts[ 0 ] ).add( normal ).add( binormal );\n\n\t\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Add stepped vertices...\n\t\t\t// Including front facing vertices\n\n\t\t\tfor ( let s = 1; s <= steps; s ++ ) {\n\n\t\t\t\tfor ( let i = 0; i < vlen; i ++ ) {\n\n\t\t\t\t\tconst vert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\t\tv( vert.x, vert.y, depth / steps * s );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x );\n\n\t\t\t\t\t\tnormal.copy( splineTube.normals[ s ] ).multiplyScalar( vert.x );\n\t\t\t\t\t\tbinormal.copy( splineTube.binormals[ s ] ).multiplyScalar( vert.y );\n\n\t\t\t\t\t\tposition2.copy( extrudePts[ s ] ).add( normal ).add( binormal );\n\n\t\t\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\t// Add bevel segments planes\n\n\t\t\t//for ( b = 1; b <= bevelSegments; b ++ ) {\n\t\t\tfor ( let b = bevelSegments - 1; b >= 0; b -- ) {\n\n\t\t\t\tconst t = b / bevelSegments;\n\t\t\t\tconst z = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\t\t\tconst bs = bevelSize * Math.sin( t * Math.PI / 2 ) + bevelOffset;\n\n\t\t\t\t// contract shape\n\n\t\t\t\tfor ( let i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst vert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\t\t\t\t\tv( vert.x, vert.y, depth + z );\n\n\t\t\t\t}\n\n\t\t\t\t// expand holes\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\t\t\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\t\t\tfor ( let i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst vert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\t\t\tv( vert.x, vert.y, depth + z );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tv( vert.x, vert.y + extrudePts[ steps - 1 ].y, extrudePts[ steps - 1 ].x + z );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t/* Faces */\n\n\t\t\t// Top and bottom faces\n\n\t\t\tbuildLidFaces();\n\n\t\t\t// Sides faces\n\n\t\t\tbuildSideFaces();\n\n\n\t\t\t/////  Internal functions\n\n\t\t\tfunction buildLidFaces() {\n\n\t\t\t\tconst start = verticesArray.length / 3;\n\n\t\t\t\tif ( bevelEnabled ) {\n\n\t\t\t\t\tlet layer = 0; // steps + 1\n\t\t\t\t\tlet offset = vlen * layer;\n\n\t\t\t\t\t// Bottom faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 2 ] + offset, face[ 1 ] + offset, face[ 0 ] + offset );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tlayer = steps + bevelSegments * 2;\n\t\t\t\t\toffset = vlen * layer;\n\n\t\t\t\t\t// Top faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 0 ] + offset, face[ 1 ] + offset, face[ 2 ] + offset );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Bottom faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 2 ], face[ 1 ], face[ 0 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Top faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 0 ] + vlen * steps, face[ 1 ] + vlen * steps, face[ 2 ] + vlen * steps );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 0 );\n\n\t\t\t}\n\n\t\t\t// Create faces for the z-sides of the shape\n\n\t\t\tfunction buildSideFaces() {\n\n\t\t\t\tconst start = verticesArray.length / 3;\n\t\t\t\tlet layeroffset = 0;\n\t\t\t\tsidewalls( contour, layeroffset );\n\t\t\t\tlayeroffset += contour.length;\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\t\t\t\t\tsidewalls( ahole, layeroffset );\n\n\t\t\t\t\t//, true\n\t\t\t\t\tlayeroffset += ahole.length;\n\n\t\t\t\t}\n\n\n\t\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 1 );\n\n\n\t\t\t}\n\n\t\t\tfunction sidewalls( contour, layeroffset ) {\n\n\t\t\t\tlet i = contour.length;\n\n\t\t\t\twhile ( -- i >= 0 ) {\n\n\t\t\t\t\tconst j = i;\n\t\t\t\t\tlet k = i - 1;\n\t\t\t\t\tif ( k < 0 ) k = contour.length - 1;\n\n\t\t\t\t\t//console.log('b', i,j, i-1, k,vertices.length);\n\n\t\t\t\t\tfor ( let s = 0, sl = ( steps + bevelSegments * 2 ); s < sl; s ++ ) {\n\n\t\t\t\t\t\tconst slen1 = vlen * s;\n\t\t\t\t\t\tconst slen2 = vlen * ( s + 1 );\n\n\t\t\t\t\t\tconst a = layeroffset + j + slen1,\n\t\t\t\t\t\t\tb = layeroffset + k + slen1,\n\t\t\t\t\t\t\tc = layeroffset + k + slen2,\n\t\t\t\t\t\t\td = layeroffset + j + slen2;\n\n\t\t\t\t\t\tf4( a, b, c, d );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tfunction v( x, y, z ) {\n\n\t\t\t\tplaceholder.push( x );\n\t\t\t\tplaceholder.push( y );\n\t\t\t\tplaceholder.push( z );\n\n\t\t\t}\n\n\n\t\t\tfunction f3( a, b, c ) {\n\n\t\t\t\taddVertex( a );\n\t\t\t\taddVertex( b );\n\t\t\t\taddVertex( c );\n\n\t\t\t\tconst nextIndex = verticesArray.length / 3;\n\t\t\t\tconst uvs = uvgen.generateTopUV( scope, verticesArray, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\t\t\taddUV( uvs[ 0 ] );\n\t\t\t\taddUV( uvs[ 1 ] );\n\t\t\t\taddUV( uvs[ 2 ] );\n\n\t\t\t}\n\n\t\t\tfunction f4( a, b, c, d ) {\n\n\t\t\t\taddVertex( a );\n\t\t\t\taddVertex( b );\n\t\t\t\taddVertex( d );\n\n\t\t\t\taddVertex( b );\n\t\t\t\taddVertex( c );\n\t\t\t\taddVertex( d );\n\n\n\t\t\t\tconst nextIndex = verticesArray.length / 3;\n\t\t\t\tconst uvs = uvgen.generateSideWallUV( scope, verticesArray, nextIndex - 6, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\t\t\taddUV( uvs[ 0 ] );\n\t\t\t\taddUV( uvs[ 1 ] );\n\t\t\t\taddUV( uvs[ 3 ] );\n\n\t\t\t\taddUV( uvs[ 1 ] );\n\t\t\t\taddUV( uvs[ 2 ] );\n\t\t\t\taddUV( uvs[ 3 ] );\n\n\t\t\t}\n\n\t\t\tfunction addVertex( index ) {\n\n\t\t\t\tverticesArray.push( placeholder[ index * 3 + 0 ] );\n\t\t\t\tverticesArray.push( placeholder[ index * 3 + 1 ] );\n\t\t\t\tverticesArray.push( placeholder[ index * 3 + 2 ] );\n\n\t\t\t}\n\n\n\t\t\tfunction addUV( vector2 ) {\n\n\t\t\t\tuvArray.push( vector2.x );\n\t\t\t\tuvArray.push( vector2.y );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = BufferGeometry.prototype.toJSON.call( this );\n\n\t\tconst shapes = this.parameters.shapes;\n\t\tconst options = this.parameters.options;\n\n\t\treturn toJSON( shapes, options, data );\n\n\t}\n\n}\n\nconst WorldUVGenerator = {\n\n\tgenerateTopUV: function ( geometry, vertices, indexA, indexB, indexC ) {\n\n\t\tconst a_x = vertices[ indexA * 3 ];\n\t\tconst a_y = vertices[ indexA * 3 + 1 ];\n\t\tconst b_x = vertices[ indexB * 3 ];\n\t\tconst b_y = vertices[ indexB * 3 + 1 ];\n\t\tconst c_x = vertices[ indexC * 3 ];\n\t\tconst c_y = vertices[ indexC * 3 + 1 ];\n\n\t\treturn [\n\t\t\tnew Vector2( a_x, a_y ),\n\t\t\tnew Vector2( b_x, b_y ),\n\t\t\tnew Vector2( c_x, c_y )\n\t\t];\n\n\t},\n\n\tgenerateSideWallUV: function ( geometry, vertices, indexA, indexB, indexC, indexD ) {\n\n\t\tconst a_x = vertices[ indexA * 3 ];\n\t\tconst a_y = vertices[ indexA * 3 + 1 ];\n\t\tconst a_z = vertices[ indexA * 3 + 2 ];\n\t\tconst b_x = vertices[ indexB * 3 ];\n\t\tconst b_y = vertices[ indexB * 3 + 1 ];\n\t\tconst b_z = vertices[ indexB * 3 + 2 ];\n\t\tconst c_x = vertices[ indexC * 3 ];\n\t\tconst c_y = vertices[ indexC * 3 + 1 ];\n\t\tconst c_z = vertices[ indexC * 3 + 2 ];\n\t\tconst d_x = vertices[ indexD * 3 ];\n\t\tconst d_y = vertices[ indexD * 3 + 1 ];\n\t\tconst d_z = vertices[ indexD * 3 + 2 ];\n\n\t\tif ( Math.abs( a_y - b_y ) < 0.01 ) {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_x, 1 - a_z ),\n\t\t\t\tnew Vector2( b_x, 1 - b_z ),\n\t\t\t\tnew Vector2( c_x, 1 - c_z ),\n\t\t\t\tnew Vector2( d_x, 1 - d_z )\n\t\t\t];\n\n\t\t} else {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_y, 1 - a_z ),\n\t\t\t\tnew Vector2( b_y, 1 - b_z ),\n\t\t\t\tnew Vector2( c_y, 1 - c_z ),\n\t\t\t\tnew Vector2( d_y, 1 - d_z )\n\t\t\t];\n\n\t\t}\n\n\t}\n\n};\n\nfunction toJSON( shapes, options, data ) {\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tconst shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\tif ( options.extrudePath !== undefined ) data.options.extrudePath = options.extrudePath.toJSON();\n\n\treturn data;\n\n}\n\n/**\n * Creates extruded geometry from a path shape.\n *\n * parameters = {\n *\n *  curveSegments: <int>, // number of points on the curves\n *  steps: <int>, // number of points for z-side extrusions / used for subdividing segments of extrude spline too\n *  depth: <float>, // Depth to extrude the shape\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into the original shape bevel goes\n *  bevelSize: <float>, // how far from shape outline (including bevelOffset) is bevel\n *  bevelOffset: <float>, // how far from shape outline does bevel start\n *  bevelSegments: <int>, // number of bevel layers\n *\n *  extrudePath: <THREE.Curve> // curve to extrude shape along\n *\n *  UVGenerator: <Object> // object that provides UV generator functions\n *\n * }\n */\n\nclass ExtrudeGeometry extends Geometry {\n\n\tconstructor( shapes, options ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'ExtrudeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tshapes: shapes,\n\t\t\toptions: options\n\t\t};\n\n\t\tthis.fromBufferGeometry( new ExtrudeBufferGeometry( shapes, options ) );\n\t\tthis.mergeVertices();\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tconst shapes = this.parameters.shapes;\n\t\tconst options = this.parameters.options;\n\n\t\treturn toJSON$1( shapes, options, data );\n\n\t}\n\n}\n\nfunction toJSON$1( shapes, options, data ) {\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tconst shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\tif ( options.extrudePath !== undefined ) data.options.extrudePath = options.extrudePath.toJSON();\n\n\treturn data;\n\n}\n\nclass IcosahedronBufferGeometry extends PolyhedronBufferGeometry {\n\n\tconstructor( radius = 1, detail = 0 ) {\n\n\t\tconst t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\n\t\tconst vertices = [\n\t\t\t- 1, t, 0, \t1, t, 0, \t- 1, - t, 0, \t1, - t, 0,\n\t\t\t0, - 1, t, \t0, 1, t,\t0, - 1, - t, \t0, 1, - t,\n\t\t\tt, 0, - 1, \tt, 0, 1, \t- t, 0, - 1, \t- t, 0, 1\n\t\t];\n\n\t\tconst indices = [\n\t\t\t0, 11, 5, \t0, 5, 1, \t0, 1, 7, \t0, 7, 10, \t0, 10, 11,\n\t\t\t1, 5, 9, \t5, 11, 4,\t11, 10, 2,\t10, 7, 6,\t7, 1, 8,\n\t\t\t3, 9, 4, \t3, 4, 2,\t3, 2, 6,\t3, 6, 8,\t3, 8, 9,\n\t\t\t4, 9, 5, \t2, 4, 11,\t6, 2, 10,\t8, 6, 7,\t9, 8, 1\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'IcosahedronBufferGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n}\n\nclass IcosahedronGeometry extends Geometry {\n\n\tconstructor( radius, detail ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'IcosahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t\tthis.fromBufferGeometry( new IcosahedronBufferGeometry( radius, detail ) );\n\t\tthis.mergeVertices();\n\n\t}\n\n}\n\nclass LatheBufferGeometry extends BufferGeometry {\n\n\tconstructor( points, segments = 12, phiStart = 0, phiLength = Math.PI * 2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'LatheBufferGeometry';\n\n\t\tthis.parameters = {\n\t\t\tpoints: points,\n\t\t\tsegments: segments,\n\t\t\tphiStart: phiStart,\n\t\t\tphiLength: phiLength\n\t\t};\n\n\t\tsegments = Math.floor( segments );\n\n\t\t// clamp phiLength so it's in range of [ 0, 2PI ]\n\n\t\tphiLength = MathUtils.clamp( phiLength, 0, Math.PI * 2 );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tconst inverseSegments = 1.0 / segments;\n\t\tconst vertex = new Vector3();\n\t\tconst uv = new Vector2();\n\n\t\t// generate vertices and uvs\n\n\t\tfor ( let i = 0; i <= segments; i ++ ) {\n\n\t\t\tconst phi = phiStart + i * inverseSegments * phiLength;\n\n\t\t\tconst sin = Math.sin( phi );\n\t\t\tconst cos = Math.cos( phi );\n\n\t\t\tfor ( let j = 0; j <= ( points.length - 1 ); j ++ ) {\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = points[ j ].x * sin;\n\t\t\t\tvertex.y = points[ j ].y;\n\t\t\t\tvertex.z = points[ j ].x * cos;\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuv.x = i / segments;\n\t\t\t\tuv.y = j / ( points.length - 1 );\n\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\n\t\t\t}\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let i = 0; i < segments; i ++ ) {\n\n\t\t\tfor ( let j = 0; j < ( points.length - 1 ); j ++ ) {\n\n\t\t\t\tconst base = j + i * points.length;\n\n\t\t\t\tconst a = base;\n\t\t\t\tconst b = base + points.length;\n\t\t\t\tconst c = base + points.length + 1;\n\t\t\t\tconst d = base + 1;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\t// generate normals\n\n\t\tthis.computeVertexNormals();\n\n\t\t// if the geometry is closed, we need to average the normals along the seam.\n\t\t// because the corresponding vertices are identical (but still have different UVs).\n\n\t\tif ( phiLength === Math.PI * 2 ) {\n\n\t\t\tconst normals = this.attributes.normal.array;\n\t\t\tconst n1 = new Vector3();\n\t\t\tconst n2 = new Vector3();\n\t\t\tconst n = new Vector3();\n\n\t\t\t// this is the buffer offset for the last line of vertices\n\n\t\t\tconst base = segments * points.length * 3;\n\n\t\t\tfor ( let i = 0, j = 0; i < points.length; i ++, j += 3 ) {\n\n\t\t\t\t// select the normal of the vertex in the first line\n\n\t\t\t\tn1.x = normals[ j + 0 ];\n\t\t\t\tn1.y = normals[ j + 1 ];\n\t\t\t\tn1.z = normals[ j + 2 ];\n\n\t\t\t\t// select the normal of the vertex in the last line\n\n\t\t\t\tn2.x = normals[ base + j + 0 ];\n\t\t\t\tn2.y = normals[ base + j + 1 ];\n\t\t\t\tn2.z = normals[ base + j + 2 ];\n\n\t\t\t\t// average normals\n\n\t\t\t\tn.addVectors( n1, n2 ).normalize();\n\n\t\t\t\t// assign the new values to both normals\n\n\t\t\t\tnormals[ j + 0 ] = normals[ base + j + 0 ] = n.x;\n\t\t\t\tnormals[ j + 1 ] = normals[ base + j + 1 ] = n.y;\n\t\t\t\tnormals[ j + 2 ] = normals[ base + j + 2 ] = n.z;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nclass LatheGeometry extends Geometry {\n\n\tconstructor( points, segments, phiStart, phiLength ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'LatheGeometry';\n\n\t\tthis.parameters = {\n\t\t\tpoints: points,\n\t\t\tsegments: segments,\n\t\t\tphiStart: phiStart,\n\t\t\tphiLength: phiLength\n\t\t};\n\n\t\tthis.fromBufferGeometry( new LatheBufferGeometry( points, segments, phiStart, phiLength ) );\n\t\tthis.mergeVertices();\n\n\t}\n\n}\n\nclass OctahedronBufferGeometry extends PolyhedronBufferGeometry {\n\n\tconstructor( radius = 1, detail = 0 ) {\n\n\t\tconst vertices = [\n\t\t\t1, 0, 0, \t- 1, 0, 0,\t0, 1, 0,\n\t\t\t0, - 1, 0, \t0, 0, 1,\t0, 0, - 1\n\t\t];\n\n\t\tconst indices = [\n\t\t\t0, 2, 4,\t0, 4, 3,\t0, 3, 5,\n\t\t\t0, 5, 2,\t1, 2, 5,\t1, 5, 3,\n\t\t\t1, 3, 4,\t1, 4, 2\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'OctahedronBufferGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n}\n\nclass OctahedronGeometry extends Geometry {\n\n\tconstructor( radius, detail ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'OctahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t\tthis.fromBufferGeometry( new OctahedronBufferGeometry( radius, detail ) );\n\t\tthis.mergeVertices();\n\n\t}\n\n}\n\n/**\n * Parametric Surfaces Geometry\n * based on the brilliant article by @prideout https://prideout.net/blog/old/blog/index.html@p=44.html\n */\n\nfunction ParametricBufferGeometry( func, slices, stacks ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'ParametricBufferGeometry';\n\n\tthis.parameters = {\n\t\tfunc: func,\n\t\tslices: slices,\n\t\tstacks: stacks\n\t};\n\n\t// buffers\n\n\tconst indices = [];\n\tconst vertices = [];\n\tconst normals = [];\n\tconst uvs = [];\n\n\tconst EPS = 0.00001;\n\n\tconst normal = new Vector3();\n\n\tconst p0 = new Vector3(), p1 = new Vector3();\n\tconst pu = new Vector3(), pv = new Vector3();\n\n\tif ( func.length < 3 ) {\n\n\t\tconsole.error( 'THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.' );\n\n\t}\n\n\t// generate vertices, normals and uvs\n\n\tconst sliceCount = slices + 1;\n\n\tfor ( let i = 0; i <= stacks; i ++ ) {\n\n\t\tconst v = i / stacks;\n\n\t\tfor ( let j = 0; j <= slices; j ++ ) {\n\n\t\t\tconst u = j / slices;\n\n\t\t\t// vertex\n\n\t\t\tfunc( u, v, p0 );\n\t\t\tvertices.push( p0.x, p0.y, p0.z );\n\n\t\t\t// normal\n\n\t\t\t// approximate tangent vectors via finite differences\n\n\t\t\tif ( u - EPS >= 0 ) {\n\n\t\t\t\tfunc( u - EPS, v, p1 );\n\t\t\t\tpu.subVectors( p0, p1 );\n\n\t\t\t} else {\n\n\t\t\t\tfunc( u + EPS, v, p1 );\n\t\t\t\tpu.subVectors( p1, p0 );\n\n\t\t\t}\n\n\t\t\tif ( v - EPS >= 0 ) {\n\n\t\t\t\tfunc( u, v - EPS, p1 );\n\t\t\t\tpv.subVectors( p0, p1 );\n\n\t\t\t} else {\n\n\t\t\t\tfunc( u, v + EPS, p1 );\n\t\t\t\tpv.subVectors( p1, p0 );\n\n\t\t\t}\n\n\t\t\t// cross product of tangent vectors returns surface normal\n\n\t\t\tnormal.crossVectors( pu, pv ).normalize();\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( u, v );\n\n\t\t}\n\n\t}\n\n\t// generate indices\n\n\tfor ( let i = 0; i < stacks; i ++ ) {\n\n\t\tfor ( let j = 0; j < slices; j ++ ) {\n\n\t\t\tconst a = i * sliceCount + j;\n\t\t\tconst b = i * sliceCount + j + 1;\n\t\t\tconst c = ( i + 1 ) * sliceCount + j + 1;\n\t\t\tconst d = ( i + 1 ) * sliceCount + j;\n\n\t\t\t// faces one and two\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nParametricBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nParametricBufferGeometry.prototype.constructor = ParametricBufferGeometry;\n\n/**\n * Parametric Surfaces Geometry\n * based on the brilliant article by @prideout https://prideout.net/blog/old/blog/index.html@p=44.html\n */\n\nfunction ParametricGeometry( func, slices, stacks ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'ParametricGeometry';\n\n\tthis.parameters = {\n\t\tfunc: func,\n\t\tslices: slices,\n\t\tstacks: stacks\n\t};\n\n\tthis.fromBufferGeometry( new ParametricBufferGeometry( func, slices, stacks ) );\n\tthis.mergeVertices();\n\n}\n\nParametricGeometry.prototype = Object.create( Geometry.prototype );\nParametricGeometry.prototype.constructor = ParametricGeometry;\n\nclass PlaneGeometry extends Geometry {\n\n\tconstructor( width, height, widthSegments, heightSegments ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'PlaneGeometry';\n\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments\n\t\t};\n\n\t\tthis.fromBufferGeometry( new PlaneBufferGeometry( width, height, widthSegments, heightSegments ) );\n\t\tthis.mergeVertices();\n\n\t}\n\n}\n\nclass PolyhedronGeometry extends Geometry {\n\n\tconstructor( vertices, indices, radius, detail ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'PolyhedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tvertices: vertices,\n\t\t\tindices: indices,\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t\tthis.fromBufferGeometry( new PolyhedronBufferGeometry( vertices, indices, radius, detail ) );\n\t\tthis.mergeVertices();\n\n\t}\n\n}\n\nclass RingBufferGeometry extends BufferGeometry {\n\n\tconstructor( innerRadius = 0.5, outerRadius = 1, thetaSegments = 8, phiSegments = 1, thetaStart = 0, thetaLength = Math.PI * 2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'RingBufferGeometry';\n\n\t\tthis.parameters = {\n\t\t\tinnerRadius: innerRadius,\n\t\t\touterRadius: outerRadius,\n\t\t\tthetaSegments: thetaSegments,\n\t\t\tphiSegments: phiSegments,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tthetaSegments = Math.max( 3, thetaSegments );\n\t\tphiSegments = Math.max( 1, phiSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// some helper variables\n\n\t\tlet radius = innerRadius;\n\t\tconst radiusStep = ( ( outerRadius - innerRadius ) / phiSegments );\n\t\tconst vertex = new Vector3();\n\t\tconst uv = new Vector2();\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let j = 0; j <= phiSegments; j ++ ) {\n\n\t\t\tfor ( let i = 0; i <= thetaSegments; i ++ ) {\n\n\t\t\t\t// values are generate from the inside of the ring to the outside\n\n\t\t\t\tconst segment = thetaStart + i / thetaSegments * thetaLength;\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = radius * Math.cos( segment );\n\t\t\t\tvertex.y = radius * Math.sin( segment );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t\t// uv\n\n\t\t\t\tuv.x = ( vertex.x / outerRadius + 1 ) / 2;\n\t\t\t\tuv.y = ( vertex.y / outerRadius + 1 ) / 2;\n\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t}\n\n\t\t\t// increase the radius for next row of vertices\n\n\t\t\tradius += radiusStep;\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let j = 0; j < phiSegments; j ++ ) {\n\n\t\t\tconst thetaSegmentLevel = j * ( thetaSegments + 1 );\n\n\t\t\tfor ( let i = 0; i < thetaSegments; i ++ ) {\n\n\t\t\t\tconst segment = i + thetaSegmentLevel;\n\n\t\t\t\tconst a = segment;\n\t\t\t\tconst b = segment + thetaSegments + 1;\n\t\t\t\tconst c = segment + thetaSegments + 2;\n\t\t\t\tconst d = segment + 1;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n}\n\nclass RingGeometry extends Geometry {\n\n\tconstructor( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'RingGeometry';\n\n\t\tthis.parameters = {\n\t\t\tinnerRadius: innerRadius,\n\t\t\touterRadius: outerRadius,\n\t\t\tthetaSegments: thetaSegments,\n\t\t\tphiSegments: phiSegments,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tthis.fromBufferGeometry( new RingBufferGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) );\n\t\tthis.mergeVertices();\n\n\t}\n\n}\n\nclass ShapeBufferGeometry extends BufferGeometry {\n\n\tconstructor( shapes, curveSegments = 12 ) {\n\n\t\tsuper();\n\t\tthis.type = 'ShapeBufferGeometry';\n\n\t\tthis.parameters = {\n\t\t\tshapes: shapes,\n\t\t\tcurveSegments: curveSegments\n\t\t};\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tlet groupStart = 0;\n\t\tlet groupCount = 0;\n\n\t\t// allow single and array values for \"shapes\" parameter\n\n\t\tif ( Array.isArray( shapes ) === false ) {\n\n\t\t\taddShape( shapes );\n\n\t\t} else {\n\n\t\t\tfor ( let i = 0; i < shapes.length; i ++ ) {\n\n\t\t\t\taddShape( shapes[ i ] );\n\n\t\t\t\tthis.addGroup( groupStart, groupCount, i ); // enables MultiMaterial support\n\n\t\t\t\tgroupStart += groupCount;\n\t\t\t\tgroupCount = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\n\t\t// helper functions\n\n\t\tfunction addShape( shape ) {\n\n\t\t\tconst indexOffset = vertices.length / 3;\n\t\t\tconst points = shape.extractPoints( curveSegments );\n\n\t\t\tlet shapeVertices = points.shape;\n\t\t\tconst shapeHoles = points.holes;\n\n\t\t\t// check direction of vertices\n\n\t\t\tif ( ShapeUtils.isClockWise( shapeVertices ) === false ) {\n\n\t\t\t\tshapeVertices = shapeVertices.reverse();\n\n\t\t\t}\n\n\t\t\tfor ( let i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\t\tconst shapeHole = shapeHoles[ i ];\n\n\t\t\t\tif ( ShapeUtils.isClockWise( shapeHole ) === true ) {\n\n\t\t\t\t\tshapeHoles[ i ] = shapeHole.reverse();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst faces = ShapeUtils.triangulateShape( shapeVertices, shapeHoles );\n\n\t\t\t// join vertices of inner and outer paths to a single array\n\n\t\t\tfor ( let i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\t\tconst shapeHole = shapeHoles[ i ];\n\t\t\t\tshapeVertices = shapeVertices.concat( shapeHole );\n\n\t\t\t}\n\n\t\t\t// vertices, normals, uvs\n\n\t\t\tfor ( let i = 0, l = shapeVertices.length; i < l; i ++ ) {\n\n\t\t\t\tconst vertex = shapeVertices[ i ];\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, 0 );\n\t\t\t\tnormals.push( 0, 0, 1 );\n\t\t\t\tuvs.push( vertex.x, vertex.y ); // world uvs\n\n\t\t\t}\n\n\t\t\t// incides\n\n\t\t\tfor ( let i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\t\tconst face = faces[ i ];\n\n\t\t\t\tconst a = face[ 0 ] + indexOffset;\n\t\t\t\tconst b = face[ 1 ] + indexOffset;\n\t\t\t\tconst c = face[ 2 ] + indexOffset;\n\n\t\t\t\tindices.push( a, b, c );\n\t\t\t\tgroupCount += 3;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = BufferGeometry.prototype.toJSON.call( this );\n\n\t\tconst shapes = this.parameters.shapes;\n\n\t\treturn toJSON$2( shapes, data );\n\n\t}\n\n}\n\nfunction toJSON$2( shapes, data ) {\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tconst shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\treturn data;\n\n}\n\nclass ShapeGeometry extends Geometry {\n\n\tconstructor( shapes, curveSegments ) {\n\n\t\tsuper();\n\t\tthis.type = 'ShapeGeometry';\n\n\t\tif ( typeof curveSegments === 'object' ) {\n\n\t\t\tconsole.warn( 'THREE.ShapeGeometry: Options parameter has been removed.' );\n\n\t\t\tcurveSegments = curveSegments.curveSegments;\n\n\t\t}\n\n\t\tthis.parameters = {\n\t\t\tshapes: shapes,\n\t\t\tcurveSegments: curveSegments\n\t\t};\n\n\t\tthis.fromBufferGeometry( new ShapeBufferGeometry( shapes, curveSegments ) );\n\t\tthis.mergeVertices();\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = Geometry.prototype.toJSON.call( this );\n\n\t\tconst shapes = this.parameters.shapes;\n\n\t\treturn toJSON$3( shapes, data );\n\n\t}\n\n}\n\nfunction toJSON$3( shapes, data ) {\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tconst shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\treturn data;\n\n}\n\nclass SphereBufferGeometry extends BufferGeometry {\n\n\tconstructor( radius = 1, widthSegments = 8, heightSegments = 6, phiStart = 0, phiLength = Math.PI * 2, thetaStart = 0, thetaLength = Math.PI ) {\n\n\t\tsuper();\n\t\tthis.type = 'SphereBufferGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\tphiStart: phiStart,\n\t\t\tphiLength: phiLength,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\twidthSegments = Math.max( 3, Math.floor( widthSegments ) );\n\t\theightSegments = Math.max( 2, Math.floor( heightSegments ) );\n\n\t\tconst thetaEnd = Math.min( thetaStart + thetaLength, Math.PI );\n\n\t\tlet index = 0;\n\t\tconst grid = [];\n\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let iy = 0; iy <= heightSegments; iy ++ ) {\n\n\t\t\tconst verticesRow = [];\n\n\t\t\tconst v = iy / heightSegments;\n\n\t\t\t// special case for the poles\n\n\t\t\tlet uOffset = 0;\n\n\t\t\tif ( iy == 0 && thetaStart == 0 ) {\n\n\t\t\t\tuOffset = 0.5 / widthSegments;\n\n\t\t\t} else if ( iy == heightSegments && thetaEnd == Math.PI ) {\n\n\t\t\t\tuOffset = - 0.5 / widthSegments;\n\n\t\t\t}\n\n\t\t\tfor ( let ix = 0; ix <= widthSegments; ix ++ ) {\n\n\t\t\t\tconst u = ix / widthSegments;\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = - radius * Math.cos( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\t\t\t\tvertex.y = radius * Math.cos( thetaStart + v * thetaLength );\n\t\t\t\tvertex.z = radius * Math.sin( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormal.copy( vertex ).normalize();\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( u + uOffset, 1 - v );\n\n\t\t\t\tverticesRow.push( index ++ );\n\n\t\t\t}\n\n\t\t\tgrid.push( verticesRow );\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let iy = 0; iy < heightSegments; iy ++ ) {\n\n\t\t\tfor ( let ix = 0; ix < widthSegments; ix ++ ) {\n\n\t\t\t\tconst a = grid[ iy ][ ix + 1 ];\n\t\t\t\tconst b = grid[ iy ][ ix ];\n\t\t\t\tconst c = grid[ iy + 1 ][ ix ];\n\t\t\t\tconst d = grid[ iy + 1 ][ ix + 1 ];\n\n\t\t\t\tif ( iy !== 0 || thetaStart > 0 ) indices.push( a, b, d );\n\t\t\t\tif ( iy !== heightSegments - 1 || thetaEnd < Math.PI ) indices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n}\n\nclass SphereGeometry extends Geometry {\n\n\tconstructor( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) {\n\n\t\tsuper();\n\t\tthis.type = 'SphereGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\tphiStart: phiStart,\n\t\t\tphiLength: phiLength,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tthis.fromBufferGeometry( new SphereBufferGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) );\n\t\tthis.mergeVertices();\n\n\t}\n\n}\n\nclass TetrahedronBufferGeometry extends PolyhedronBufferGeometry {\n\n\tconstructor( radius = 1, detail = 0 ) {\n\n\t\tconst vertices = [\n\t\t\t1, 1, 1, \t- 1, - 1, 1, \t- 1, 1, - 1, \t1, - 1, - 1\n\t\t];\n\n\t\tconst indices = [\n\t\t\t2, 1, 0, \t0, 3, 2,\t1, 3, 0,\t2, 3, 1\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'TetrahedronBufferGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n}\n\nclass TetrahedronGeometry extends Geometry {\n\n\tconstructor( radius, detail ) {\n\n\t\tsuper();\n\t\tthis.type = 'TetrahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t\tthis.fromBufferGeometry( new TetrahedronBufferGeometry( radius, detail ) );\n\t\tthis.mergeVertices();\n\n\t}\n\n}\n\n/**\n * Text = 3D Text\n *\n * parameters = {\n *  font: <THREE.Font>, // font\n *\n *  size: <float>, // size of the text\n *  height: <float>, // thickness to extrude text\n *  curveSegments: <int>, // number of points on the curves\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into text bevel goes\n *  bevelSize: <float>, // how far from text outline (including bevelOffset) is bevel\n *  bevelOffset: <float> // how far from text outline does bevel start\n * }\n */\n\nclass TextBufferGeometry extends ExtrudeBufferGeometry {\n\n\tconstructor( text, parameters = {} ) {\n\n\t\tconst font = parameters.font;\n\n\t\tif ( ! ( font && font.isFont ) ) {\n\n\t\t\tconsole.error( 'THREE.TextGeometry: font parameter is not an instance of THREE.Font.' );\n\t\t\treturn new BufferGeometry();\n\n\t\t}\n\n\t\tconst shapes = font.generateShapes( text, parameters.size );\n\n\t\t// translate parameters to ExtrudeGeometry API\n\n\t\tparameters.depth = parameters.height !== undefined ? parameters.height : 50;\n\n\t\t// defaults\n\n\t\tif ( parameters.bevelThickness === undefined ) parameters.bevelThickness = 10;\n\t\tif ( parameters.bevelSize === undefined ) parameters.bevelSize = 8;\n\t\tif ( parameters.bevelEnabled === undefined ) parameters.bevelEnabled = false;\n\n\t\tsuper( shapes, parameters );\n\n\t\tthis.type = 'TextBufferGeometry';\n\n\t}\n\n}\n\n/**\n * Text = 3D Text\n *\n * parameters = {\n *  font: <THREE.Font>, // font\n *\n *  size: <float>, // size of the text\n *  height: <float>, // thickness to extrude text\n *  curveSegments: <int>, // number of points on the curves\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into text bevel goes\n *  bevelSize: <float>, // how far from text outline (including bevelOffset) is bevel\n *  bevelOffset: <float> // how far from text outline does bevel start\n * }\n */\n\nclass TextGeometry extends Geometry {\n\n\tconstructor( text, parameters ) {\n\n\t\tsuper();\n\t\tthis.type = 'TextGeometry';\n\n\t\tthis.parameters = {\n\t\t\ttext: text,\n\t\t\tparameters: parameters\n\t\t};\n\n\t\tthis.fromBufferGeometry( new TextBufferGeometry( text, parameters ) );\n\t\tthis.mergeVertices();\n\n\t}\n\n}\n\nclass TorusBufferGeometry extends BufferGeometry {\n\n\tconstructor( radius = 1, tube = 0.4, radialSegments = 8, tubularSegments = 6, arc = Math.PI * 2 ) {\n\n\t\tsuper();\n\t\tthis.type = 'TorusBufferGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\ttube: tube,\n\t\t\tradialSegments: radialSegments,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tarc: arc\n\t\t};\n\n\t\tradialSegments = Math.floor( radialSegments );\n\t\ttubularSegments = Math.floor( tubularSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tconst center = new Vector3();\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\tfor ( let i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\t\tconst u = i / tubularSegments * arc;\n\t\t\t\tconst v = j / radialSegments * Math.PI * 2;\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = ( radius + tube * Math.cos( v ) ) * Math.cos( u );\n\t\t\t\tvertex.y = ( radius + tube * Math.cos( v ) ) * Math.sin( u );\n\t\t\t\tvertex.z = tube * Math.sin( v );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tcenter.x = radius * Math.cos( u );\n\t\t\t\tcenter.y = radius * Math.sin( u );\n\t\t\t\tnormal.subVectors( vertex, center ).normalize();\n\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( i / tubularSegments );\n\t\t\t\tuvs.push( j / radialSegments );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( let j = 1; j <= radialSegments; j ++ ) {\n\n\t\t\tfor ( let i = 1; i <= tubularSegments; i ++ ) {\n\n\t\t\t\t// indices\n\n\t\t\t\tconst a = ( tubularSegments + 1 ) * j + i - 1;\n\t\t\t\tconst b = ( tubularSegments + 1 ) * ( j - 1 ) + i - 1;\n\t\t\t\tconst c = ( tubularSegments + 1 ) * ( j - 1 ) + i;\n\t\t\t\tconst d = ( tubularSegments + 1 ) * j + i;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n}\n\nclass TorusGeometry extends Geometry {\n\n\tconstructor( radius, tube, radialSegments, tubularSegments, arc ) {\n\n\t\tsuper();\n\t\tthis.type = 'TorusGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\ttube: tube,\n\t\t\tradialSegments: radialSegments,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tarc: arc\n\t\t};\n\n\t\tthis.fromBufferGeometry( new TorusBufferGeometry( radius, tube, radialSegments, tubularSegments, arc ) );\n\t\tthis.mergeVertices();\n\n\t}\n\n}\n\nclass TorusKnotBufferGeometry extends BufferGeometry {\n\n\tconstructor( radius = 1, tube = 0.4, tubularSegments = 64, radialSegments = 8, p = 2, q = 3 ) {\n\n\t\tsuper();\n\t\tthis.type = 'TorusKnotBufferGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\ttube: tube,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tradialSegments: radialSegments,\n\t\t\tp: p,\n\t\t\tq: q\n\t\t};\n\n\t\ttubularSegments = Math.floor( tubularSegments );\n\t\tradialSegments = Math.floor( radialSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\n\t\tconst P1 = new Vector3();\n\t\tconst P2 = new Vector3();\n\n\t\tconst B = new Vector3();\n\t\tconst T = new Vector3();\n\t\tconst N = new Vector3();\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let i = 0; i <= tubularSegments; ++ i ) {\n\n\t\t\t// the radian \"u\" is used to calculate the position on the torus curve of the current tubular segement\n\n\t\t\tconst u = i / tubularSegments * p * Math.PI * 2;\n\n\t\t\t// now we calculate two points. P1 is our current position on the curve, P2 is a little farther ahead.\n\t\t\t// these points are used to create a special \"coordinate space\", which is necessary to calculate the correct vertex positions\n\n\t\t\tcalculatePositionOnCurve( u, p, q, radius, P1 );\n\t\t\tcalculatePositionOnCurve( u + 0.01, p, q, radius, P2 );\n\n\t\t\t// calculate orthonormal basis\n\n\t\t\tT.subVectors( P2, P1 );\n\t\t\tN.addVectors( P2, P1 );\n\t\t\tB.crossVectors( T, N );\n\t\t\tN.crossVectors( B, T );\n\n\t\t\t// normalize B, N. T can be ignored, we don't use it\n\n\t\t\tB.normalize();\n\t\t\tN.normalize();\n\n\t\t\tfor ( let j = 0; j <= radialSegments; ++ j ) {\n\n\t\t\t\t// now calculate the vertices. they are nothing more than an extrusion of the torus curve.\n\t\t\t\t// because we extrude a shape in the xy-plane, there is no need to calculate a z-value.\n\n\t\t\t\tconst v = j / radialSegments * Math.PI * 2;\n\t\t\t\tconst cx = - tube * Math.cos( v );\n\t\t\t\tconst cy = tube * Math.sin( v );\n\n\t\t\t\t// now calculate the final vertex position.\n\t\t\t\t// first we orient the extrusion with our basis vectos, then we add it to the current position on the curve\n\n\t\t\t\tvertex.x = P1.x + ( cx * N.x + cy * B.x );\n\t\t\t\tvertex.y = P1.y + ( cx * N.y + cy * B.y );\n\t\t\t\tvertex.z = P1.z + ( cx * N.z + cy * B.z );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal (P1 is always the center/origin of the extrusion, thus we can use it to calculate the normal)\n\n\t\t\t\tnormal.subVectors( vertex, P1 ).normalize();\n\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( i / tubularSegments );\n\t\t\t\tuvs.push( j / radialSegments );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( let j = 1; j <= tubularSegments; j ++ ) {\n\n\t\t\tfor ( let i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t\t// indices\n\n\t\t\t\tconst a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\t\tconst b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\t\tconst c = ( radialSegments + 1 ) * j + i;\n\t\t\t\tconst d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\t// this function calculates the current position on the torus curve\n\n\t\tfunction calculatePositionOnCurve( u, p, q, radius, position ) {\n\n\t\t\tconst cu = Math.cos( u );\n\t\t\tconst su = Math.sin( u );\n\t\t\tconst quOverP = q / p * u;\n\t\t\tconst cs = Math.cos( quOverP );\n\n\t\t\tposition.x = radius * ( 2 + cs ) * 0.5 * cu;\n\t\t\tposition.y = radius * ( 2 + cs ) * su * 0.5;\n\t\t\tposition.z = radius * Math.sin( quOverP ) * 0.5;\n\n\t\t}\n\n\t}\n\n}\n\nclass TorusKnotGeometry extends Geometry {\n\n\tconstructor( radius, tube, tubularSegments, radialSegments, p, q, heightScale ) {\n\n\t\tsuper();\n\t\tthis.type = 'TorusKnotGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\ttube: tube,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tradialSegments: radialSegments,\n\t\t\tp: p,\n\t\t\tq: q\n\t\t};\n\n\t\tif ( heightScale !== undefined ) console.warn( 'THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.' );\n\n\t\tthis.fromBufferGeometry( new TorusKnotBufferGeometry( radius, tube, tubularSegments, radialSegments, p, q ) );\n\t\tthis.mergeVertices();\n\n\t}\n\n}\n\nclass TubeBufferGeometry extends BufferGeometry {\n\n\tconstructor( path, tubularSegments = 64, radius = 1, radialSegments = 8, closed = false ) {\n\n\t\tsuper();\n\t\tthis.type = 'TubeBufferGeometry';\n\n\t\tthis.parameters = {\n\t\t\tpath: path,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tradius: radius,\n\t\t\tradialSegments: radialSegments,\n\t\t\tclosed: closed\n\t\t};\n\n\t\tconst frames = path.computeFrenetFrames( tubularSegments, closed );\n\n\t\t// expose internals\n\n\t\tthis.tangents = frames.tangents;\n\t\tthis.normals = frames.normals;\n\t\tthis.binormals = frames.binormals;\n\n\t\t// helper variables\n\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\t\tconst uv = new Vector2();\n\t\tlet P = new Vector3();\n\n\t\t// buffer\n\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\t\tconst indices = [];\n\n\t\t// create buffer data\n\n\t\tgenerateBufferData();\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\t// functions\n\n\t\tfunction generateBufferData() {\n\n\t\t\tfor ( let i = 0; i < tubularSegments; i ++ ) {\n\n\t\t\t\tgenerateSegment( i );\n\n\t\t\t}\n\n\t\t\t// if the geometry is not closed, generate the last row of vertices and normals\n\t\t\t// at the regular position on the given path\n\t\t\t//\n\t\t\t// if the geometry is closed, duplicate the first row of vertices and normals (uvs will differ)\n\n\t\t\tgenerateSegment( ( closed === false ) ? tubularSegments : 0 );\n\n\t\t\t// uvs are generated in a separate function.\n\t\t\t// this makes it easy compute correct values for closed geometries\n\n\t\t\tgenerateUVs();\n\n\t\t\t// finally create faces\n\n\t\t\tgenerateIndices();\n\n\t\t}\n\n\t\tfunction generateSegment( i ) {\n\n\t\t\t// we use getPointAt to sample evenly distributed points from the given path\n\n\t\t\tP = path.getPointAt( i / tubularSegments, P );\n\n\t\t\t// retrieve corresponding normal and binormal\n\n\t\t\tconst N = frames.normals[ i ];\n\t\t\tconst B = frames.binormals[ i ];\n\n\t\t\t// generate normals and vertices for the current segment\n\n\t\t\tfor ( let j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\t\tconst v = j / radialSegments * Math.PI * 2;\n\n\t\t\t\tconst sin = Math.sin( v );\n\t\t\t\tconst cos = - Math.cos( v );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormal.x = ( cos * N.x + sin * B.x );\n\t\t\t\tnormal.y = ( cos * N.y + sin * B.y );\n\t\t\t\tnormal.z = ( cos * N.z + sin * B.z );\n\t\t\t\tnormal.normalize();\n\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = P.x + radius * normal.x;\n\t\t\t\tvertex.y = P.y + radius * normal.y;\n\t\t\t\tvertex.z = P.z + radius * normal.z;\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction generateIndices() {\n\n\t\t\tfor ( let j = 1; j <= tubularSegments; j ++ ) {\n\n\t\t\t\tfor ( let i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t\t\tconst a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\t\t\tconst b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\t\t\tconst c = ( radialSegments + 1 ) * j + i;\n\t\t\t\t\tconst d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t\t\t// faces\n\n\t\t\t\t\tindices.push( a, b, d );\n\t\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction generateUVs() {\n\n\t\t\tfor ( let i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\t\tfor ( let j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\t\t\tuv.x = i / tubularSegments;\n\t\t\t\t\tuv.y = j / radialSegments;\n\n\t\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\ttoJSON() {\n\n\t\tconst data = BufferGeometry.prototype.toJSON.call( this );\n\n\t\tdata.path = this.parameters.path.toJSON();\n\n\t\treturn data;\n\n\t}\n\n}\n\nclass TubeGeometry extends Geometry {\n\n\tconstructor( path, tubularSegments, radius, radialSegments, closed, taper ) {\n\n\t\tsuper();\n\t\tthis.type = 'TubeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tpath: path,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tradius: radius,\n\t\t\tradialSegments: radialSegments,\n\t\t\tclosed: closed\n\t\t};\n\n\t\tif ( taper !== undefined ) console.warn( 'THREE.TubeGeometry: taper has been removed.' );\n\n\t\tconst bufferGeometry = new TubeBufferGeometry( path, tubularSegments, radius, radialSegments, closed );\n\n\t\t// expose internals\n\n\t\tthis.tangents = bufferGeometry.tangents;\n\t\tthis.normals = bufferGeometry.normals;\n\t\tthis.binormals = bufferGeometry.binormals;\n\n\t\t// create geometry\n\n\t\tthis.fromBufferGeometry( bufferGeometry );\n\t\tthis.mergeVertices();\n\n\t}\n\n}\n\nclass WireframeGeometry extends BufferGeometry {\n\n\tconstructor( geometry ) {\n\n\t\tsuper();\n\t\tthis.type = 'WireframeGeometry';\n\n\t\t// buffer\n\n\t\tconst vertices = [];\n\n\t\t// helper variables\n\n\t\tconst edge = [ 0, 0 ], edges = {};\n\t\tconst keys = [ 'a', 'b', 'c' ];\n\n\t\t// different logic for Geometry and BufferGeometry\n\n\t\tif ( geometry && geometry.isGeometry ) {\n\n\t\t\t// create a data structure that contains all edges without duplicates\n\n\t\t\tconst faces = geometry.faces;\n\n\t\t\tfor ( let i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\t\tconst face = faces[ i ];\n\n\t\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\tconst edge1 = face[ keys[ j ] ];\n\t\t\t\t\tconst edge2 = face[ keys[ ( j + 1 ) % 3 ] ];\n\t\t\t\t\tedge[ 0 ] = Math.min( edge1, edge2 ); // sorting prevents duplicates\n\t\t\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\n\n\t\t\t\t\tconst key = edge[ 0 ] + ',' + edge[ 1 ];\n\n\t\t\t\t\tif ( edges[ key ] === undefined ) {\n\n\t\t\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ] };\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// generate vertices\n\n\t\t\tfor ( const key in edges ) {\n\n\t\t\t\tconst e = edges[ key ];\n\n\t\t\t\tlet vertex = geometry.vertices[ e.index1 ];\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\tvertex = geometry.vertices[ e.index2 ];\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t}\n\n\t\t} else if ( geometry && geometry.isBufferGeometry ) {\n\n\t\t\tconst vertex = new Vector3();\n\n\t\t\tif ( geometry.index !== null ) {\n\n\t\t\t\t// indexed BufferGeometry\n\n\t\t\t\tconst position = geometry.attributes.position;\n\t\t\t\tconst indices = geometry.index;\n\t\t\t\tlet groups = geometry.groups;\n\n\t\t\t\tif ( groups.length === 0 ) {\n\n\t\t\t\t\tgroups = [ { start: 0, count: indices.count, materialIndex: 0 } ];\n\n\t\t\t\t}\n\n\t\t\t\t// create a data structure that contains all eges without duplicates\n\n\t\t\t\tfor ( let o = 0, ol = groups.length; o < ol; ++ o ) {\n\n\t\t\t\t\tconst group = groups[ o ];\n\n\t\t\t\t\tconst start = group.start;\n\t\t\t\t\tconst count = group.count;\n\n\t\t\t\t\tfor ( let i = start, l = ( start + count ); i < l; i += 3 ) {\n\n\t\t\t\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t\t\tconst edge1 = indices.getX( i + j );\n\t\t\t\t\t\t\tconst edge2 = indices.getX( i + ( j + 1 ) % 3 );\n\t\t\t\t\t\t\tedge[ 0 ] = Math.min( edge1, edge2 ); // sorting prevents duplicates\n\t\t\t\t\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\n\n\t\t\t\t\t\t\tconst key = edge[ 0 ] + ',' + edge[ 1 ];\n\n\t\t\t\t\t\t\tif ( edges[ key ] === undefined ) {\n\n\t\t\t\t\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ] };\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// generate vertices\n\n\t\t\t\tfor ( const key in edges ) {\n\n\t\t\t\t\tconst e = edges[ key ];\n\n\t\t\t\t\tvertex.fromBufferAttribute( position, e.index1 );\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t\tvertex.fromBufferAttribute( position, e.index2 );\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// non-indexed BufferGeometry\n\n\t\t\t\tconst position = geometry.attributes.position;\n\n\t\t\t\tfor ( let i = 0, l = ( position.count / 3 ); i < l; i ++ ) {\n\n\t\t\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t\t// three edges per triangle, an edge is represented as (index1, index2)\n\t\t\t\t\t\t// e.g. the first triangle has the following edges: (0,1),(1,2),(2,0)\n\n\t\t\t\t\t\tconst index1 = 3 * i + j;\n\t\t\t\t\t\tvertex.fromBufferAttribute( position, index1 );\n\t\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t\t\tconst index2 = 3 * i + ( ( j + 1 ) % 3 );\n\t\t\t\t\t\tvertex.fromBufferAttribute( position, index2 );\n\t\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n\t}\n\n}\n\nvar Geometries = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tBoxGeometry: BoxGeometry,\n\tBoxBufferGeometry: BoxBufferGeometry,\n\tCircleGeometry: CircleGeometry,\n\tCircleBufferGeometry: CircleBufferGeometry,\n\tConeGeometry: ConeGeometry,\n\tConeBufferGeometry: ConeBufferGeometry,\n\tCylinderGeometry: CylinderGeometry,\n\tCylinderBufferGeometry: CylinderBufferGeometry,\n\tDodecahedronGeometry: DodecahedronGeometry,\n\tDodecahedronBufferGeometry: DodecahedronBufferGeometry,\n\tEdgesGeometry: EdgesGeometry,\n\tExtrudeGeometry: ExtrudeGeometry,\n\tExtrudeBufferGeometry: ExtrudeBufferGeometry,\n\tIcosahedronGeometry: IcosahedronGeometry,\n\tIcosahedronBufferGeometry: IcosahedronBufferGeometry,\n\tLatheGeometry: LatheGeometry,\n\tLatheBufferGeometry: LatheBufferGeometry,\n\tOctahedronGeometry: OctahedronGeometry,\n\tOctahedronBufferGeometry: OctahedronBufferGeometry,\n\tParametricGeometry: ParametricGeometry,\n\tParametricBufferGeometry: ParametricBufferGeometry,\n\tPlaneGeometry: PlaneGeometry,\n\tPlaneBufferGeometry: PlaneBufferGeometry,\n\tPolyhedronGeometry: PolyhedronGeometry,\n\tPolyhedronBufferGeometry: PolyhedronBufferGeometry,\n\tRingGeometry: RingGeometry,\n\tRingBufferGeometry: RingBufferGeometry,\n\tShapeGeometry: ShapeGeometry,\n\tShapeBufferGeometry: ShapeBufferGeometry,\n\tSphereGeometry: SphereGeometry,\n\tSphereBufferGeometry: SphereBufferGeometry,\n\tTetrahedronGeometry: TetrahedronGeometry,\n\tTetrahedronBufferGeometry: TetrahedronBufferGeometry,\n\tTextGeometry: TextGeometry,\n\tTextBufferGeometry: TextBufferGeometry,\n\tTorusGeometry: TorusGeometry,\n\tTorusBufferGeometry: TorusBufferGeometry,\n\tTorusKnotGeometry: TorusKnotGeometry,\n\tTorusKnotBufferGeometry: TorusKnotBufferGeometry,\n\tTubeGeometry: TubeGeometry,\n\tTubeBufferGeometry: TubeBufferGeometry,\n\tWireframeGeometry: WireframeGeometry\n});\n\n/**\n * parameters = {\n *  color: <THREE.Color>\n * }\n */\n\nfunction ShadowMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'ShadowMaterial';\n\n\tthis.color = new Color( 0x000000 );\n\tthis.transparent = true;\n\n\tthis.setValues( parameters );\n\n}\n\nShadowMaterial.prototype = Object.create( Material.prototype );\nShadowMaterial.prototype.constructor = ShadowMaterial;\n\nShadowMaterial.prototype.isShadowMaterial = true;\n\nShadowMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\treturn this;\n\n};\n\nfunction RawShaderMaterial( parameters ) {\n\n\tShaderMaterial.call( this, parameters );\n\n\tthis.type = 'RawShaderMaterial';\n\n}\n\nRawShaderMaterial.prototype = Object.create( ShaderMaterial.prototype );\nRawShaderMaterial.prototype.constructor = RawShaderMaterial;\n\nRawShaderMaterial.prototype.isRawShaderMaterial = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  roughness: <float>,\n *  metalness: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  roughnessMap: new THREE.Texture( <Image> ),\n *\n *  metalnessMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  envMapIntensity: <float>\n *\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshStandardMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.defines = { 'STANDARD': '' };\n\n\tthis.type = 'MeshStandardMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\tthis.roughness = 1.0;\n\tthis.metalness = 0.0;\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.roughnessMap = null;\n\n\tthis.metalnessMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.envMapIntensity = 1.0;\n\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.vertexTangents = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshStandardMaterial.prototype = Object.create( Material.prototype );\nMeshStandardMaterial.prototype.constructor = MeshStandardMaterial;\n\nMeshStandardMaterial.prototype.isMeshStandardMaterial = true;\n\nMeshStandardMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.defines = { 'STANDARD': '' };\n\n\tthis.color.copy( source.color );\n\tthis.roughness = source.roughness;\n\tthis.metalness = source.metalness;\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.roughnessMap = source.roughnessMap;\n\n\tthis.metalnessMap = source.metalnessMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.envMapIntensity = source.envMapIntensity;\n\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\tthis.vertexTangents = source.vertexTangents;\n\n\treturn this;\n\n};\n\n/**\n * parameters = {\n *  clearcoat: <float>,\n *  clearcoatMap: new THREE.Texture( <Image> ),\n *  clearcoatRoughness: <float>,\n *  clearcoatRoughnessMap: new THREE.Texture( <Image> ),\n *  clearcoatNormalScale: <Vector2>,\n *  clearcoatNormalMap: new THREE.Texture( <Image> ),\n *\n *  reflectivity: <float>,\n *  ior: <float>,\n *\n *  sheen: <Color>,\n *\n *  transmission: <float>,\n *  transmissionMap: new THREE.Texture( <Image> )\n * }\n */\n\nfunction MeshPhysicalMaterial( parameters ) {\n\n\tMeshStandardMaterial.call( this );\n\n\tthis.defines = {\n\n\t\t'STANDARD': '',\n\t\t'PHYSICAL': ''\n\n\t};\n\n\tthis.type = 'MeshPhysicalMaterial';\n\n\tthis.clearcoat = 0.0;\n\tthis.clearcoatMap = null;\n\tthis.clearcoatRoughness = 0.0;\n\tthis.clearcoatRoughnessMap = null;\n\tthis.clearcoatNormalScale = new Vector2( 1, 1 );\n\tthis.clearcoatNormalMap = null;\n\n\tthis.reflectivity = 0.5; // maps to F0 = 0.04\n\n\tObject.defineProperty( this, 'ior', {\n\t\tget: function () {\n\n\t\t\treturn ( 1 + 0.4 * this.reflectivity ) / ( 1 - 0.4 * this.reflectivity );\n\n\t\t},\n\t\tset: function ( ior ) {\n\n\t\t\tthis.reflectivity = MathUtils.clamp( 2.5 * ( ior - 1 ) / ( ior + 1 ), 0, 1 );\n\n\t\t}\n\t} );\n\n\tthis.sheen = null; // null will disable sheen bsdf\n\n\tthis.transmission = 0.0;\n\tthis.transmissionMap = null;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshPhysicalMaterial.prototype = Object.create( MeshStandardMaterial.prototype );\nMeshPhysicalMaterial.prototype.constructor = MeshPhysicalMaterial;\n\nMeshPhysicalMaterial.prototype.isMeshPhysicalMaterial = true;\n\nMeshPhysicalMaterial.prototype.copy = function ( source ) {\n\n\tMeshStandardMaterial.prototype.copy.call( this, source );\n\n\tthis.defines = {\n\n\t\t'STANDARD': '',\n\t\t'PHYSICAL': ''\n\n\t};\n\n\tthis.clearcoat = source.clearcoat;\n\tthis.clearcoatMap = source.clearcoatMap;\n\tthis.clearcoatRoughness = source.clearcoatRoughness;\n\tthis.clearcoatRoughnessMap = source.clearcoatRoughnessMap;\n\tthis.clearcoatNormalMap = source.clearcoatNormalMap;\n\tthis.clearcoatNormalScale.copy( source.clearcoatNormalScale );\n\n\tthis.reflectivity = source.reflectivity;\n\n\tif ( source.sheen ) {\n\n\t\tthis.sheen = ( this.sheen || new Color() ).copy( source.sheen );\n\n\t} else {\n\n\t\tthis.sheen = null;\n\n\t}\n\n\tthis.transmission = source.transmission;\n\tthis.transmissionMap = source.transmissionMap;\n\n\treturn this;\n\n};\n\n/**\n * parameters = {\n *  color: <hex>,\n *  specular: <hex>,\n *  shininess: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.MultiplyOperation,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshPhongMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshPhongMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\tthis.specular = new Color( 0x111111 );\n\tthis.shininess = 30;\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.specularMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.combine = MultiplyOperation;\n\tthis.reflectivity = 1;\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshPhongMaterial.prototype = Object.create( Material.prototype );\nMeshPhongMaterial.prototype.constructor = MeshPhongMaterial;\n\nMeshPhongMaterial.prototype.isMeshPhongMaterial = true;\n\nMeshPhongMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\tthis.specular.copy( source.specular );\n\tthis.shininess = source.shininess;\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.specularMap = source.specularMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.combine = source.combine;\n\tthis.reflectivity = source.reflectivity;\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * parameters = {\n *  color: <hex>,\n *\n *  map: new THREE.Texture( <Image> ),\n *  gradientMap: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshToonMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.defines = { 'TOON': '' };\n\n\tthis.type = 'MeshToonMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\n\tthis.map = null;\n\tthis.gradientMap = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.alphaMap = null;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshToonMaterial.prototype = Object.create( Material.prototype );\nMeshToonMaterial.prototype.constructor = MeshToonMaterial;\n\nMeshToonMaterial.prototype.isMeshToonMaterial = true;\n\nMeshToonMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\tthis.gradientMap = source.gradientMap;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * parameters = {\n *  opacity: <float>,\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshNormalMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshNormalMaterial';\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.fog = false;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshNormalMaterial.prototype = Object.create( Material.prototype );\nMeshNormalMaterial.prototype.constructor = MeshNormalMaterial;\n\nMeshNormalMaterial.prototype.isMeshNormalMaterial = true;\n\nMeshNormalMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshLambertMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshLambertMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.specularMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.combine = MultiplyOperation;\n\tthis.reflectivity = 1;\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshLambertMaterial.prototype = Object.create( Material.prototype );\nMeshLambertMaterial.prototype.constructor = MeshLambertMaterial;\n\nMeshLambertMaterial.prototype.isMeshLambertMaterial = true;\n\nMeshLambertMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.specularMap = source.specularMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.combine = source.combine;\n\tthis.reflectivity = source.reflectivity;\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  matcap: new THREE.Texture( <Image> ),\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshMatcapMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.defines = { 'MATCAP': '' };\n\n\tthis.type = 'MeshMatcapMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\n\tthis.matcap = null;\n\n\tthis.map = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.alphaMap = null;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshMatcapMaterial.prototype = Object.create( Material.prototype );\nMeshMatcapMaterial.prototype.constructor = MeshMatcapMaterial;\n\nMeshMatcapMaterial.prototype.isMeshMatcapMaterial = true;\n\nMeshMatcapMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.defines = { 'MATCAP': '' };\n\n\tthis.color.copy( source.color );\n\n\tthis.matcap = source.matcap;\n\n\tthis.map = source.map;\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *\n *  scale: <float>,\n *  dashSize: <float>,\n *  gapSize: <float>\n * }\n */\n\nfunction LineDashedMaterial( parameters ) {\n\n\tLineBasicMaterial.call( this );\n\n\tthis.type = 'LineDashedMaterial';\n\n\tthis.scale = 1;\n\tthis.dashSize = 3;\n\tthis.gapSize = 1;\n\n\tthis.setValues( parameters );\n\n}\n\nLineDashedMaterial.prototype = Object.create( LineBasicMaterial.prototype );\nLineDashedMaterial.prototype.constructor = LineDashedMaterial;\n\nLineDashedMaterial.prototype.isLineDashedMaterial = true;\n\nLineDashedMaterial.prototype.copy = function ( source ) {\n\n\tLineBasicMaterial.prototype.copy.call( this, source );\n\n\tthis.scale = source.scale;\n\tthis.dashSize = source.dashSize;\n\tthis.gapSize = source.gapSize;\n\n\treturn this;\n\n};\n\nvar Materials = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tShadowMaterial: ShadowMaterial,\n\tSpriteMaterial: SpriteMaterial,\n\tRawShaderMaterial: RawShaderMaterial,\n\tShaderMaterial: ShaderMaterial,\n\tPointsMaterial: PointsMaterial,\n\tMeshPhysicalMaterial: MeshPhysicalMaterial,\n\tMeshStandardMaterial: MeshStandardMaterial,\n\tMeshPhongMaterial: MeshPhongMaterial,\n\tMeshToonMaterial: MeshToonMaterial,\n\tMeshNormalMaterial: MeshNormalMaterial,\n\tMeshLambertMaterial: MeshLambertMaterial,\n\tMeshDepthMaterial: MeshDepthMaterial,\n\tMeshDistanceMaterial: MeshDistanceMaterial,\n\tMeshBasicMaterial: MeshBasicMaterial,\n\tMeshMatcapMaterial: MeshMatcapMaterial,\n\tLineDashedMaterial: LineDashedMaterial,\n\tLineBasicMaterial: LineBasicMaterial,\n\tMaterial: Material\n});\n\nconst AnimationUtils = {\n\n\t// same as Array.prototype.slice, but also works on typed arrays\n\tarraySlice: function ( array, from, to ) {\n\n\t\tif ( AnimationUtils.isTypedArray( array ) ) {\n\n\t\t\t// in ios9 array.subarray(from, undefined) will return empty array\n\t\t\t// but array.subarray(from) or array.subarray(from, len) is correct\n\t\t\treturn new array.constructor( array.subarray( from, to !== undefined ? to : array.length ) );\n\n\t\t}\n\n\t\treturn array.slice( from, to );\n\n\t},\n\n\t// converts an array to a specific type\n\tconvertArray: function ( array, type, forceClone ) {\n\n\t\tif ( ! array || // let 'undefined' and 'null' pass\n\t\t\t! forceClone && array.constructor === type ) return array;\n\n\t\tif ( typeof type.BYTES_PER_ELEMENT === 'number' ) {\n\n\t\t\treturn new type( array ); // create typed array\n\n\t\t}\n\n\t\treturn Array.prototype.slice.call( array ); // create Array\n\n\t},\n\n\tisTypedArray: function ( object ) {\n\n\t\treturn ArrayBuffer.isView( object ) &&\n\t\t\t! ( object instanceof DataView );\n\n\t},\n\n\t// returns an array by which times and values can be sorted\n\tgetKeyframeOrder: function ( times ) {\n\n\t\tfunction compareTime( i, j ) {\n\n\t\t\treturn times[ i ] - times[ j ];\n\n\t\t}\n\n\t\tconst n = times.length;\n\t\tconst result = new Array( n );\n\t\tfor ( let i = 0; i !== n; ++ i ) result[ i ] = i;\n\n\t\tresult.sort( compareTime );\n\n\t\treturn result;\n\n\t},\n\n\t// uses the array previously returned by 'getKeyframeOrder' to sort data\n\tsortedArray: function ( values, stride, order ) {\n\n\t\tconst nValues = values.length;\n\t\tconst result = new values.constructor( nValues );\n\n\t\tfor ( let i = 0, dstOffset = 0; dstOffset !== nValues; ++ i ) {\n\n\t\t\tconst srcOffset = order[ i ] * stride;\n\n\t\t\tfor ( let j = 0; j !== stride; ++ j ) {\n\n\t\t\t\tresult[ dstOffset ++ ] = values[ srcOffset + j ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn result;\n\n\t},\n\n\t// function for parsing AOS keyframe formats\n\tflattenJSON: function ( jsonKeys, times, values, valuePropertyName ) {\n\n\t\tlet i = 1, key = jsonKeys[ 0 ];\n\n\t\twhile ( key !== undefined && key[ valuePropertyName ] === undefined ) {\n\n\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t}\n\n\t\tif ( key === undefined ) return; // no data\n\n\t\tlet value = key[ valuePropertyName ];\n\t\tif ( value === undefined ) return; // no data\n\n\t\tif ( Array.isArray( value ) ) {\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalues.push.apply( values, value ); // push all elements\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t} else if ( value.toArray !== undefined ) {\n\n\t\t\t// ...assume THREE.Math-ish\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalue.toArray( values, values.length );\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t} else {\n\n\t\t\t// otherwise push as-is\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalues.push( value );\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t}\n\n\t},\n\n\tsubclip: function ( sourceClip, name, startFrame, endFrame, fps = 30 ) {\n\n\t\tconst clip = sourceClip.clone();\n\n\t\tclip.name = name;\n\n\t\tconst tracks = [];\n\n\t\tfor ( let i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\t\tconst track = clip.tracks[ i ];\n\t\t\tconst valueSize = track.getValueSize();\n\n\t\t\tconst times = [];\n\t\t\tconst values = [];\n\n\t\t\tfor ( let j = 0; j < track.times.length; ++ j ) {\n\n\t\t\t\tconst frame = track.times[ j ] * fps;\n\n\t\t\t\tif ( frame < startFrame || frame >= endFrame ) continue;\n\n\t\t\t\ttimes.push( track.times[ j ] );\n\n\t\t\t\tfor ( let k = 0; k < valueSize; ++ k ) {\n\n\t\t\t\t\tvalues.push( track.values[ j * valueSize + k ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( times.length === 0 ) continue;\n\n\t\t\ttrack.times = AnimationUtils.convertArray( times, track.times.constructor );\n\t\t\ttrack.values = AnimationUtils.convertArray( values, track.values.constructor );\n\n\t\t\ttracks.push( track );\n\n\t\t}\n\n\t\tclip.tracks = tracks;\n\n\t\t// find minimum .times value across all tracks in the trimmed clip\n\n\t\tlet minStartTime = Infinity;\n\n\t\tfor ( let i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\t\tif ( minStartTime > clip.tracks[ i ].times[ 0 ] ) {\n\n\t\t\t\tminStartTime = clip.tracks[ i ].times[ 0 ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// shift all tracks such that clip begins at t=0\n\n\t\tfor ( let i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\t\tclip.tracks[ i ].shift( - 1 * minStartTime );\n\n\t\t}\n\n\t\tclip.resetDuration();\n\n\t\treturn clip;\n\n\t},\n\n\tmakeClipAdditive: function ( targetClip, referenceFrame = 0, referenceClip = targetClip, fps = 30 ) {\n\n\t\tif ( fps <= 0 ) fps = 30;\n\n\t\tconst numTracks = referenceClip.tracks.length;\n\t\tconst referenceTime = referenceFrame / fps;\n\n\t\t// Make each track's values relative to the values at the reference frame\n\t\tfor ( let i = 0; i < numTracks; ++ i ) {\n\n\t\t\tconst referenceTrack = referenceClip.tracks[ i ];\n\t\t\tconst referenceTrackType = referenceTrack.ValueTypeName;\n\n\t\t\t// Skip this track if it's non-numeric\n\t\t\tif ( referenceTrackType === 'bool' || referenceTrackType === 'string' ) continue;\n\n\t\t\t// Find the track in the target clip whose name and type matches the reference track\n\t\t\tconst targetTrack = targetClip.tracks.find( function ( track ) {\n\n\t\t\t\treturn track.name === referenceTrack.name\n\t\t\t\t\t&& track.ValueTypeName === referenceTrackType;\n\n\t\t\t} );\n\n\t\t\tif ( targetTrack === undefined ) continue;\n\n\t\t\tlet referenceOffset = 0;\n\t\t\tconst referenceValueSize = referenceTrack.getValueSize();\n\n\t\t\tif ( referenceTrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline ) {\n\n\t\t\t\treferenceOffset = referenceValueSize / 3;\n\n\t\t\t}\n\n\t\t\tlet targetOffset = 0;\n\t\t\tconst targetValueSize = targetTrack.getValueSize();\n\n\t\t\tif ( targetTrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline ) {\n\n\t\t\t\ttargetOffset = targetValueSize / 3;\n\n\t\t\t}\n\n\t\t\tconst lastIndex = referenceTrack.times.length - 1;\n\t\t\tlet referenceValue;\n\n\t\t\t// Find the value to subtract out of the track\n\t\t\tif ( referenceTime <= referenceTrack.times[ 0 ] ) {\n\n\t\t\t\t// Reference frame is earlier than the first keyframe, so just use the first keyframe\n\t\t\t\tconst startIndex = referenceOffset;\n\t\t\t\tconst endIndex = referenceValueSize - referenceOffset;\n\t\t\t\treferenceValue = AnimationUtils.arraySlice( referenceTrack.values, startIndex, endIndex );\n\n\t\t\t} else if ( referenceTime >= referenceTrack.times[ lastIndex ] ) {\n\n\t\t\t\t// Reference frame is after the last keyframe, so just use the last keyframe\n\t\t\t\tconst startIndex = lastIndex * referenceValueSize + referenceOffset;\n\t\t\t\tconst endIndex = startIndex + referenceValueSize - referenceOffset;\n\t\t\t\treferenceValue = AnimationUtils.arraySlice( referenceTrack.values, startIndex, endIndex );\n\n\t\t\t} else {\n\n\t\t\t\t// Interpolate to the reference value\n\t\t\t\tconst interpolant = referenceTrack.createInterpolant();\n\t\t\t\tconst startIndex = referenceOffset;\n\t\t\t\tconst endIndex = referenceValueSize - referenceOffset;\n\t\t\t\tinterpolant.evaluate( referenceTime );\n\t\t\t\treferenceValue = AnimationUtils.arraySlice( interpolant.resultBuffer, startIndex, endIndex );\n\n\t\t\t}\n\n\t\t\t// Conjugate the quaternion\n\t\t\tif ( referenceTrackType === 'quaternion' ) {\n\n\t\t\t\tconst referenceQuat = new Quaternion().fromArray( referenceValue ).normalize().conjugate();\n\t\t\t\treferenceQuat.toArray( referenceValue );\n\n\t\t\t}\n\n\t\t\t// Subtract the reference value from all of the track values\n\n\t\t\tconst numTimes = targetTrack.times.length;\n\t\t\tfor ( let j = 0; j < numTimes; ++ j ) {\n\n\t\t\t\tconst valueStart = j * targetValueSize + targetOffset;\n\n\t\t\t\tif ( referenceTrackType === 'quaternion' ) {\n\n\t\t\t\t\t// Multiply the conjugate for quaternion track types\n\t\t\t\t\tQuaternion.multiplyQuaternionsFlat(\n\t\t\t\t\t\ttargetTrack.values,\n\t\t\t\t\t\tvalueStart,\n\t\t\t\t\t\treferenceValue,\n\t\t\t\t\t\t0,\n\t\t\t\t\t\ttargetTrack.values,\n\t\t\t\t\t\tvalueStart\n\t\t\t\t\t);\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst valueEnd = targetValueSize - targetOffset * 2;\n\n\t\t\t\t\t// Subtract each value for all other numeric track types\n\t\t\t\t\tfor ( let k = 0; k < valueEnd; ++ k ) {\n\n\t\t\t\t\t\ttargetTrack.values[ valueStart + k ] -= referenceValue[ k ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\ttargetClip.blendMode = AdditiveAnimationBlendMode;\n\n\t\treturn targetClip;\n\n\t}\n\n};\n\n/**\n * Abstract base class of interpolants over parametric samples.\n *\n * The parameter domain is one dimensional, typically the time or a path\n * along a curve defined by the data.\n *\n * The sample values can have any dimensionality and derived classes may\n * apply special interpretations to the data.\n *\n * This class provides the interval seek in a Template Method, deferring\n * the actual interpolation to derived classes.\n *\n * Time complexity is O(1) for linear access crossing at most two points\n * and O(log N) for random access, where N is the number of positions.\n *\n * References:\n *\n * \t\thttp://www.oodesign.com/template-method-pattern.html\n *\n */\n\nfunction Interpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tthis.parameterPositions = parameterPositions;\n\tthis._cachedIndex = 0;\n\n\tthis.resultBuffer = resultBuffer !== undefined ?\n\t\tresultBuffer : new sampleValues.constructor( sampleSize );\n\tthis.sampleValues = sampleValues;\n\tthis.valueSize = sampleSize;\n\n}\n\nObject.assign( Interpolant.prototype, {\n\n\tevaluate: function ( t ) {\n\n\t\tconst pp = this.parameterPositions;\n\t\tlet i1 = this._cachedIndex,\n\t\t\tt1 = pp[ i1 ],\n\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\tvalidate_interval: {\n\n\t\t\tseek: {\n\n\t\t\t\tlet right;\n\n\t\t\t\tlinear_scan: {\n\n\t\t\t\t\t//- See http://jsperf.com/comparison-to-undefined/3\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\n\t\t\t\t\t//- \t\t\t\tif ( t >= t1 || t1 === undefined ) {\n\t\t\t\t\tforward_scan: if ( ! ( t < t1 ) ) {\n\n\t\t\t\t\t\tfor ( let giveUpAt = i1 + 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\t\t\t\tif ( t < t0 ) break forward_scan;\n\n\t\t\t\t\t\t\t\t// after end\n\n\t\t\t\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\t\t\t\treturn this.afterEnd_( i1 - 1, t, t0 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt0 = t1;\n\t\t\t\t\t\t\tt1 = pp[ ++ i1 ];\n\n\t\t\t\t\t\t\tif ( t < t1 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the right side of the index\n\t\t\t\t\t\tright = pp.length;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\t\t\t\t\tif ( t < t0 || t0 === undefined ) {\n\t\t\t\t\tif ( ! ( t >= t0 ) ) {\n\n\t\t\t\t\t\t// looping?\n\n\t\t\t\t\t\tconst t1global = pp[ 1 ];\n\n\t\t\t\t\t\tif ( t < t1global ) {\n\n\t\t\t\t\t\t\ti1 = 2; // + 1, using the scan for the details\n\t\t\t\t\t\t\tt0 = t1global;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// linear reverse scan\n\n\t\t\t\t\t\tfor ( let giveUpAt = i1 - 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\t\t\t\t// before start\n\n\t\t\t\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\t\t\t\treturn this.beforeStart_( 0, t, t1 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt1 = t0;\n\t\t\t\t\t\t\tt0 = pp[ -- i1 - 1 ];\n\n\t\t\t\t\t\t\tif ( t >= t0 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the left side of the index\n\t\t\t\t\t\tright = i1;\n\t\t\t\t\t\ti1 = 0;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// the interval is valid\n\n\t\t\t\t\tbreak validate_interval;\n\n\t\t\t\t} // linear scan\n\n\t\t\t\t// binary search\n\n\t\t\t\twhile ( i1 < right ) {\n\n\t\t\t\t\tconst mid = ( i1 + right ) >>> 1;\n\n\t\t\t\t\tif ( t < pp[ mid ] ) {\n\n\t\t\t\t\t\tright = mid;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ti1 = mid + 1;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tt1 = pp[ i1 ];\n\t\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\t\t\t// check boundary cases, again\n\n\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\treturn this.beforeStart_( 0, t, t1 );\n\n\t\t\t\t}\n\n\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\treturn this.afterEnd_( i1 - 1, t0, t );\n\n\t\t\t\t}\n\n\t\t\t} // seek\n\n\t\t\tthis._cachedIndex = i1;\n\n\t\t\tthis.intervalChanged_( i1, t0, t1 );\n\n\t\t} // validate_interval\n\n\t\treturn this.interpolate_( i1, t0, t, t1 );\n\n\t},\n\n\tsettings: null, // optional, subclass-specific settings structure\n\t// Note: The indirection allows central control of many interpolants.\n\n\t// --- Protected interface\n\n\tDefaultSettings_: {},\n\n\tgetSettings_: function () {\n\n\t\treturn this.settings || this.DefaultSettings_;\n\n\t},\n\n\tcopySampleValue_: function ( index ) {\n\n\t\t// copies a sample value to the result buffer\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = index * stride;\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] = values[ offset + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t},\n\n\t// Template methods for derived classes:\n\n\tinterpolate_: function ( /* i1, t0, t, t1 */ ) {\n\n\t\tthrow new Error( 'call to abstract method' );\n\t\t// implementations shall return this.resultBuffer\n\n\t},\n\n\tintervalChanged_: function ( /* i1, t0, t1 */ ) {\n\n\t\t// empty\n\n\t}\n\n} );\n\n// DECLARE ALIAS AFTER assign prototype\nObject.assign( Interpolant.prototype, {\n\n\t//( 0, t, t0 ), returns this.resultBuffer\n\tbeforeStart_: Interpolant.prototype.copySampleValue_,\n\n\t//( N-1, tN-1, t ), returns this.resultBuffer\n\tafterEnd_: Interpolant.prototype.copySampleValue_,\n\n} );\n\n/**\n * Fast and simple cubic spline interpolant.\n *\n * It was derived from a Hermitian construction setting the first derivative\n * at each sample position to the linear slope between neighboring positions\n * over their parameter interval.\n */\n\nfunction CubicInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\tthis._weightPrev = - 0;\n\tthis._offsetPrev = - 0;\n\tthis._weightNext = - 0;\n\tthis._offsetNext = - 0;\n\n}\n\nCubicInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: CubicInterpolant,\n\n\tDefaultSettings_: {\n\n\t\tendingStart: ZeroCurvatureEnding,\n\t\tendingEnd: ZeroCurvatureEnding\n\n\t},\n\n\tintervalChanged_: function ( i1, t0, t1 ) {\n\n\t\tconst pp = this.parameterPositions;\n\t\tlet iPrev = i1 - 2,\n\t\t\tiNext = i1 + 1,\n\n\t\t\ttPrev = pp[ iPrev ],\n\t\t\ttNext = pp[ iNext ];\n\n\t\tif ( tPrev === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingStart ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(t0) = 0\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = 2 * t0 - t1;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiPrev = pp.length - 2;\n\t\t\t\t\ttPrev = t0 + pp[ iPrev ] - pp[ iPrev + 1 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(t0) = 0 a.k.a. Natural Spline\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = t1;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tNext === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingEnd ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(tN) = 0\n\t\t\t\t\tiNext = i1;\n\t\t\t\t\ttNext = 2 * t1 - t0;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiNext = 1;\n\t\t\t\t\ttNext = t1 + pp[ 1 ] - pp[ 0 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(tN) = 0, a.k.a. Natural Spline\n\t\t\t\t\tiNext = i1 - 1;\n\t\t\t\t\ttNext = t0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst halfDt = ( t1 - t0 ) * 0.5,\n\t\t\tstride = this.valueSize;\n\n\t\tthis._weightPrev = halfDt / ( t0 - tPrev );\n\t\tthis._weightNext = halfDt / ( tNext - t1 );\n\t\tthis._offsetPrev = iPrev * stride;\n\t\tthis._offsetNext = iNext * stride;\n\n\t},\n\n\tinterpolate_: function ( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\to1 = i1 * stride,\t\to0 = o1 - stride,\n\t\t\toP = this._offsetPrev, \toN = this._offsetNext,\n\t\t\twP = this._weightPrev,\twN = this._weightNext,\n\n\t\t\tp = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tpp = p * p,\n\t\t\tppp = pp * p;\n\n\t\t// evaluate polynomials\n\n\t\tconst sP = - wP * ppp + 2 * wP * pp - wP * p;\n\t\tconst s0 = ( 1 + wP ) * ppp + ( - 1.5 - 2 * wP ) * pp + ( - 0.5 + wP ) * p + 1;\n\t\tconst s1 = ( - 1 - wN ) * ppp + ( 1.5 + wN ) * pp + 0.5 * p;\n\t\tconst sN = wN * ppp - wN * pp;\n\n\t\t// combine data linearly\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tsP * values[ oP + i ] +\n\t\t\t\t\ts0 * values[ o0 + i ] +\n\t\t\t\t\ts1 * values[ o1 + i ] +\n\t\t\t\t\tsN * values[ oN + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n} );\n\nfunction LinearInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n}\n\nLinearInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: LinearInterpolant,\n\n\tinterpolate_: function ( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\toffset1 = i1 * stride,\n\t\t\toffset0 = offset1 - stride,\n\n\t\t\tweight1 = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tweight0 = 1 - weight1;\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tvalues[ offset0 + i ] * weight0 +\n\t\t\t\t\tvalues[ offset1 + i ] * weight1;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n} );\n\n/**\n *\n * Interpolant that evaluates to the sample value at the position preceeding\n * the parameter.\n */\n\nfunction DiscreteInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n}\n\nDiscreteInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: DiscreteInterpolant,\n\n\tinterpolate_: function ( i1 /*, t0, t, t1 */ ) {\n\n\t\treturn this.copySampleValue_( i1 - 1 );\n\n\t}\n\n} );\n\nfunction KeyframeTrack( name, times, values, interpolation ) {\n\n\tif ( name === undefined ) throw new Error( 'THREE.KeyframeTrack: track name is undefined' );\n\tif ( times === undefined || times.length === 0 ) throw new Error( 'THREE.KeyframeTrack: no keyframes in track named ' + name );\n\n\tthis.name = name;\n\n\tthis.times = AnimationUtils.convertArray( times, this.TimeBufferType );\n\tthis.values = AnimationUtils.convertArray( values, this.ValueBufferType );\n\n\tthis.setInterpolation( interpolation || this.DefaultInterpolation );\n\n}\n\n// Static methods\n\nObject.assign( KeyframeTrack, {\n\n\t// Serialization (in static context, because of constructor invocation\n\t// and automatic invocation of .toJSON):\n\n\ttoJSON: function ( track ) {\n\n\t\tconst trackType = track.constructor;\n\n\t\tlet json;\n\n\t\t// derived classes can define a static toJSON method\n\t\tif ( trackType.toJSON !== undefined ) {\n\n\t\t\tjson = trackType.toJSON( track );\n\n\t\t} else {\n\n\t\t\t// by default, we assume the data can be serialized as-is\n\t\t\tjson = {\n\n\t\t\t\t'name': track.name,\n\t\t\t\t'times': AnimationUtils.convertArray( track.times, Array ),\n\t\t\t\t'values': AnimationUtils.convertArray( track.values, Array )\n\n\t\t\t};\n\n\t\t\tconst interpolation = track.getInterpolation();\n\n\t\t\tif ( interpolation !== track.DefaultInterpolation ) {\n\n\t\t\t\tjson.interpolation = interpolation;\n\n\t\t\t}\n\n\t\t}\n\n\t\tjson.type = track.ValueTypeName; // mandatory\n\n\t\treturn json;\n\n\t}\n\n} );\n\nObject.assign( KeyframeTrack.prototype, {\n\n\tconstructor: KeyframeTrack,\n\n\tTimeBufferType: Float32Array,\n\n\tValueBufferType: Float32Array,\n\n\tDefaultInterpolation: InterpolateLinear,\n\n\tInterpolantFactoryMethodDiscrete: function ( result ) {\n\n\t\treturn new DiscreteInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tInterpolantFactoryMethodLinear: function ( result ) {\n\n\t\treturn new LinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tInterpolantFactoryMethodSmooth: function ( result ) {\n\n\t\treturn new CubicInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tsetInterpolation: function ( interpolation ) {\n\n\t\tlet factoryMethod;\n\n\t\tswitch ( interpolation ) {\n\n\t\t\tcase InterpolateDiscrete:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodDiscrete;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateLinear:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodLinear;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateSmooth:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodSmooth;\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( factoryMethod === undefined ) {\n\n\t\t\tconst message = \"unsupported interpolation for \" +\n\t\t\t\tthis.ValueTypeName + \" keyframe track named \" + this.name;\n\n\t\t\tif ( this.createInterpolant === undefined ) {\n\n\t\t\t\t// fall back to default, unless the default itself is messed up\n\t\t\t\tif ( interpolation !== this.DefaultInterpolation ) {\n\n\t\t\t\t\tthis.setInterpolation( this.DefaultInterpolation );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( message ); // fatal, in this case\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconsole.warn( 'THREE.KeyframeTrack:', message );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tthis.createInterpolant = factoryMethod;\n\n\t\treturn this;\n\n\t},\n\n\tgetInterpolation: function () {\n\n\t\tswitch ( this.createInterpolant ) {\n\n\t\t\tcase this.InterpolantFactoryMethodDiscrete:\n\n\t\t\t\treturn InterpolateDiscrete;\n\n\t\t\tcase this.InterpolantFactoryMethodLinear:\n\n\t\t\t\treturn InterpolateLinear;\n\n\t\t\tcase this.InterpolantFactoryMethodSmooth:\n\n\t\t\t\treturn InterpolateSmooth;\n\n\t\t}\n\n\t},\n\n\tgetValueSize: function () {\n\n\t\treturn this.values.length / this.times.length;\n\n\t},\n\n\t// move all keyframes either forwards or backwards in time\n\tshift: function ( timeOffset ) {\n\n\t\tif ( timeOffset !== 0.0 ) {\n\n\t\t\tconst times = this.times;\n\n\t\t\tfor ( let i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] += timeOffset;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// scale all keyframe times by a factor (useful for frame <-> seconds conversions)\n\tscale: function ( timeScale ) {\n\n\t\tif ( timeScale !== 1.0 ) {\n\n\t\t\tconst times = this.times;\n\n\t\t\tfor ( let i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] *= timeScale;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// removes keyframes before and after animation without changing any values within the range [startTime, endTime].\n\t// IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values\n\ttrim: function ( startTime, endTime ) {\n\n\t\tconst times = this.times,\n\t\t\tnKeys = times.length;\n\n\t\tlet from = 0,\n\t\t\tto = nKeys - 1;\n\n\t\twhile ( from !== nKeys && times[ from ] < startTime ) {\n\n\t\t\t++ from;\n\n\t\t}\n\n\t\twhile ( to !== - 1 && times[ to ] > endTime ) {\n\n\t\t\t-- to;\n\n\t\t}\n\n\t\t++ to; // inclusive -> exclusive bound\n\n\t\tif ( from !== 0 || to !== nKeys ) {\n\n\t\t\t// empty tracks are forbidden, so keep at least one keyframe\n\t\t\tif ( from >= to ) {\n\n\t\t\t\tto = Math.max( to, 1 );\n\t\t\t\tfrom = to - 1;\n\n\t\t\t}\n\n\t\t\tconst stride = this.getValueSize();\n\t\t\tthis.times = AnimationUtils.arraySlice( times, from, to );\n\t\t\tthis.values = AnimationUtils.arraySlice( this.values, from * stride, to * stride );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable\n\tvalidate: function () {\n\n\t\tlet valid = true;\n\n\t\tconst valueSize = this.getValueSize();\n\t\tif ( valueSize - Math.floor( valueSize ) !== 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Invalid value size in track.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tconst times = this.times,\n\t\t\tvalues = this.values,\n\n\t\t\tnKeys = times.length;\n\n\t\tif ( nKeys === 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Track is empty.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tlet prevTime = null;\n\n\t\tfor ( let i = 0; i !== nKeys; i ++ ) {\n\n\t\t\tconst currTime = times[ i ];\n\n\t\t\tif ( typeof currTime === 'number' && isNaN( currTime ) ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Time is not a valid number.', this, i, currTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( prevTime !== null && prevTime > currTime ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Out of order keys.', this, i, currTime, prevTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tprevTime = currTime;\n\n\t\t}\n\n\t\tif ( values !== undefined ) {\n\n\t\t\tif ( AnimationUtils.isTypedArray( values ) ) {\n\n\t\t\t\tfor ( let i = 0, n = values.length; i !== n; ++ i ) {\n\n\t\t\t\t\tconst value = values[ i ];\n\n\t\t\t\t\tif ( isNaN( value ) ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Value is not a valid number.', this, i, value );\n\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn valid;\n\n\t},\n\n\t// removes equivalent sequential keys as common in morph target sequences\n\t// (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --> (0,0,1,1,0,0)\n\toptimize: function () {\n\n\t\t// times or values may be shared with other tracks, so overwriting is unsafe\n\t\tconst times = AnimationUtils.arraySlice( this.times ),\n\t\t\tvalues = AnimationUtils.arraySlice( this.values ),\n\t\t\tstride = this.getValueSize(),\n\n\t\t\tsmoothInterpolation = this.getInterpolation() === InterpolateSmooth,\n\n\t\t\tlastIndex = times.length - 1;\n\n\t\tlet writeIndex = 1;\n\n\t\tfor ( let i = 1; i < lastIndex; ++ i ) {\n\n\t\t\tlet keep = false;\n\n\t\t\tconst time = times[ i ];\n\t\t\tconst timeNext = times[ i + 1 ];\n\n\t\t\t// remove adjacent keyframes scheduled at the same time\n\n\t\t\tif ( time !== timeNext && ( i !== 1 || time !== time[ 0 ] ) ) {\n\n\t\t\t\tif ( ! smoothInterpolation ) {\n\n\t\t\t\t\t// remove unnecessary keyframes same as their neighbors\n\n\t\t\t\t\tconst offset = i * stride,\n\t\t\t\t\t\toffsetP = offset - stride,\n\t\t\t\t\t\toffsetN = offset + stride;\n\n\t\t\t\t\tfor ( let j = 0; j !== stride; ++ j ) {\n\n\t\t\t\t\t\tconst value = values[ offset + j ];\n\n\t\t\t\t\t\tif ( value !== values[ offsetP + j ] ||\n\t\t\t\t\t\t\tvalue !== values[ offsetN + j ] ) {\n\n\t\t\t\t\t\t\tkeep = true;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tkeep = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// in-place compaction\n\n\t\t\tif ( keep ) {\n\n\t\t\t\tif ( i !== writeIndex ) {\n\n\t\t\t\t\ttimes[ writeIndex ] = times[ i ];\n\n\t\t\t\t\tconst readOffset = i * stride,\n\t\t\t\t\t\twriteOffset = writeIndex * stride;\n\n\t\t\t\t\tfor ( let j = 0; j !== stride; ++ j ) {\n\n\t\t\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t++ writeIndex;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// flush last keyframe (compaction looks ahead)\n\n\t\tif ( lastIndex > 0 ) {\n\n\t\t\ttimes[ writeIndex ] = times[ lastIndex ];\n\n\t\t\tfor ( let readOffset = lastIndex * stride, writeOffset = writeIndex * stride, j = 0; j !== stride; ++ j ) {\n\n\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t}\n\n\t\t\t++ writeIndex;\n\n\t\t}\n\n\t\tif ( writeIndex !== times.length ) {\n\n\t\t\tthis.times = AnimationUtils.arraySlice( times, 0, writeIndex );\n\t\t\tthis.values = AnimationUtils.arraySlice( values, 0, writeIndex * stride );\n\n\t\t} else {\n\n\t\t\tthis.times = times;\n\t\t\tthis.values = values;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\tconst times = AnimationUtils.arraySlice( this.times, 0 );\n\t\tconst values = AnimationUtils.arraySlice( this.values, 0 );\n\n\t\tconst TypedKeyframeTrack = this.constructor;\n\t\tconst track = new TypedKeyframeTrack( this.name, times, values );\n\n\t\t// Interpolant argument to constructor is not saved, so copy the factory method directly.\n\t\ttrack.createInterpolant = this.createInterpolant;\n\n\t\treturn track;\n\n\t}\n\n} );\n\n/**\n * A Track of Boolean keyframe values.\n */\n\nfunction BooleanKeyframeTrack( name, times, values ) {\n\n\tKeyframeTrack.call( this, name, times, values );\n\n}\n\nBooleanKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: BooleanKeyframeTrack,\n\n\tValueTypeName: 'bool',\n\tValueBufferType: Array,\n\n\tDefaultInterpolation: InterpolateDiscrete,\n\n\tInterpolantFactoryMethodLinear: undefined,\n\tInterpolantFactoryMethodSmooth: undefined\n\n\t// Note: Actually this track could have a optimized / compressed\n\t// representation of a single value and a custom interpolant that\n\t// computes \"firstValue ^ isOdd( index )\".\n\n} );\n\n/**\n * A Track of keyframe values that represent color.\n */\n\nfunction ColorKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nColorKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: ColorKeyframeTrack,\n\n\tValueTypeName: 'color'\n\n\t// ValueBufferType is inherited\n\n\t// DefaultInterpolation is inherited\n\n\t// Note: Very basic implementation and nothing special yet.\n\t// However, this is the place for color space parameterization.\n\n} );\n\n/**\n * A Track of numeric keyframe values.\n */\n\nfunction NumberKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nNumberKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: NumberKeyframeTrack,\n\n\tValueTypeName: 'number'\n\n\t// ValueBufferType is inherited\n\n\t// DefaultInterpolation is inherited\n\n} );\n\n/**\n * Spherical linear unit quaternion interpolant.\n */\n\nfunction QuaternionLinearInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n}\n\nQuaternionLinearInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: QuaternionLinearInterpolant,\n\n\tinterpolate_: function ( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\talpha = ( t - t0 ) / ( t1 - t0 );\n\n\t\tlet offset = i1 * stride;\n\n\t\tfor ( let end = offset + stride; offset !== end; offset += 4 ) {\n\n\t\t\tQuaternion.slerpFlat( result, 0, values, offset - stride, values, offset, alpha );\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n} );\n\n/**\n * A Track of quaternion keyframe values.\n */\n\nfunction QuaternionKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nQuaternionKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: QuaternionKeyframeTrack,\n\n\tValueTypeName: 'quaternion',\n\n\t// ValueBufferType is inherited\n\n\tDefaultInterpolation: InterpolateLinear,\n\n\tInterpolantFactoryMethodLinear: function ( result ) {\n\n\t\treturn new QuaternionLinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tInterpolantFactoryMethodSmooth: undefined // not yet implemented\n\n} );\n\n/**\n * A Track that interpolates Strings\n */\n\nfunction StringKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nStringKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: StringKeyframeTrack,\n\n\tValueTypeName: 'string',\n\tValueBufferType: Array,\n\n\tDefaultInterpolation: InterpolateDiscrete,\n\n\tInterpolantFactoryMethodLinear: undefined,\n\n\tInterpolantFactoryMethodSmooth: undefined\n\n} );\n\n/**\n * A Track of vectored keyframe values.\n */\n\nfunction VectorKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nVectorKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: VectorKeyframeTrack,\n\n\tValueTypeName: 'vector'\n\n\t// ValueBufferType is inherited\n\n\t// DefaultInterpolation is inherited\n\n} );\n\nfunction AnimationClip( name, duration, tracks, blendMode ) {\n\n\tthis.name = name;\n\tthis.tracks = tracks;\n\tthis.duration = ( duration !== undefined ) ? duration : - 1;\n\tthis.blendMode = ( blendMode !== undefined ) ? blendMode : NormalAnimationBlendMode;\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\t// this means it should figure out its duration by scanning the tracks\n\tif ( this.duration < 0 ) {\n\n\t\tthis.resetDuration();\n\n\t}\n\n}\n\nfunction getTrackTypeForValueTypeName( typeName ) {\n\n\tswitch ( typeName.toLowerCase() ) {\n\n\t\tcase 'scalar':\n\t\tcase 'double':\n\t\tcase 'float':\n\t\tcase 'number':\n\t\tcase 'integer':\n\n\t\t\treturn NumberKeyframeTrack;\n\n\t\tcase 'vector':\n\t\tcase 'vector2':\n\t\tcase 'vector3':\n\t\tcase 'vector4':\n\n\t\t\treturn VectorKeyframeTrack;\n\n\t\tcase 'color':\n\n\t\t\treturn ColorKeyframeTrack;\n\n\t\tcase 'quaternion':\n\n\t\t\treturn QuaternionKeyframeTrack;\n\n\t\tcase 'bool':\n\t\tcase 'boolean':\n\n\t\t\treturn BooleanKeyframeTrack;\n\n\t\tcase 'string':\n\n\t\t\treturn StringKeyframeTrack;\n\n\t}\n\n\tthrow new Error( 'THREE.KeyframeTrack: Unsupported typeName: ' + typeName );\n\n}\n\nfunction parseKeyframeTrack( json ) {\n\n\tif ( json.type === undefined ) {\n\n\t\tthrow new Error( 'THREE.KeyframeTrack: track type undefined, can not parse' );\n\n\t}\n\n\tconst trackType = getTrackTypeForValueTypeName( json.type );\n\n\tif ( json.times === undefined ) {\n\n\t\tconst times = [], values = [];\n\n\t\tAnimationUtils.flattenJSON( json.keys, times, values, 'value' );\n\n\t\tjson.times = times;\n\t\tjson.values = values;\n\n\t}\n\n\t// derived classes can define a static parse method\n\tif ( trackType.parse !== undefined ) {\n\n\t\treturn trackType.parse( json );\n\n\t} else {\n\n\t\t// by default, we assume a constructor compatible with the base\n\t\treturn new trackType( json.name, json.times, json.values, json.interpolation );\n\n\t}\n\n}\n\nObject.assign( AnimationClip, {\n\n\tparse: function ( json ) {\n\n\t\tconst tracks = [],\n\t\t\tjsonTracks = json.tracks,\n\t\t\tframeTime = 1.0 / ( json.fps || 1.0 );\n\n\t\tfor ( let i = 0, n = jsonTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( parseKeyframeTrack( jsonTracks[ i ] ).scale( frameTime ) );\n\n\t\t}\n\n\t\tconst clip = new AnimationClip( json.name, json.duration, tracks, json.blendMode );\n\t\tclip.uuid = json.uuid;\n\n\t\treturn clip;\n\n\t},\n\n\ttoJSON: function ( clip ) {\n\n\t\tconst tracks = [],\n\t\t\tclipTracks = clip.tracks;\n\n\t\tconst json = {\n\n\t\t\t'name': clip.name,\n\t\t\t'duration': clip.duration,\n\t\t\t'tracks': tracks,\n\t\t\t'uuid': clip.uuid,\n\t\t\t'blendMode': clip.blendMode\n\n\t\t};\n\n\t\tfor ( let i = 0, n = clipTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( KeyframeTrack.toJSON( clipTracks[ i ] ) );\n\n\t\t}\n\n\t\treturn json;\n\n\t},\n\n\tCreateFromMorphTargetSequence: function ( name, morphTargetSequence, fps, noLoop ) {\n\n\t\tconst numMorphTargets = morphTargetSequence.length;\n\t\tconst tracks = [];\n\n\t\tfor ( let i = 0; i < numMorphTargets; i ++ ) {\n\n\t\t\tlet times = [];\n\t\t\tlet values = [];\n\n\t\t\ttimes.push(\n\t\t\t\t( i + numMorphTargets - 1 ) % numMorphTargets,\n\t\t\t\ti,\n\t\t\t\t( i + 1 ) % numMorphTargets );\n\n\t\t\tvalues.push( 0, 1, 0 );\n\n\t\t\tconst order = AnimationUtils.getKeyframeOrder( times );\n\t\t\ttimes = AnimationUtils.sortedArray( times, 1, order );\n\t\t\tvalues = AnimationUtils.sortedArray( values, 1, order );\n\n\t\t\t// if there is a key at the first frame, duplicate it as the\n\t\t\t// last frame as well for perfect loop.\n\t\t\tif ( ! noLoop && times[ 0 ] === 0 ) {\n\n\t\t\t\ttimes.push( numMorphTargets );\n\t\t\t\tvalues.push( values[ 0 ] );\n\n\t\t\t}\n\n\t\t\ttracks.push(\n\t\t\t\tnew NumberKeyframeTrack(\n\t\t\t\t\t'.morphTargetInfluences[' + morphTargetSequence[ i ].name + ']',\n\t\t\t\t\ttimes, values\n\t\t\t\t).scale( 1.0 / fps ) );\n\n\t\t}\n\n\t\treturn new AnimationClip( name, - 1, tracks );\n\n\t},\n\n\tfindByName: function ( objectOrClipArray, name ) {\n\n\t\tlet clipArray = objectOrClipArray;\n\n\t\tif ( ! Array.isArray( objectOrClipArray ) ) {\n\n\t\t\tconst o = objectOrClipArray;\n\t\t\tclipArray = o.geometry && o.geometry.animations || o.animations;\n\n\t\t}\n\n\t\tfor ( let i = 0; i < clipArray.length; i ++ ) {\n\n\t\t\tif ( clipArray[ i ].name === name ) {\n\n\t\t\t\treturn clipArray[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t},\n\n\tCreateClipsFromMorphTargetSequences: function ( morphTargets, fps, noLoop ) {\n\n\t\tconst animationToMorphTargets = {};\n\n\t\t// tested with https://regex101.com/ on trick sequences\n\t\t// such flamingo_flyA_003, flamingo_run1_003, crdeath0059\n\t\tconst pattern = /^([\\w-]*?)([\\d]+)$/;\n\n\t\t// sort morph target names into animation groups based\n\t\t// patterns like Walk_001, Walk_002, Run_001, Run_002\n\t\tfor ( let i = 0, il = morphTargets.length; i < il; i ++ ) {\n\n\t\t\tconst morphTarget = morphTargets[ i ];\n\t\t\tconst parts = morphTarget.name.match( pattern );\n\n\t\t\tif ( parts && parts.length > 1 ) {\n\n\t\t\t\tconst name = parts[ 1 ];\n\n\t\t\t\tlet animationMorphTargets = animationToMorphTargets[ name ];\n\n\t\t\t\tif ( ! animationMorphTargets ) {\n\n\t\t\t\t\tanimationToMorphTargets[ name ] = animationMorphTargets = [];\n\n\t\t\t\t}\n\n\t\t\t\tanimationMorphTargets.push( morphTarget );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst clips = [];\n\n\t\tfor ( const name in animationToMorphTargets ) {\n\n\t\t\tclips.push( AnimationClip.CreateFromMorphTargetSequence( name, animationToMorphTargets[ name ], fps, noLoop ) );\n\n\t\t}\n\n\t\treturn clips;\n\n\t},\n\n\t// parse the animation.hierarchy format\n\tparseAnimation: function ( animation, bones ) {\n\n\t\tif ( ! animation ) {\n\n\t\t\tconsole.error( 'THREE.AnimationClip: No animation in JSONLoader data.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst addNonemptyTrack = function ( trackType, trackName, animationKeys, propertyName, destTracks ) {\n\n\t\t\t// only return track if there are actually keys.\n\t\t\tif ( animationKeys.length !== 0 ) {\n\n\t\t\t\tconst times = [];\n\t\t\t\tconst values = [];\n\n\t\t\t\tAnimationUtils.flattenJSON( animationKeys, times, values, propertyName );\n\n\t\t\t\t// empty keys are filtered out, so check again\n\t\t\t\tif ( times.length !== 0 ) {\n\n\t\t\t\t\tdestTracks.push( new trackType( trackName, times, values ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tconst tracks = [];\n\n\t\tconst clipName = animation.name || 'default';\n\t\tconst fps = animation.fps || 30;\n\t\tconst blendMode = animation.blendMode;\n\n\t\t// automatic length determination in AnimationClip.\n\t\tlet duration = animation.length || - 1;\n\n\t\tconst hierarchyTracks = animation.hierarchy || [];\n\n\t\tfor ( let h = 0; h < hierarchyTracks.length; h ++ ) {\n\n\t\t\tconst animationKeys = hierarchyTracks[ h ].keys;\n\n\t\t\t// skip empty tracks\n\t\t\tif ( ! animationKeys || animationKeys.length === 0 ) continue;\n\n\t\t\t// process morph targets\n\t\t\tif ( animationKeys[ 0 ].morphTargets ) {\n\n\t\t\t\t// figure out all morph targets used in this track\n\t\t\t\tconst morphTargetNames = {};\n\n\t\t\t\tlet k;\n\n\t\t\t\tfor ( k = 0; k < animationKeys.length; k ++ ) {\n\n\t\t\t\t\tif ( animationKeys[ k ].morphTargets ) {\n\n\t\t\t\t\t\tfor ( let m = 0; m < animationKeys[ k ].morphTargets.length; m ++ ) {\n\n\t\t\t\t\t\t\tmorphTargetNames[ animationKeys[ k ].morphTargets[ m ] ] = - 1;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// create a track for each morph target with all zero\n\t\t\t\t// morphTargetInfluences except for the keys in which\n\t\t\t\t// the morphTarget is named.\n\t\t\t\tfor ( const morphTargetName in morphTargetNames ) {\n\n\t\t\t\t\tconst times = [];\n\t\t\t\t\tconst values = [];\n\n\t\t\t\t\tfor ( let m = 0; m !== animationKeys[ k ].morphTargets.length; ++ m ) {\n\n\t\t\t\t\t\tconst animationKey = animationKeys[ k ];\n\n\t\t\t\t\t\ttimes.push( animationKey.time );\n\t\t\t\t\t\tvalues.push( ( animationKey.morphTarget === morphTargetName ) ? 1 : 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttracks.push( new NumberKeyframeTrack( '.morphTargetInfluence[' + morphTargetName + ']', times, values ) );\n\n\t\t\t\t}\n\n\t\t\t\tduration = morphTargetNames.length * ( fps || 1.0 );\n\n\t\t\t} else {\n\n\t\t\t\t// ...assume skeletal animation\n\n\t\t\t\tconst boneName = '.bones[' + bones[ h ].name + ']';\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.position',\n\t\t\t\t\tanimationKeys, 'pos', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tQuaternionKeyframeTrack, boneName + '.quaternion',\n\t\t\t\t\tanimationKeys, 'rot', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.scale',\n\t\t\t\t\tanimationKeys, 'scl', tracks );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tracks.length === 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst clip = new AnimationClip( clipName, duration, tracks, blendMode );\n\n\t\treturn clip;\n\n\t}\n\n} );\n\nObject.assign( AnimationClip.prototype, {\n\n\tresetDuration: function () {\n\n\t\tconst tracks = this.tracks;\n\t\tlet duration = 0;\n\n\t\tfor ( let i = 0, n = tracks.length; i !== n; ++ i ) {\n\n\t\t\tconst track = this.tracks[ i ];\n\n\t\t\tduration = Math.max( duration, track.times[ track.times.length - 1 ] );\n\n\t\t}\n\n\t\tthis.duration = duration;\n\n\t\treturn this;\n\n\t},\n\n\ttrim: function () {\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].trim( 0, this.duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tvalidate: function () {\n\n\t\tlet valid = true;\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tvalid = valid && this.tracks[ i ].validate();\n\n\t\t}\n\n\t\treturn valid;\n\n\t},\n\n\toptimize: function () {\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].optimize();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\tconst tracks = [];\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\ttracks.push( this.tracks[ i ].clone() );\n\n\t\t}\n\n\t\treturn new AnimationClip( this.name, this.duration, tracks, this.blendMode );\n\n\t},\n\n\ttoJSON: function () {\n\n\t\treturn AnimationClip.toJSON( this );\n\n\t}\n\n} );\n\nconst Cache = {\n\n\tenabled: false,\n\n\tfiles: {},\n\n\tadd: function ( key, file ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Adding key:', key );\n\n\t\tthis.files[ key ] = file;\n\n\t},\n\n\tget: function ( key ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Checking key:', key );\n\n\t\treturn this.files[ key ];\n\n\t},\n\n\tremove: function ( key ) {\n\n\t\tdelete this.files[ key ];\n\n\t},\n\n\tclear: function () {\n\n\t\tthis.files = {};\n\n\t}\n\n};\n\nfunction LoadingManager( onLoad, onProgress, onError ) {\n\n\tconst scope = this;\n\n\tlet isLoading = false;\n\tlet itemsLoaded = 0;\n\tlet itemsTotal = 0;\n\tlet urlModifier = undefined;\n\tconst handlers = [];\n\n\t// Refer to #5689 for the reason why we don't set .onStart\n\t// in the constructor\n\n\tthis.onStart = undefined;\n\tthis.onLoad = onLoad;\n\tthis.onProgress = onProgress;\n\tthis.onError = onError;\n\n\tthis.itemStart = function ( url ) {\n\n\t\titemsTotal ++;\n\n\t\tif ( isLoading === false ) {\n\n\t\t\tif ( scope.onStart !== undefined ) {\n\n\t\t\t\tscope.onStart( url, itemsLoaded, itemsTotal );\n\n\t\t\t}\n\n\t\t}\n\n\t\tisLoading = true;\n\n\t};\n\n\tthis.itemEnd = function ( url ) {\n\n\t\titemsLoaded ++;\n\n\t\tif ( scope.onProgress !== undefined ) {\n\n\t\t\tscope.onProgress( url, itemsLoaded, itemsTotal );\n\n\t\t}\n\n\t\tif ( itemsLoaded === itemsTotal ) {\n\n\t\t\tisLoading = false;\n\n\t\t\tif ( scope.onLoad !== undefined ) {\n\n\t\t\t\tscope.onLoad();\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.itemError = function ( url ) {\n\n\t\tif ( scope.onError !== undefined ) {\n\n\t\t\tscope.onError( url );\n\n\t\t}\n\n\t};\n\n\tthis.resolveURL = function ( url ) {\n\n\t\tif ( urlModifier ) {\n\n\t\t\treturn urlModifier( url );\n\n\t\t}\n\n\t\treturn url;\n\n\t};\n\n\tthis.setURLModifier = function ( transform ) {\n\n\t\turlModifier = transform;\n\n\t\treturn this;\n\n\t};\n\n\tthis.addHandler = function ( regex, loader ) {\n\n\t\thandlers.push( regex, loader );\n\n\t\treturn this;\n\n\t};\n\n\tthis.removeHandler = function ( regex ) {\n\n\t\tconst index = handlers.indexOf( regex );\n\n\t\tif ( index !== - 1 ) {\n\n\t\t\thandlers.splice( index, 2 );\n\n\t\t}\n\n\t\treturn this;\n\n\t};\n\n\tthis.getHandler = function ( file ) {\n\n\t\tfor ( let i = 0, l = handlers.length; i < l; i += 2 ) {\n\n\t\t\tconst regex = handlers[ i ];\n\t\t\tconst loader = handlers[ i + 1 ];\n\n\t\t\tif ( regex.global ) regex.lastIndex = 0; // see #17920\n\n\t\t\tif ( regex.test( file ) ) {\n\n\t\t\t\treturn loader;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t};\n\n}\n\nconst DefaultLoadingManager = new LoadingManager();\n\nfunction Loader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n\tthis.crossOrigin = 'anonymous';\n\tthis.withCredentials = false;\n\tthis.path = '';\n\tthis.resourcePath = '';\n\tthis.requestHeader = {};\n\n}\n\nObject.assign( Loader.prototype, {\n\n\tload: function ( /* url, onLoad, onProgress, onError */ ) {},\n\n\tloadAsync: function ( url, onProgress ) {\n\n\t\tconst scope = this;\n\n\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\tscope.load( url, resolve, onProgress, reject );\n\n\t\t} );\n\n\t},\n\n\tparse: function ( /* data */ ) {},\n\n\tsetCrossOrigin: function ( crossOrigin ) {\n\n\t\tthis.crossOrigin = crossOrigin;\n\t\treturn this;\n\n\t},\n\n\tsetWithCredentials: function ( value ) {\n\n\t\tthis.withCredentials = value;\n\t\treturn this;\n\n\t},\n\n\tsetPath: function ( path ) {\n\n\t\tthis.path = path;\n\t\treturn this;\n\n\t},\n\n\tsetResourcePath: function ( resourcePath ) {\n\n\t\tthis.resourcePath = resourcePath;\n\t\treturn this;\n\n\t},\n\n\tsetRequestHeader: function ( requestHeader ) {\n\n\t\tthis.requestHeader = requestHeader;\n\t\treturn this;\n\n\t}\n\n} );\n\nconst loading = {};\n\nfunction FileLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nFileLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: FileLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tconst scope = this;\n\n\t\tconst cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\t// Check if request is duplicate\n\n\t\tif ( loading[ url ] !== undefined ) {\n\n\t\t\tloading[ url ].push( {\n\n\t\t\t\tonLoad: onLoad,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tonError: onError\n\n\t\t\t} );\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// Check for data: URI\n\t\tconst dataUriRegex = /^data:(.*?)(;base64)?,(.*)$/;\n\t\tconst dataUriRegexResult = url.match( dataUriRegex );\n\t\tlet request;\n\n\t\t// Safari can not handle Data URIs through XMLHttpRequest so process manually\n\t\tif ( dataUriRegexResult ) {\n\n\t\t\tconst mimeType = dataUriRegexResult[ 1 ];\n\t\t\tconst isBase64 = !! dataUriRegexResult[ 2 ];\n\n\t\t\tlet data = dataUriRegexResult[ 3 ];\n\t\t\tdata = decodeURIComponent( data );\n\n\t\t\tif ( isBase64 ) data = atob( data );\n\n\t\t\ttry {\n\n\t\t\t\tlet response;\n\t\t\t\tconst responseType = ( this.responseType || '' ).toLowerCase();\n\n\t\t\t\tswitch ( responseType ) {\n\n\t\t\t\t\tcase 'arraybuffer':\n\t\t\t\t\tcase 'blob':\n\n\t\t\t\t\t\tconst view = new Uint8Array( data.length );\n\n\t\t\t\t\t\tfor ( let i = 0; i < data.length; i ++ ) {\n\n\t\t\t\t\t\t\tview[ i ] = data.charCodeAt( i );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( responseType === 'blob' ) {\n\n\t\t\t\t\t\t\tresponse = new Blob( [ view.buffer ], { type: mimeType } );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tresponse = view.buffer;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'document':\n\n\t\t\t\t\t\tconst parser = new DOMParser();\n\t\t\t\t\t\tresponse = parser.parseFromString( data, mimeType );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'json':\n\n\t\t\t\t\t\tresponse = JSON.parse( data );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault: // 'text' or other\n\n\t\t\t\t\t\tresponse = data;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\t// Wait for next browser tick like standard XMLHttpRequest event dispatching does\n\t\t\t\tsetTimeout( function () {\n\n\t\t\t\t\tif ( onLoad ) onLoad( response );\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, 0 );\n\n\t\t\t} catch ( error ) {\n\n\t\t\t\t// Wait for next browser tick like standard XMLHttpRequest event dispatching does\n\t\t\t\tsetTimeout( function () {\n\n\t\t\t\t\tif ( onError ) onError( error );\n\n\t\t\t\t\tscope.manager.itemError( url );\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, 0 );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Initialise array for duplicate requests\n\n\t\t\tloading[ url ] = [];\n\n\t\t\tloading[ url ].push( {\n\n\t\t\t\tonLoad: onLoad,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tonError: onError\n\n\t\t\t} );\n\n\t\t\trequest = new XMLHttpRequest();\n\n\t\t\trequest.open( 'GET', url, true );\n\n\t\t\trequest.addEventListener( 'load', function ( event ) {\n\n\t\t\t\tconst response = this.response;\n\n\t\t\t\tconst callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tif ( this.status === 200 || this.status === 0 ) {\n\n\t\t\t\t\t// Some browsers return HTTP Status 0 when using non-http protocol\n\t\t\t\t\t// e.g. 'file://' or 'data://'. Handle as success.\n\n\t\t\t\t\tif ( this.status === 0 ) console.warn( 'THREE.FileLoader: HTTP Status 0 received.' );\n\n\t\t\t\t\t// Add to cache only on HTTP success, so that we do not cache\n\t\t\t\t\t// error response bodies as proper responses to requests.\n\t\t\t\t\tCache.add( url, response );\n\n\t\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\t\tif ( callback.onLoad ) callback.onLoad( response );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemError( url );\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'progress', function ( event ) {\n\n\t\t\t\tconst callbacks = loading[ url ];\n\n\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onProgress ) callback.onProgress( event );\n\n\t\t\t\t}\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'error', function ( event ) {\n\n\t\t\t\tconst callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'abort', function ( event ) {\n\n\t\t\t\tconst callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, false );\n\n\t\t\tif ( this.responseType !== undefined ) request.responseType = this.responseType;\n\t\t\tif ( this.withCredentials !== undefined ) request.withCredentials = this.withCredentials;\n\n\t\t\tif ( request.overrideMimeType ) request.overrideMimeType( this.mimeType !== undefined ? this.mimeType : 'text/plain' );\n\n\t\t\tfor ( const header in this.requestHeader ) {\n\n\t\t\t\trequest.setRequestHeader( header, this.requestHeader[ header ] );\n\n\t\t\t}\n\n\t\t\trequest.send( null );\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\treturn request;\n\n\t},\n\n\tsetResponseType: function ( value ) {\n\n\t\tthis.responseType = value;\n\t\treturn this;\n\n\t},\n\n\tsetMimeType: function ( value ) {\n\n\t\tthis.mimeType = value;\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction AnimationLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nAnimationLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: AnimationLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.setRequestHeader( scope.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\tconst animations = [];\n\n\t\tfor ( let i = 0; i < json.length; i ++ ) {\n\n\t\t\tconst clip = AnimationClip.parse( json[ i ] );\n\n\t\t\tanimations.push( clip );\n\n\t\t}\n\n\t\treturn animations;\n\n\t}\n\n} );\n\n/**\n * Abstract Base class to block based textures loader (dds, pvr, ...)\n *\n * Sub classes have to implement the parse() method which will be used in load().\n */\n\nfunction CompressedTextureLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nCompressedTextureLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: CompressedTextureLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst images = [];\n\n\t\tconst texture = new CompressedTexture();\n\t\ttexture.image = images;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\n\t\tlet loaded = 0;\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( url[ i ], function ( buffer ) {\n\n\t\t\t\tconst texDatas = scope.parse( buffer, true );\n\n\t\t\t\timages[ i ] = {\n\t\t\t\t\twidth: texDatas.width,\n\t\t\t\t\theight: texDatas.height,\n\t\t\t\t\tformat: texDatas.format,\n\t\t\t\t\tmipmaps: texDatas.mipmaps\n\t\t\t\t};\n\n\t\t\t\tloaded += 1;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\tif ( texDatas.mipmapCount === 1 )\n\t\t\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t\tif ( Array.isArray( url ) ) {\n\n\t\t\tfor ( let i = 0, il = url.length; i < il; ++ i ) {\n\n\t\t\t\tloadTexture( i );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// compressed cubemap texture stored in a single DDS file\n\n\t\t\tloader.load( url, function ( buffer ) {\n\n\t\t\t\tconst texDatas = scope.parse( buffer, true );\n\n\t\t\t\tif ( texDatas.isCubemap ) {\n\n\t\t\t\t\tconst faces = texDatas.mipmaps.length / texDatas.mipmapCount;\n\n\t\t\t\t\tfor ( let f = 0; f < faces; f ++ ) {\n\n\t\t\t\t\t\timages[ f ] = { mipmaps: [] };\n\n\t\t\t\t\t\tfor ( let i = 0; i < texDatas.mipmapCount; i ++ ) {\n\n\t\t\t\t\t\t\timages[ f ].mipmaps.push( texDatas.mipmaps[ f * texDatas.mipmapCount + i ] );\n\t\t\t\t\t\t\timages[ f ].format = texDatas.format;\n\t\t\t\t\t\t\timages[ f ].width = texDatas.width;\n\t\t\t\t\t\t\timages[ f ].height = texDatas.height;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttexture.image.width = texDatas.width;\n\t\t\t\t\ttexture.image.height = texDatas.height;\n\t\t\t\t\ttexture.mipmaps = texDatas.mipmaps;\n\n\t\t\t\t}\n\n\t\t\t\tif ( texDatas.mipmapCount === 1 ) {\n\n\t\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t\t}\n\n\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n} );\n\nfunction ImageLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nImageLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: ImageLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tconst scope = this;\n\n\t\tconst cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tconst image = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'img' );\n\n\t\tfunction onImageLoad() {\n\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\n\t\t\timage.removeEventListener( 'error', onImageError, false );\n\n\t\t\tCache.add( url, this );\n\n\t\t\tif ( onLoad ) onLoad( this );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\tfunction onImageError( event ) {\n\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\n\t\t\timage.removeEventListener( 'error', onImageError, false );\n\n\t\t\tif ( onError ) onError( event );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\timage.addEventListener( 'load', onImageLoad, false );\n\t\timage.addEventListener( 'error', onImageError, false );\n\n\t\tif ( url.substr( 0, 5 ) !== 'data:' ) {\n\n\t\t\tif ( this.crossOrigin !== undefined ) image.crossOrigin = this.crossOrigin;\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\timage.src = url;\n\n\t\treturn image;\n\n\t}\n\n} );\n\nfunction CubeTextureLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nCubeTextureLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: CubeTextureLoader,\n\n\tload: function ( urls, onLoad, onProgress, onError ) {\n\n\t\tconst texture = new CubeTexture();\n\n\t\tconst loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tlet loaded = 0;\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( urls[ i ], function ( image ) {\n\n\t\t\t\ttexture.images[ i ] = image;\n\n\t\t\t\tloaded ++;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, undefined, onError );\n\n\t\t}\n\n\t\tfor ( let i = 0; i < urls.length; ++ i ) {\n\n\t\t\tloadTexture( i );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n} );\n\n/**\n * Abstract Base class to load generic binary textures formats (rgbe, hdr, ...)\n *\n * Sub classes have to implement the parse() method which will be used in load().\n */\n\nfunction DataTextureLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nDataTextureLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: DataTextureLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst texture = new DataTexture();\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setPath( this.path );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\tconst texData = scope.parse( buffer );\n\n\t\t\tif ( ! texData ) return;\n\n\t\t\tif ( texData.image !== undefined ) {\n\n\t\t\t\ttexture.image = texData.image;\n\n\t\t\t} else if ( texData.data !== undefined ) {\n\n\t\t\t\ttexture.image.width = texData.width;\n\t\t\t\ttexture.image.height = texData.height;\n\t\t\t\ttexture.image.data = texData.data;\n\n\t\t\t}\n\n\t\t\ttexture.wrapS = texData.wrapS !== undefined ? texData.wrapS : ClampToEdgeWrapping;\n\t\t\ttexture.wrapT = texData.wrapT !== undefined ? texData.wrapT : ClampToEdgeWrapping;\n\n\t\t\ttexture.magFilter = texData.magFilter !== undefined ? texData.magFilter : LinearFilter;\n\t\t\ttexture.minFilter = texData.minFilter !== undefined ? texData.minFilter : LinearFilter;\n\n\t\t\ttexture.anisotropy = texData.anisotropy !== undefined ? texData.anisotropy : 1;\n\n\t\t\tif ( texData.format !== undefined ) {\n\n\t\t\t\ttexture.format = texData.format;\n\n\t\t\t}\n\n\t\t\tif ( texData.type !== undefined ) {\n\n\t\t\t\ttexture.type = texData.type;\n\n\t\t\t}\n\n\t\t\tif ( texData.mipmaps !== undefined ) {\n\n\t\t\t\ttexture.mipmaps = texData.mipmaps;\n\t\t\t\ttexture.minFilter = LinearMipmapLinearFilter; // presumably...\n\n\t\t\t}\n\n\t\t\tif ( texData.mipmapCount === 1 ) {\n\n\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t}\n\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad ) onLoad( texture, texData );\n\n\t\t}, onProgress, onError );\n\n\n\t\treturn texture;\n\n\t}\n\n} );\n\nfunction TextureLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nTextureLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: TextureLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tconst texture = new Texture();\n\n\t\tconst loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tloader.load( url, function ( image ) {\n\n\t\t\ttexture.image = image;\n\n\t\t\t// JPEGs can't have an alpha channel, so memory can be saved by storing them as RGB.\n\t\t\tconst isJPEG = url.search( /\\.jpe?g($|\\?)/i ) > 0 || url.search( /^data\\:image\\/jpeg/ ) === 0;\n\n\t\t\ttexture.format = isJPEG ? RGBFormat : RGBAFormat;\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad !== undefined ) {\n\n\t\t\t\tonLoad( texture );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t\treturn texture;\n\n\t}\n\n} );\n\n/**\n * Extensible curve object.\n *\n * Some common of curve methods:\n * .getPoint( t, optionalTarget ), .getTangent( t, optionalTarget )\n * .getPointAt( u, optionalTarget ), .getTangentAt( u, optionalTarget )\n * .getPoints(), .getSpacedPoints()\n * .getLength()\n * .updateArcLengths()\n *\n * This following curves inherit from THREE.Curve:\n *\n * -- 2D curves --\n * THREE.ArcCurve\n * THREE.CubicBezierCurve\n * THREE.EllipseCurve\n * THREE.LineCurve\n * THREE.QuadraticBezierCurve\n * THREE.SplineCurve\n *\n * -- 3D curves --\n * THREE.CatmullRomCurve3\n * THREE.CubicBezierCurve3\n * THREE.LineCurve3\n * THREE.QuadraticBezierCurve3\n *\n * A series of curves can be represented as a THREE.CurvePath.\n *\n **/\n\nfunction Curve() {\n\n\tthis.type = 'Curve';\n\n\tthis.arcLengthDivisions = 200;\n\n}\n\nObject.assign( Curve.prototype, {\n\n\t// Virtual base class method to overwrite and implement in subclasses\n\t//\t- t [0 .. 1]\n\n\tgetPoint: function ( /* t, optionalTarget */ ) {\n\n\t\tconsole.warn( 'THREE.Curve: .getPoint() not implemented.' );\n\t\treturn null;\n\n\t},\n\n\t// Get point at relative position in curve according to arc length\n\t// - u [0 .. 1]\n\n\tgetPointAt: function ( u, optionalTarget ) {\n\n\t\tconst t = this.getUtoTmapping( u );\n\t\treturn this.getPoint( t, optionalTarget );\n\n\t},\n\n\t// Get sequence of points using getPoint( t )\n\n\tgetPoints: function ( divisions = 5 ) {\n\n\t\tconst points = [];\n\n\t\tfor ( let d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPoint( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\t// Get sequence of points using getPointAt( u )\n\n\tgetSpacedPoints: function ( divisions = 5 ) {\n\n\t\tconst points = [];\n\n\t\tfor ( let d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPointAt( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\t// Get total curve arc length\n\n\tgetLength: function () {\n\n\t\tconst lengths = this.getLengths();\n\t\treturn lengths[ lengths.length - 1 ];\n\n\t},\n\n\t// Get list of cumulative segment lengths\n\n\tgetLengths: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = this.arcLengthDivisions;\n\n\t\tif ( this.cacheArcLengths &&\n\t\t\t( this.cacheArcLengths.length === divisions + 1 ) &&\n\t\t\t! this.needsUpdate ) {\n\n\t\t\treturn this.cacheArcLengths;\n\n\t\t}\n\n\t\tthis.needsUpdate = false;\n\n\t\tconst cache = [];\n\t\tlet current, last = this.getPoint( 0 );\n\t\tlet sum = 0;\n\n\t\tcache.push( 0 );\n\n\t\tfor ( let p = 1; p <= divisions; p ++ ) {\n\n\t\t\tcurrent = this.getPoint( p / divisions );\n\t\t\tsum += current.distanceTo( last );\n\t\t\tcache.push( sum );\n\t\t\tlast = current;\n\n\t\t}\n\n\t\tthis.cacheArcLengths = cache;\n\n\t\treturn cache; // { sums: cache, sum: sum }; Sum is in the last element.\n\n\t},\n\n\tupdateArcLengths: function () {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.getLengths();\n\n\t},\n\n\t// Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant\n\n\tgetUtoTmapping: function ( u, distance ) {\n\n\t\tconst arcLengths = this.getLengths();\n\n\t\tlet i = 0;\n\t\tconst il = arcLengths.length;\n\n\t\tlet targetArcLength; // The targeted u distance value to get\n\n\t\tif ( distance ) {\n\n\t\t\ttargetArcLength = distance;\n\n\t\t} else {\n\n\t\t\ttargetArcLength = u * arcLengths[ il - 1 ];\n\n\t\t}\n\n\t\t// binary search for the index with largest value smaller than target u distance\n\n\t\tlet low = 0, high = il - 1, comparison;\n\n\t\twhile ( low <= high ) {\n\n\t\t\ti = Math.floor( low + ( high - low ) / 2 ); // less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats\n\n\t\t\tcomparison = arcLengths[ i ] - targetArcLength;\n\n\t\t\tif ( comparison < 0 ) {\n\n\t\t\t\tlow = i + 1;\n\n\t\t\t} else if ( comparison > 0 ) {\n\n\t\t\t\thigh = i - 1;\n\n\t\t\t} else {\n\n\t\t\t\thigh = i;\n\t\t\t\tbreak;\n\n\t\t\t\t// DONE\n\n\t\t\t}\n\n\t\t}\n\n\t\ti = high;\n\n\t\tif ( arcLengths[ i ] === targetArcLength ) {\n\n\t\t\treturn i / ( il - 1 );\n\n\t\t}\n\n\t\t// we could get finer grain at lengths, or use simple interpolation between two points\n\n\t\tconst lengthBefore = arcLengths[ i ];\n\t\tconst lengthAfter = arcLengths[ i + 1 ];\n\n\t\tconst segmentLength = lengthAfter - lengthBefore;\n\n\t\t// determine where we are between the 'before' and 'after' points\n\n\t\tconst segmentFraction = ( targetArcLength - lengthBefore ) / segmentLength;\n\n\t\t// add that fractional amount to t\n\n\t\tconst t = ( i + segmentFraction ) / ( il - 1 );\n\n\t\treturn t;\n\n\t},\n\n\t// Returns a unit vector tangent at t\n\t// In case any sub curve does not implement its tangent derivation,\n\t// 2 points a small delta apart will be used to find its gradient\n\t// which seems to give a reasonable approximation\n\n\tgetTangent: function ( t, optionalTarget ) {\n\n\t\tconst delta = 0.0001;\n\t\tlet t1 = t - delta;\n\t\tlet t2 = t + delta;\n\n\t\t// Capping in case of danger\n\n\t\tif ( t1 < 0 ) t1 = 0;\n\t\tif ( t2 > 1 ) t2 = 1;\n\n\t\tconst pt1 = this.getPoint( t1 );\n\t\tconst pt2 = this.getPoint( t2 );\n\n\t\tconst tangent = optionalTarget || ( ( pt1.isVector2 ) ? new Vector2() : new Vector3() );\n\n\t\ttangent.copy( pt2 ).sub( pt1 ).normalize();\n\n\t\treturn tangent;\n\n\t},\n\n\tgetTangentAt: function ( u, optionalTarget ) {\n\n\t\tconst t = this.getUtoTmapping( u );\n\t\treturn this.getTangent( t, optionalTarget );\n\n\t},\n\n\tcomputeFrenetFrames: function ( segments, closed ) {\n\n\t\t// see http://www.cs.indiana.edu/pub/techreports/TR425.pdf\n\n\t\tconst normal = new Vector3();\n\n\t\tconst tangents = [];\n\t\tconst normals = [];\n\t\tconst binormals = [];\n\n\t\tconst vec = new Vector3();\n\t\tconst mat = new Matrix4();\n\n\t\t// compute the tangent vectors for each segment on the curve\n\n\t\tfor ( let i = 0; i <= segments; i ++ ) {\n\n\t\t\tconst u = i / segments;\n\n\t\t\ttangents[ i ] = this.getTangentAt( u, new Vector3() );\n\t\t\ttangents[ i ].normalize();\n\n\t\t}\n\n\t\t// select an initial normal vector perpendicular to the first tangent vector,\n\t\t// and in the direction of the minimum tangent xyz component\n\n\t\tnormals[ 0 ] = new Vector3();\n\t\tbinormals[ 0 ] = new Vector3();\n\t\tlet min = Number.MAX_VALUE;\n\t\tconst tx = Math.abs( tangents[ 0 ].x );\n\t\tconst ty = Math.abs( tangents[ 0 ].y );\n\t\tconst tz = Math.abs( tangents[ 0 ].z );\n\n\t\tif ( tx <= min ) {\n\n\t\t\tmin = tx;\n\t\t\tnormal.set( 1, 0, 0 );\n\n\t\t}\n\n\t\tif ( ty <= min ) {\n\n\t\t\tmin = ty;\n\t\t\tnormal.set( 0, 1, 0 );\n\n\t\t}\n\n\t\tif ( tz <= min ) {\n\n\t\t\tnormal.set( 0, 0, 1 );\n\n\t\t}\n\n\t\tvec.crossVectors( tangents[ 0 ], normal ).normalize();\n\n\t\tnormals[ 0 ].crossVectors( tangents[ 0 ], vec );\n\t\tbinormals[ 0 ].crossVectors( tangents[ 0 ], normals[ 0 ] );\n\n\n\t\t// compute the slowly-varying normal and binormal vectors for each segment on the curve\n\n\t\tfor ( let i = 1; i <= segments; i ++ ) {\n\n\t\t\tnormals[ i ] = normals[ i - 1 ].clone();\n\n\t\t\tbinormals[ i ] = binormals[ i - 1 ].clone();\n\n\t\t\tvec.crossVectors( tangents[ i - 1 ], tangents[ i ] );\n\n\t\t\tif ( vec.length() > Number.EPSILON ) {\n\n\t\t\t\tvec.normalize();\n\n\t\t\t\tconst theta = Math.acos( MathUtils.clamp( tangents[ i - 1 ].dot( tangents[ i ] ), - 1, 1 ) ); // clamp for floating pt errors\n\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( vec, theta ) );\n\n\t\t\t}\n\n\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t}\n\n\t\t// if the curve is closed, postprocess the vectors so the first and last normal vectors are the same\n\n\t\tif ( closed === true ) {\n\n\t\t\tlet theta = Math.acos( MathUtils.clamp( normals[ 0 ].dot( normals[ segments ] ), - 1, 1 ) );\n\t\t\ttheta /= segments;\n\n\t\t\tif ( tangents[ 0 ].dot( vec.crossVectors( normals[ 0 ], normals[ segments ] ) ) > 0 ) {\n\n\t\t\t\ttheta = - theta;\n\n\t\t\t}\n\n\t\t\tfor ( let i = 1; i <= segments; i ++ ) {\n\n\t\t\t\t// twist a little...\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( tangents[ i ], theta * i ) );\n\t\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn {\n\t\t\ttangents: tangents,\n\t\t\tnormals: normals,\n\t\t\tbinormals: binormals\n\t\t};\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.arcLengthDivisions = source.arcLengthDivisions;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Curve',\n\t\t\t\tgenerator: 'Curve.toJSON'\n\t\t\t}\n\t\t};\n\n\t\tdata.arcLengthDivisions = this.arcLengthDivisions;\n\t\tdata.type = this.type;\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tthis.arcLengthDivisions = json.arcLengthDivisions;\n\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'EllipseCurve';\n\n\tthis.aX = aX || 0;\n\tthis.aY = aY || 0;\n\n\tthis.xRadius = xRadius || 1;\n\tthis.yRadius = yRadius || 1;\n\n\tthis.aStartAngle = aStartAngle || 0;\n\tthis.aEndAngle = aEndAngle || 2 * Math.PI;\n\n\tthis.aClockwise = aClockwise || false;\n\n\tthis.aRotation = aRotation || 0;\n\n}\n\nEllipseCurve.prototype = Object.create( Curve.prototype );\nEllipseCurve.prototype.constructor = EllipseCurve;\n\nEllipseCurve.prototype.isEllipseCurve = true;\n\nEllipseCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tconst point = optionalTarget || new Vector2();\n\n\tconst twoPi = Math.PI * 2;\n\tlet deltaAngle = this.aEndAngle - this.aStartAngle;\n\tconst samePoints = Math.abs( deltaAngle ) < Number.EPSILON;\n\n\t// ensures that deltaAngle is 0 .. 2 PI\n\twhile ( deltaAngle < 0 ) deltaAngle += twoPi;\n\twhile ( deltaAngle > twoPi ) deltaAngle -= twoPi;\n\n\tif ( deltaAngle < Number.EPSILON ) {\n\n\t\tif ( samePoints ) {\n\n\t\t\tdeltaAngle = 0;\n\n\t\t} else {\n\n\t\t\tdeltaAngle = twoPi;\n\n\t\t}\n\n\t}\n\n\tif ( this.aClockwise === true && ! samePoints ) {\n\n\t\tif ( deltaAngle === twoPi ) {\n\n\t\t\tdeltaAngle = - twoPi;\n\n\t\t} else {\n\n\t\t\tdeltaAngle = deltaAngle - twoPi;\n\n\t\t}\n\n\t}\n\n\tconst angle = this.aStartAngle + t * deltaAngle;\n\tlet x = this.aX + this.xRadius * Math.cos( angle );\n\tlet y = this.aY + this.yRadius * Math.sin( angle );\n\n\tif ( this.aRotation !== 0 ) {\n\n\t\tconst cos = Math.cos( this.aRotation );\n\t\tconst sin = Math.sin( this.aRotation );\n\n\t\tconst tx = x - this.aX;\n\t\tconst ty = y - this.aY;\n\n\t\t// Rotate the point about the center of the ellipse.\n\t\tx = tx * cos - ty * sin + this.aX;\n\t\ty = tx * sin + ty * cos + this.aY;\n\n\t}\n\n\treturn point.set( x, y );\n\n};\n\nEllipseCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.aX = source.aX;\n\tthis.aY = source.aY;\n\n\tthis.xRadius = source.xRadius;\n\tthis.yRadius = source.yRadius;\n\n\tthis.aStartAngle = source.aStartAngle;\n\tthis.aEndAngle = source.aEndAngle;\n\n\tthis.aClockwise = source.aClockwise;\n\n\tthis.aRotation = source.aRotation;\n\n\treturn this;\n\n};\n\n\nEllipseCurve.prototype.toJSON = function () {\n\n\tconst data = Curve.prototype.toJSON.call( this );\n\n\tdata.aX = this.aX;\n\tdata.aY = this.aY;\n\n\tdata.xRadius = this.xRadius;\n\tdata.yRadius = this.yRadius;\n\n\tdata.aStartAngle = this.aStartAngle;\n\tdata.aEndAngle = this.aEndAngle;\n\n\tdata.aClockwise = this.aClockwise;\n\n\tdata.aRotation = this.aRotation;\n\n\treturn data;\n\n};\n\nEllipseCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.aX = json.aX;\n\tthis.aY = json.aY;\n\n\tthis.xRadius = json.xRadius;\n\tthis.yRadius = json.yRadius;\n\n\tthis.aStartAngle = json.aStartAngle;\n\tthis.aEndAngle = json.aEndAngle;\n\n\tthis.aClockwise = json.aClockwise;\n\n\tthis.aRotation = json.aRotation;\n\n\treturn this;\n\n};\n\nfunction ArcCurve( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\tEllipseCurve.call( this, aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\tthis.type = 'ArcCurve';\n\n}\n\nArcCurve.prototype = Object.create( EllipseCurve.prototype );\nArcCurve.prototype.constructor = ArcCurve;\n\nArcCurve.prototype.isArcCurve = true;\n\n/**\n * Centripetal CatmullRom Curve - which is useful for avoiding\n * cusps and self-intersections in non-uniform catmull rom curves.\n * http://www.cemyuksel.com/research/catmullrom_param/catmullrom.pdf\n *\n * curve.type accepts centripetal(default), chordal and catmullrom\n * curve.tension is used for catmullrom which defaults to 0.5\n */\n\n\n/*\nBased on an optimized c++ solution in\n - http://stackoverflow.com/questions/9489736/catmull-rom-curve-with-no-cusps-and-no-self-intersections/\n - http://ideone.com/NoEbVM\n\nThis CubicPoly class could be used for reusing some variables and calculations,\nbut for three.js curve use, it could be possible inlined and flatten into a single function call\nwhich can be placed in CurveUtils.\n*/\n\nfunction CubicPoly() {\n\n\tlet c0 = 0, c1 = 0, c2 = 0, c3 = 0;\n\n\t/*\n\t * Compute coefficients for a cubic polynomial\n\t *   p(s) = c0 + c1*s + c2*s^2 + c3*s^3\n\t * such that\n\t *   p(0) = x0, p(1) = x1\n\t *  and\n\t *   p'(0) = t0, p'(1) = t1.\n\t */\n\tfunction init( x0, x1, t0, t1 ) {\n\n\t\tc0 = x0;\n\t\tc1 = t0;\n\t\tc2 = - 3 * x0 + 3 * x1 - 2 * t0 - t1;\n\t\tc3 = 2 * x0 - 2 * x1 + t0 + t1;\n\n\t}\n\n\treturn {\n\n\t\tinitCatmullRom: function ( x0, x1, x2, x3, tension ) {\n\n\t\t\tinit( x1, x2, tension * ( x2 - x0 ), tension * ( x3 - x1 ) );\n\n\t\t},\n\n\t\tinitNonuniformCatmullRom: function ( x0, x1, x2, x3, dt0, dt1, dt2 ) {\n\n\t\t\t// compute tangents when parameterized in [t1,t2]\n\t\t\tlet t1 = ( x1 - x0 ) / dt0 - ( x2 - x0 ) / ( dt0 + dt1 ) + ( x2 - x1 ) / dt1;\n\t\t\tlet t2 = ( x2 - x1 ) / dt1 - ( x3 - x1 ) / ( dt1 + dt2 ) + ( x3 - x2 ) / dt2;\n\n\t\t\t// rescale tangents for parametrization in [0,1]\n\t\t\tt1 *= dt1;\n\t\t\tt2 *= dt1;\n\n\t\t\tinit( x1, x2, t1, t2 );\n\n\t\t},\n\n\t\tcalc: function ( t ) {\n\n\t\t\tconst t2 = t * t;\n\t\t\tconst t3 = t2 * t;\n\t\t\treturn c0 + c1 * t + c2 * t2 + c3 * t3;\n\n\t\t}\n\n\t};\n\n}\n\n//\n\nconst tmp = new Vector3();\nconst px = new CubicPoly(), py = new CubicPoly(), pz = new CubicPoly();\n\nfunction CatmullRomCurve3( points = [], closed = false, curveType = 'centripetal', tension = 0.5 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'CatmullRomCurve3';\n\n\tthis.points = points;\n\tthis.closed = closed;\n\tthis.curveType = curveType;\n\tthis.tension = tension;\n\n}\n\nCatmullRomCurve3.prototype = Object.create( Curve.prototype );\nCatmullRomCurve3.prototype.constructor = CatmullRomCurve3;\n\nCatmullRomCurve3.prototype.isCatmullRomCurve3 = true;\n\nCatmullRomCurve3.prototype.getPoint = function ( t, optionalTarget = new Vector3() ) {\n\n\tconst point = optionalTarget;\n\n\tconst points = this.points;\n\tconst l = points.length;\n\n\tconst p = ( l - ( this.closed ? 0 : 1 ) ) * t;\n\tlet intPoint = Math.floor( p );\n\tlet weight = p - intPoint;\n\n\tif ( this.closed ) {\n\n\t\tintPoint += intPoint > 0 ? 0 : ( Math.floor( Math.abs( intPoint ) / l ) + 1 ) * l;\n\n\t} else if ( weight === 0 && intPoint === l - 1 ) {\n\n\t\tintPoint = l - 2;\n\t\tweight = 1;\n\n\t}\n\n\tlet p0, p3; // 4 points (p1 & p2 defined below)\n\n\tif ( this.closed || intPoint > 0 ) {\n\n\t\tp0 = points[ ( intPoint - 1 ) % l ];\n\n\t} else {\n\n\t\t// extrapolate first point\n\t\ttmp.subVectors( points[ 0 ], points[ 1 ] ).add( points[ 0 ] );\n\t\tp0 = tmp;\n\n\t}\n\n\tconst p1 = points[ intPoint % l ];\n\tconst p2 = points[ ( intPoint + 1 ) % l ];\n\n\tif ( this.closed || intPoint + 2 < l ) {\n\n\t\tp3 = points[ ( intPoint + 2 ) % l ];\n\n\t} else {\n\n\t\t// extrapolate last point\n\t\ttmp.subVectors( points[ l - 1 ], points[ l - 2 ] ).add( points[ l - 1 ] );\n\t\tp3 = tmp;\n\n\t}\n\n\tif ( this.curveType === 'centripetal' || this.curveType === 'chordal' ) {\n\n\t\t// init Centripetal / Chordal Catmull-Rom\n\t\tconst pow = this.curveType === 'chordal' ? 0.5 : 0.25;\n\t\tlet dt0 = Math.pow( p0.distanceToSquared( p1 ), pow );\n\t\tlet dt1 = Math.pow( p1.distanceToSquared( p2 ), pow );\n\t\tlet dt2 = Math.pow( p2.distanceToSquared( p3 ), pow );\n\n\t\t// safety check for repeated points\n\t\tif ( dt1 < 1e-4 ) dt1 = 1.0;\n\t\tif ( dt0 < 1e-4 ) dt0 = dt1;\n\t\tif ( dt2 < 1e-4 ) dt2 = dt1;\n\n\t\tpx.initNonuniformCatmullRom( p0.x, p1.x, p2.x, p3.x, dt0, dt1, dt2 );\n\t\tpy.initNonuniformCatmullRom( p0.y, p1.y, p2.y, p3.y, dt0, dt1, dt2 );\n\t\tpz.initNonuniformCatmullRom( p0.z, p1.z, p2.z, p3.z, dt0, dt1, dt2 );\n\n\t} else if ( this.curveType === 'catmullrom' ) {\n\n\t\tpx.initCatmullRom( p0.x, p1.x, p2.x, p3.x, this.tension );\n\t\tpy.initCatmullRom( p0.y, p1.y, p2.y, p3.y, this.tension );\n\t\tpz.initCatmullRom( p0.z, p1.z, p2.z, p3.z, this.tension );\n\n\t}\n\n\tpoint.set(\n\t\tpx.calc( weight ),\n\t\tpy.calc( weight ),\n\t\tpz.calc( weight )\n\t);\n\n\treturn point;\n\n};\n\nCatmullRomCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.points = [];\n\n\tfor ( let i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\tconst point = source.points[ i ];\n\n\t\tthis.points.push( point.clone() );\n\n\t}\n\n\tthis.closed = source.closed;\n\tthis.curveType = source.curveType;\n\tthis.tension = source.tension;\n\n\treturn this;\n\n};\n\nCatmullRomCurve3.prototype.toJSON = function () {\n\n\tconst data = Curve.prototype.toJSON.call( this );\n\n\tdata.points = [];\n\n\tfor ( let i = 0, l = this.points.length; i < l; i ++ ) {\n\n\t\tconst point = this.points[ i ];\n\t\tdata.points.push( point.toArray() );\n\n\t}\n\n\tdata.closed = this.closed;\n\tdata.curveType = this.curveType;\n\tdata.tension = this.tension;\n\n\treturn data;\n\n};\n\nCatmullRomCurve3.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.points = [];\n\n\tfor ( let i = 0, l = json.points.length; i < l; i ++ ) {\n\n\t\tconst point = json.points[ i ];\n\t\tthis.points.push( new Vector3().fromArray( point ) );\n\n\t}\n\n\tthis.closed = json.closed;\n\tthis.curveType = json.curveType;\n\tthis.tension = json.tension;\n\n\treturn this;\n\n};\n\n/**\n * Bezier Curves formulas obtained from\n * http://en.wikipedia.org/wiki/Bzier_curve\n */\n\nfunction CatmullRom( t, p0, p1, p2, p3 ) {\n\n\tconst v0 = ( p2 - p0 ) * 0.5;\n\tconst v1 = ( p3 - p1 ) * 0.5;\n\tconst t2 = t * t;\n\tconst t3 = t * t2;\n\treturn ( 2 * p1 - 2 * p2 + v0 + v1 ) * t3 + ( - 3 * p1 + 3 * p2 - 2 * v0 - v1 ) * t2 + v0 * t + p1;\n\n}\n\n//\n\nfunction QuadraticBezierP0( t, p ) {\n\n\tconst k = 1 - t;\n\treturn k * k * p;\n\n}\n\nfunction QuadraticBezierP1( t, p ) {\n\n\treturn 2 * ( 1 - t ) * t * p;\n\n}\n\nfunction QuadraticBezierP2( t, p ) {\n\n\treturn t * t * p;\n\n}\n\nfunction QuadraticBezier( t, p0, p1, p2 ) {\n\n\treturn QuadraticBezierP0( t, p0 ) + QuadraticBezierP1( t, p1 ) +\n\t\tQuadraticBezierP2( t, p2 );\n\n}\n\n//\n\nfunction CubicBezierP0( t, p ) {\n\n\tconst k = 1 - t;\n\treturn k * k * k * p;\n\n}\n\nfunction CubicBezierP1( t, p ) {\n\n\tconst k = 1 - t;\n\treturn 3 * k * k * t * p;\n\n}\n\nfunction CubicBezierP2( t, p ) {\n\n\treturn 3 * ( 1 - t ) * t * t * p;\n\n}\n\nfunction CubicBezierP3( t, p ) {\n\n\treturn t * t * t * p;\n\n}\n\nfunction CubicBezier( t, p0, p1, p2, p3 ) {\n\n\treturn CubicBezierP0( t, p0 ) + CubicBezierP1( t, p1 ) + CubicBezierP2( t, p2 ) +\n\t\tCubicBezierP3( t, p3 );\n\n}\n\nfunction CubicBezierCurve( v0 = new Vector2(), v1 = new Vector2(), v2 = new Vector2(), v3 = new Vector2() ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'CubicBezierCurve';\n\n\tthis.v0 = v0;\n\tthis.v1 = v1;\n\tthis.v2 = v2;\n\tthis.v3 = v3;\n\n}\n\nCubicBezierCurve.prototype = Object.create( Curve.prototype );\nCubicBezierCurve.prototype.constructor = CubicBezierCurve;\n\nCubicBezierCurve.prototype.isCubicBezierCurve = true;\n\nCubicBezierCurve.prototype.getPoint = function ( t, optionalTarget = new Vector2() ) {\n\n\tconst point = optionalTarget;\n\n\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\tpoint.set(\n\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y )\n\t);\n\n\treturn point;\n\n};\n\nCubicBezierCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\tthis.v3.copy( source.v3 );\n\n\treturn this;\n\n};\n\nCubicBezierCurve.prototype.toJSON = function () {\n\n\tconst data = Curve.prototype.toJSON.call( this );\n\n\tdata.v0 = this.v0.toArray();\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\tdata.v3 = this.v3.toArray();\n\n\treturn data;\n\n};\n\nCubicBezierCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v0.fromArray( json.v0 );\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\tthis.v3.fromArray( json.v3 );\n\n\treturn this;\n\n};\n\nfunction CubicBezierCurve3( v0 = new Vector3(), v1 = new Vector3(), v2 = new Vector3(), v3 = new Vector3() ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'CubicBezierCurve3';\n\n\tthis.v0 = v0;\n\tthis.v1 = v1;\n\tthis.v2 = v2;\n\tthis.v3 = v3;\n\n}\n\nCubicBezierCurve3.prototype = Object.create( Curve.prototype );\nCubicBezierCurve3.prototype.constructor = CubicBezierCurve3;\n\nCubicBezierCurve3.prototype.isCubicBezierCurve3 = true;\n\nCubicBezierCurve3.prototype.getPoint = function ( t, optionalTarget = new Vector3() ) {\n\n\tconst point = optionalTarget;\n\n\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\tpoint.set(\n\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y ),\n\t\tCubicBezier( t, v0.z, v1.z, v2.z, v3.z )\n\t);\n\n\treturn point;\n\n};\n\nCubicBezierCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\tthis.v3.copy( source.v3 );\n\n\treturn this;\n\n};\n\nCubicBezierCurve3.prototype.toJSON = function () {\n\n\tconst data = Curve.prototype.toJSON.call( this );\n\n\tdata.v0 = this.v0.toArray();\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\tdata.v3 = this.v3.toArray();\n\n\treturn data;\n\n};\n\nCubicBezierCurve3.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v0.fromArray( json.v0 );\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\tthis.v3.fromArray( json.v3 );\n\n\treturn this;\n\n};\n\nfunction LineCurve( v1 = new Vector2(), v2 = new Vector2() ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'LineCurve';\n\n\tthis.v1 = v1;\n\tthis.v2 = v2;\n\n}\n\nLineCurve.prototype = Object.create( Curve.prototype );\nLineCurve.prototype.constructor = LineCurve;\n\nLineCurve.prototype.isLineCurve = true;\n\nLineCurve.prototype.getPoint = function ( t, optionalTarget = new Vector2() ) {\n\n\tconst point = optionalTarget;\n\n\tif ( t === 1 ) {\n\n\t\tpoint.copy( this.v2 );\n\n\t} else {\n\n\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t}\n\n\treturn point;\n\n};\n\n// Line curve is linear, so we can overwrite default getPointAt\n\nLineCurve.prototype.getPointAt = function ( u, optionalTarget ) {\n\n\treturn this.getPoint( u, optionalTarget );\n\n};\n\nLineCurve.prototype.getTangent = function ( t, optionalTarget ) {\n\n\tconst tangent = optionalTarget || new Vector2();\n\n\ttangent.copy( this.v2 ).sub( this.v1 ).normalize();\n\n\treturn tangent;\n\n};\n\nLineCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nLineCurve.prototype.toJSON = function () {\n\n\tconst data = Curve.prototype.toJSON.call( this );\n\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\n\treturn data;\n\n};\n\nLineCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\n\treturn this;\n\n};\n\nfunction LineCurve3( v1 = new Vector3(), v2 = new Vector3() ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'LineCurve3';\n\n\tthis.v1 = v1;\n\tthis.v2 = v2;\n\n}\n\nLineCurve3.prototype = Object.create( Curve.prototype );\nLineCurve3.prototype.constructor = LineCurve3;\n\nLineCurve3.prototype.isLineCurve3 = true;\n\nLineCurve3.prototype.getPoint = function ( t, optionalTarget = new Vector3() ) {\n\n\tconst point = optionalTarget;\n\n\tif ( t === 1 ) {\n\n\t\tpoint.copy( this.v2 );\n\n\t} else {\n\n\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t}\n\n\treturn point;\n\n};\n\n// Line curve is linear, so we can overwrite default getPointAt\n\nLineCurve3.prototype.getPointAt = function ( u, optionalTarget ) {\n\n\treturn this.getPoint( u, optionalTarget );\n\n};\n\nLineCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nLineCurve3.prototype.toJSON = function () {\n\n\tconst data = Curve.prototype.toJSON.call( this );\n\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\n\treturn data;\n\n};\n\nLineCurve3.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\n\treturn this;\n\n};\n\nfunction QuadraticBezierCurve( v0 = new Vector2(), v1 = new Vector2(), v2 = new Vector2() ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'QuadraticBezierCurve';\n\n\tthis.v0 = v0;\n\tthis.v1 = v1;\n\tthis.v2 = v2;\n\n}\n\nQuadraticBezierCurve.prototype = Object.create( Curve.prototype );\nQuadraticBezierCurve.prototype.constructor = QuadraticBezierCurve;\n\nQuadraticBezierCurve.prototype.isQuadraticBezierCurve = true;\n\nQuadraticBezierCurve.prototype.getPoint = function ( t, optionalTarget = new Vector2() ) {\n\n\tconst point = optionalTarget;\n\n\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\tpoint.set(\n\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\tQuadraticBezier( t, v0.y, v1.y, v2.y )\n\t);\n\n\treturn point;\n\n};\n\nQuadraticBezierCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nQuadraticBezierCurve.prototype.toJSON = function () {\n\n\tconst data = Curve.prototype.toJSON.call( this );\n\n\tdata.v0 = this.v0.toArray();\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\n\treturn data;\n\n};\n\nQuadraticBezierCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v0.fromArray( json.v0 );\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\n\treturn this;\n\n};\n\nfunction QuadraticBezierCurve3( v0 = new Vector3(), v1 = new Vector3(), v2 = new Vector3() ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'QuadraticBezierCurve3';\n\n\tthis.v0 = v0;\n\tthis.v1 = v1;\n\tthis.v2 = v2;\n\n}\n\nQuadraticBezierCurve3.prototype = Object.create( Curve.prototype );\nQuadraticBezierCurve3.prototype.constructor = QuadraticBezierCurve3;\n\nQuadraticBezierCurve3.prototype.isQuadraticBezierCurve3 = true;\n\nQuadraticBezierCurve3.prototype.getPoint = function ( t, optionalTarget = new Vector3() ) {\n\n\tconst point = optionalTarget;\n\n\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\tpoint.set(\n\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\tQuadraticBezier( t, v0.y, v1.y, v2.y ),\n\t\tQuadraticBezier( t, v0.z, v1.z, v2.z )\n\t);\n\n\treturn point;\n\n};\n\nQuadraticBezierCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nQuadraticBezierCurve3.prototype.toJSON = function () {\n\n\tconst data = Curve.prototype.toJSON.call( this );\n\n\tdata.v0 = this.v0.toArray();\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\n\treturn data;\n\n};\n\nQuadraticBezierCurve3.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v0.fromArray( json.v0 );\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\n\treturn this;\n\n};\n\nfunction SplineCurve( points = [] ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'SplineCurve';\n\n\tthis.points = points;\n\n}\n\nSplineCurve.prototype = Object.create( Curve.prototype );\nSplineCurve.prototype.constructor = SplineCurve;\n\nSplineCurve.prototype.isSplineCurve = true;\n\nSplineCurve.prototype.getPoint = function ( t, optionalTarget = new Vector2() ) {\n\n\tconst point = optionalTarget;\n\n\tconst points = this.points;\n\tconst p = ( points.length - 1 ) * t;\n\n\tconst intPoint = Math.floor( p );\n\tconst weight = p - intPoint;\n\n\tconst p0 = points[ intPoint === 0 ? intPoint : intPoint - 1 ];\n\tconst p1 = points[ intPoint ];\n\tconst p2 = points[ intPoint > points.length - 2 ? points.length - 1 : intPoint + 1 ];\n\tconst p3 = points[ intPoint > points.length - 3 ? points.length - 1 : intPoint + 2 ];\n\n\tpoint.set(\n\t\tCatmullRom( weight, p0.x, p1.x, p2.x, p3.x ),\n\t\tCatmullRom( weight, p0.y, p1.y, p2.y, p3.y )\n\t);\n\n\treturn point;\n\n};\n\nSplineCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.points = [];\n\n\tfor ( let i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\tconst point = source.points[ i ];\n\n\t\tthis.points.push( point.clone() );\n\n\t}\n\n\treturn this;\n\n};\n\nSplineCurve.prototype.toJSON = function () {\n\n\tconst data = Curve.prototype.toJSON.call( this );\n\n\tdata.points = [];\n\n\tfor ( let i = 0, l = this.points.length; i < l; i ++ ) {\n\n\t\tconst point = this.points[ i ];\n\t\tdata.points.push( point.toArray() );\n\n\t}\n\n\treturn data;\n\n};\n\nSplineCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.points = [];\n\n\tfor ( let i = 0, l = json.points.length; i < l; i ++ ) {\n\n\t\tconst point = json.points[ i ];\n\t\tthis.points.push( new Vector2().fromArray( point ) );\n\n\t}\n\n\treturn this;\n\n};\n\nvar Curves = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tArcCurve: ArcCurve,\n\tCatmullRomCurve3: CatmullRomCurve3,\n\tCubicBezierCurve: CubicBezierCurve,\n\tCubicBezierCurve3: CubicBezierCurve3,\n\tEllipseCurve: EllipseCurve,\n\tLineCurve: LineCurve,\n\tLineCurve3: LineCurve3,\n\tQuadraticBezierCurve: QuadraticBezierCurve,\n\tQuadraticBezierCurve3: QuadraticBezierCurve3,\n\tSplineCurve: SplineCurve\n});\n\n/**************************************************************\n *\tCurved Path - a curve path is simply a array of connected\n *  curves, but retains the api of a curve\n **************************************************************/\n\nfunction CurvePath() {\n\n\tCurve.call( this );\n\n\tthis.type = 'CurvePath';\n\n\tthis.curves = [];\n\tthis.autoClose = false; // Automatically closes the path\n\n}\n\nCurvePath.prototype = Object.assign( Object.create( Curve.prototype ), {\n\n\tconstructor: CurvePath,\n\n\tadd: function ( curve ) {\n\n\t\tthis.curves.push( curve );\n\n\t},\n\n\tclosePath: function () {\n\n\t\t// Add a line curve if start and end of lines are not connected\n\t\tconst startPoint = this.curves[ 0 ].getPoint( 0 );\n\t\tconst endPoint = this.curves[ this.curves.length - 1 ].getPoint( 1 );\n\n\t\tif ( ! startPoint.equals( endPoint ) ) {\n\n\t\t\tthis.curves.push( new LineCurve( endPoint, startPoint ) );\n\n\t\t}\n\n\t},\n\n\t// To get accurate point with reference to\n\t// entire path distance at time t,\n\t// following has to be done:\n\n\t// 1. Length of each sub path have to be known\n\t// 2. Locate and identify type of curve\n\t// 3. Get t for the curve\n\t// 4. Return curve.getPointAt(t')\n\n\tgetPoint: function ( t ) {\n\n\t\tconst d = t * this.getLength();\n\t\tconst curveLengths = this.getCurveLengths();\n\t\tlet i = 0;\n\n\t\t// To think about boundaries points.\n\n\t\twhile ( i < curveLengths.length ) {\n\n\t\t\tif ( curveLengths[ i ] >= d ) {\n\n\t\t\t\tconst diff = curveLengths[ i ] - d;\n\t\t\t\tconst curve = this.curves[ i ];\n\n\t\t\t\tconst segmentLength = curve.getLength();\n\t\t\t\tconst u = segmentLength === 0 ? 0 : 1 - diff / segmentLength;\n\n\t\t\t\treturn curve.getPointAt( u );\n\n\t\t\t}\n\n\t\t\ti ++;\n\n\t\t}\n\n\t\treturn null;\n\n\t\t// loop where sum != 0, sum > d , sum+1 <d\n\n\t},\n\n\t// We cannot use the default THREE.Curve getPoint() with getLength() because in\n\t// THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath\n\t// getPoint() depends on getLength\n\n\tgetLength: function () {\n\n\t\tconst lens = this.getCurveLengths();\n\t\treturn lens[ lens.length - 1 ];\n\n\t},\n\n\t// cacheLengths must be recalculated.\n\tupdateArcLengths: function () {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.cacheLengths = null;\n\t\tthis.getCurveLengths();\n\n\t},\n\n\t// Compute lengths and cache them\n\t// We cannot overwrite getLengths() because UtoT mapping uses it.\n\n\tgetCurveLengths: function () {\n\n\t\t// We use cache values if curves and cache array are same length\n\n\t\tif ( this.cacheLengths && this.cacheLengths.length === this.curves.length ) {\n\n\t\t\treturn this.cacheLengths;\n\n\t\t}\n\n\t\t// Get length of sub-curve\n\t\t// Push sums into cached array\n\n\t\tconst lengths = [];\n\t\tlet sums = 0;\n\n\t\tfor ( let i = 0, l = this.curves.length; i < l; i ++ ) {\n\n\t\t\tsums += this.curves[ i ].getLength();\n\t\t\tlengths.push( sums );\n\n\t\t}\n\n\t\tthis.cacheLengths = lengths;\n\n\t\treturn lengths;\n\n\t},\n\n\tgetSpacedPoints: function ( divisions = 40 ) {\n\n\t\tconst points = [];\n\n\t\tfor ( let i = 0; i <= divisions; i ++ ) {\n\n\t\t\tpoints.push( this.getPoint( i / divisions ) );\n\n\t\t}\n\n\t\tif ( this.autoClose ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\tgetPoints: function ( divisions = 12 ) {\n\n\t\tconst points = [];\n\t\tlet last;\n\n\t\tfor ( let i = 0, curves = this.curves; i < curves.length; i ++ ) {\n\n\t\t\tconst curve = curves[ i ];\n\t\t\tconst resolution = ( curve && curve.isEllipseCurve ) ? divisions * 2\n\t\t\t\t: ( curve && ( curve.isLineCurve || curve.isLineCurve3 ) ) ? 1\n\t\t\t\t\t: ( curve && curve.isSplineCurve ) ? divisions * curve.points.length\n\t\t\t\t\t\t: divisions;\n\n\t\t\tconst pts = curve.getPoints( resolution );\n\n\t\t\tfor ( let j = 0; j < pts.length; j ++ ) {\n\n\t\t\t\tconst point = pts[ j ];\n\n\t\t\t\tif ( last && last.equals( point ) ) continue; // ensures no consecutive points are duplicates\n\n\t\t\t\tpoints.push( point );\n\t\t\t\tlast = point;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.autoClose && points.length > 1 && ! points[ points.length - 1 ].equals( points[ 0 ] ) ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tCurve.prototype.copy.call( this, source );\n\n\t\tthis.curves = [];\n\n\t\tfor ( let i = 0, l = source.curves.length; i < l; i ++ ) {\n\n\t\t\tconst curve = source.curves[ i ];\n\n\t\t\tthis.curves.push( curve.clone() );\n\n\t\t}\n\n\t\tthis.autoClose = source.autoClose;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tconst data = Curve.prototype.toJSON.call( this );\n\n\t\tdata.autoClose = this.autoClose;\n\t\tdata.curves = [];\n\n\t\tfor ( let i = 0, l = this.curves.length; i < l; i ++ ) {\n\n\t\t\tconst curve = this.curves[ i ];\n\t\t\tdata.curves.push( curve.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tCurve.prototype.fromJSON.call( this, json );\n\n\t\tthis.autoClose = json.autoClose;\n\t\tthis.curves = [];\n\n\t\tfor ( let i = 0, l = json.curves.length; i < l; i ++ ) {\n\n\t\t\tconst curve = json.curves[ i ];\n\t\t\tthis.curves.push( new Curves[ curve.type ]().fromJSON( curve ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction Path( points ) {\n\n\tCurvePath.call( this );\n\n\tthis.type = 'Path';\n\n\tthis.currentPoint = new Vector2();\n\n\tif ( points ) {\n\n\t\tthis.setFromPoints( points );\n\n\t}\n\n}\n\nPath.prototype = Object.assign( Object.create( CurvePath.prototype ), {\n\n\tconstructor: Path,\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.moveTo( points[ 0 ].x, points[ 0 ].y );\n\n\t\tfor ( let i = 1, l = points.length; i < l; i ++ ) {\n\n\t\t\tthis.lineTo( points[ i ].x, points[ i ].y );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tmoveTo: function ( x, y ) {\n\n\t\tthis.currentPoint.set( x, y ); // TODO consider referencing vectors instead of copying?\n\n\t\treturn this;\n\n\t},\n\n\tlineTo: function ( x, y ) {\n\n\t\tconst curve = new LineCurve( this.currentPoint.clone(), new Vector2( x, y ) );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( x, y );\n\n\t\treturn this;\n\n\t},\n\n\tquadraticCurveTo: function ( aCPx, aCPy, aX, aY ) {\n\n\t\tconst curve = new QuadraticBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCPx, aCPy ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t\treturn this;\n\n\t},\n\n\tbezierCurveTo: function ( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tconst curve = new CubicBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCP1x, aCP1y ),\n\t\t\tnew Vector2( aCP2x, aCP2y ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t\treturn this;\n\n\t},\n\n\tsplineThru: function ( pts /*Array of Vector*/ ) {\n\n\t\tconst npts = [ this.currentPoint.clone() ].concat( pts );\n\n\t\tconst curve = new SplineCurve( npts );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.copy( pts[ pts.length - 1 ] );\n\n\t\treturn this;\n\n\t},\n\n\tarc: function ( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tconst x0 = this.currentPoint.x;\n\t\tconst y0 = this.currentPoint.y;\n\n\t\tthis.absarc( aX + x0, aY + y0, aRadius,\n\t\t\taStartAngle, aEndAngle, aClockwise );\n\n\t\treturn this;\n\n\t},\n\n\tabsarc: function ( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tthis.absellipse( aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\t\treturn this;\n\n\t},\n\n\tellipse: function ( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tconst x0 = this.currentPoint.x;\n\t\tconst y0 = this.currentPoint.y;\n\n\t\tthis.absellipse( aX + x0, aY + y0, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t\treturn this;\n\n\t},\n\n\tabsellipse: function ( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tconst curve = new EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t\tif ( this.curves.length > 0 ) {\n\n\t\t\t// if a previous curve is present, attempt to join\n\t\t\tconst firstPoint = curve.getPoint( 0 );\n\n\t\t\tif ( ! firstPoint.equals( this.currentPoint ) ) {\n\n\t\t\t\tthis.lineTo( firstPoint.x, firstPoint.y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.curves.push( curve );\n\n\t\tconst lastPoint = curve.getPoint( 1 );\n\t\tthis.currentPoint.copy( lastPoint );\n\n\t\treturn this;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tCurvePath.prototype.copy.call( this, source );\n\n\t\tthis.currentPoint.copy( source.currentPoint );\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tconst data = CurvePath.prototype.toJSON.call( this );\n\n\t\tdata.currentPoint = this.currentPoint.toArray();\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tCurvePath.prototype.fromJSON.call( this, json );\n\n\t\tthis.currentPoint.fromArray( json.currentPoint );\n\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction Shape( points ) {\n\n\tPath.call( this, points );\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\tthis.type = 'Shape';\n\n\tthis.holes = [];\n\n}\n\nShape.prototype = Object.assign( Object.create( Path.prototype ), {\n\n\tconstructor: Shape,\n\n\tgetPointsHoles: function ( divisions ) {\n\n\t\tconst holesPts = [];\n\n\t\tfor ( let i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tholesPts[ i ] = this.holes[ i ].getPoints( divisions );\n\n\t\t}\n\n\t\treturn holesPts;\n\n\t},\n\n\t// get points of shape and holes (keypoints based on segments parameter)\n\n\textractPoints: function ( divisions ) {\n\n\t\treturn {\n\n\t\t\tshape: this.getPoints( divisions ),\n\t\t\tholes: this.getPointsHoles( divisions )\n\n\t\t};\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tPath.prototype.copy.call( this, source );\n\n\t\tthis.holes = [];\n\n\t\tfor ( let i = 0, l = source.holes.length; i < l; i ++ ) {\n\n\t\t\tconst hole = source.holes[ i ];\n\n\t\t\tthis.holes.push( hole.clone() );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tconst data = Path.prototype.toJSON.call( this );\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.holes = [];\n\n\t\tfor ( let i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tconst hole = this.holes[ i ];\n\t\t\tdata.holes.push( hole.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tPath.prototype.fromJSON.call( this, json );\n\n\t\tthis.uuid = json.uuid;\n\t\tthis.holes = [];\n\n\t\tfor ( let i = 0, l = json.holes.length; i < l; i ++ ) {\n\n\t\t\tconst hole = json.holes[ i ];\n\t\t\tthis.holes.push( new Path().fromJSON( hole ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction Light( color, intensity = 1 ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Light';\n\n\tthis.color = new Color( color );\n\tthis.intensity = intensity;\n\n}\n\nLight.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Light,\n\n\tisLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tthis.color.copy( source.color );\n\t\tthis.intensity = source.intensity;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tconst data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.color = this.color.getHex();\n\t\tdata.object.intensity = this.intensity;\n\n\t\tif ( this.groundColor !== undefined ) data.object.groundColor = this.groundColor.getHex();\n\n\t\tif ( this.distance !== undefined ) data.object.distance = this.distance;\n\t\tif ( this.angle !== undefined ) data.object.angle = this.angle;\n\t\tif ( this.decay !== undefined ) data.object.decay = this.decay;\n\t\tif ( this.penumbra !== undefined ) data.object.penumbra = this.penumbra;\n\n\t\tif ( this.shadow !== undefined ) data.object.shadow = this.shadow.toJSON();\n\n\t\treturn data;\n\n\t}\n\n} );\n\nfunction HemisphereLight( skyColor, groundColor, intensity ) {\n\n\tLight.call( this, skyColor, intensity );\n\n\tthis.type = 'HemisphereLight';\n\n\tthis.position.copy( Object3D.DefaultUp );\n\tthis.updateMatrix();\n\n\tthis.groundColor = new Color( groundColor );\n\n}\n\nHemisphereLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: HemisphereLight,\n\n\tisHemisphereLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.groundColor.copy( source.groundColor );\n\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction LightShadow( camera ) {\n\n\tthis.camera = camera;\n\n\tthis.bias = 0;\n\tthis.normalBias = 0;\n\tthis.radius = 1;\n\n\tthis.mapSize = new Vector2( 512, 512 );\n\n\tthis.map = null;\n\tthis.mapPass = null;\n\tthis.matrix = new Matrix4();\n\n\tthis.autoUpdate = true;\n\tthis.needsUpdate = false;\n\n\tthis._frustum = new Frustum();\n\tthis._frameExtents = new Vector2( 1, 1 );\n\n\tthis._viewportCount = 1;\n\n\tthis._viewports = [\n\n\t\tnew Vector4( 0, 0, 1, 1 )\n\n\t];\n\n}\n\nObject.assign( LightShadow.prototype, {\n\n\t_projScreenMatrix: new Matrix4(),\n\n\t_lightPositionWorld: new Vector3(),\n\n\t_lookTarget: new Vector3(),\n\n\tgetViewportCount: function () {\n\n\t\treturn this._viewportCount;\n\n\t},\n\n\tgetFrustum: function () {\n\n\t\treturn this._frustum;\n\n\t},\n\n\tupdateMatrices: function ( light ) {\n\n\t\tconst shadowCamera = this.camera,\n\t\t\tshadowMatrix = this.matrix,\n\t\t\tprojScreenMatrix = this._projScreenMatrix,\n\t\t\tlookTarget = this._lookTarget,\n\t\t\tlightPositionWorld = this._lightPositionWorld;\n\n\t\tlightPositionWorld.setFromMatrixPosition( light.matrixWorld );\n\t\tshadowCamera.position.copy( lightPositionWorld );\n\n\t\tlookTarget.setFromMatrixPosition( light.target.matrixWorld );\n\t\tshadowCamera.lookAt( lookTarget );\n\t\tshadowCamera.updateMatrixWorld();\n\n\t\tprojScreenMatrix.multiplyMatrices( shadowCamera.projectionMatrix, shadowCamera.matrixWorldInverse );\n\t\tthis._frustum.setFromProjectionMatrix( projScreenMatrix );\n\n\t\tshadowMatrix.set(\n\t\t\t0.5, 0.0, 0.0, 0.5,\n\t\t\t0.0, 0.5, 0.0, 0.5,\n\t\t\t0.0, 0.0, 0.5, 0.5,\n\t\t\t0.0, 0.0, 0.0, 1.0\n\t\t);\n\n\t\tshadowMatrix.multiply( shadowCamera.projectionMatrix );\n\t\tshadowMatrix.multiply( shadowCamera.matrixWorldInverse );\n\n\t},\n\n\tgetViewport: function ( viewportIndex ) {\n\n\t\treturn this._viewports[ viewportIndex ];\n\n\t},\n\n\tgetFrameExtents: function () {\n\n\t\treturn this._frameExtents;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.camera = source.camera.clone();\n\n\t\tthis.bias = source.bias;\n\t\tthis.radius = source.radius;\n\n\t\tthis.mapSize.copy( source.mapSize );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tconst object = {};\n\n\t\tif ( this.bias !== 0 ) object.bias = this.bias;\n\t\tif ( this.normalBias !== 0 ) object.normalBias = this.normalBias;\n\t\tif ( this.radius !== 1 ) object.radius = this.radius;\n\t\tif ( this.mapSize.x !== 512 || this.mapSize.y !== 512 ) object.mapSize = this.mapSize.toArray();\n\n\t\tobject.camera = this.camera.toJSON( false ).object;\n\t\tdelete object.camera.matrix;\n\n\t\treturn object;\n\n\t}\n\n} );\n\nfunction SpotLightShadow() {\n\n\tLightShadow.call( this, new PerspectiveCamera( 50, 1, 0.5, 500 ) );\n\n\tthis.focus = 1;\n\n}\n\nSpotLightShadow.prototype = Object.assign( Object.create( LightShadow.prototype ), {\n\n\tconstructor: SpotLightShadow,\n\n\tisSpotLightShadow: true,\n\n\tupdateMatrices: function ( light ) {\n\n\t\tconst camera = this.camera;\n\n\t\tconst fov = MathUtils.RAD2DEG * 2 * light.angle * this.focus;\n\t\tconst aspect = this.mapSize.width / this.mapSize.height;\n\t\tconst far = light.distance || camera.far;\n\n\t\tif ( fov !== camera.fov || aspect !== camera.aspect || far !== camera.far ) {\n\n\t\t\tcamera.fov = fov;\n\t\t\tcamera.aspect = aspect;\n\t\t\tcamera.far = far;\n\t\t\tcamera.updateProjectionMatrix();\n\n\t\t}\n\n\t\tLightShadow.prototype.updateMatrices.call( this, light );\n\n\t}\n\n} );\n\nfunction SpotLight( color, intensity, distance, angle, penumbra, decay ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'SpotLight';\n\n\tthis.position.copy( Object3D.DefaultUp );\n\tthis.updateMatrix();\n\n\tthis.target = new Object3D();\n\n\tObject.defineProperty( this, 'power', {\n\t\tget: function () {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\t\treturn this.intensity * Math.PI;\n\n\t\t},\n\t\tset: function ( power ) {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\t\tthis.intensity = power / Math.PI;\n\n\t\t}\n\t} );\n\n\tthis.distance = ( distance !== undefined ) ? distance : 0;\n\tthis.angle = ( angle !== undefined ) ? angle : Math.PI / 3;\n\tthis.penumbra = ( penumbra !== undefined ) ? penumbra : 0;\n\tthis.decay = ( decay !== undefined ) ? decay : 1;\t// for physically correct lights, should be 2.\n\n\tthis.shadow = new SpotLightShadow();\n\n}\n\nSpotLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: SpotLight,\n\n\tisSpotLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.distance = source.distance;\n\t\tthis.angle = source.angle;\n\t\tthis.penumbra = source.penumbra;\n\t\tthis.decay = source.decay;\n\n\t\tthis.target = source.target.clone();\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction PointLightShadow() {\n\n\tLightShadow.call( this, new PerspectiveCamera( 90, 1, 0.5, 500 ) );\n\n\tthis._frameExtents = new Vector2( 4, 2 );\n\n\tthis._viewportCount = 6;\n\n\tthis._viewports = [\n\t\t// These viewports map a cube-map onto a 2D texture with the\n\t\t// following orientation:\n\t\t//\n\t\t//  xzXZ\n\t\t//   y Y\n\t\t//\n\t\t// X - Positive x direction\n\t\t// x - Negative x direction\n\t\t// Y - Positive y direction\n\t\t// y - Negative y direction\n\t\t// Z - Positive z direction\n\t\t// z - Negative z direction\n\n\t\t// positive X\n\t\tnew Vector4( 2, 1, 1, 1 ),\n\t\t// negative X\n\t\tnew Vector4( 0, 1, 1, 1 ),\n\t\t// positive Z\n\t\tnew Vector4( 3, 1, 1, 1 ),\n\t\t// negative Z\n\t\tnew Vector4( 1, 1, 1, 1 ),\n\t\t// positive Y\n\t\tnew Vector4( 3, 0, 1, 1 ),\n\t\t// negative Y\n\t\tnew Vector4( 1, 0, 1, 1 )\n\t];\n\n\tthis._cubeDirections = [\n\t\tnew Vector3( 1, 0, 0 ), new Vector3( - 1, 0, 0 ), new Vector3( 0, 0, 1 ),\n\t\tnew Vector3( 0, 0, - 1 ), new Vector3( 0, 1, 0 ), new Vector3( 0, - 1, 0 )\n\t];\n\n\tthis._cubeUps = [\n\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ),\n\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 0, 1 ),\tnew Vector3( 0, 0, - 1 )\n\t];\n\n}\n\nPointLightShadow.prototype = Object.assign( Object.create( LightShadow.prototype ), {\n\n\tconstructor: PointLightShadow,\n\n\tisPointLightShadow: true,\n\n\tupdateMatrices: function ( light, viewportIndex = 0 ) {\n\n\t\tconst camera = this.camera,\n\t\t\tshadowMatrix = this.matrix,\n\t\t\tlightPositionWorld = this._lightPositionWorld,\n\t\t\tlookTarget = this._lookTarget,\n\t\t\tprojScreenMatrix = this._projScreenMatrix;\n\n\t\tlightPositionWorld.setFromMatrixPosition( light.matrixWorld );\n\t\tcamera.position.copy( lightPositionWorld );\n\n\t\tlookTarget.copy( camera.position );\n\t\tlookTarget.add( this._cubeDirections[ viewportIndex ] );\n\t\tcamera.up.copy( this._cubeUps[ viewportIndex ] );\n\t\tcamera.lookAt( lookTarget );\n\t\tcamera.updateMatrixWorld();\n\n\t\tshadowMatrix.makeTranslation( - lightPositionWorld.x, - lightPositionWorld.y, - lightPositionWorld.z );\n\n\t\tprojScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\tthis._frustum.setFromProjectionMatrix( projScreenMatrix );\n\n\t}\n\n} );\n\nfunction PointLight( color, intensity, distance, decay ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'PointLight';\n\n\tObject.defineProperty( this, 'power', {\n\t\tget: function () {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\t\treturn this.intensity * 4 * Math.PI;\n\n\t\t},\n\t\tset: function ( power ) {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\t\tthis.intensity = power / ( 4 * Math.PI );\n\n\t\t}\n\t} );\n\n\tthis.distance = ( distance !== undefined ) ? distance : 0;\n\tthis.decay = ( decay !== undefined ) ? decay : 1;\t// for physically correct lights, should be 2.\n\n\tthis.shadow = new PointLightShadow();\n\n}\n\nPointLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: PointLight,\n\n\tisPointLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.distance = source.distance;\n\t\tthis.decay = source.decay;\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction OrthographicCamera( left, right, top, bottom, near, far ) {\n\n\tCamera.call( this );\n\n\tthis.type = 'OrthographicCamera';\n\n\tthis.zoom = 1;\n\tthis.view = null;\n\n\tthis.left = ( left !== undefined ) ? left : - 1;\n\tthis.right = ( right !== undefined ) ? right : 1;\n\tthis.top = ( top !== undefined ) ? top : 1;\n\tthis.bottom = ( bottom !== undefined ) ? bottom : - 1;\n\n\tthis.near = ( near !== undefined ) ? near : 0.1;\n\tthis.far = ( far !== undefined ) ? far : 2000;\n\n\tthis.updateProjectionMatrix();\n\n}\n\nOrthographicCamera.prototype = Object.assign( Object.create( Camera.prototype ), {\n\n\tconstructor: OrthographicCamera,\n\n\tisOrthographicCamera: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tCamera.prototype.copy.call( this, source, recursive );\n\n\t\tthis.left = source.left;\n\t\tthis.right = source.right;\n\t\tthis.top = source.top;\n\t\tthis.bottom = source.bottom;\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\n\t\tthis.zoom = source.zoom;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\treturn this;\n\n\t},\n\n\tsetViewOffset: function ( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tclearViewOffset: function () {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tupdateProjectionMatrix: function () {\n\n\t\tconst dx = ( this.right - this.left ) / ( 2 * this.zoom );\n\t\tconst dy = ( this.top - this.bottom ) / ( 2 * this.zoom );\n\t\tconst cx = ( this.right + this.left ) / 2;\n\t\tconst cy = ( this.top + this.bottom ) / 2;\n\n\t\tlet left = cx - dx;\n\t\tlet right = cx + dx;\n\t\tlet top = cy + dy;\n\t\tlet bottom = cy - dy;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tconst scaleW = ( this.right - this.left ) / this.view.fullWidth / this.zoom;\n\t\t\tconst scaleH = ( this.top - this.bottom ) / this.view.fullHeight / this.zoom;\n\n\t\t\tleft += scaleW * this.view.offsetX;\n\t\t\tright = left + scaleW * this.view.width;\n\t\t\ttop -= scaleH * this.view.offsetY;\n\t\t\tbottom = top - scaleH * this.view.height;\n\n\t\t}\n\n\t\tthis.projectionMatrix.makeOrthographic( left, right, top, bottom, this.near, this.far );\n\n\t\tthis.projectionMatrixInverse.copy( this.projectionMatrix ).invert();\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tconst data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.zoom = this.zoom;\n\t\tdata.object.left = this.left;\n\t\tdata.object.right = this.right;\n\t\tdata.object.top = this.top;\n\t\tdata.object.bottom = this.bottom;\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\treturn data;\n\n\t}\n\n} );\n\nfunction DirectionalLightShadow() {\n\n\tLightShadow.call( this, new OrthographicCamera( - 5, 5, 5, - 5, 0.5, 500 ) );\n\n}\n\nDirectionalLightShadow.prototype = Object.assign( Object.create( LightShadow.prototype ), {\n\n\tconstructor: DirectionalLightShadow,\n\n\tisDirectionalLightShadow: true,\n\n\tupdateMatrices: function ( light ) {\n\n\t\tLightShadow.prototype.updateMatrices.call( this, light );\n\n\t}\n\n} );\n\nfunction DirectionalLight( color, intensity ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'DirectionalLight';\n\n\tthis.position.copy( Object3D.DefaultUp );\n\tthis.updateMatrix();\n\n\tthis.target = new Object3D();\n\n\tthis.shadow = new DirectionalLightShadow();\n\n}\n\nDirectionalLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: DirectionalLight,\n\n\tisDirectionalLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.target = source.target.clone();\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction AmbientLight( color, intensity ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'AmbientLight';\n\n}\n\nAmbientLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: AmbientLight,\n\n\tisAmbientLight: true\n\n} );\n\nfunction RectAreaLight( color, intensity, width, height ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'RectAreaLight';\n\n\tthis.width = ( width !== undefined ) ? width : 10;\n\tthis.height = ( height !== undefined ) ? height : 10;\n\n}\n\nRectAreaLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: RectAreaLight,\n\n\tisRectAreaLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tconst data = Light.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.width = this.width;\n\t\tdata.object.height = this.height;\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * Primary reference:\n *   https://graphics.stanford.edu/papers/envmap/envmap.pdf\n *\n * Secondary reference:\n *   https://www.ppsloan.org/publications/StupidSH36.pdf\n */\n\n// 3-band SH defined by 9 coefficients\n\nclass SphericalHarmonics3 {\n\n\tconstructor() {\n\n\t\tObject.defineProperty( this, 'isSphericalHarmonics3', { value: true } );\n\n\t\tthis.coefficients = [];\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients.push( new Vector3() );\n\n\t\t}\n\n\t}\n\n\tset( coefficients ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].copy( coefficients[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tzero() {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].set( 0, 0, 0 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// get the radiance in the direction of the normal\n\t// target is a Vector3\n\tgetAt( normal, target ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tconst x = normal.x, y = normal.y, z = normal.z;\n\n\t\tconst coeff = this.coefficients;\n\n\t\t// band 0\n\t\ttarget.copy( coeff[ 0 ] ).multiplyScalar( 0.282095 );\n\n\t\t// band 1\n\t\ttarget.addScaledVector( coeff[ 1 ], 0.488603 * y );\n\t\ttarget.addScaledVector( coeff[ 2 ], 0.488603 * z );\n\t\ttarget.addScaledVector( coeff[ 3 ], 0.488603 * x );\n\n\t\t// band 2\n\t\ttarget.addScaledVector( coeff[ 4 ], 1.092548 * ( x * y ) );\n\t\ttarget.addScaledVector( coeff[ 5 ], 1.092548 * ( y * z ) );\n\t\ttarget.addScaledVector( coeff[ 6 ], 0.315392 * ( 3.0 * z * z - 1.0 ) );\n\t\ttarget.addScaledVector( coeff[ 7 ], 1.092548 * ( x * z ) );\n\t\ttarget.addScaledVector( coeff[ 8 ], 0.546274 * ( x * x - y * y ) );\n\n\t\treturn target;\n\n\t}\n\n\t// get the irradiance (radiance convolved with cosine lobe) in the direction of the normal\n\t// target is a Vector3\n\t// https://graphics.stanford.edu/papers/envmap/envmap.pdf\n\tgetIrradianceAt( normal, target ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tconst x = normal.x, y = normal.y, z = normal.z;\n\n\t\tconst coeff = this.coefficients;\n\n\t\t// band 0\n\t\ttarget.copy( coeff[ 0 ] ).multiplyScalar( 0.886227 ); //  * 0.282095\n\n\t\t// band 1\n\t\ttarget.addScaledVector( coeff[ 1 ], 2.0 * 0.511664 * y ); // ( 2 *  / 3 ) * 0.488603\n\t\ttarget.addScaledVector( coeff[ 2 ], 2.0 * 0.511664 * z );\n\t\ttarget.addScaledVector( coeff[ 3 ], 2.0 * 0.511664 * x );\n\n\t\t// band 2\n\t\ttarget.addScaledVector( coeff[ 4 ], 2.0 * 0.429043 * x * y ); // (  / 4 ) * 1.092548\n\t\ttarget.addScaledVector( coeff[ 5 ], 2.0 * 0.429043 * y * z );\n\t\ttarget.addScaledVector( coeff[ 6 ], 0.743125 * z * z - 0.247708 ); // (  / 4 ) * 0.315392 * 3\n\t\ttarget.addScaledVector( coeff[ 7 ], 2.0 * 0.429043 * x * z );\n\t\ttarget.addScaledVector( coeff[ 8 ], 0.429043 * ( x * x - y * y ) ); // (  / 4 ) * 0.546274\n\n\t\treturn target;\n\n\t}\n\n\tadd( sh ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].add( sh.coefficients[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\taddScaledSH( sh, s ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].addScaledVector( sh.coefficients[ i ], s );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tscale( s ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].multiplyScalar( s );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tlerp( sh, alpha ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].lerp( sh.coefficients[ i ], alpha );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tequals( sh ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( ! this.coefficients[ i ].equals( sh.coefficients[ i ] ) ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tcopy( sh ) {\n\n\t\treturn this.set( sh.coefficients );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tconst coefficients = this.coefficients;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tcoefficients[ i ].fromArray( array, offset + ( i * 3 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tconst coefficients = this.coefficients;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tcoefficients[ i ].toArray( array, offset + ( i * 3 ) );\n\n\t\t}\n\n\t\treturn array;\n\n\t}\n\n\t// evaluate the basis functions\n\t// shBasis is an Array[ 9 ]\n\tstatic getBasisAt( normal, shBasis ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tconst x = normal.x, y = normal.y, z = normal.z;\n\n\t\t// band 0\n\t\tshBasis[ 0 ] = 0.282095;\n\n\t\t// band 1\n\t\tshBasis[ 1 ] = 0.488603 * y;\n\t\tshBasis[ 2 ] = 0.488603 * z;\n\t\tshBasis[ 3 ] = 0.488603 * x;\n\n\t\t// band 2\n\t\tshBasis[ 4 ] = 1.092548 * x * y;\n\t\tshBasis[ 5 ] = 1.092548 * y * z;\n\t\tshBasis[ 6 ] = 0.315392 * ( 3 * z * z - 1 );\n\t\tshBasis[ 7 ] = 1.092548 * x * z;\n\t\tshBasis[ 8 ] = 0.546274 * ( x * x - y * y );\n\n\t}\n\n}\n\nfunction LightProbe( sh, intensity ) {\n\n\tLight.call( this, undefined, intensity );\n\n\tthis.type = 'LightProbe';\n\n\tthis.sh = ( sh !== undefined ) ? sh : new SphericalHarmonics3();\n\n}\n\nLightProbe.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: LightProbe,\n\n\tisLightProbe: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.sh.copy( source.sh );\n\n\t\treturn this;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tthis.intensity = json.intensity; // TODO: Move this bit to Light.fromJSON();\n\t\tthis.sh.fromArray( json.sh );\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tconst data = Light.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.sh = this.sh.toArray();\n\n\t\treturn data;\n\n\t}\n\n} );\n\nfunction MaterialLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n\tthis.textures = {};\n\n}\n\nMaterialLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: MaterialLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.setRequestHeader( scope.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\tconst textures = this.textures;\n\n\t\tfunction getTexture( name ) {\n\n\t\t\tif ( textures[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.MaterialLoader: Undefined texture', name );\n\n\t\t\t}\n\n\t\t\treturn textures[ name ];\n\n\t\t}\n\n\t\tconst material = new Materials[ json.type ]();\n\n\t\tif ( json.uuid !== undefined ) material.uuid = json.uuid;\n\t\tif ( json.name !== undefined ) material.name = json.name;\n\t\tif ( json.color !== undefined && material.color !== undefined ) material.color.setHex( json.color );\n\t\tif ( json.roughness !== undefined ) material.roughness = json.roughness;\n\t\tif ( json.metalness !== undefined ) material.metalness = json.metalness;\n\t\tif ( json.sheen !== undefined ) material.sheen = new Color().setHex( json.sheen );\n\t\tif ( json.emissive !== undefined && material.emissive !== undefined ) material.emissive.setHex( json.emissive );\n\t\tif ( json.specular !== undefined && material.specular !== undefined ) material.specular.setHex( json.specular );\n\t\tif ( json.shininess !== undefined ) material.shininess = json.shininess;\n\t\tif ( json.clearcoat !== undefined ) material.clearcoat = json.clearcoat;\n\t\tif ( json.clearcoatRoughness !== undefined ) material.clearcoatRoughness = json.clearcoatRoughness;\n\t\tif ( json.fog !== undefined ) material.fog = json.fog;\n\t\tif ( json.flatShading !== undefined ) material.flatShading = json.flatShading;\n\t\tif ( json.blending !== undefined ) material.blending = json.blending;\n\t\tif ( json.combine !== undefined ) material.combine = json.combine;\n\t\tif ( json.side !== undefined ) material.side = json.side;\n\t\tif ( json.opacity !== undefined ) material.opacity = json.opacity;\n\t\tif ( json.transparent !== undefined ) material.transparent = json.transparent;\n\t\tif ( json.alphaTest !== undefined ) material.alphaTest = json.alphaTest;\n\t\tif ( json.depthTest !== undefined ) material.depthTest = json.depthTest;\n\t\tif ( json.depthWrite !== undefined ) material.depthWrite = json.depthWrite;\n\t\tif ( json.colorWrite !== undefined ) material.colorWrite = json.colorWrite;\n\n\t\tif ( json.stencilWrite !== undefined ) material.stencilWrite = json.stencilWrite;\n\t\tif ( json.stencilWriteMask !== undefined ) material.stencilWriteMask = json.stencilWriteMask;\n\t\tif ( json.stencilFunc !== undefined ) material.stencilFunc = json.stencilFunc;\n\t\tif ( json.stencilRef !== undefined ) material.stencilRef = json.stencilRef;\n\t\tif ( json.stencilFuncMask !== undefined ) material.stencilFuncMask = json.stencilFuncMask;\n\t\tif ( json.stencilFail !== undefined ) material.stencilFail = json.stencilFail;\n\t\tif ( json.stencilZFail !== undefined ) material.stencilZFail = json.stencilZFail;\n\t\tif ( json.stencilZPass !== undefined ) material.stencilZPass = json.stencilZPass;\n\n\t\tif ( json.wireframe !== undefined ) material.wireframe = json.wireframe;\n\t\tif ( json.wireframeLinewidth !== undefined ) material.wireframeLinewidth = json.wireframeLinewidth;\n\t\tif ( json.wireframeLinecap !== undefined ) material.wireframeLinecap = json.wireframeLinecap;\n\t\tif ( json.wireframeLinejoin !== undefined ) material.wireframeLinejoin = json.wireframeLinejoin;\n\n\t\tif ( json.rotation !== undefined ) material.rotation = json.rotation;\n\n\t\tif ( json.linewidth !== 1 ) material.linewidth = json.linewidth;\n\t\tif ( json.dashSize !== undefined ) material.dashSize = json.dashSize;\n\t\tif ( json.gapSize !== undefined ) material.gapSize = json.gapSize;\n\t\tif ( json.scale !== undefined ) material.scale = json.scale;\n\n\t\tif ( json.polygonOffset !== undefined ) material.polygonOffset = json.polygonOffset;\n\t\tif ( json.polygonOffsetFactor !== undefined ) material.polygonOffsetFactor = json.polygonOffsetFactor;\n\t\tif ( json.polygonOffsetUnits !== undefined ) material.polygonOffsetUnits = json.polygonOffsetUnits;\n\n\t\tif ( json.skinning !== undefined ) material.skinning = json.skinning;\n\t\tif ( json.morphTargets !== undefined ) material.morphTargets = json.morphTargets;\n\t\tif ( json.morphNormals !== undefined ) material.morphNormals = json.morphNormals;\n\t\tif ( json.dithering !== undefined ) material.dithering = json.dithering;\n\n\t\tif ( json.vertexTangents !== undefined ) material.vertexTangents = json.vertexTangents;\n\n\t\tif ( json.visible !== undefined ) material.visible = json.visible;\n\n\t\tif ( json.toneMapped !== undefined ) material.toneMapped = json.toneMapped;\n\n\t\tif ( json.userData !== undefined ) material.userData = json.userData;\n\n\t\tif ( json.vertexColors !== undefined ) {\n\n\t\t\tif ( typeof json.vertexColors === 'number' ) {\n\n\t\t\t\tmaterial.vertexColors = ( json.vertexColors > 0 ) ? true : false;\n\n\t\t\t} else {\n\n\t\t\t\tmaterial.vertexColors = json.vertexColors;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Shader Material\n\n\t\tif ( json.uniforms !== undefined ) {\n\n\t\t\tfor ( const name in json.uniforms ) {\n\n\t\t\t\tconst uniform = json.uniforms[ name ];\n\n\t\t\t\tmaterial.uniforms[ name ] = {};\n\n\t\t\t\tswitch ( uniform.type ) {\n\n\t\t\t\t\tcase 't':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = getTexture( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'c':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Color().setHex( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v2':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector2().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v3':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector3().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v4':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector4().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'm3':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Matrix3().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'm4':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Matrix4().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = uniform.value;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( json.defines !== undefined ) material.defines = json.defines;\n\t\tif ( json.vertexShader !== undefined ) material.vertexShader = json.vertexShader;\n\t\tif ( json.fragmentShader !== undefined ) material.fragmentShader = json.fragmentShader;\n\n\t\tif ( json.extensions !== undefined ) {\n\n\t\t\tfor ( const key in json.extensions ) {\n\n\t\t\t\tmaterial.extensions[ key ] = json.extensions[ key ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Deprecated\n\n\t\tif ( json.shading !== undefined ) material.flatShading = json.shading === 1; // THREE.FlatShading\n\n\t\t// for PointsMaterial\n\n\t\tif ( json.size !== undefined ) material.size = json.size;\n\t\tif ( json.sizeAttenuation !== undefined ) material.sizeAttenuation = json.sizeAttenuation;\n\n\t\t// maps\n\n\t\tif ( json.map !== undefined ) material.map = getTexture( json.map );\n\t\tif ( json.matcap !== undefined ) material.matcap = getTexture( json.matcap );\n\n\t\tif ( json.alphaMap !== undefined ) material.alphaMap = getTexture( json.alphaMap );\n\n\t\tif ( json.bumpMap !== undefined ) material.bumpMap = getTexture( json.bumpMap );\n\t\tif ( json.bumpScale !== undefined ) material.bumpScale = json.bumpScale;\n\n\t\tif ( json.normalMap !== undefined ) material.normalMap = getTexture( json.normalMap );\n\t\tif ( json.normalMapType !== undefined ) material.normalMapType = json.normalMapType;\n\t\tif ( json.normalScale !== undefined ) {\n\n\t\t\tlet normalScale = json.normalScale;\n\n\t\t\tif ( Array.isArray( normalScale ) === false ) {\n\n\t\t\t\t// Blender exporter used to export a scalar. See #7459\n\n\t\t\t\tnormalScale = [ normalScale, normalScale ];\n\n\t\t\t}\n\n\t\t\tmaterial.normalScale = new Vector2().fromArray( normalScale );\n\n\t\t}\n\n\t\tif ( json.displacementMap !== undefined ) material.displacementMap = getTexture( json.displacementMap );\n\t\tif ( json.displacementScale !== undefined ) material.displacementScale = json.displacementScale;\n\t\tif ( json.displacementBias !== undefined ) material.displacementBias = json.displacementBias;\n\n\t\tif ( json.roughnessMap !== undefined ) material.roughnessMap = getTexture( json.roughnessMap );\n\t\tif ( json.metalnessMap !== undefined ) material.metalnessMap = getTexture( json.metalnessMap );\n\n\t\tif ( json.emissiveMap !== undefined ) material.emissiveMap = getTexture( json.emissiveMap );\n\t\tif ( json.emissiveIntensity !== undefined ) material.emissiveIntensity = json.emissiveIntensity;\n\n\t\tif ( json.specularMap !== undefined ) material.specularMap = getTexture( json.specularMap );\n\n\t\tif ( json.envMap !== undefined ) material.envMap = getTexture( json.envMap );\n\t\tif ( json.envMapIntensity !== undefined ) material.envMapIntensity = json.envMapIntensity;\n\n\t\tif ( json.reflectivity !== undefined ) material.reflectivity = json.reflectivity;\n\t\tif ( json.refractionRatio !== undefined ) material.refractionRatio = json.refractionRatio;\n\n\t\tif ( json.lightMap !== undefined ) material.lightMap = getTexture( json.lightMap );\n\t\tif ( json.lightMapIntensity !== undefined ) material.lightMapIntensity = json.lightMapIntensity;\n\n\t\tif ( json.aoMap !== undefined ) material.aoMap = getTexture( json.aoMap );\n\t\tif ( json.aoMapIntensity !== undefined ) material.aoMapIntensity = json.aoMapIntensity;\n\n\t\tif ( json.gradientMap !== undefined ) material.gradientMap = getTexture( json.gradientMap );\n\n\t\tif ( json.clearcoatMap !== undefined ) material.clearcoatMap = getTexture( json.clearcoatMap );\n\t\tif ( json.clearcoatRoughnessMap !== undefined ) material.clearcoatRoughnessMap = getTexture( json.clearcoatRoughnessMap );\n\t\tif ( json.clearcoatNormalMap !== undefined ) material.clearcoatNormalMap = getTexture( json.clearcoatNormalMap );\n\t\tif ( json.clearcoatNormalScale !== undefined ) material.clearcoatNormalScale = new Vector2().fromArray( json.clearcoatNormalScale );\n\n\t\tif ( json.transmission !== undefined ) material.transmission = json.transmission;\n\t\tif ( json.transmissionMap !== undefined ) material.transmissionMap = getTexture( json.transmissionMap );\n\n\t\treturn material;\n\n\t},\n\n\tsetTextures: function ( value ) {\n\n\t\tthis.textures = value;\n\t\treturn this;\n\n\t}\n\n} );\n\nconst LoaderUtils = {\n\n\tdecodeText: function ( array ) {\n\n\t\tif ( typeof TextDecoder !== 'undefined' ) {\n\n\t\t\treturn new TextDecoder().decode( array );\n\n\t\t}\n\n\t\t// Avoid the String.fromCharCode.apply(null, array) shortcut, which\n\t\t// throws a \"maximum call stack size exceeded\" error for large arrays.\n\n\t\tlet s = '';\n\n\t\tfor ( let i = 0, il = array.length; i < il; i ++ ) {\n\n\t\t\t// Implicitly assumes little-endian.\n\t\t\ts += String.fromCharCode( array[ i ] );\n\n\t\t}\n\n\t\ttry {\n\n\t\t\t// merges multi-byte utf-8 characters.\n\n\t\t\treturn decodeURIComponent( escape( s ) );\n\n\t\t} catch ( e ) { // see #16358\n\n\t\t\treturn s;\n\n\t\t}\n\n\t},\n\n\textractUrlBase: function ( url ) {\n\n\t\tconst index = url.lastIndexOf( '/' );\n\n\t\tif ( index === - 1 ) return './';\n\n\t\treturn url.substr( 0, index + 1 );\n\n\t}\n\n};\n\nfunction InstancedBufferGeometry() {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'InstancedBufferGeometry';\n\tthis.instanceCount = Infinity;\n\n}\n\nInstancedBufferGeometry.prototype = Object.assign( Object.create( BufferGeometry.prototype ), {\n\n\tconstructor: InstancedBufferGeometry,\n\n\tisInstancedBufferGeometry: true,\n\n\tcopy: function ( source ) {\n\n\t\tBufferGeometry.prototype.copy.call( this, source );\n\n\t\tthis.instanceCount = source.instanceCount;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tconst data = BufferGeometry.prototype.toJSON.call( this );\n\n\t\tdata.instanceCount = this.instanceCount;\n\n\t\tdata.isInstancedBufferGeometry = true;\n\n\t\treturn data;\n\n\t}\n\n} );\n\nfunction InstancedBufferAttribute( array, itemSize, normalized, meshPerAttribute ) {\n\n\tif ( typeof ( normalized ) === 'number' ) {\n\n\t\tmeshPerAttribute = normalized;\n\n\t\tnormalized = false;\n\n\t\tconsole.error( 'THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.' );\n\n\t}\n\n\tBufferAttribute.call( this, array, itemSize, normalized );\n\n\tthis.meshPerAttribute = meshPerAttribute || 1;\n\n}\n\nInstancedBufferAttribute.prototype = Object.assign( Object.create( BufferAttribute.prototype ), {\n\n\tconstructor: InstancedBufferAttribute,\n\n\tisInstancedBufferAttribute: true,\n\n\tcopy: function ( source ) {\n\n\t\tBufferAttribute.prototype.copy.call( this, source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ()\t{\n\n\t\tconst data = BufferAttribute.prototype.toJSON.call( this );\n\n\t\tdata.meshPerAttribute = this.meshPerAttribute;\n\n\t\tdata.isInstancedBufferAttribute = true;\n\n\t\treturn data;\n\n\t}\n\n} );\n\nfunction BufferGeometryLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nBufferGeometryLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: BufferGeometryLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.setRequestHeader( scope.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\ttry {\n\n\t\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\tconst interleavedBufferMap = {};\n\t\tconst arrayBufferMap = {};\n\n\t\tfunction getInterleavedBuffer( json, uuid ) {\n\n\t\t\tif ( interleavedBufferMap[ uuid ] !== undefined ) return interleavedBufferMap[ uuid ];\n\n\t\t\tconst interleavedBuffers = json.interleavedBuffers;\n\t\t\tconst interleavedBuffer = interleavedBuffers[ uuid ];\n\n\t\t\tconst buffer = getArrayBuffer( json, interleavedBuffer.buffer );\n\n\t\t\tconst array = getTypedArray( interleavedBuffer.type, buffer );\n\t\t\tconst ib = new InterleavedBuffer( array, interleavedBuffer.stride );\n\t\t\tib.uuid = interleavedBuffer.uuid;\n\n\t\t\tinterleavedBufferMap[ uuid ] = ib;\n\n\t\t\treturn ib;\n\n\t\t}\n\n\t\tfunction getArrayBuffer( json, uuid ) {\n\n\t\t\tif ( arrayBufferMap[ uuid ] !== undefined ) return arrayBufferMap[ uuid ];\n\n\t\t\tconst arrayBuffers = json.arrayBuffers;\n\t\t\tconst arrayBuffer = arrayBuffers[ uuid ];\n\n\t\t\tconst ab = new Uint32Array( arrayBuffer ).buffer;\n\n\t\t\tarrayBufferMap[ uuid ] = ab;\n\n\t\t\treturn ab;\n\n\t\t}\n\n\t\tconst geometry = json.isInstancedBufferGeometry ? new InstancedBufferGeometry() : new BufferGeometry();\n\n\t\tconst index = json.data.index;\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tconst typedArray = getTypedArray( index.type, index.array );\n\t\t\tgeometry.setIndex( new BufferAttribute( typedArray, 1 ) );\n\n\t\t}\n\n\t\tconst attributes = json.data.attributes;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tconst attribute = attributes[ key ];\n\t\t\tlet bufferAttribute;\n\n\t\t\tif ( attribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\tconst interleavedBuffer = getInterleavedBuffer( json.data, attribute.data );\n\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( interleavedBuffer, attribute.itemSize, attribute.offset, attribute.normalized );\n\n\t\t\t} else {\n\n\t\t\t\tconst typedArray = getTypedArray( attribute.type, attribute.array );\n\t\t\t\tconst bufferAttributeConstr = attribute.isInstancedBufferAttribute ? InstancedBufferAttribute : BufferAttribute;\n\t\t\t\tbufferAttribute = new bufferAttributeConstr( typedArray, attribute.itemSize, attribute.normalized );\n\n\t\t\t}\n\n\t\t\tif ( attribute.name !== undefined ) bufferAttribute.name = attribute.name;\n\t\t\tgeometry.setAttribute( key, bufferAttribute );\n\n\t\t}\n\n\t\tconst morphAttributes = json.data.morphAttributes;\n\n\t\tif ( morphAttributes ) {\n\n\t\t\tfor ( const key in morphAttributes ) {\n\n\t\t\t\tconst attributeArray = morphAttributes[ key ];\n\n\t\t\t\tconst array = [];\n\n\t\t\t\tfor ( let i = 0, il = attributeArray.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst attribute = attributeArray[ i ];\n\t\t\t\t\tlet bufferAttribute;\n\n\t\t\t\t\tif ( attribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\t\t\tconst interleavedBuffer = getInterleavedBuffer( json.data, attribute.data );\n\t\t\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( interleavedBuffer, attribute.itemSize, attribute.offset, attribute.normalized );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconst typedArray = getTypedArray( attribute.type, attribute.array );\n\t\t\t\t\t\tbufferAttribute = new BufferAttribute( typedArray, attribute.itemSize, attribute.normalized );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( attribute.name !== undefined ) bufferAttribute.name = attribute.name;\n\t\t\t\t\tarray.push( bufferAttribute );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.morphAttributes[ key ] = array;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst morphTargetsRelative = json.data.morphTargetsRelative;\n\n\t\tif ( morphTargetsRelative ) {\n\n\t\t\tgeometry.morphTargetsRelative = true;\n\n\t\t}\n\n\t\tconst groups = json.data.groups || json.data.drawcalls || json.data.offsets;\n\n\t\tif ( groups !== undefined ) {\n\n\t\t\tfor ( let i = 0, n = groups.length; i !== n; ++ i ) {\n\n\t\t\t\tconst group = groups[ i ];\n\n\t\t\t\tgeometry.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst boundingSphere = json.data.boundingSphere;\n\n\t\tif ( boundingSphere !== undefined ) {\n\n\t\t\tconst center = new Vector3();\n\n\t\t\tif ( boundingSphere.center !== undefined ) {\n\n\t\t\t\tcenter.fromArray( boundingSphere.center );\n\n\t\t\t}\n\n\t\t\tgeometry.boundingSphere = new Sphere( center, boundingSphere.radius );\n\n\t\t}\n\n\t\tif ( json.name ) geometry.name = json.name;\n\t\tif ( json.userData ) geometry.userData = json.userData;\n\n\t\treturn geometry;\n\n\t}\n\n} );\n\nclass ObjectLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst path = ( this.path === '' ) ? LoaderUtils.extractUrlBase( url ) : this.path;\n\t\tthis.resourcePath = this.resourcePath || path;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tlet json = null;\n\n\t\t\ttry {\n\n\t\t\t\tjson = JSON.parse( text );\n\n\t\t\t} catch ( error ) {\n\n\t\t\t\tif ( onError !== undefined ) onError( error );\n\n\t\t\t\tconsole.error( 'THREE:ObjectLoader: Can\\'t parse ' + url + '.', error.message );\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tconst metadata = json.metadata;\n\n\t\t\tif ( metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry' ) {\n\n\t\t\t\tconsole.error( 'THREE.ObjectLoader: Can\\'t load ' + url );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tscope.parse( json, onLoad );\n\n\t\t}, onProgress, onError );\n\n\t}\n\n\tparse( json, onLoad ) {\n\n\t\tconst animations = this.parseAnimations( json.animations );\n\t\tconst shapes = this.parseShapes( json.shapes );\n\t\tconst geometries = this.parseGeometries( json.geometries, shapes );\n\n\t\tconst images = this.parseImages( json.images, function () {\n\n\t\t\tif ( onLoad !== undefined ) onLoad( object );\n\n\t\t} );\n\n\t\tconst textures = this.parseTextures( json.textures, images );\n\t\tconst materials = this.parseMaterials( json.materials, textures );\n\n\t\tconst object = this.parseObject( json.object, geometries, materials, animations );\n\t\tconst skeletons = this.parseSkeletons( json.skeletons, object );\n\n\t\tthis.bindSkeletons( object, skeletons );\n\n\t\t//\n\n\t\tif ( onLoad !== undefined ) {\n\n\t\t\tlet hasImages = false;\n\n\t\t\tfor ( const uuid in images ) {\n\n\t\t\t\tif ( images[ uuid ] instanceof HTMLImageElement ) {\n\n\t\t\t\t\thasImages = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( hasImages === false ) onLoad( object );\n\n\t\t}\n\n\t\treturn object;\n\n\t}\n\n\tparseShapes( json ) {\n\n\t\tconst shapes = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst shape = new Shape().fromJSON( json[ i ] );\n\n\t\t\t\tshapes[ shape.uuid ] = shape;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn shapes;\n\n\t}\n\n\tparseSkeletons( json, object ) {\n\n\t\tconst skeletons = {};\n\t\tconst bones = {};\n\n\t\t// generate bone lookup table\n\n\t\tobject.traverse( function ( child ) {\n\n\t\t\tif ( child.isBone ) bones[ child.uuid ] = child;\n\n\t\t} );\n\n\t\t// create skeletons\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst skeleton = new Skeleton().fromJSON( json[ i ], bones );\n\n\t\t\t\tskeletons[ skeleton.uuid ] = skeleton;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn skeletons;\n\n\t}\n\n\tparseGeometries( json, shapes ) {\n\n\t\tconst geometries = {};\n\t\tlet geometryShapes;\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tconst bufferGeometryLoader = new BufferGeometryLoader();\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tlet geometry;\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tswitch ( data.type ) {\n\n\t\t\t\t\tcase 'PlaneGeometry':\n\t\t\t\t\tcase 'PlaneBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.width,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'BoxGeometry':\n\t\t\t\t\tcase 'BoxBufferGeometry':\n\t\t\t\t\tcase 'CubeGeometry': // backwards compatible\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.width,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.depth,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.depthSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'CircleGeometry':\n\t\t\t\t\tcase 'CircleBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.segments,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'CylinderGeometry':\n\t\t\t\t\tcase 'CylinderBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radiusTop,\n\t\t\t\t\t\t\tdata.radiusBottom,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.openEnded,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'ConeGeometry':\n\t\t\t\t\tcase 'ConeBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.openEnded,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'SphereGeometry':\n\t\t\t\t\tcase 'SphereBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.phiStart,\n\t\t\t\t\t\t\tdata.phiLength,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'DodecahedronGeometry':\n\t\t\t\t\tcase 'DodecahedronBufferGeometry':\n\t\t\t\t\tcase 'IcosahedronGeometry':\n\t\t\t\t\tcase 'IcosahedronBufferGeometry':\n\t\t\t\t\tcase 'OctahedronGeometry':\n\t\t\t\t\tcase 'OctahedronBufferGeometry':\n\t\t\t\t\tcase 'TetrahedronGeometry':\n\t\t\t\t\tcase 'TetrahedronBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.detail\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'RingGeometry':\n\t\t\t\t\tcase 'RingBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.innerRadius,\n\t\t\t\t\t\t\tdata.outerRadius,\n\t\t\t\t\t\t\tdata.thetaSegments,\n\t\t\t\t\t\t\tdata.phiSegments,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TorusGeometry':\n\t\t\t\t\tcase 'TorusBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.tube,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.arc\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TorusKnotGeometry':\n\t\t\t\t\tcase 'TorusKnotBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.tube,\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.p,\n\t\t\t\t\t\t\tdata.q\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TubeGeometry':\n\t\t\t\t\tcase 'TubeBufferGeometry':\n\n\t\t\t\t\t\t// This only works for built-in curves (e.g. CatmullRomCurve3).\n\t\t\t\t\t\t// User defined curves or instances of CurvePath will not be deserialized.\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tnew Curves[ data.path.type ]().fromJSON( data.path ),\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.closed\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'LatheGeometry':\n\t\t\t\t\tcase 'LatheBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.points,\n\t\t\t\t\t\t\tdata.segments,\n\t\t\t\t\t\t\tdata.phiStart,\n\t\t\t\t\t\t\tdata.phiLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'PolyhedronGeometry':\n\t\t\t\t\tcase 'PolyhedronBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.vertices,\n\t\t\t\t\t\t\tdata.indices,\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.details\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'ShapeGeometry':\n\t\t\t\t\tcase 'ShapeBufferGeometry':\n\n\t\t\t\t\t\tgeometryShapes = [];\n\n\t\t\t\t\t\tfor ( let j = 0, jl = data.shapes.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tconst shape = shapes[ data.shapes[ j ] ];\n\n\t\t\t\t\t\t\tgeometryShapes.push( shape );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tgeometryShapes,\n\t\t\t\t\t\t\tdata.curveSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\n\t\t\t\t\tcase 'ExtrudeGeometry':\n\t\t\t\t\tcase 'ExtrudeBufferGeometry':\n\n\t\t\t\t\t\tgeometryShapes = [];\n\n\t\t\t\t\t\tfor ( let j = 0, jl = data.shapes.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tconst shape = shapes[ data.shapes[ j ] ];\n\n\t\t\t\t\t\t\tgeometryShapes.push( shape );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst extrudePath = data.options.extrudePath;\n\n\t\t\t\t\t\tif ( extrudePath !== undefined ) {\n\n\t\t\t\t\t\t\tdata.options.extrudePath = new Curves[ extrudePath.type ]().fromJSON( extrudePath );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tgeometryShapes,\n\t\t\t\t\t\t\tdata.options\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'BufferGeometry':\n\t\t\t\t\tcase 'InstancedBufferGeometry':\n\n\t\t\t\t\t\tgeometry = bufferGeometryLoader.parse( data );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'Geometry':\n\n\t\t\t\t\t\tconsole.error( 'THREE.ObjectLoader: Loading \"Geometry\" is not supported anymore.' );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Unsupported geometry type \"' + data.type + '\"' );\n\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) geometry.name = data.name;\n\t\t\t\tif ( geometry.isBufferGeometry === true && data.userData !== undefined ) geometry.userData = data.userData;\n\n\t\t\t\tgeometries[ data.uuid ] = geometry;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn geometries;\n\n\t}\n\n\tparseMaterials( json, textures ) {\n\n\t\tconst cache = {}; // MultiMaterial\n\t\tconst materials = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tconst loader = new MaterialLoader();\n\t\t\tloader.setTextures( textures );\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tif ( data.type === 'MultiMaterial' ) {\n\n\t\t\t\t\t// Deprecated\n\n\t\t\t\t\tconst array = [];\n\n\t\t\t\t\tfor ( let j = 0; j < data.materials.length; j ++ ) {\n\n\t\t\t\t\t\tconst material = data.materials[ j ];\n\n\t\t\t\t\t\tif ( cache[ material.uuid ] === undefined ) {\n\n\t\t\t\t\t\t\tcache[ material.uuid ] = loader.parse( material );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tarray.push( cache[ material.uuid ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmaterials[ data.uuid ] = array;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( cache[ data.uuid ] === undefined ) {\n\n\t\t\t\t\t\tcache[ data.uuid ] = loader.parse( data );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmaterials[ data.uuid ] = cache[ data.uuid ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn materials;\n\n\t}\n\n\tparseAnimations( json ) {\n\n\t\tconst animations = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( let i = 0; i < json.length; i ++ ) {\n\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tconst clip = AnimationClip.parse( data );\n\n\t\t\t\tanimations[ clip.uuid ] = clip;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn animations;\n\n\t}\n\n\tparseImages( json, onLoad ) {\n\n\t\tconst scope = this;\n\t\tconst images = {};\n\n\t\tlet loader;\n\n\t\tfunction loadImage( url ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\treturn loader.load( url, function () {\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, undefined, function () {\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t} );\n\n\t\t}\n\n\t\tfunction deserializeImage( image ) {\n\n\t\t\tif ( typeof image === 'string' ) {\n\n\t\t\t\tconst url = image;\n\n\t\t\t\tconst path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( url ) ? url : scope.resourcePath + url;\n\n\t\t\t\treturn loadImage( path );\n\n\t\t\t} else {\n\n\t\t\t\tif ( image.data ) {\n\n\t\t\t\t\treturn {\n\t\t\t\t\t\tdata: getTypedArray( image.type, image.data ),\n\t\t\t\t\t\twidth: image.width,\n\t\t\t\t\t\theight: image.height\n\t\t\t\t\t};\n\n\t\t\t\t} else {\n\n\t\t\t\t\treturn null;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( json !== undefined && json.length > 0 ) {\n\n\t\t\tconst manager = new LoadingManager( onLoad );\n\n\t\t\tloader = new ImageLoader( manager );\n\t\t\tloader.setCrossOrigin( this.crossOrigin );\n\n\t\t\tfor ( let i = 0, il = json.length; i < il; i ++ ) {\n\n\t\t\t\tconst image = json[ i ];\n\t\t\t\tconst url = image.url;\n\n\t\t\t\tif ( Array.isArray( url ) ) {\n\n\t\t\t\t\t// load array of images e.g CubeTexture\n\n\t\t\t\t\timages[ image.uuid ] = [];\n\n\t\t\t\t\tfor ( let j = 0, jl = url.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tconst currentUrl = url[ j ];\n\n\t\t\t\t\t\tconst deserializedImage = deserializeImage( currentUrl );\n\n\t\t\t\t\t\tif ( deserializedImage !== null ) {\n\n\t\t\t\t\t\t\tif ( deserializedImage instanceof HTMLImageElement ) {\n\n\t\t\t\t\t\t\t\timages[ image.uuid ].push( deserializedImage );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t// special case: handle array of data textures for cube textures\n\n\t\t\t\t\t\t\t\timages[ image.uuid ].push( new DataTexture( deserializedImage.data, deserializedImage.width, deserializedImage.height ) );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// load single image\n\n\t\t\t\t\tconst deserializedImage = deserializeImage( image.url );\n\n\t\t\t\t\tif ( deserializedImage !== null ) {\n\n\t\t\t\t\t\timages[ image.uuid ] = deserializedImage;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn images;\n\n\t}\n\n\tparseTextures( json, images ) {\n\n\t\tfunction parseConstant( value, type ) {\n\n\t\t\tif ( typeof value === 'number' ) return value;\n\n\t\t\tconsole.warn( 'THREE.ObjectLoader.parseTexture: Constant should be in numeric form.', value );\n\n\t\t\treturn type[ value ];\n\n\t\t}\n\n\t\tconst textures = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( let i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tconst data = json[ i ];\n\n\t\t\t\tif ( data.image === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: No \"image\" specified for', data.uuid );\n\n\t\t\t\t}\n\n\t\t\t\tif ( images[ data.image ] === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined image', data.image );\n\n\t\t\t\t}\n\n\t\t\t\tlet texture;\n\t\t\t\tconst image = images[ data.image ];\n\n\t\t\t\tif ( Array.isArray( image ) ) {\n\n\t\t\t\t\ttexture = new CubeTexture( image );\n\n\t\t\t\t\tif ( image.length === 6 ) texture.needsUpdate = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( image && image.data ) {\n\n\t\t\t\t\t\ttexture = new DataTexture( image.data, image.width, image.height );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ttexture = new Texture( image );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( image ) texture.needsUpdate = true; // textures can have undefined image data\n\n\t\t\t\t}\n\n\t\t\t\ttexture.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) texture.name = data.name;\n\n\t\t\t\tif ( data.mapping !== undefined ) texture.mapping = parseConstant( data.mapping, TEXTURE_MAPPING );\n\n\t\t\t\tif ( data.offset !== undefined ) texture.offset.fromArray( data.offset );\n\t\t\t\tif ( data.repeat !== undefined ) texture.repeat.fromArray( data.repeat );\n\t\t\t\tif ( data.center !== undefined ) texture.center.fromArray( data.center );\n\t\t\t\tif ( data.rotation !== undefined ) texture.rotation = data.rotation;\n\n\t\t\t\tif ( data.wrap !== undefined ) {\n\n\t\t\t\t\ttexture.wrapS = parseConstant( data.wrap[ 0 ], TEXTURE_WRAPPING );\n\t\t\t\t\ttexture.wrapT = parseConstant( data.wrap[ 1 ], TEXTURE_WRAPPING );\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.format !== undefined ) texture.format = data.format;\n\t\t\t\tif ( data.type !== undefined ) texture.type = data.type;\n\t\t\t\tif ( data.encoding !== undefined ) texture.encoding = data.encoding;\n\n\t\t\t\tif ( data.minFilter !== undefined ) texture.minFilter = parseConstant( data.minFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.magFilter !== undefined ) texture.magFilter = parseConstant( data.magFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.anisotropy !== undefined ) texture.anisotropy = data.anisotropy;\n\n\t\t\t\tif ( data.flipY !== undefined ) texture.flipY = data.flipY;\n\n\t\t\t\tif ( data.premultiplyAlpha !== undefined ) texture.premultiplyAlpha = data.premultiplyAlpha;\n\t\t\t\tif ( data.unpackAlignment !== undefined ) texture.unpackAlignment = data.unpackAlignment;\n\n\t\t\t\ttextures[ data.uuid ] = texture;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn textures;\n\n\t}\n\n\tparseObject( data, geometries, materials, animations ) {\n\n\t\tlet object;\n\n\t\tfunction getGeometry( name ) {\n\n\t\t\tif ( geometries[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined geometry', name );\n\n\t\t\t}\n\n\t\t\treturn geometries[ name ];\n\n\t\t}\n\n\t\tfunction getMaterial( name ) {\n\n\t\t\tif ( name === undefined ) return undefined;\n\n\t\t\tif ( Array.isArray( name ) ) {\n\n\t\t\t\tconst array = [];\n\n\t\t\t\tfor ( let i = 0, l = name.length; i < l; i ++ ) {\n\n\t\t\t\t\tconst uuid = name[ i ];\n\n\t\t\t\t\tif ( materials[ uuid ] === undefined ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', uuid );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tarray.push( materials[ uuid ] );\n\n\t\t\t\t}\n\n\t\t\t\treturn array;\n\n\t\t\t}\n\n\t\t\tif ( materials[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', name );\n\n\t\t\t}\n\n\t\t\treturn materials[ name ];\n\n\t\t}\n\n\t\tlet geometry, material;\n\n\t\tswitch ( data.type ) {\n\n\t\t\tcase 'Scene':\n\n\t\t\t\tobject = new Scene();\n\n\t\t\t\tif ( data.background !== undefined ) {\n\n\t\t\t\t\tif ( Number.isInteger( data.background ) ) {\n\n\t\t\t\t\t\tobject.background = new Color( data.background );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.fog !== undefined ) {\n\n\t\t\t\t\tif ( data.fog.type === 'Fog' ) {\n\n\t\t\t\t\t\tobject.fog = new Fog( data.fog.color, data.fog.near, data.fog.far );\n\n\t\t\t\t\t} else if ( data.fog.type === 'FogExp2' ) {\n\n\t\t\t\t\t\tobject.fog = new FogExp2( data.fog.color, data.fog.density );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PerspectiveCamera':\n\n\t\t\t\tobject = new PerspectiveCamera( data.fov, data.aspect, data.near, data.far );\n\n\t\t\t\tif ( data.focus !== undefined ) object.focus = data.focus;\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\n\t\t\t\tif ( data.filmGauge !== undefined ) object.filmGauge = data.filmGauge;\n\t\t\t\tif ( data.filmOffset !== undefined ) object.filmOffset = data.filmOffset;\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'OrthographicCamera':\n\n\t\t\t\tobject = new OrthographicCamera( data.left, data.right, data.top, data.bottom, data.near, data.far );\n\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'AmbientLight':\n\n\t\t\t\tobject = new AmbientLight( data.color, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'DirectionalLight':\n\n\t\t\t\tobject = new DirectionalLight( data.color, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PointLight':\n\n\t\t\t\tobject = new PointLight( data.color, data.intensity, data.distance, data.decay );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'RectAreaLight':\n\n\t\t\t\tobject = new RectAreaLight( data.color, data.intensity, data.width, data.height );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'SpotLight':\n\n\t\t\t\tobject = new SpotLight( data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'HemisphereLight':\n\n\t\t\t\tobject = new HemisphereLight( data.color, data.groundColor, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LightProbe':\n\n\t\t\t\tobject = new LightProbe().fromJSON( data );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'SkinnedMesh':\n\n\t\t\t\tgeometry = getGeometry( data.geometry );\n\t\t\t \tmaterial = getMaterial( data.material );\n\n\t\t\t\tobject = new SkinnedMesh( geometry, material );\n\n\t\t\t\tif ( data.bindMode !== undefined ) object.bindMode = data.bindMode;\n\t\t\t\tif ( data.bindMatrix !== undefined ) object.bindMatrix.fromArray( data.bindMatrix );\n\t\t\t\tif ( data.skeleton !== undefined ) object.skeleton = data.skeleton;\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Mesh':\n\n\t\t\t\tgeometry = getGeometry( data.geometry );\n\t\t\t\tmaterial = getMaterial( data.material );\n\n\t\t\t\tobject = new Mesh( geometry, material );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'InstancedMesh':\n\n\t\t\t\tgeometry = getGeometry( data.geometry );\n\t\t\t\tmaterial = getMaterial( data.material );\n\t\t\t\tconst count = data.count;\n\t\t\t\tconst instanceMatrix = data.instanceMatrix;\n\n\t\t\t\tobject = new InstancedMesh( geometry, material, count );\n\t\t\t\tobject.instanceMatrix = new BufferAttribute( new Float32Array( instanceMatrix.array ), 16 );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LOD':\n\n\t\t\t\tobject = new LOD();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Line':\n\n\t\t\t\tobject = new Line( getGeometry( data.geometry ), getMaterial( data.material ), data.mode );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LineLoop':\n\n\t\t\t\tobject = new LineLoop( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LineSegments':\n\n\t\t\t\tobject = new LineSegments( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PointCloud':\n\t\t\tcase 'Points':\n\n\t\t\t\tobject = new Points( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Sprite':\n\n\t\t\t\tobject = new Sprite( getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Group':\n\n\t\t\t\tobject = new Group();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Bone':\n\n\t\t\t\tobject = new Bone();\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tobject = new Object3D();\n\n\t\t}\n\n\t\tobject.uuid = data.uuid;\n\n\t\tif ( data.name !== undefined ) object.name = data.name;\n\n\t\tif ( data.matrix !== undefined ) {\n\n\t\t\tobject.matrix.fromArray( data.matrix );\n\n\t\t\tif ( data.matrixAutoUpdate !== undefined ) object.matrixAutoUpdate = data.matrixAutoUpdate;\n\t\t\tif ( object.matrixAutoUpdate ) object.matrix.decompose( object.position, object.quaternion, object.scale );\n\n\t\t} else {\n\n\t\t\tif ( data.position !== undefined ) object.position.fromArray( data.position );\n\t\t\tif ( data.rotation !== undefined ) object.rotation.fromArray( data.rotation );\n\t\t\tif ( data.quaternion !== undefined ) object.quaternion.fromArray( data.quaternion );\n\t\t\tif ( data.scale !== undefined ) object.scale.fromArray( data.scale );\n\n\t\t}\n\n\t\tif ( data.castShadow !== undefined ) object.castShadow = data.castShadow;\n\t\tif ( data.receiveShadow !== undefined ) object.receiveShadow = data.receiveShadow;\n\n\t\tif ( data.shadow ) {\n\n\t\t\tif ( data.shadow.bias !== undefined ) object.shadow.bias = data.shadow.bias;\n\t\t\tif ( data.shadow.normalBias !== undefined ) object.shadow.normalBias = data.shadow.normalBias;\n\t\t\tif ( data.shadow.radius !== undefined ) object.shadow.radius = data.shadow.radius;\n\t\t\tif ( data.shadow.mapSize !== undefined ) object.shadow.mapSize.fromArray( data.shadow.mapSize );\n\t\t\tif ( data.shadow.camera !== undefined ) object.shadow.camera = this.parseObject( data.shadow.camera );\n\n\t\t}\n\n\t\tif ( data.visible !== undefined ) object.visible = data.visible;\n\t\tif ( data.frustumCulled !== undefined ) object.frustumCulled = data.frustumCulled;\n\t\tif ( data.renderOrder !== undefined ) object.renderOrder = data.renderOrder;\n\t\tif ( data.userData !== undefined ) object.userData = data.userData;\n\t\tif ( data.layers !== undefined ) object.layers.mask = data.layers;\n\n\t\tif ( data.children !== undefined ) {\n\n\t\t\tconst children = data.children;\n\n\t\t\tfor ( let i = 0; i < children.length; i ++ ) {\n\n\t\t\t\tobject.add( this.parseObject( children[ i ], geometries, materials, animations ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( data.animations !== undefined ) {\n\n\t\t\tconst objectAnimations = data.animations;\n\n\t\t\tfor ( let i = 0; i < objectAnimations.length; i ++ ) {\n\n\t\t\t\tconst uuid = objectAnimations[ i ];\n\n\t\t\t\tobject.animations.push( animations[ uuid ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( data.type === 'LOD' ) {\n\n\t\t\tif ( data.autoUpdate !== undefined ) object.autoUpdate = data.autoUpdate;\n\n\t\t\tconst levels = data.levels;\n\n\t\t\tfor ( let l = 0; l < levels.length; l ++ ) {\n\n\t\t\t\tconst level = levels[ l ];\n\t\t\t\tconst child = object.getObjectByProperty( 'uuid', level.object );\n\n\t\t\t\tif ( child !== undefined ) {\n\n\t\t\t\t\tobject.addLevel( child, level.distance );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn object;\n\n\t}\n\n\tbindSkeletons( object, skeletons ) {\n\n\t\tif ( Object.keys( skeletons ).length === 0 ) return;\n\n\t\tobject.traverse( function ( child ) {\n\n\t\t\tif ( child.isSkinnedMesh === true && child.skeleton !== undefined ) {\n\n\t\t\t\tconst skeleton = skeletons[ child.skeleton ];\n\n\t\t\t\tif ( skeleton === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: No skeleton found with UUID:', child.skeleton );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tchild.bind( skeleton, child.bindMatrix );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t}\n\n\t/* DEPRECATED */\n\n\tsetTexturePath( value ) {\n\n\t\tconsole.warn( 'THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath().' );\n\t\treturn this.setResourcePath( value );\n\n\t}\n\n}\n\nconst TEXTURE_MAPPING = {\n\tUVMapping: UVMapping,\n\tCubeReflectionMapping: CubeReflectionMapping,\n\tCubeRefractionMapping: CubeRefractionMapping,\n\tEquirectangularReflectionMapping: EquirectangularReflectionMapping,\n\tEquirectangularRefractionMapping: EquirectangularRefractionMapping,\n\tCubeUVReflectionMapping: CubeUVReflectionMapping,\n\tCubeUVRefractionMapping: CubeUVRefractionMapping\n};\n\nconst TEXTURE_WRAPPING = {\n\tRepeatWrapping: RepeatWrapping,\n\tClampToEdgeWrapping: ClampToEdgeWrapping,\n\tMirroredRepeatWrapping: MirroredRepeatWrapping\n};\n\nconst TEXTURE_FILTER = {\n\tNearestFilter: NearestFilter,\n\tNearestMipmapNearestFilter: NearestMipmapNearestFilter,\n\tNearestMipmapLinearFilter: NearestMipmapLinearFilter,\n\tLinearFilter: LinearFilter,\n\tLinearMipmapNearestFilter: LinearMipmapNearestFilter,\n\tLinearMipmapLinearFilter: LinearMipmapLinearFilter\n};\n\nfunction ImageBitmapLoader( manager ) {\n\n\tif ( typeof createImageBitmap === 'undefined' ) {\n\n\t\tconsole.warn( 'THREE.ImageBitmapLoader: createImageBitmap() not supported.' );\n\n\t}\n\n\tif ( typeof fetch === 'undefined' ) {\n\n\t\tconsole.warn( 'THREE.ImageBitmapLoader: fetch() not supported.' );\n\n\t}\n\n\tLoader.call( this, manager );\n\n\tthis.options = { premultiplyAlpha: 'none' };\n\n}\n\nImageBitmapLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: ImageBitmapLoader,\n\n\tisImageBitmapLoader: true,\n\n\tsetOptions: function setOptions( options ) {\n\n\t\tthis.options = options;\n\n\t\treturn this;\n\n\t},\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tconst scope = this;\n\n\t\tconst cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tconst fetchOptions = {};\n\t\tfetchOptions.credentials = ( this.crossOrigin === 'anonymous' ) ? 'same-origin' : 'include';\n\n\t\tfetch( url, fetchOptions ).then( function ( res ) {\n\n\t\t\treturn res.blob();\n\n\t\t} ).then( function ( blob ) {\n\n\t\t\treturn createImageBitmap( blob, scope.options );\n\n\t\t} ).then( function ( imageBitmap ) {\n\n\t\t\tCache.add( url, imageBitmap );\n\n\t\t\tif ( onLoad ) onLoad( imageBitmap );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t} ).catch( function ( e ) {\n\n\t\t\tif ( onError ) onError( e );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t} );\n\n\t\tscope.manager.itemStart( url );\n\n\t}\n\n} );\n\nfunction ShapePath() {\n\n\tthis.type = 'ShapePath';\n\n\tthis.color = new Color();\n\n\tthis.subPaths = [];\n\tthis.currentPath = null;\n\n}\n\nObject.assign( ShapePath.prototype, {\n\n\tmoveTo: function ( x, y ) {\n\n\t\tthis.currentPath = new Path();\n\t\tthis.subPaths.push( this.currentPath );\n\t\tthis.currentPath.moveTo( x, y );\n\n\t\treturn this;\n\n\t},\n\n\tlineTo: function ( x, y ) {\n\n\t\tthis.currentPath.lineTo( x, y );\n\n\t\treturn this;\n\n\t},\n\n\tquadraticCurveTo: function ( aCPx, aCPy, aX, aY ) {\n\n\t\tthis.currentPath.quadraticCurveTo( aCPx, aCPy, aX, aY );\n\n\t\treturn this;\n\n\t},\n\n\tbezierCurveTo: function ( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tthis.currentPath.bezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY );\n\n\t\treturn this;\n\n\t},\n\n\tsplineThru: function ( pts ) {\n\n\t\tthis.currentPath.splineThru( pts );\n\n\t\treturn this;\n\n\t},\n\n\ttoShapes: function ( isCCW, noHoles ) {\n\n\t\tfunction toShapesNoHoles( inSubpaths ) {\n\n\t\t\tconst shapes = [];\n\n\t\t\tfor ( let i = 0, l = inSubpaths.length; i < l; i ++ ) {\n\n\t\t\t\tconst tmpPath = inSubpaths[ i ];\n\n\t\t\t\tconst tmpShape = new Shape();\n\t\t\t\ttmpShape.curves = tmpPath.curves;\n\n\t\t\t\tshapes.push( tmpShape );\n\n\t\t\t}\n\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tfunction isPointInsidePolygon( inPt, inPolygon ) {\n\n\t\t\tconst polyLen = inPolygon.length;\n\n\t\t\t// inPt on polygon contour => immediate success    or\n\t\t\t// toggling of inside/outside at every single! intersection point of an edge\n\t\t\t//  with the horizontal line through inPt, left of inPt\n\t\t\t//  not counting lowerY endpoints of edges and whole edges on that line\n\t\t\tlet inside = false;\n\t\t\tfor ( let p = polyLen - 1, q = 0; q < polyLen; p = q ++ ) {\n\n\t\t\t\tlet edgeLowPt = inPolygon[ p ];\n\t\t\t\tlet edgeHighPt = inPolygon[ q ];\n\n\t\t\t\tlet edgeDx = edgeHighPt.x - edgeLowPt.x;\n\t\t\t\tlet edgeDy = edgeHighPt.y - edgeLowPt.y;\n\n\t\t\t\tif ( Math.abs( edgeDy ) > Number.EPSILON ) {\n\n\t\t\t\t\t// not parallel\n\t\t\t\t\tif ( edgeDy < 0 ) {\n\n\t\t\t\t\t\tedgeLowPt = inPolygon[ q ]; edgeDx = - edgeDx;\n\t\t\t\t\t\tedgeHighPt = inPolygon[ p ]; edgeDy = - edgeDy;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ( inPt.y < edgeLowPt.y ) || ( inPt.y > edgeHighPt.y ) ) \t\tcontinue;\n\n\t\t\t\t\tif ( inPt.y === edgeLowPt.y ) {\n\n\t\t\t\t\t\tif ( inPt.x === edgeLowPt.x )\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\t// continue;\t\t\t\t// no intersection or edgeLowPt => doesn't count !!!\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconst perpEdge = edgeDy * ( inPt.x - edgeLowPt.x ) - edgeDx * ( inPt.y - edgeLowPt.y );\n\t\t\t\t\t\tif ( perpEdge === 0 )\t\t\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\tif ( perpEdge < 0 ) \t\t\t\tcontinue;\n\t\t\t\t\t\tinside = ! inside;\t\t// true intersection left of inPt\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// parallel or collinear\n\t\t\t\t\tif ( inPt.y !== edgeLowPt.y ) \t\tcontinue;\t\t\t// parallel\n\t\t\t\t\t// edge lies on the same horizontal line as inPt\n\t\t\t\t\tif ( ( ( edgeHighPt.x <= inPt.x ) && ( inPt.x <= edgeLowPt.x ) ) ||\n\t\t\t\t\t\t ( ( edgeLowPt.x <= inPt.x ) && ( inPt.x <= edgeHighPt.x ) ) )\t\treturn\ttrue;\t// inPt: Point on contour !\n\t\t\t\t\t// continue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn\tinside;\n\n\t\t}\n\n\t\tconst isClockWise = ShapeUtils.isClockWise;\n\n\t\tconst subPaths = this.subPaths;\n\t\tif ( subPaths.length === 0 ) return [];\n\n\t\tif ( noHoles === true )\treturn\ttoShapesNoHoles( subPaths );\n\n\n\t\tlet solid, tmpPath, tmpShape;\n\t\tconst shapes = [];\n\n\t\tif ( subPaths.length === 1 ) {\n\n\t\t\ttmpPath = subPaths[ 0 ];\n\t\t\ttmpShape = new Shape();\n\t\t\ttmpShape.curves = tmpPath.curves;\n\t\t\tshapes.push( tmpShape );\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tlet holesFirst = ! isClockWise( subPaths[ 0 ].getPoints() );\n\t\tholesFirst = isCCW ? ! holesFirst : holesFirst;\n\n\t\t// console.log(\"Holes first\", holesFirst);\n\n\t\tconst betterShapeHoles = [];\n\t\tconst newShapes = [];\n\t\tlet newShapeHoles = [];\n\t\tlet mainIdx = 0;\n\t\tlet tmpPoints;\n\n\t\tnewShapes[ mainIdx ] = undefined;\n\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\tfor ( let i = 0, l = subPaths.length; i < l; i ++ ) {\n\n\t\t\ttmpPath = subPaths[ i ];\n\t\t\ttmpPoints = tmpPath.getPoints();\n\t\t\tsolid = isClockWise( tmpPoints );\n\t\t\tsolid = isCCW ? ! solid : solid;\n\n\t\t\tif ( solid ) {\n\n\t\t\t\tif ( ( ! holesFirst ) && ( newShapes[ mainIdx ] ) )\tmainIdx ++;\n\n\t\t\t\tnewShapes[ mainIdx ] = { s: new Shape(), p: tmpPoints };\n\t\t\t\tnewShapes[ mainIdx ].s.curves = tmpPath.curves;\n\n\t\t\t\tif ( holesFirst )\tmainIdx ++;\n\t\t\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\t\t\t//console.log('cw', i);\n\n\t\t\t} else {\n\n\t\t\t\tnewShapeHoles[ mainIdx ].push( { h: tmpPath, p: tmpPoints[ 0 ] } );\n\n\t\t\t\t//console.log('ccw', i);\n\n\t\t\t}\n\n\t\t}\n\n\t\t// only Holes? -> probably all Shapes with wrong orientation\n\t\tif ( ! newShapes[ 0 ] )\treturn\ttoShapesNoHoles( subPaths );\n\n\n\t\tif ( newShapes.length > 1 ) {\n\n\t\t\tlet ambiguous = false;\n\t\t\tconst toChange = [];\n\n\t\t\tfor ( let sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tbetterShapeHoles[ sIdx ] = [];\n\n\t\t\t}\n\n\t\t\tfor ( let sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tconst sho = newShapeHoles[ sIdx ];\n\n\t\t\t\tfor ( let hIdx = 0; hIdx < sho.length; hIdx ++ ) {\n\n\t\t\t\t\tconst ho = sho[ hIdx ];\n\t\t\t\t\tlet hole_unassigned = true;\n\n\t\t\t\t\tfor ( let s2Idx = 0; s2Idx < newShapes.length; s2Idx ++ ) {\n\n\t\t\t\t\t\tif ( isPointInsidePolygon( ho.p, newShapes[ s2Idx ].p ) ) {\n\n\t\t\t\t\t\t\tif ( sIdx !== s2Idx )\ttoChange.push( { froms: sIdx, tos: s2Idx, hole: hIdx } );\n\t\t\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\t\t\thole_unassigned = false;\n\t\t\t\t\t\t\t\tbetterShapeHoles[ s2Idx ].push( ho );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tambiguous = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\tbetterShapeHoles[ sIdx ].push( ho );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t\t// console.log(\"ambiguous: \", ambiguous);\n\n\t\t\tif ( toChange.length > 0 ) {\n\n\t\t\t\t// console.log(\"to change: \", toChange);\n\t\t\t\tif ( ! ambiguous )\tnewShapeHoles = betterShapeHoles;\n\n\t\t\t}\n\n\t\t}\n\n\t\tlet tmpHoles;\n\n\t\tfor ( let i = 0, il = newShapes.length; i < il; i ++ ) {\n\n\t\t\ttmpShape = newShapes[ i ].s;\n\t\t\tshapes.push( tmpShape );\n\t\t\ttmpHoles = newShapeHoles[ i ];\n\n\t\t\tfor ( let j = 0, jl = tmpHoles.length; j < jl; j ++ ) {\n\n\t\t\t\ttmpShape.holes.push( tmpHoles[ j ].h );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//console.log(\"shape\", shapes);\n\n\t\treturn shapes;\n\n\t}\n\n} );\n\nfunction Font( data ) {\n\n\tthis.type = 'Font';\n\n\tthis.data = data;\n\n}\n\nObject.assign( Font.prototype, {\n\n\tisFont: true,\n\n\tgenerateShapes: function ( text, size = 100 ) {\n\n\t\tconst shapes = [];\n\t\tconst paths = createPaths( text, size, this.data );\n\n\t\tfor ( let p = 0, pl = paths.length; p < pl; p ++ ) {\n\n\t\t\tArray.prototype.push.apply( shapes, paths[ p ].toShapes() );\n\n\t\t}\n\n\t\treturn shapes;\n\n\t}\n\n} );\n\nfunction createPaths( text, size, data ) {\n\n\tconst chars = Array.from ? Array.from( text ) : String( text ).split( '' ); // workaround for IE11, see #13988\n\tconst scale = size / data.resolution;\n\tconst line_height = ( data.boundingBox.yMax - data.boundingBox.yMin + data.underlineThickness ) * scale;\n\n\tconst paths = [];\n\n\tlet offsetX = 0, offsetY = 0;\n\n\tfor ( let i = 0; i < chars.length; i ++ ) {\n\n\t\tconst char = chars[ i ];\n\n\t\tif ( char === '\\n' ) {\n\n\t\t\toffsetX = 0;\n\t\t\toffsetY -= line_height;\n\n\t\t} else {\n\n\t\t\tconst ret = createPath( char, scale, offsetX, offsetY, data );\n\t\t\toffsetX += ret.offsetX;\n\t\t\tpaths.push( ret.path );\n\n\t\t}\n\n\t}\n\n\treturn paths;\n\n}\n\nfunction createPath( char, scale, offsetX, offsetY, data ) {\n\n\tconst glyph = data.glyphs[ char ] || data.glyphs[ '?' ];\n\n\tif ( ! glyph ) {\n\n\t\tconsole.error( 'THREE.Font: character \"' + char + '\" does not exists in font family ' + data.familyName + '.' );\n\n\t\treturn;\n\n\t}\n\n\tconst path = new ShapePath();\n\n\tlet x, y, cpx, cpy, cpx1, cpy1, cpx2, cpy2;\n\n\tif ( glyph.o ) {\n\n\t\tconst outline = glyph._cachedOutline || ( glyph._cachedOutline = glyph.o.split( ' ' ) );\n\n\t\tfor ( let i = 0, l = outline.length; i < l; ) {\n\n\t\t\tconst action = outline[ i ++ ];\n\n\t\t\tswitch ( action ) {\n\n\t\t\t\tcase 'm': // moveTo\n\n\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.moveTo( x, y );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'l': // lineTo\n\n\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.lineTo( x, y );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'q': // quadraticCurveTo\n\n\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.quadraticCurveTo( cpx1, cpy1, cpx, cpy );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'b': // bezierCurveTo\n\n\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx2 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy2 = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.bezierCurveTo( cpx1, cpy1, cpx2, cpy2, cpx, cpy );\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn { offsetX: glyph.ha * scale, path: path };\n\n}\n\nfunction FontLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nFontLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: FontLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tlet json;\n\n\t\t\ttry {\n\n\t\t\t\tjson = JSON.parse( text );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tconsole.warn( 'THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.' );\n\t\t\t\tjson = JSON.parse( text.substring( 65, text.length - 2 ) );\n\n\t\t\t}\n\n\t\t\tconst font = scope.parse( json );\n\n\t\t\tif ( onLoad ) onLoad( font );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\treturn new Font( json );\n\n\t}\n\n} );\n\nlet _context;\n\nconst AudioContext = {\n\n\tgetContext: function () {\n\n\t\tif ( _context === undefined ) {\n\n\t\t\t_context = new ( window.AudioContext || window.webkitAudioContext )();\n\n\t\t}\n\n\t\treturn _context;\n\n\t},\n\n\tsetContext: function ( value ) {\n\n\t\t_context = value;\n\n\t}\n\n};\n\nfunction AudioLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nAudioLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: AudioLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( scope.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setPath( scope.path );\n\t\tloader.setRequestHeader( scope.requestHeader );\n\t\tloader.setWithCredentials( scope.withCredentials );\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\ttry {\n\n\t\t\t\t// Create a copy of the buffer. The `decodeAudioData` method\n\t\t\t\t// detaches the buffer when complete, preventing reuse.\n\t\t\t\tconst bufferCopy = buffer.slice( 0 );\n\n\t\t\t\tconst context = AudioContext.getContext();\n\t\t\t\tcontext.decodeAudioData( bufferCopy, function ( audioBuffer ) {\n\n\t\t\t\t\tonLoad( audioBuffer );\n\n\t\t\t\t} );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n} );\n\nfunction HemisphereLightProbe( skyColor, groundColor, intensity ) {\n\n\tLightProbe.call( this, undefined, intensity );\n\n\tconst color1 = new Color().set( skyColor );\n\tconst color2 = new Color().set( groundColor );\n\n\tconst sky = new Vector3( color1.r, color1.g, color1.b );\n\tconst ground = new Vector3( color2.r, color2.g, color2.b );\n\n\t// without extra factor of PI in the shader, should = 1 / Math.sqrt( Math.PI );\n\tconst c0 = Math.sqrt( Math.PI );\n\tconst c1 = c0 * Math.sqrt( 0.75 );\n\n\tthis.sh.coefficients[ 0 ].copy( sky ).add( ground ).multiplyScalar( c0 );\n\tthis.sh.coefficients[ 1 ].copy( sky ).sub( ground ).multiplyScalar( c1 );\n\n}\n\nHemisphereLightProbe.prototype = Object.assign( Object.create( LightProbe.prototype ), {\n\n\tconstructor: HemisphereLightProbe,\n\n\tisHemisphereLightProbe: true,\n\n\tcopy: function ( source ) { // modifying colors not currently supported\n\n\t\tLightProbe.prototype.copy.call( this, source );\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tconst data = LightProbe.prototype.toJSON.call( this, meta );\n\n\t\t// data.sh = this.sh.toArray(); // todo\n\n\t\treturn data;\n\n\t}\n\n} );\n\nfunction AmbientLightProbe( color, intensity ) {\n\n\tLightProbe.call( this, undefined, intensity );\n\n\tconst color1 = new Color().set( color );\n\n\t// without extra factor of PI in the shader, would be 2 / Math.sqrt( Math.PI );\n\tthis.sh.coefficients[ 0 ].set( color1.r, color1.g, color1.b ).multiplyScalar( 2 * Math.sqrt( Math.PI ) );\n\n}\n\nAmbientLightProbe.prototype = Object.assign( Object.create( LightProbe.prototype ), {\n\n\tconstructor: AmbientLightProbe,\n\n\tisAmbientLightProbe: true,\n\n\tcopy: function ( source ) { // modifying color not currently supported\n\n\t\tLightProbe.prototype.copy.call( this, source );\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tconst data = LightProbe.prototype.toJSON.call( this, meta );\n\n\t\t// data.sh = this.sh.toArray(); // todo\n\n\t\treturn data;\n\n\t}\n\n} );\n\nconst _eyeRight = new Matrix4();\nconst _eyeLeft = new Matrix4();\n\nfunction StereoCamera() {\n\n\tthis.type = 'StereoCamera';\n\n\tthis.aspect = 1;\n\n\tthis.eyeSep = 0.064;\n\n\tthis.cameraL = new PerspectiveCamera();\n\tthis.cameraL.layers.enable( 1 );\n\tthis.cameraL.matrixAutoUpdate = false;\n\n\tthis.cameraR = new PerspectiveCamera();\n\tthis.cameraR.layers.enable( 2 );\n\tthis.cameraR.matrixAutoUpdate = false;\n\n\tthis._cache = {\n\t\tfocus: null,\n\t\tfov: null,\n\t\taspect: null,\n\t\tnear: null,\n\t\tfar: null,\n\t\tzoom: null,\n\t\teyeSep: null\n\t};\n\n}\n\nObject.assign( StereoCamera.prototype, {\n\n\tupdate: function ( camera ) {\n\n\t\tconst cache = this._cache;\n\n\t\tconst needsUpdate = cache.focus !== camera.focus || cache.fov !== camera.fov ||\n\t\t\tcache.aspect !== camera.aspect * this.aspect || cache.near !== camera.near ||\n\t\t\tcache.far !== camera.far || cache.zoom !== camera.zoom || cache.eyeSep !== this.eyeSep;\n\n\t\tif ( needsUpdate ) {\n\n\t\t\tcache.focus = camera.focus;\n\t\t\tcache.fov = camera.fov;\n\t\t\tcache.aspect = camera.aspect * this.aspect;\n\t\t\tcache.near = camera.near;\n\t\t\tcache.far = camera.far;\n\t\t\tcache.zoom = camera.zoom;\n\t\t\tcache.eyeSep = this.eyeSep;\n\n\t\t\t// Off-axis stereoscopic effect based on\n\t\t\t// http://paulbourke.net/stereographics/stereorender/\n\n\t\t\tconst projectionMatrix = camera.projectionMatrix.clone();\n\t\t\tconst eyeSepHalf = cache.eyeSep / 2;\n\t\t\tconst eyeSepOnProjection = eyeSepHalf * cache.near / cache.focus;\n\t\t\tconst ymax = ( cache.near * Math.tan( MathUtils.DEG2RAD * cache.fov * 0.5 ) ) / cache.zoom;\n\t\t\tlet xmin, xmax;\n\n\t\t\t// translate xOffset\n\n\t\t\t_eyeLeft.elements[ 12 ] = - eyeSepHalf;\n\t\t\t_eyeRight.elements[ 12 ] = eyeSepHalf;\n\n\t\t\t// for left eye\n\n\t\t\txmin = - ymax * cache.aspect + eyeSepOnProjection;\n\t\t\txmax = ymax * cache.aspect + eyeSepOnProjection;\n\n\t\t\tprojectionMatrix.elements[ 0 ] = 2 * cache.near / ( xmax - xmin );\n\t\t\tprojectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n\t\t\tthis.cameraL.projectionMatrix.copy( projectionMatrix );\n\n\t\t\t// for right eye\n\n\t\t\txmin = - ymax * cache.aspect - eyeSepOnProjection;\n\t\t\txmax = ymax * cache.aspect - eyeSepOnProjection;\n\n\t\t\tprojectionMatrix.elements[ 0 ] = 2 * cache.near / ( xmax - xmin );\n\t\t\tprojectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n\t\t\tthis.cameraR.projectionMatrix.copy( projectionMatrix );\n\n\t\t}\n\n\t\tthis.cameraL.matrixWorld.copy( camera.matrixWorld ).multiply( _eyeLeft );\n\t\tthis.cameraR.matrixWorld.copy( camera.matrixWorld ).multiply( _eyeRight );\n\n\t}\n\n} );\n\nclass Clock {\n\n\tconstructor( autoStart ) {\n\n\t\tthis.autoStart = ( autoStart !== undefined ) ? autoStart : true;\n\n\t\tthis.startTime = 0;\n\t\tthis.oldTime = 0;\n\t\tthis.elapsedTime = 0;\n\n\t\tthis.running = false;\n\n\t}\n\n\tstart() {\n\n\t\tthis.startTime = now();\n\n\t\tthis.oldTime = this.startTime;\n\t\tthis.elapsedTime = 0;\n\t\tthis.running = true;\n\n\t}\n\n\tstop() {\n\n\t\tthis.getElapsedTime();\n\t\tthis.running = false;\n\t\tthis.autoStart = false;\n\n\t}\n\n\tgetElapsedTime() {\n\n\t\tthis.getDelta();\n\t\treturn this.elapsedTime;\n\n\t}\n\n\tgetDelta() {\n\n\t\tlet diff = 0;\n\n\t\tif ( this.autoStart && ! this.running ) {\n\n\t\t\tthis.start();\n\t\t\treturn 0;\n\n\t\t}\n\n\t\tif ( this.running ) {\n\n\t\t\tconst newTime = now();\n\n\t\t\tdiff = ( newTime - this.oldTime ) / 1000;\n\t\t\tthis.oldTime = newTime;\n\n\t\t\tthis.elapsedTime += diff;\n\n\t\t}\n\n\t\treturn diff;\n\n\t}\n\n}\n\nfunction now() {\n\n\treturn ( typeof performance === 'undefined' ? Date : performance ).now(); // see #10732\n\n}\n\nconst _position$2 = /*@__PURE__*/ new Vector3();\nconst _quaternion$3 = /*@__PURE__*/ new Quaternion();\nconst _scale$1 = /*@__PURE__*/ new Vector3();\nconst _orientation = /*@__PURE__*/ new Vector3();\n\nclass AudioListener extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'AudioListener';\n\n\t\tthis.context = AudioContext.getContext();\n\n\t\tthis.gain = this.context.createGain();\n\t\tthis.gain.connect( this.context.destination );\n\n\t\tthis.filter = null;\n\n\t\tthis.timeDelta = 0;\n\n\t\t// private\n\n\t\tthis._clock = new Clock();\n\n\t}\n\n\tgetInput() {\n\n\t\treturn this.gain;\n\n\t}\n\n\tremoveFilter() {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\t\t\tthis.gain.connect( this.context.destination );\n\t\t\tthis.filter = null;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetFilter() {\n\n\t\treturn this.filter;\n\n\t}\n\n\tsetFilter( value ) {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\n\t\t} else {\n\n\t\t\tthis.gain.disconnect( this.context.destination );\n\n\t\t}\n\n\t\tthis.filter = value;\n\t\tthis.gain.connect( this.filter );\n\t\tthis.filter.connect( this.context.destination );\n\n\t\treturn this;\n\n\t}\n\n\tgetMasterVolume() {\n\n\t\treturn this.gain.gain.value;\n\n\t}\n\n\tsetMasterVolume( value ) {\n\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\n\n\t\treturn this;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t\tconst listener = this.context.listener;\n\t\tconst up = this.up;\n\n\t\tthis.timeDelta = this._clock.getDelta();\n\n\t\tthis.matrixWorld.decompose( _position$2, _quaternion$3, _scale$1 );\n\n\t\t_orientation.set( 0, 0, - 1 ).applyQuaternion( _quaternion$3 );\n\n\t\tif ( listener.positionX ) {\n\n\t\t\t// code path for Chrome (see #14393)\n\n\t\t\tconst endTime = this.context.currentTime + this.timeDelta;\n\n\t\t\tlistener.positionX.linearRampToValueAtTime( _position$2.x, endTime );\n\t\t\tlistener.positionY.linearRampToValueAtTime( _position$2.y, endTime );\n\t\t\tlistener.positionZ.linearRampToValueAtTime( _position$2.z, endTime );\n\t\t\tlistener.forwardX.linearRampToValueAtTime( _orientation.x, endTime );\n\t\t\tlistener.forwardY.linearRampToValueAtTime( _orientation.y, endTime );\n\t\t\tlistener.forwardZ.linearRampToValueAtTime( _orientation.z, endTime );\n\t\t\tlistener.upX.linearRampToValueAtTime( up.x, endTime );\n\t\t\tlistener.upY.linearRampToValueAtTime( up.y, endTime );\n\t\t\tlistener.upZ.linearRampToValueAtTime( up.z, endTime );\n\n\t\t} else {\n\n\t\t\tlistener.setPosition( _position$2.x, _position$2.y, _position$2.z );\n\t\t\tlistener.setOrientation( _orientation.x, _orientation.y, _orientation.z, up.x, up.y, up.z );\n\n\t\t}\n\n\t}\n\n}\n\nclass Audio extends Object3D {\n\n\tconstructor( listener ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Audio';\n\n\t\tthis.listener = listener;\n\t\tthis.context = listener.context;\n\n\t\tthis.gain = this.context.createGain();\n\t\tthis.gain.connect( listener.getInput() );\n\n\t\tthis.autoplay = false;\n\n\t\tthis.buffer = null;\n\t\tthis.detune = 0;\n\t\tthis.loop = false;\n\t\tthis.loopStart = 0;\n\t\tthis.loopEnd = 0;\n\t\tthis.offset = 0;\n\t\tthis.duration = undefined;\n\t\tthis.playbackRate = 1;\n\t\tthis.isPlaying = false;\n\t\tthis.hasPlaybackControl = true;\n\t\tthis.source = null;\n\t\tthis.sourceType = 'empty';\n\n\t\tthis._startedAt = 0;\n\t\tthis._progress = 0;\n\t\tthis._connected = false;\n\n\t\tthis.filters = [];\n\n\t}\n\n\tgetOutput() {\n\n\t\treturn this.gain;\n\n\t}\n\n\tsetNodeSource( audioNode ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'audioNode';\n\t\tthis.source = audioNode;\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t}\n\n\tsetMediaElementSource( mediaElement ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'mediaNode';\n\t\tthis.source = this.context.createMediaElementSource( mediaElement );\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t}\n\n\tsetMediaStreamSource( mediaStream ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'mediaStreamNode';\n\t\tthis.source = this.context.createMediaStreamSource( mediaStream );\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t}\n\n\tsetBuffer( audioBuffer ) {\n\n\t\tthis.buffer = audioBuffer;\n\t\tthis.sourceType = 'buffer';\n\n\t\tif ( this.autoplay ) this.play();\n\n\t\treturn this;\n\n\t}\n\n\tplay( delay = 0 ) {\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: Audio is already playing.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis._startedAt = this.context.currentTime + delay;\n\n\t\tconst source = this.context.createBufferSource();\n\t\tsource.buffer = this.buffer;\n\t\tsource.loop = this.loop;\n\t\tsource.loopStart = this.loopStart;\n\t\tsource.loopEnd = this.loopEnd;\n\t\tsource.onended = this.onEnded.bind( this );\n\t\tsource.start( this._startedAt, this._progress + this.offset, this.duration );\n\n\t\tthis.isPlaying = true;\n\n\t\tthis.source = source;\n\n\t\tthis.setDetune( this.detune );\n\t\tthis.setPlaybackRate( this.playbackRate );\n\n\t\treturn this.connect();\n\n\t}\n\n\tpause() {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\t// update current progress\n\n\t\t\tthis._progress += Math.max( this.context.currentTime - this._startedAt, 0 ) * this.playbackRate;\n\n\t\t\tif ( this.loop === true ) {\n\n\t\t\t\t// ensure _progress does not exceed duration with looped audios\n\n\t\t\t\tthis._progress = this._progress % ( this.duration || this.buffer.duration );\n\n\t\t\t}\n\n\t\t\tthis.source.stop();\n\t\t\tthis.source.onended = null;\n\n\t\t\tthis.isPlaying = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tstop() {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis._progress = 0;\n\n\t\tthis.source.stop();\n\t\tthis.source.onended = null;\n\t\tthis.isPlaying = false;\n\n\t\treturn this;\n\n\t}\n\n\tconnect() {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.connect( this.filters[ 0 ] );\n\n\t\t\tfor ( let i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].connect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].connect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.connect( this.getOutput() );\n\n\t\t}\n\n\t\tthis._connected = true;\n\n\t\treturn this;\n\n\t}\n\n\tdisconnect() {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.disconnect( this.filters[ 0 ] );\n\n\t\t\tfor ( let i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].disconnect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].disconnect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.disconnect( this.getOutput() );\n\n\t\t}\n\n\t\tthis._connected = false;\n\n\t\treturn this;\n\n\t}\n\n\tgetFilters() {\n\n\t\treturn this.filters;\n\n\t}\n\n\tsetFilters( value ) {\n\n\t\tif ( ! value ) value = [];\n\n\t\tif ( this._connected === true ) {\n\n\t\t\tthis.disconnect();\n\t\t\tthis.filters = value.slice();\n\t\t\tthis.connect();\n\n\t\t} else {\n\n\t\t\tthis.filters = value.slice();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetDetune( value ) {\n\n\t\tthis.detune = value;\n\n\t\tif ( this.source.detune === undefined ) return; // only set detune when available\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.detune.setTargetAtTime( this.detune, this.context.currentTime, 0.01 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetDetune() {\n\n\t\treturn this.detune;\n\n\t}\n\n\tgetFilter() {\n\n\t\treturn this.getFilters()[ 0 ];\n\n\t}\n\n\tsetFilter( filter ) {\n\n\t\treturn this.setFilters( filter ? [ filter ] : [] );\n\n\t}\n\n\tsetPlaybackRate( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.playbackRate = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.playbackRate.setTargetAtTime( this.playbackRate, this.context.currentTime, 0.01 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetPlaybackRate() {\n\n\t\treturn this.playbackRate;\n\n\t}\n\n\tonEnded() {\n\n\t\tthis.isPlaying = false;\n\n\t}\n\n\tgetLoop() {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn false;\n\n\t\t}\n\n\t\treturn this.loop;\n\n\t}\n\n\tsetLoop( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.loop = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.loop = this.loop;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetLoopStart( value ) {\n\n\t\tthis.loopStart = value;\n\n\t\treturn this;\n\n\t}\n\n\tsetLoopEnd( value ) {\n\n\t\tthis.loopEnd = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetVolume() {\n\n\t\treturn this.gain.gain.value;\n\n\t}\n\n\tsetVolume( value ) {\n\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst _position$3 = /*@__PURE__*/ new Vector3();\nconst _quaternion$4 = /*@__PURE__*/ new Quaternion();\nconst _scale$2 = /*@__PURE__*/ new Vector3();\nconst _orientation$1 = /*@__PURE__*/ new Vector3();\n\nclass PositionalAudio extends Audio {\n\n\tconstructor( listener ) {\n\n\t\tsuper( listener );\n\n\t\tthis.panner = this.context.createPanner();\n\t\tthis.panner.panningModel = 'HRTF';\n\t\tthis.panner.connect( this.gain );\n\n\t}\n\n\tgetOutput() {\n\n\t\treturn this.panner;\n\n\t}\n\n\tgetRefDistance() {\n\n\t\treturn this.panner.refDistance;\n\n\t}\n\n\tsetRefDistance( value ) {\n\n\t\tthis.panner.refDistance = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetRolloffFactor() {\n\n\t\treturn this.panner.rolloffFactor;\n\n\t}\n\n\tsetRolloffFactor( value ) {\n\n\t\tthis.panner.rolloffFactor = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetDistanceModel() {\n\n\t\treturn this.panner.distanceModel;\n\n\t}\n\n\tsetDistanceModel( value ) {\n\n\t\tthis.panner.distanceModel = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetMaxDistance() {\n\n\t\treturn this.panner.maxDistance;\n\n\t}\n\n\tsetMaxDistance( value ) {\n\n\t\tthis.panner.maxDistance = value;\n\n\t\treturn this;\n\n\t}\n\n\tsetDirectionalCone( coneInnerAngle, coneOuterAngle, coneOuterGain ) {\n\n\t\tthis.panner.coneInnerAngle = coneInnerAngle;\n\t\tthis.panner.coneOuterAngle = coneOuterAngle;\n\t\tthis.panner.coneOuterGain = coneOuterGain;\n\n\t\treturn this;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t\tif ( this.hasPlaybackControl === true && this.isPlaying === false ) return;\n\n\t\tthis.matrixWorld.decompose( _position$3, _quaternion$4, _scale$2 );\n\n\t\t_orientation$1.set( 0, 0, 1 ).applyQuaternion( _quaternion$4 );\n\n\t\tconst panner = this.panner;\n\n\t\tif ( panner.positionX ) {\n\n\t\t\t// code path for Chrome and Firefox (see #14393)\n\n\t\t\tconst endTime = this.context.currentTime + this.listener.timeDelta;\n\n\t\t\tpanner.positionX.linearRampToValueAtTime( _position$3.x, endTime );\n\t\t\tpanner.positionY.linearRampToValueAtTime( _position$3.y, endTime );\n\t\t\tpanner.positionZ.linearRampToValueAtTime( _position$3.z, endTime );\n\t\t\tpanner.orientationX.linearRampToValueAtTime( _orientation$1.x, endTime );\n\t\t\tpanner.orientationY.linearRampToValueAtTime( _orientation$1.y, endTime );\n\t\t\tpanner.orientationZ.linearRampToValueAtTime( _orientation$1.z, endTime );\n\n\t\t} else {\n\n\t\t\tpanner.setPosition( _position$3.x, _position$3.y, _position$3.z );\n\t\t\tpanner.setOrientation( _orientation$1.x, _orientation$1.y, _orientation$1.z );\n\n\t\t}\n\n\t}\n\n}\n\nclass AudioAnalyser {\n\n\tconstructor( audio, fftSize = 2048 ) {\n\n\t\tthis.analyser = audio.context.createAnalyser();\n\t\tthis.analyser.fftSize = fftSize;\n\n\t\tthis.data = new Uint8Array( this.analyser.frequencyBinCount );\n\n\t\taudio.getOutput().connect( this.analyser );\n\n\t}\n\n\n\tgetFrequencyData() {\n\n\t\tthis.analyser.getByteFrequencyData( this.data );\n\n\t\treturn this.data;\n\n\t}\n\n\tgetAverageFrequency() {\n\n\t\tlet value = 0;\n\t\tconst data = this.getFrequencyData();\n\n\t\tfor ( let i = 0; i < data.length; i ++ ) {\n\n\t\t\tvalue += data[ i ];\n\n\t\t}\n\n\t\treturn value / data.length;\n\n\t}\n\n}\n\nfunction PropertyMixer( binding, typeName, valueSize ) {\n\n\tthis.binding = binding;\n\tthis.valueSize = valueSize;\n\n\tlet mixFunction,\n\t\tmixFunctionAdditive,\n\t\tsetIdentity;\n\n\t// buffer layout: [ incoming | accu0 | accu1 | orig | addAccu | (optional work) ]\n\t//\n\t// interpolators can use .buffer as their .result\n\t// the data then goes to 'incoming'\n\t//\n\t// 'accu0' and 'accu1' are used frame-interleaved for\n\t// the cumulative result and are compared to detect\n\t// changes\n\t//\n\t// 'orig' stores the original state of the property\n\t//\n\t// 'add' is used for additive cumulative results\n\t//\n\t// 'work' is optional and is only present for quaternion types. It is used\n\t// to store intermediate quaternion multiplication results\n\n\tswitch ( typeName ) {\n\n\t\tcase 'quaternion':\n\t\t\tmixFunction = this._slerp;\n\t\t\tmixFunctionAdditive = this._slerpAdditive;\n\t\t\tsetIdentity = this._setAdditiveIdentityQuaternion;\n\n\t\t\tthis.buffer = new Float64Array( valueSize * 6 );\n\t\t\tthis._workIndex = 5;\n\t\t\tbreak;\n\n\t\tcase 'string':\n\t\tcase 'bool':\n\t\t\tmixFunction = this._select;\n\n\t\t\t// Use the regular mix function and for additive on these types,\n\t\t\t// additive is not relevant for non-numeric types\n\t\t\tmixFunctionAdditive = this._select;\n\n\t\t\tsetIdentity = this._setAdditiveIdentityOther;\n\n\t\t\tthis.buffer = new Array( valueSize * 5 );\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tmixFunction = this._lerp;\n\t\t\tmixFunctionAdditive = this._lerpAdditive;\n\t\t\tsetIdentity = this._setAdditiveIdentityNumeric;\n\n\t\t\tthis.buffer = new Float64Array( valueSize * 5 );\n\n\t}\n\n\tthis._mixBufferRegion = mixFunction;\n\tthis._mixBufferRegionAdditive = mixFunctionAdditive;\n\tthis._setIdentity = setIdentity;\n\tthis._origIndex = 3;\n\tthis._addIndex = 4;\n\n\tthis.cumulativeWeight = 0;\n\tthis.cumulativeWeightAdditive = 0;\n\n\tthis.useCount = 0;\n\tthis.referenceCount = 0;\n\n}\n\nObject.assign( PropertyMixer.prototype, {\n\n\t// accumulate data in the 'incoming' region into 'accu<i>'\n\taccumulate: function ( accuIndex, weight ) {\n\n\t\t// note: happily accumulating nothing when weight = 0, the caller knows\n\t\t// the weight and shouldn't have made the call in the first place\n\n\t\tconst buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = accuIndex * stride + stride;\n\n\t\tlet currentWeight = this.cumulativeWeight;\n\n\t\tif ( currentWeight === 0 ) {\n\n\t\t\t// accuN := incoming * weight\n\n\t\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ offset + i ] = buffer[ i ];\n\n\t\t\t}\n\n\t\t\tcurrentWeight = weight;\n\n\t\t} else {\n\n\t\t\t// accuN := accuN + incoming * weight\n\n\t\t\tcurrentWeight += weight;\n\t\t\tconst mix = weight / currentWeight;\n\t\t\tthis._mixBufferRegion( buffer, offset, 0, mix, stride );\n\n\t\t}\n\n\t\tthis.cumulativeWeight = currentWeight;\n\n\t},\n\n\t// accumulate data in the 'incoming' region into 'add'\n\taccumulateAdditive: function ( weight ) {\n\n\t\tconst buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = stride * this._addIndex;\n\n\t\tif ( this.cumulativeWeightAdditive === 0 ) {\n\n\t\t\t// add = identity\n\n\t\t\tthis._setIdentity();\n\n\t\t}\n\n\t\t// add := add + incoming * weight\n\n\t\tthis._mixBufferRegionAdditive( buffer, offset, 0, weight, stride );\n\t\tthis.cumulativeWeightAdditive += weight;\n\n\t},\n\n\t// apply the state of 'accu<i>' to the binding when accus differ\n\tapply: function ( accuIndex ) {\n\n\t\tconst stride = this.valueSize,\n\t\t\tbuffer = this.buffer,\n\t\t\toffset = accuIndex * stride + stride,\n\n\t\t\tweight = this.cumulativeWeight,\n\t\t\tweightAdditive = this.cumulativeWeightAdditive,\n\n\t\t\tbinding = this.binding;\n\n\t\tthis.cumulativeWeight = 0;\n\t\tthis.cumulativeWeightAdditive = 0;\n\n\t\tif ( weight < 1 ) {\n\n\t\t\t// accuN := accuN + original * ( 1 - cumulativeWeight )\n\n\t\t\tconst originalValueOffset = stride * this._origIndex;\n\n\t\t\tthis._mixBufferRegion(\n\t\t\t\tbuffer, offset, originalValueOffset, 1 - weight, stride );\n\n\t\t}\n\n\t\tif ( weightAdditive > 0 ) {\n\n\t\t\t// accuN := accuN + additive accuN\n\n\t\t\tthis._mixBufferRegionAdditive( buffer, offset, this._addIndex * stride, 1, stride );\n\n\t\t}\n\n\t\tfor ( let i = stride, e = stride + stride; i !== e; ++ i ) {\n\n\t\t\tif ( buffer[ i ] !== buffer[ i + stride ] ) {\n\n\t\t\t\t// value has changed -> update scene graph\n\n\t\t\t\tbinding.setValue( buffer, offset );\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t// remember the state of the bound property and copy it to both accus\n\tsaveOriginalState: function () {\n\n\t\tconst binding = this.binding;\n\n\t\tconst buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\n\t\t\toriginalValueOffset = stride * this._origIndex;\n\n\t\tbinding.getValue( buffer, originalValueOffset );\n\n\t\t// accu[0..1] := orig -- initially detect changes against the original\n\t\tfor ( let i = stride, e = originalValueOffset; i !== e; ++ i ) {\n\n\t\t\tbuffer[ i ] = buffer[ originalValueOffset + ( i % stride ) ];\n\n\t\t}\n\n\t\t// Add to identity for additive\n\t\tthis._setIdentity();\n\n\t\tthis.cumulativeWeight = 0;\n\t\tthis.cumulativeWeightAdditive = 0;\n\n\t},\n\n\t// apply the state previously taken via 'saveOriginalState' to the binding\n\trestoreOriginalState: function () {\n\n\t\tconst originalValueOffset = this.valueSize * 3;\n\t\tthis.binding.setValue( this.buffer, originalValueOffset );\n\n\t},\n\n\t_setAdditiveIdentityNumeric: function () {\n\n\t\tconst startIndex = this._addIndex * this.valueSize;\n\t\tconst endIndex = startIndex + this.valueSize;\n\n\t\tfor ( let i = startIndex; i < endIndex; i ++ ) {\n\n\t\t\tthis.buffer[ i ] = 0;\n\n\t\t}\n\n\t},\n\n\t_setAdditiveIdentityQuaternion: function () {\n\n\t\tthis._setAdditiveIdentityNumeric();\n\t\tthis.buffer[ this._addIndex * this.valueSize + 3 ] = 1;\n\n\t},\n\n\t_setAdditiveIdentityOther: function () {\n\n\t\tconst startIndex = this._origIndex * this.valueSize;\n\t\tconst targetIndex = this._addIndex * this.valueSize;\n\n\t\tfor ( let i = 0; i < this.valueSize; i ++ ) {\n\n\t\t\tthis.buffer[ targetIndex + i ] = this.buffer[ startIndex + i ];\n\n\t\t}\n\n\t},\n\n\n\t// mix functions\n\n\t_select: function ( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tif ( t >= 0.5 ) {\n\n\t\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ dstOffset + i ] = buffer[ srcOffset + i ];\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_slerp: function ( buffer, dstOffset, srcOffset, t ) {\n\n\t\tQuaternion.slerpFlat( buffer, dstOffset, buffer, dstOffset, buffer, srcOffset, t );\n\n\t},\n\n\t_slerpAdditive: function ( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tconst workOffset = this._workIndex * stride;\n\n\t\t// Store result in intermediate buffer offset\n\t\tQuaternion.multiplyQuaternionsFlat( buffer, workOffset, buffer, dstOffset, buffer, srcOffset );\n\n\t\t// Slerp to the intermediate result\n\t\tQuaternion.slerpFlat( buffer, dstOffset, buffer, dstOffset, buffer, workOffset, t );\n\n\t},\n\n\t_lerp: function ( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tconst s = 1 - t;\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tconst j = dstOffset + i;\n\n\t\t\tbuffer[ j ] = buffer[ j ] * s + buffer[ srcOffset + i ] * t;\n\n\t\t}\n\n\t},\n\n\t_lerpAdditive: function ( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tconst j = dstOffset + i;\n\n\t\t\tbuffer[ j ] = buffer[ j ] + buffer[ srcOffset + i ] * t;\n\n\t\t}\n\n\t}\n\n} );\n\n// Characters [].:/ are reserved for track binding syntax.\nconst _RESERVED_CHARS_RE = '\\\\[\\\\]\\\\.:\\\\/';\nconst _reservedRe = new RegExp( '[' + _RESERVED_CHARS_RE + ']', 'g' );\n\n// Attempts to allow node names from any language. ES5's `\\w` regexp matches\n// only latin characters, and the unicode \\p{L} is not yet supported. So\n// instead, we exclude reserved characters and match everything else.\nconst _wordChar = '[^' + _RESERVED_CHARS_RE + ']';\nconst _wordCharOrDot = '[^' + _RESERVED_CHARS_RE.replace( '\\\\.', '' ) + ']';\n\n// Parent directories, delimited by '/' or ':'. Currently unused, but must\n// be matched to parse the rest of the track name.\nconst _directoryRe = /((?:WC+[\\/:])*)/.source.replace( 'WC', _wordChar );\n\n// Target node. May contain word characters (a-zA-Z0-9_) and '.' or '-'.\nconst _nodeRe = /(WCOD+)?/.source.replace( 'WCOD', _wordCharOrDot );\n\n// Object on target node, and accessor. May not contain reserved\n// characters. Accessor may contain any character except closing bracket.\nconst _objectRe = /(?:\\.(WC+)(?:\\[(.+)\\])?)?/.source.replace( 'WC', _wordChar );\n\n// Property and accessor. May not contain reserved characters. Accessor may\n// contain any non-bracket characters.\nconst _propertyRe = /\\.(WC+)(?:\\[(.+)\\])?/.source.replace( 'WC', _wordChar );\n\nconst _trackRe = new RegExp( ''\n\t+ '^'\n\t+ _directoryRe\n\t+ _nodeRe\n\t+ _objectRe\n\t+ _propertyRe\n\t+ '$'\n);\n\nconst _supportedObjectNames = [ 'material', 'materials', 'bones' ];\n\nfunction Composite( targetGroup, path, optionalParsedPath ) {\n\n\tconst parsedPath = optionalParsedPath || PropertyBinding.parseTrackName( path );\n\n\tthis._targetGroup = targetGroup;\n\tthis._bindings = targetGroup.subscribe_( path, parsedPath );\n\n}\n\nObject.assign( Composite.prototype, {\n\n\tgetValue: function ( array, offset ) {\n\n\t\tthis.bind(); // bind all binding\n\n\t\tconst firstValidIndex = this._targetGroup.nCachedObjects_,\n\t\t\tbinding = this._bindings[ firstValidIndex ];\n\n\t\t// and only call .getValue on the first\n\t\tif ( binding !== undefined ) binding.getValue( array, offset );\n\n\t},\n\n\tsetValue: function ( array, offset ) {\n\n\t\tconst bindings = this._bindings;\n\n\t\tfor ( let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].setValue( array, offset );\n\n\t\t}\n\n\t},\n\n\tbind: function () {\n\n\t\tconst bindings = this._bindings;\n\n\t\tfor ( let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].bind();\n\n\t\t}\n\n\t},\n\n\tunbind: function () {\n\n\t\tconst bindings = this._bindings;\n\n\t\tfor ( let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].unbind();\n\n\t\t}\n\n\t}\n\n} );\n\n\nfunction PropertyBinding( rootNode, path, parsedPath ) {\n\n\tthis.path = path;\n\tthis.parsedPath = parsedPath || PropertyBinding.parseTrackName( path );\n\n\tthis.node = PropertyBinding.findNode( rootNode, this.parsedPath.nodeName ) || rootNode;\n\n\tthis.rootNode = rootNode;\n\n}\n\nObject.assign( PropertyBinding, {\n\n\tComposite: Composite,\n\n\tcreate: function ( root, path, parsedPath ) {\n\n\t\tif ( ! ( root && root.isAnimationObjectGroup ) ) {\n\n\t\t\treturn new PropertyBinding( root, path, parsedPath );\n\n\t\t} else {\n\n\t\t\treturn new PropertyBinding.Composite( root, path, parsedPath );\n\n\t\t}\n\n\t},\n\n\t/**\n\t * Replaces spaces with underscores and removes unsupported characters from\n\t * node names, to ensure compatibility with parseTrackName().\n\t *\n\t * @param {string} name Node name to be sanitized.\n\t * @return {string}\n\t */\n\tsanitizeNodeName: function ( name ) {\n\n\t\treturn name.replace( /\\s/g, '_' ).replace( _reservedRe, '' );\n\n\t},\n\n\tparseTrackName: function ( trackName ) {\n\n\t\tconst matches = _trackRe.exec( trackName );\n\n\t\tif ( ! matches ) {\n\n\t\t\tthrow new Error( 'PropertyBinding: Cannot parse trackName: ' + trackName );\n\n\t\t}\n\n\t\tconst results = {\n\t\t\t// directoryName: matches[ 1 ], // (tschw) currently unused\n\t\t\tnodeName: matches[ 2 ],\n\t\t\tobjectName: matches[ 3 ],\n\t\t\tobjectIndex: matches[ 4 ],\n\t\t\tpropertyName: matches[ 5 ], // required\n\t\t\tpropertyIndex: matches[ 6 ]\n\t\t};\n\n\t\tconst lastDot = results.nodeName && results.nodeName.lastIndexOf( '.' );\n\n\t\tif ( lastDot !== undefined && lastDot !== - 1 ) {\n\n\t\t\tconst objectName = results.nodeName.substring( lastDot + 1 );\n\n\t\t\t// Object names must be checked against an allowlist. Otherwise, there\n\t\t\t// is no way to parse 'foo.bar.baz': 'baz' must be a property, but\n\t\t\t// 'bar' could be the objectName, or part of a nodeName (which can\n\t\t\t// include '.' characters).\n\t\t\tif ( _supportedObjectNames.indexOf( objectName ) !== - 1 ) {\n\n\t\t\t\tresults.nodeName = results.nodeName.substring( 0, lastDot );\n\t\t\t\tresults.objectName = objectName;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( results.propertyName === null || results.propertyName.length === 0 ) {\n\n\t\t\tthrow new Error( 'PropertyBinding: can not parse propertyName from trackName: ' + trackName );\n\n\t\t}\n\n\t\treturn results;\n\n\t},\n\n\tfindNode: function ( root, nodeName ) {\n\n\t\tif ( ! nodeName || nodeName === \"\" || nodeName === \".\" || nodeName === - 1 || nodeName === root.name || nodeName === root.uuid ) {\n\n\t\t\treturn root;\n\n\t\t}\n\n\t\t// search into skeleton bones.\n\t\tif ( root.skeleton ) {\n\n\t\t\tconst bone = root.skeleton.getBoneByName( nodeName );\n\n\t\t\tif ( bone !== undefined ) {\n\n\t\t\t\treturn bone;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// search into node subtree.\n\t\tif ( root.children ) {\n\n\t\t\tconst searchNodeSubtree = function ( children ) {\n\n\t\t\t\tfor ( let i = 0; i < children.length; i ++ ) {\n\n\t\t\t\t\tconst childNode = children[ i ];\n\n\t\t\t\t\tif ( childNode.name === nodeName || childNode.uuid === nodeName ) {\n\n\t\t\t\t\t\treturn childNode;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst result = searchNodeSubtree( childNode.children );\n\n\t\t\t\t\tif ( result ) return result;\n\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\n\t\t\t};\n\n\t\t\tconst subTreeNode = searchNodeSubtree( root.children );\n\n\t\t\tif ( subTreeNode ) {\n\n\t\t\t\treturn subTreeNode;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n} );\n\nObject.assign( PropertyBinding.prototype, { // prototype, continued\n\n\t// these are used to \"bind\" a nonexistent property\n\t_getValue_unavailable: function () {},\n\t_setValue_unavailable: function () {},\n\n\tBindingType: {\n\t\tDirect: 0,\n\t\tEntireArray: 1,\n\t\tArrayElement: 2,\n\t\tHasFromToArray: 3\n\t},\n\n\tVersioning: {\n\t\tNone: 0,\n\t\tNeedsUpdate: 1,\n\t\tMatrixWorldNeedsUpdate: 2\n\t},\n\n\tGetterByBindingType: [\n\n\t\tfunction getValue_direct( buffer, offset ) {\n\n\t\t\tbuffer[ offset ] = this.node[ this.propertyName ];\n\n\t\t},\n\n\t\tfunction getValue_array( buffer, offset ) {\n\n\t\t\tconst source = this.resolvedProperty;\n\n\t\t\tfor ( let i = 0, n = source.length; i !== n; ++ i ) {\n\n\t\t\t\tbuffer[ offset ++ ] = source[ i ];\n\n\t\t\t}\n\n\t\t},\n\n\t\tfunction getValue_arrayElement( buffer, offset ) {\n\n\t\t\tbuffer[ offset ] = this.resolvedProperty[ this.propertyIndex ];\n\n\t\t},\n\n\t\tfunction getValue_toArray( buffer, offset ) {\n\n\t\t\tthis.resolvedProperty.toArray( buffer, offset );\n\n\t\t}\n\n\t],\n\n\tSetterByBindingTypeAndVersioning: [\n\n\t\t[\n\t\t\t// Direct\n\n\t\t\tfunction setValue_direct( buffer, offset ) {\n\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\n\t\t\t},\n\n\t\t\tfunction setValue_direct_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_direct_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t], [\n\n\t\t\t// EntireArray\n\n\t\t\tfunction setValue_array( buffer, offset ) {\n\n\t\t\t\tconst dest = this.resolvedProperty;\n\n\t\t\t\tfor ( let i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tfunction setValue_array_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tconst dest = this.resolvedProperty;\n\n\t\t\t\tfor ( let i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t\t\t}\n\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_array_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tconst dest = this.resolvedProperty;\n\n\t\t\t\tfor ( let i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t\t\t}\n\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t], [\n\n\t\t\t// ArrayElement\n\n\t\t\tfunction setValue_arrayElement( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\n\t\t\t},\n\n\t\t\tfunction setValue_arrayElement_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_arrayElement_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t], [\n\n\t\t\t// HasToFromArray\n\n\t\t\tfunction setValue_fromArray( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\n\t\t\t},\n\n\t\t\tfunction setValue_fromArray_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_fromArray_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t]\n\n\t],\n\n\tgetValue: function getValue_unbound( targetArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.getValue( targetArray, offset );\n\n\t\t// Note: This class uses a State pattern on a per-method basis:\n\t\t// 'bind' sets 'this.getValue' / 'setValue' and shadows the\n\t\t// prototype version of these methods with one that represents\n\t\t// the bound state. When the property is not found, the methods\n\t\t// become no-ops.\n\n\t},\n\n\tsetValue: function getValue_unbound( sourceArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.setValue( sourceArray, offset );\n\n\t},\n\n\t// create getter / setter pair for a property in the scene graph\n\tbind: function () {\n\n\t\tlet targetObject = this.node;\n\t\tconst parsedPath = this.parsedPath;\n\n\t\tconst objectName = parsedPath.objectName;\n\t\tconst propertyName = parsedPath.propertyName;\n\t\tlet propertyIndex = parsedPath.propertyIndex;\n\n\t\tif ( ! targetObject ) {\n\n\t\t\ttargetObject = PropertyBinding.findNode( this.rootNode, parsedPath.nodeName ) || this.rootNode;\n\n\t\t\tthis.node = targetObject;\n\n\t\t}\n\n\t\t// set fail state so we can just 'return' on error\n\t\tthis.getValue = this._getValue_unavailable;\n\t\tthis.setValue = this._setValue_unavailable;\n\n\t\t// ensure there is a value node\n\t\tif ( ! targetObject ) {\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update node for track: ' + this.path + ' but it wasn\\'t found.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( objectName ) {\n\n\t\t\tlet objectIndex = parsedPath.objectIndex;\n\n\t\t\t// special cases were we need to reach deeper into the hierarchy to get the face materials....\n\t\t\tswitch ( objectName ) {\n\n\t\t\t\tcase 'materials':\n\n\t\t\t\t\tif ( ! targetObject.material ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material as node does not have a material.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ! targetObject.material.materials ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject.material.materials;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'bones':\n\n\t\t\t\t\tif ( ! targetObject.skeleton ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// potential future optimization: skip this if propertyIndex is already an integer\n\t\t\t\t\t// and convert the integer string to a true integer.\n\n\t\t\t\t\ttargetObject = targetObject.skeleton.bones;\n\n\t\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\t\tfor ( let i = 0; i < targetObject.length; i ++ ) {\n\n\t\t\t\t\t\tif ( targetObject[ i ].name === objectIndex ) {\n\n\t\t\t\t\t\t\tobjectIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tif ( targetObject[ objectName ] === undefined ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to objectName of node undefined.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject[ objectName ];\n\n\t\t\t}\n\n\n\t\t\tif ( objectIndex !== undefined ) {\n\n\t\t\t\tif ( targetObject[ objectIndex ] === undefined ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.', this, targetObject );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\ttargetObject = targetObject[ objectIndex ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// resolve property\n\t\tconst nodeProperty = targetObject[ propertyName ];\n\n\t\tif ( nodeProperty === undefined ) {\n\n\t\t\tconst nodeName = parsedPath.nodeName;\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update property for track: ' + nodeName +\n\t\t\t\t'.' + propertyName + ' but it wasn\\'t found.', targetObject );\n\t\t\treturn;\n\n\t\t}\n\n\t\t// determine versioning scheme\n\t\tlet versioning = this.Versioning.None;\n\n\t\tthis.targetObject = targetObject;\n\n\t\tif ( targetObject.needsUpdate !== undefined ) { // material\n\n\t\t\tversioning = this.Versioning.NeedsUpdate;\n\n\t\t} else if ( targetObject.matrixWorldNeedsUpdate !== undefined ) { // node transform\n\n\t\t\tversioning = this.Versioning.MatrixWorldNeedsUpdate;\n\n\t\t}\n\n\t\t// determine how the property gets bound\n\t\tlet bindingType = this.BindingType.Direct;\n\n\t\tif ( propertyIndex !== undefined ) {\n\n\t\t\t// access a sub element of the property array (only primitives are supported right now)\n\n\t\t\tif ( propertyName === \"morphTargetInfluences\" ) {\n\n\t\t\t\t// potential optimization, skip this if propertyIndex is already an integer, and convert the integer string to a true integer.\n\n\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\tif ( ! targetObject.geometry ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.', this );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( targetObject.geometry.isBufferGeometry ) {\n\n\t\t\t\t\tif ( ! targetObject.geometry.morphAttributes ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( targetObject.morphTargetDictionary[ propertyIndex ] !== undefined ) {\n\n\t\t\t\t\t\tpropertyIndex = targetObject.morphTargetDictionary[ propertyIndex ];\n\n\t\t\t\t\t}\n\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.', this );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tbindingType = this.BindingType.ArrayElement;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\t\t\tthis.propertyIndex = propertyIndex;\n\n\t\t} else if ( nodeProperty.fromArray !== undefined && nodeProperty.toArray !== undefined ) {\n\n\t\t\t// must use copy for Object3D.Euler/Quaternion\n\n\t\t\tbindingType = this.BindingType.HasFromToArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else if ( Array.isArray( nodeProperty ) ) {\n\n\t\t\tbindingType = this.BindingType.EntireArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else {\n\n\t\t\tthis.propertyName = propertyName;\n\n\t\t}\n\n\t\t// select getter / setter\n\t\tthis.getValue = this.GetterByBindingType[ bindingType ];\n\t\tthis.setValue = this.SetterByBindingTypeAndVersioning[ bindingType ][ versioning ];\n\n\t},\n\n\tunbind: function () {\n\n\t\tthis.node = null;\n\n\t\t// back to the prototype version of getValue / setValue\n\t\t// note: avoiding to mutate the shape of 'this' via 'delete'\n\t\tthis.getValue = this._getValue_unbound;\n\t\tthis.setValue = this._setValue_unbound;\n\n\t}\n\n} );\n\n// DECLARE ALIAS AFTER assign prototype\nObject.assign( PropertyBinding.prototype, {\n\n\t// initial state of these methods that calls 'bind'\n\t_getValue_unbound: PropertyBinding.prototype.getValue,\n\t_setValue_unbound: PropertyBinding.prototype.setValue,\n\n} );\n\n/**\n *\n * A group of objects that receives a shared animation state.\n *\n * Usage:\n *\n *  - Add objects you would otherwise pass as 'root' to the\n *    constructor or the .clipAction method of AnimationMixer.\n *\n *  - Instead pass this object as 'root'.\n *\n *  - You can also add and remove objects later when the mixer\n *    is running.\n *\n * Note:\n *\n *    Objects of this class appear as one object to the mixer,\n *    so cache control of the individual objects must be done\n *    on the group.\n *\n * Limitation:\n *\n *  - The animated properties must be compatible among the\n *    all objects in the group.\n *\n *  - A single property can either be controlled through a\n *    target group or directly, but not both.\n */\n\nfunction AnimationObjectGroup() {\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\t// cached objects followed by the active ones\n\tthis._objects = Array.prototype.slice.call( arguments );\n\n\tthis.nCachedObjects_ = 0; // threshold\n\t// note: read by PropertyBinding.Composite\n\n\tconst indices = {};\n\tthis._indicesByUUID = indices; // for bookkeeping\n\n\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\tindices[ arguments[ i ].uuid ] = i;\n\n\t}\n\n\tthis._paths = []; // inside: string\n\tthis._parsedPaths = []; // inside: { we don't care, here }\n\tthis._bindings = []; // inside: Array< PropertyBinding >\n\tthis._bindingsIndicesByPath = {}; // inside: indices in these arrays\n\n\tconst scope = this;\n\n\tthis.stats = {\n\n\t\tobjects: {\n\t\t\tget total() {\n\n\t\t\t\treturn scope._objects.length;\n\n\t\t\t},\n\t\t\tget inUse() {\n\n\t\t\t\treturn this.total - scope.nCachedObjects_;\n\n\t\t\t}\n\t\t},\n\t\tget bindingsPerObject() {\n\n\t\t\treturn scope._bindings.length;\n\n\t\t}\n\n\t};\n\n}\n\nObject.assign( AnimationObjectGroup.prototype, {\n\n\tisAnimationObjectGroup: true,\n\n\tadd: function () {\n\n\t\tconst objects = this._objects,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tpaths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tlet knownObject = undefined,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_;\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tconst object = arguments[ i ],\n\t\t\t\tuuid = object.uuid;\n\t\t\tlet index = indicesByUUID[ uuid ];\n\n\t\t\tif ( index === undefined ) {\n\n\t\t\t\t// unknown object -> add it to the ACTIVE region\n\n\t\t\t\tindex = nObjects ++;\n\t\t\t\tindicesByUUID[ uuid ] = index;\n\t\t\t\tobjects.push( object );\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tbindings[ j ].push( new PropertyBinding( object, paths[ j ], parsedPaths[ j ] ) );\n\n\t\t\t\t}\n\n\t\t\t} else if ( index < nCachedObjects ) {\n\n\t\t\t\tknownObject = objects[ index ];\n\n\t\t\t\t// move existing object to the ACTIVE region\n\n\t\t\t\tconst firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ];\n\n\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = firstActiveIndex;\n\t\t\t\tobjects[ firstActiveIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tconst bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ];\n\n\t\t\t\t\tlet binding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\n\t\t\t\t\tif ( binding === undefined ) {\n\n\t\t\t\t\t\t// since we do not bother to create new bindings\n\t\t\t\t\t\t// for objects that are cached, the binding may\n\t\t\t\t\t\t// or may not exist\n\n\t\t\t\t\t\tbinding = new PropertyBinding( object, paths[ j ], parsedPaths[ j ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t} else if ( objects[ index ] !== knownObject ) {\n\n\t\t\t\tconsole.error( 'THREE.AnimationObjectGroup: Different objects with the same UUID ' +\n\t\t\t\t\t'detected. Clean the caches or recreate your infrastructure when reloading scenes.' );\n\n\t\t\t} // else the object is already where we want it to be\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t},\n\n\tremove: function () {\n\n\t\tconst objects = this._objects,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tlet nCachedObjects = this.nCachedObjects_;\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tconst object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined && index >= nCachedObjects ) {\n\n\t\t\t\t// move existing object into the CACHED region\n\n\t\t\t\tconst lastCachedIndex = nCachedObjects ++,\n\t\t\t\t\tfirstActiveObject = objects[ lastCachedIndex ];\n\n\t\t\t\tindicesByUUID[ firstActiveObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = firstActiveObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = lastCachedIndex;\n\t\t\t\tobjects[ lastCachedIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tconst bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tfirstActive = bindingsForPath[ lastCachedIndex ],\n\t\t\t\t\t\tbinding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = firstActive;\n\t\t\t\t\tbindingsForPath[ lastCachedIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t},\n\n\t// remove & forget\n\tuncache: function () {\n\n\t\tconst objects = this._objects,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tlet nCachedObjects = this.nCachedObjects_,\n\t\t\tnObjects = objects.length;\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tconst object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined ) {\n\n\t\t\t\tdelete indicesByUUID[ uuid ];\n\n\t\t\t\tif ( index < nCachedObjects ) {\n\n\t\t\t\t\t// object is cached, shrink the CACHED region\n\n\t\t\t\t\tconst firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ],\n\t\t\t\t\t\tlastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\t// last cached object takes this object's place\n\t\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\t\t// last object goes to the activated slot and pop\n\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = firstActiveIndex;\n\t\t\t\t\tobjects[ firstActiveIndex ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tconst bindingsForPath = bindings[ j ],\n\t\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ],\n\t\t\t\t\t\t\tlast = bindingsForPath[ lastIndex ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\t\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = last;\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// object is active, just swap with the last and pop\n\n\t\t\t\t\tconst lastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\tif ( lastIndex > 0 ) {\n\n\t\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = index;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tobjects[ index ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tconst bindingsForPath = bindings[ j ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = bindingsForPath[ lastIndex ];\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} // cached or active\n\n\t\t\t} // if object is known\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t},\n\n\t// Internal interface used by befriended PropertyBinding.Composite:\n\n\tsubscribe_: function ( path, parsedPath ) {\n\n\t\t// returns an array of bindings for the given path that is changed\n\t\t// according to the contained objects in the group\n\n\t\tconst indicesByPath = this._bindingsIndicesByPath;\n\t\tlet index = indicesByPath[ path ];\n\t\tconst bindings = this._bindings;\n\n\t\tif ( index !== undefined ) return bindings[ index ];\n\n\t\tconst paths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tobjects = this._objects,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tbindingsForPath = new Array( nObjects );\n\n\t\tindex = bindings.length;\n\n\t\tindicesByPath[ path ] = index;\n\n\t\tpaths.push( path );\n\t\tparsedPaths.push( parsedPath );\n\t\tbindings.push( bindingsForPath );\n\n\t\tfor ( let i = nCachedObjects, n = objects.length; i !== n; ++ i ) {\n\n\t\t\tconst object = objects[ i ];\n\t\t\tbindingsForPath[ i ] = new PropertyBinding( object, path, parsedPath );\n\n\t\t}\n\n\t\treturn bindingsForPath;\n\n\t},\n\n\tunsubscribe_: function ( path ) {\n\n\t\t// tells the group to forget about a property path and no longer\n\t\t// update the array previously obtained with 'subscribe_'\n\n\t\tconst indicesByPath = this._bindingsIndicesByPath,\n\t\t\tindex = indicesByPath[ path ];\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tconst paths = this._paths,\n\t\t\t\tparsedPaths = this._parsedPaths,\n\t\t\t\tbindings = this._bindings,\n\t\t\t\tlastBindingsIndex = bindings.length - 1,\n\t\t\t\tlastBindings = bindings[ lastBindingsIndex ],\n\t\t\t\tlastBindingsPath = path[ lastBindingsIndex ];\n\n\t\t\tindicesByPath[ lastBindingsPath ] = index;\n\n\t\t\tbindings[ index ] = lastBindings;\n\t\t\tbindings.pop();\n\n\t\t\tparsedPaths[ index ] = parsedPaths[ lastBindingsIndex ];\n\t\t\tparsedPaths.pop();\n\n\t\t\tpaths[ index ] = paths[ lastBindingsIndex ];\n\t\t\tpaths.pop();\n\n\t\t}\n\n\t}\n\n} );\n\nclass AnimationAction {\n\n\tconstructor( mixer, clip, localRoot = null, blendMode = clip.blendMode ) {\n\n\t\tthis._mixer = mixer;\n\t\tthis._clip = clip;\n\t\tthis._localRoot = localRoot;\n\t\tthis.blendMode = blendMode;\n\n\t\tconst tracks = clip.tracks,\n\t\t\tnTracks = tracks.length,\n\t\t\tinterpolants = new Array( nTracks );\n\n\t\tconst interpolantSettings = {\n\t\t\tendingStart: ZeroCurvatureEnding,\n\t\t\tendingEnd: ZeroCurvatureEnding\n\t\t};\n\n\t\tfor ( let i = 0; i !== nTracks; ++ i ) {\n\n\t\t\tconst interpolant = tracks[ i ].createInterpolant( null );\n\t\t\tinterpolants[ i ] = interpolant;\n\t\t\tinterpolant.settings = interpolantSettings;\n\n\t\t}\n\n\t\tthis._interpolantSettings = interpolantSettings;\n\n\t\tthis._interpolants = interpolants; // bound by the mixer\n\n\t\t// inside: PropertyMixer (managed by the mixer)\n\t\tthis._propertyBindings = new Array( nTracks );\n\n\t\tthis._cacheIndex = null; // for the memory manager\n\t\tthis._byClipCacheIndex = null; // for the memory manager\n\n\t\tthis._timeScaleInterpolant = null;\n\t\tthis._weightInterpolant = null;\n\n\t\tthis.loop = LoopRepeat;\n\t\tthis._loopCount = - 1;\n\n\t\t// global mixer time when the action is to be started\n\t\t// it's set back to 'null' upon start of the action\n\t\tthis._startTime = null;\n\n\t\t// scaled local time of the action\n\t\t// gets clamped or wrapped to 0..clip.duration according to loop\n\t\tthis.time = 0;\n\n\t\tthis.timeScale = 1;\n\t\tthis._effectiveTimeScale = 1;\n\n\t\tthis.weight = 1;\n\t\tthis._effectiveWeight = 1;\n\n\t\tthis.repetitions = Infinity; // no. of repetitions when looping\n\n\t\tthis.paused = false; // true -> zero effective time scale\n\t\tthis.enabled = true; // false -> zero effective weight\n\n\t\tthis.clampWhenFinished = false;// keep feeding the last frame?\n\n\t\tthis.zeroSlopeAtStart = true;// for smooth interpolation w/o separate\n\t\tthis.zeroSlopeAtEnd = true;// clips for start, loop and end\n\n\t}\n\n\t// State & Scheduling\n\n\tplay() {\n\n\t\tthis._mixer._activateAction( this );\n\n\t\treturn this;\n\n\t}\n\n\tstop() {\n\n\t\tthis._mixer._deactivateAction( this );\n\n\t\treturn this.reset();\n\n\t}\n\n\treset() {\n\n\t\tthis.paused = false;\n\t\tthis.enabled = true;\n\n\t\tthis.time = 0; // restart clip\n\t\tthis._loopCount = - 1;// forget previous loops\n\t\tthis._startTime = null;// forget scheduling\n\n\t\treturn this.stopFading().stopWarping();\n\n\t}\n\n\tisRunning() {\n\n\t\treturn this.enabled && ! this.paused && this.timeScale !== 0 &&\n\t\t\tthis._startTime === null && this._mixer._isActiveAction( this );\n\n\t}\n\n\t// return true when play has been called\n\tisScheduled() {\n\n\t\treturn this._mixer._isActiveAction( this );\n\n\t}\n\n\tstartAt( time ) {\n\n\t\tthis._startTime = time;\n\n\t\treturn this;\n\n\t}\n\n\tsetLoop( mode, repetitions ) {\n\n\t\tthis.loop = mode;\n\t\tthis.repetitions = repetitions;\n\n\t\treturn this;\n\n\t}\n\n\t// Weight\n\n\t// set the weight stopping any scheduled fading\n\t// although .enabled = false yields an effective weight of zero, this\n\t// method does *not* change .enabled, because it would be confusing\n\tsetEffectiveWeight( weight ) {\n\n\t\tthis.weight = weight;\n\n\t\t// note: same logic as when updated at runtime\n\t\tthis._effectiveWeight = this.enabled ? weight : 0;\n\n\t\treturn this.stopFading();\n\n\t}\n\n\t// return the weight considering fading and .enabled\n\tgetEffectiveWeight() {\n\n\t\treturn this._effectiveWeight;\n\n\t}\n\n\tfadeIn( duration ) {\n\n\t\treturn this._scheduleFading( duration, 0, 1 );\n\n\t}\n\n\tfadeOut( duration ) {\n\n\t\treturn this._scheduleFading( duration, 1, 0 );\n\n\t}\n\n\tcrossFadeFrom( fadeOutAction, duration, warp ) {\n\n\t\tfadeOutAction.fadeOut( duration );\n\t\tthis.fadeIn( duration );\n\n\t\tif ( warp ) {\n\n\t\t\tconst fadeInDuration = this._clip.duration,\n\t\t\t\tfadeOutDuration = fadeOutAction._clip.duration,\n\n\t\t\t\tstartEndRatio = fadeOutDuration / fadeInDuration,\n\t\t\t\tendStartRatio = fadeInDuration / fadeOutDuration;\n\n\t\t\tfadeOutAction.warp( 1.0, startEndRatio, duration );\n\t\t\tthis.warp( endStartRatio, 1.0, duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcrossFadeTo( fadeInAction, duration, warp ) {\n\n\t\treturn fadeInAction.crossFadeFrom( this, duration, warp );\n\n\t}\n\n\tstopFading() {\n\n\t\tconst weightInterpolant = this._weightInterpolant;\n\n\t\tif ( weightInterpolant !== null ) {\n\n\t\t\tthis._weightInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( weightInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// Time Scale Control\n\n\t// set the time scale stopping any scheduled warping\n\t// although .paused = true yields an effective time scale of zero, this\n\t// method does *not* change .paused, because it would be confusing\n\tsetEffectiveTimeScale( timeScale ) {\n\n\t\tthis.timeScale = timeScale;\n\t\tthis._effectiveTimeScale = this.paused ? 0 : timeScale;\n\n\t\treturn this.stopWarping();\n\n\t}\n\n\t// return the time scale considering warping and .paused\n\tgetEffectiveTimeScale() {\n\n\t\treturn this._effectiveTimeScale;\n\n\t}\n\n\tsetDuration( duration ) {\n\n\t\tthis.timeScale = this._clip.duration / duration;\n\n\t\treturn this.stopWarping();\n\n\t}\n\n\tsyncWith( action ) {\n\n\t\tthis.time = action.time;\n\t\tthis.timeScale = action.timeScale;\n\n\t\treturn this.stopWarping();\n\n\t}\n\n\thalt( duration ) {\n\n\t\treturn this.warp( this._effectiveTimeScale, 0, duration );\n\n\t}\n\n\twarp( startTimeScale, endTimeScale, duration ) {\n\n\t\tconst mixer = this._mixer,\n\t\t\tnow = mixer.time,\n\t\t\ttimeScale = this.timeScale;\n\n\t\tlet interpolant = this._timeScaleInterpolant;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._timeScaleInterpolant = interpolant;\n\n\t\t}\n\n\t\tconst times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now;\n\t\ttimes[ 1 ] = now + duration;\n\n\t\tvalues[ 0 ] = startTimeScale / timeScale;\n\t\tvalues[ 1 ] = endTimeScale / timeScale;\n\n\t\treturn this;\n\n\t}\n\n\tstopWarping() {\n\n\t\tconst timeScaleInterpolant = this._timeScaleInterpolant;\n\n\t\tif ( timeScaleInterpolant !== null ) {\n\n\t\t\tthis._timeScaleInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( timeScaleInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// Object Accessors\n\n\tgetMixer() {\n\n\t\treturn this._mixer;\n\n\t}\n\n\tgetClip() {\n\n\t\treturn this._clip;\n\n\t}\n\n\tgetRoot() {\n\n\t\treturn this._localRoot || this._mixer._root;\n\n\t}\n\n\t// Interna\n\n\t_update( time, deltaTime, timeDirection, accuIndex ) {\n\n\t\t// called by the mixer\n\n\t\tif ( ! this.enabled ) {\n\n\t\t\t// call ._updateWeight() to update ._effectiveWeight\n\n\t\t\tthis._updateWeight( time );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst startTime = this._startTime;\n\n\t\tif ( startTime !== null ) {\n\n\t\t\t// check for scheduled start of action\n\n\t\t\tconst timeRunning = ( time - startTime ) * timeDirection;\n\t\t\tif ( timeRunning < 0 || timeDirection === 0 ) {\n\n\t\t\t\treturn; // yet to come / don't decide when delta = 0\n\n\t\t\t}\n\n\t\t\t// start\n\n\t\t\tthis._startTime = null; // unschedule\n\t\t\tdeltaTime = timeDirection * timeRunning;\n\n\t\t}\n\n\t\t// apply time scale and advance time\n\n\t\tdeltaTime *= this._updateTimeScale( time );\n\t\tconst clipTime = this._updateTime( deltaTime );\n\n\t\t// note: _updateTime may disable the action resulting in\n\t\t// an effective weight of 0\n\n\t\tconst weight = this._updateWeight( time );\n\n\t\tif ( weight > 0 ) {\n\n\t\t\tconst interpolants = this._interpolants;\n\t\t\tconst propertyMixers = this._propertyBindings;\n\n\t\t\tswitch ( this.blendMode ) {\n\n\t\t\t\tcase AdditiveAnimationBlendMode:\n\n\t\t\t\t\tfor ( let j = 0, m = interpolants.length; j !== m; ++ j ) {\n\n\t\t\t\t\t\tinterpolants[ j ].evaluate( clipTime );\n\t\t\t\t\t\tpropertyMixers[ j ].accumulateAdditive( weight );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase NormalAnimationBlendMode:\n\t\t\t\tdefault:\n\n\t\t\t\t\tfor ( let j = 0, m = interpolants.length; j !== m; ++ j ) {\n\n\t\t\t\t\t\tinterpolants[ j ].evaluate( clipTime );\n\t\t\t\t\t\tpropertyMixers[ j ].accumulate( accuIndex, weight );\n\n\t\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_updateWeight( time ) {\n\n\t\tlet weight = 0;\n\n\t\tif ( this.enabled ) {\n\n\t\t\tweight = this.weight;\n\t\t\tconst interpolant = this._weightInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tconst interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\tweight *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopFading();\n\n\t\t\t\t\tif ( interpolantValue === 0 ) {\n\n\t\t\t\t\t\t// faded out, disable\n\t\t\t\t\t\tthis.enabled = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveWeight = weight;\n\t\treturn weight;\n\n\t}\n\n\t_updateTimeScale( time ) {\n\n\t\tlet timeScale = 0;\n\n\t\tif ( ! this.paused ) {\n\n\t\t\ttimeScale = this.timeScale;\n\n\t\t\tconst interpolant = this._timeScaleInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tconst interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\ttimeScale *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopWarping();\n\n\t\t\t\t\tif ( timeScale === 0 ) {\n\n\t\t\t\t\t\t// motion has halted, pause\n\t\t\t\t\t\tthis.paused = true;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// warp done - apply final time scale\n\t\t\t\t\t\tthis.timeScale = timeScale;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveTimeScale = timeScale;\n\t\treturn timeScale;\n\n\t}\n\n\t_updateTime( deltaTime ) {\n\n\t\tconst duration = this._clip.duration;\n\t\tconst loop = this.loop;\n\n\t\tlet time = this.time + deltaTime;\n\t\tlet loopCount = this._loopCount;\n\n\t\tconst pingPong = ( loop === LoopPingPong );\n\n\t\tif ( deltaTime === 0 ) {\n\n\t\t\tif ( loopCount === - 1 ) return time;\n\n\t\t\treturn ( pingPong && ( loopCount & 1 ) === 1 ) ? duration - time : time;\n\n\t\t}\n\n\t\tif ( loop === LoopOnce ) {\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tthis._loopCount = 0;\n\t\t\t\tthis._setEndings( true, true, false );\n\n\t\t\t}\n\n\t\t\thandle_stop: {\n\n\t\t\t\tif ( time >= duration ) {\n\n\t\t\t\t\ttime = duration;\n\n\t\t\t\t} else if ( time < 0 ) {\n\n\t\t\t\t\ttime = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tbreak handle_stop;\n\n\t\t\t\t}\n\n\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\telse this.enabled = false;\n\n\t\t\t\tthis.time = time;\n\n\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\tdirection: deltaTime < 0 ? - 1 : 1\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t} else { // repetitive Repeat or PingPong\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tif ( deltaTime >= 0 ) {\n\n\t\t\t\t\tloopCount = 0;\n\n\t\t\t\t\tthis._setEndings( true, this.repetitions === 0, pingPong );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// when looping in reverse direction, the initial\n\t\t\t\t\t// transition through zero counts as a repetition,\n\t\t\t\t\t// so leave loopCount at -1\n\n\t\t\t\t\tthis._setEndings( this.repetitions === 0, true, pingPong );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( time >= duration || time < 0 ) {\n\n\t\t\t\t// wrap around\n\n\t\t\t\tconst loopDelta = Math.floor( time / duration ); // signed\n\t\t\t\ttime -= duration * loopDelta;\n\n\t\t\t\tloopCount += Math.abs( loopDelta );\n\n\t\t\t\tconst pending = this.repetitions - loopCount;\n\n\t\t\t\tif ( pending <= 0 ) {\n\n\t\t\t\t\t// have to stop (switch state, clamp time, fire event)\n\n\t\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\t\telse this.enabled = false;\n\n\t\t\t\t\ttime = deltaTime > 0 ? duration : 0;\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\t\tdirection: deltaTime > 0 ? 1 : - 1\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// keep running\n\n\t\t\t\t\tif ( pending === 1 ) {\n\n\t\t\t\t\t\t// entering the last round\n\n\t\t\t\t\t\tconst atStart = deltaTime < 0;\n\t\t\t\t\t\tthis._setEndings( atStart, ! atStart, pingPong );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis._setEndings( false, false, pingPong );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._loopCount = loopCount;\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'loop', action: this, loopDelta: loopDelta\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tthis.time = time;\n\n\t\t\t}\n\n\t\t\tif ( pingPong && ( loopCount & 1 ) === 1 ) {\n\n\t\t\t\t// invert time for the \"pong round\"\n\n\t\t\t\treturn duration - time;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn time;\n\n\t}\n\n\t_setEndings( atStart, atEnd, pingPong ) {\n\n\t\tconst settings = this._interpolantSettings;\n\n\t\tif ( pingPong ) {\n\n\t\t\tsettings.endingStart = ZeroSlopeEnding;\n\t\t\tsettings.endingEnd = ZeroSlopeEnding;\n\n\t\t} else {\n\n\t\t\t// assuming for LoopOnce atStart == atEnd == true\n\n\t\t\tif ( atStart ) {\n\n\t\t\t\tsettings.endingStart = this.zeroSlopeAtStart ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingStart = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t\tif ( atEnd ) {\n\n\t\t\t\tsettings.endingEnd = this.zeroSlopeAtEnd ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingEnd \t = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_scheduleFading( duration, weightNow, weightThen ) {\n\n\t\tconst mixer = this._mixer, now = mixer.time;\n\t\tlet interpolant = this._weightInterpolant;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._weightInterpolant = interpolant;\n\n\t\t}\n\n\t\tconst times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now;\n\t\tvalues[ 0 ] = weightNow;\n\t\ttimes[ 1 ] = now + duration;\n\t\tvalues[ 1 ] = weightThen;\n\n\t\treturn this;\n\n\t}\n\n}\n\nfunction AnimationMixer( root ) {\n\n\tthis._root = root;\n\tthis._initMemoryManager();\n\tthis._accuIndex = 0;\n\n\tthis.time = 0;\n\n\tthis.timeScale = 1.0;\n\n}\n\nAnimationMixer.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: AnimationMixer,\n\n\t_bindAction: function ( action, prototypeAction ) {\n\n\t\tconst root = action._localRoot || this._root,\n\t\t\ttracks = action._clip.tracks,\n\t\t\tnTracks = tracks.length,\n\t\t\tbindings = action._propertyBindings,\n\t\t\tinterpolants = action._interpolants,\n\t\t\trootUuid = root.uuid,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName;\n\n\t\tlet bindingsByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingsByName === undefined ) {\n\n\t\t\tbindingsByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingsByName;\n\n\t\t}\n\n\t\tfor ( let i = 0; i !== nTracks; ++ i ) {\n\n\t\t\tconst track = tracks[ i ],\n\t\t\t\ttrackName = track.name;\n\n\t\t\tlet binding = bindingsByName[ trackName ];\n\n\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t} else {\n\n\t\t\t\tbinding = bindings[ i ];\n\n\t\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\t\t// existing binding, make sure the cache knows\n\n\t\t\t\t\tif ( binding._cacheIndex === null ) {\n\n\t\t\t\t\t\t++ binding.referenceCount;\n\t\t\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tconst path = prototypeAction && prototypeAction.\n\t\t\t\t\t_propertyBindings[ i ].binding.parsedPath;\n\n\t\t\t\tbinding = new PropertyMixer(\n\t\t\t\t\tPropertyBinding.create( root, trackName, path ),\n\t\t\t\t\ttrack.ValueTypeName, track.getValueSize() );\n\n\t\t\t\t++ binding.referenceCount;\n\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t}\n\n\t\t\tinterpolants[ i ].resultBuffer = binding.buffer;\n\n\t\t}\n\n\t},\n\n\t_activateAction: function ( action ) {\n\n\t\tif ( ! this._isActiveAction( action ) ) {\n\n\t\t\tif ( action._cacheIndex === null ) {\n\n\t\t\t\t// this action has been forgotten by the cache, but the user\n\t\t\t\t// appears to be still using it -> rebind\n\n\t\t\t\tconst rootUuid = ( action._localRoot || this._root ).uuid,\n\t\t\t\t\tclipUuid = action._clip.uuid,\n\t\t\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\t\t\tthis._bindAction( action,\n\t\t\t\t\tactionsForClip && actionsForClip.knownActions[ 0 ] );\n\n\t\t\t\tthis._addInactiveAction( action, clipUuid, rootUuid );\n\n\t\t\t}\n\n\t\t\tconst bindings = action._propertyBindings;\n\n\t\t\t// increment reference counts / sort out state\n\t\t\tfor ( let i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tconst binding = bindings[ i ];\n\n\t\t\t\tif ( binding.useCount ++ === 0 ) {\n\n\t\t\t\t\tthis._lendBinding( binding );\n\t\t\t\t\tbinding.saveOriginalState();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._lendAction( action );\n\n\t\t}\n\n\t},\n\n\t_deactivateAction: function ( action ) {\n\n\t\tif ( this._isActiveAction( action ) ) {\n\n\t\t\tconst bindings = action._propertyBindings;\n\n\t\t\t// decrement reference counts / sort out state\n\t\t\tfor ( let i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tconst binding = bindings[ i ];\n\n\t\t\t\tif ( -- binding.useCount === 0 ) {\n\n\t\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\t\tthis._takeBackBinding( binding );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._takeBackAction( action );\n\n\t\t}\n\n\t},\n\n\t// Memory manager\n\n\t_initMemoryManager: function () {\n\n\t\tthis._actions = []; // 'nActiveActions' followed by inactive ones\n\t\tthis._nActiveActions = 0;\n\n\t\tthis._actionsByClip = {};\n\t\t// inside:\n\t\t// {\n\t\t// \tknownActions: Array< AnimationAction > - used as prototypes\n\t\t// \tactionByRoot: AnimationAction - lookup\n\t\t// }\n\n\n\t\tthis._bindings = []; // 'nActiveBindings' followed by inactive ones\n\t\tthis._nActiveBindings = 0;\n\n\t\tthis._bindingsByRootAndName = {}; // inside: Map< name, PropertyMixer >\n\n\n\t\tthis._controlInterpolants = []; // same game as above\n\t\tthis._nActiveControlInterpolants = 0;\n\n\t\tconst scope = this;\n\n\t\tthis.stats = {\n\n\t\t\tactions: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._actions.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveActions;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tbindings: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._bindings.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveBindings;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontrolInterpolants: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._controlInterpolants.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveControlInterpolants;\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t},\n\n\t// Memory management for AnimationAction objects\n\n\t_isActiveAction: function ( action ) {\n\n\t\tconst index = action._cacheIndex;\n\t\treturn index !== null && index < this._nActiveActions;\n\n\t},\n\n\t_addInactiveAction: function ( action, clipUuid, rootUuid ) {\n\n\t\tconst actions = this._actions,\n\t\t\tactionsByClip = this._actionsByClip;\n\n\t\tlet actionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip === undefined ) {\n\n\t\t\tactionsForClip = {\n\n\t\t\t\tknownActions: [ action ],\n\t\t\t\tactionByRoot: {}\n\n\t\t\t};\n\n\t\t\taction._byClipCacheIndex = 0;\n\n\t\t\tactionsByClip[ clipUuid ] = actionsForClip;\n\n\t\t} else {\n\n\t\t\tconst knownActions = actionsForClip.knownActions;\n\n\t\t\taction._byClipCacheIndex = knownActions.length;\n\t\t\tknownActions.push( action );\n\n\t\t}\n\n\t\taction._cacheIndex = actions.length;\n\t\tactions.push( action );\n\n\t\tactionsForClip.actionByRoot[ rootUuid ] = action;\n\n\t},\n\n\t_removeInactiveAction: function ( action ) {\n\n\t\tconst actions = this._actions,\n\t\t\tlastInactiveAction = actions[ actions.length - 1 ],\n\t\t\tcacheIndex = action._cacheIndex;\n\n\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\tactions.pop();\n\n\t\taction._cacheIndex = null;\n\n\n\t\tconst clipUuid = action._clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ],\n\t\t\tknownActionsForClip = actionsForClip.knownActions,\n\n\t\t\tlastKnownAction =\n\t\t\t\tknownActionsForClip[ knownActionsForClip.length - 1 ],\n\n\t\t\tbyClipCacheIndex = action._byClipCacheIndex;\n\n\t\tlastKnownAction._byClipCacheIndex = byClipCacheIndex;\n\t\tknownActionsForClip[ byClipCacheIndex ] = lastKnownAction;\n\t\tknownActionsForClip.pop();\n\n\t\taction._byClipCacheIndex = null;\n\n\n\t\tconst actionByRoot = actionsForClip.actionByRoot,\n\t\t\trootUuid = ( action._localRoot || this._root ).uuid;\n\n\t\tdelete actionByRoot[ rootUuid ];\n\n\t\tif ( knownActionsForClip.length === 0 ) {\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t\tthis._removeInactiveBindingsForAction( action );\n\n\t},\n\n\t_removeInactiveBindingsForAction: function ( action ) {\n\n\t\tconst bindings = action._propertyBindings;\n\n\t\tfor ( let i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tconst binding = bindings[ i ];\n\n\t\t\tif ( -- binding.referenceCount === 0 ) {\n\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_lendAction: function ( action ) {\n\n\t\t// [ active actions |  inactive actions  ]\n\t\t// [  active actions >| inactive actions ]\n\t\t//                 s        a\n\t\t//                  <-swap->\n\t\t//                 a        s\n\n\t\tconst actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveActions ++,\n\n\t\t\tfirstInactiveAction = actions[ lastActiveIndex ];\n\n\t\taction._cacheIndex = lastActiveIndex;\n\t\tactions[ lastActiveIndex ] = action;\n\n\t\tfirstInactiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = firstInactiveAction;\n\n\t},\n\n\t_takeBackAction: function ( action ) {\n\n\t\t// [  active actions  | inactive actions ]\n\t\t// [ active actions |< inactive actions  ]\n\t\t//        a        s\n\t\t//         <-swap->\n\t\t//        s        a\n\n\t\tconst actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveActions,\n\n\t\t\tlastActiveAction = actions[ firstInactiveIndex ];\n\n\t\taction._cacheIndex = firstInactiveIndex;\n\t\tactions[ firstInactiveIndex ] = action;\n\n\t\tlastActiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = lastActiveAction;\n\n\t},\n\n\t// Memory management for PropertyMixer objects\n\n\t_addInactiveBinding: function ( binding, rootUuid, trackName ) {\n\n\t\tconst bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindings = this._bindings;\n\n\t\tlet bindingByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingByName === undefined ) {\n\n\t\t\tbindingByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingByName;\n\n\t\t}\n\n\t\tbindingByName[ trackName ] = binding;\n\n\t\tbinding._cacheIndex = bindings.length;\n\t\tbindings.push( binding );\n\n\t},\n\n\t_removeInactiveBinding: function ( binding ) {\n\n\t\tconst bindings = this._bindings,\n\t\t\tpropBinding = binding.binding,\n\t\t\trootUuid = propBinding.rootNode.uuid,\n\t\t\ttrackName = propBinding.path,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ],\n\n\t\t\tlastInactiveBinding = bindings[ bindings.length - 1 ],\n\t\t\tcacheIndex = binding._cacheIndex;\n\n\t\tlastInactiveBinding._cacheIndex = cacheIndex;\n\t\tbindings[ cacheIndex ] = lastInactiveBinding;\n\t\tbindings.pop();\n\n\t\tdelete bindingByName[ trackName ];\n\n\t\tif ( Object.keys( bindingByName ).length === 0 ) {\n\n\t\t\tdelete bindingsByRoot[ rootUuid ];\n\n\t\t}\n\n\t},\n\n\t_lendBinding: function ( binding ) {\n\n\t\tconst bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveBindings ++,\n\n\t\t\tfirstInactiveBinding = bindings[ lastActiveIndex ];\n\n\t\tbinding._cacheIndex = lastActiveIndex;\n\t\tbindings[ lastActiveIndex ] = binding;\n\n\t\tfirstInactiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = firstInactiveBinding;\n\n\t},\n\n\t_takeBackBinding: function ( binding ) {\n\n\t\tconst bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveBindings,\n\n\t\t\tlastActiveBinding = bindings[ firstInactiveIndex ];\n\n\t\tbinding._cacheIndex = firstInactiveIndex;\n\t\tbindings[ firstInactiveIndex ] = binding;\n\n\t\tlastActiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = lastActiveBinding;\n\n\t},\n\n\n\t// Memory management of Interpolants for weight and time scale\n\n\t_lendControlInterpolant: function () {\n\n\t\tconst interpolants = this._controlInterpolants,\n\t\t\tlastActiveIndex = this._nActiveControlInterpolants ++;\n\n\t\tlet interpolant = interpolants[ lastActiveIndex ];\n\n\t\tif ( interpolant === undefined ) {\n\n\t\t\tinterpolant = new LinearInterpolant(\n\t\t\t\tnew Float32Array( 2 ), new Float32Array( 2 ),\n\t\t\t\t1, this._controlInterpolantsResultBuffer );\n\n\t\t\tinterpolant.__cacheIndex = lastActiveIndex;\n\t\t\tinterpolants[ lastActiveIndex ] = interpolant;\n\n\t\t}\n\n\t\treturn interpolant;\n\n\t},\n\n\t_takeBackControlInterpolant: function ( interpolant ) {\n\n\t\tconst interpolants = this._controlInterpolants,\n\t\t\tprevIndex = interpolant.__cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveControlInterpolants,\n\n\t\t\tlastActiveInterpolant = interpolants[ firstInactiveIndex ];\n\n\t\tinterpolant.__cacheIndex = firstInactiveIndex;\n\t\tinterpolants[ firstInactiveIndex ] = interpolant;\n\n\t\tlastActiveInterpolant.__cacheIndex = prevIndex;\n\t\tinterpolants[ prevIndex ] = lastActiveInterpolant;\n\n\t},\n\n\t_controlInterpolantsResultBuffer: new Float32Array( 1 ),\n\n\t// return an action for a clip optionally using a custom root target\n\t// object (this method allocates a lot of dynamic memory in case a\n\t// previously unknown clip/root combination is specified)\n\tclipAction: function ( clip, optionalRoot, blendMode ) {\n\n\t\tconst root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid;\n\n\t\tlet clipObject = typeof clip === 'string' ? AnimationClip.findByName( root, clip ) : clip;\n\n\t\tconst clipUuid = clipObject !== null ? clipObject.uuid : clip;\n\n\t\tconst actionsForClip = this._actionsByClip[ clipUuid ];\n\t\tlet prototypeAction = null;\n\n\t\tif ( blendMode === undefined ) {\n\n\t\t\tif ( clipObject !== null ) {\n\n\t\t\t\tblendMode = clipObject.blendMode;\n\n\t\t\t} else {\n\n\t\t\t\tblendMode = NormalAnimationBlendMode;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\tconst existingAction = actionsForClip.actionByRoot[ rootUuid ];\n\n\t\t\tif ( existingAction !== undefined && existingAction.blendMode === blendMode ) {\n\n\t\t\t\treturn existingAction;\n\n\t\t\t}\n\n\t\t\t// we know the clip, so we don't have to parse all\n\t\t\t// the bindings again but can just copy\n\t\t\tprototypeAction = actionsForClip.knownActions[ 0 ];\n\n\t\t\t// also, take the clip from the prototype action\n\t\t\tif ( clipObject === null )\n\t\t\t\tclipObject = prototypeAction._clip;\n\n\t\t}\n\n\t\t// clip must be known when specified via string\n\t\tif ( clipObject === null ) return null;\n\n\t\t// allocate all resources required to run it\n\t\tconst newAction = new AnimationAction( this, clipObject, optionalRoot, blendMode );\n\n\t\tthis._bindAction( newAction, prototypeAction );\n\n\t\t// and make the action known to the memory manager\n\t\tthis._addInactiveAction( newAction, clipUuid, rootUuid );\n\n\t\treturn newAction;\n\n\t},\n\n\t// get an existing action\n\texistingAction: function ( clip, optionalRoot ) {\n\n\t\tconst root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid,\n\n\t\t\tclipObject = typeof clip === 'string' ?\n\t\t\t\tAnimationClip.findByName( root, clip ) : clip,\n\n\t\t\tclipUuid = clipObject ? clipObject.uuid : clip,\n\n\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\treturn actionsForClip.actionByRoot[ rootUuid ] || null;\n\n\t\t}\n\n\t\treturn null;\n\n\t},\n\n\t// deactivates all previously scheduled actions\n\tstopAllAction: function () {\n\n\t\tconst actions = this._actions,\n\t\t\tnActions = this._nActiveActions;\n\n\t\tfor ( let i = nActions - 1; i >= 0; -- i ) {\n\n\t\t\tactions[ i ].stop();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// advance the time and update apply the animation\n\tupdate: function ( deltaTime ) {\n\n\t\tdeltaTime *= this.timeScale;\n\n\t\tconst actions = this._actions,\n\t\t\tnActions = this._nActiveActions,\n\n\t\t\ttime = this.time += deltaTime,\n\t\t\ttimeDirection = Math.sign( deltaTime ),\n\n\t\t\taccuIndex = this._accuIndex ^= 1;\n\n\t\t// run active actions\n\n\t\tfor ( let i = 0; i !== nActions; ++ i ) {\n\n\t\t\tconst action = actions[ i ];\n\n\t\t\taction._update( time, deltaTime, timeDirection, accuIndex );\n\n\t\t}\n\n\t\t// update scene graph\n\n\t\tconst bindings = this._bindings,\n\t\t\tnBindings = this._nActiveBindings;\n\n\t\tfor ( let i = 0; i !== nBindings; ++ i ) {\n\n\t\t\tbindings[ i ].apply( accuIndex );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// Allows you to seek to a specific time in an animation.\n\tsetTime: function ( timeInSeconds ) {\n\n\t\tthis.time = 0; // Zero out time attribute for AnimationMixer object;\n\t\tfor ( let i = 0; i < this._actions.length; i ++ ) {\n\n\t\t\tthis._actions[ i ].time = 0; // Zero out time attribute for all associated AnimationAction objects.\n\n\t\t}\n\n\t\treturn this.update( timeInSeconds ); // Update used to set exact time. Returns \"this\" AnimationMixer object.\n\n\t},\n\n\t// return this mixer's root target object\n\tgetRoot: function () {\n\n\t\treturn this._root;\n\n\t},\n\n\t// free all resources specific to a particular clip\n\tuncacheClip: function ( clip ) {\n\n\t\tconst actions = this._actions,\n\t\t\tclipUuid = clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\t// note: just calling _removeInactiveAction would mess up the\n\t\t\t// iteration state and also require updating the state we can\n\t\t\t// just throw away\n\n\t\t\tconst actionsToRemove = actionsForClip.knownActions;\n\n\t\t\tfor ( let i = 0, n = actionsToRemove.length; i !== n; ++ i ) {\n\n\t\t\t\tconst action = actionsToRemove[ i ];\n\n\t\t\t\tthis._deactivateAction( action );\n\n\t\t\t\tconst cacheIndex = action._cacheIndex,\n\t\t\t\t\tlastInactiveAction = actions[ actions.length - 1 ];\n\n\t\t\t\taction._cacheIndex = null;\n\t\t\t\taction._byClipCacheIndex = null;\n\n\t\t\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\t\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\t\t\tactions.pop();\n\n\t\t\t\tthis._removeInactiveBindingsForAction( action );\n\n\t\t\t}\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t},\n\n\t// free all resources specific to a particular root target object\n\tuncacheRoot: function ( root ) {\n\n\t\tconst rootUuid = root.uuid,\n\t\t\tactionsByClip = this._actionsByClip;\n\n\t\tfor ( const clipUuid in actionsByClip ) {\n\n\t\t\tconst actionByRoot = actionsByClip[ clipUuid ].actionByRoot,\n\t\t\t\taction = actionByRoot[ rootUuid ];\n\n\t\t\tif ( action !== undefined ) {\n\n\t\t\t\tthis._deactivateAction( action );\n\t\t\t\tthis._removeInactiveAction( action );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingByName !== undefined ) {\n\n\t\t\tfor ( const trackName in bindingByName ) {\n\n\t\t\t\tconst binding = bindingByName[ trackName ];\n\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t// remove a targeted clip from the cache\n\tuncacheAction: function ( clip, optionalRoot ) {\n\n\t\tconst action = this.existingAction( clip, optionalRoot );\n\n\t\tif ( action !== null ) {\n\n\t\t\tthis._deactivateAction( action );\n\t\t\tthis._removeInactiveAction( action );\n\n\t\t}\n\n\t}\n\n} );\n\nclass Uniform {\n\n\tconstructor( value ) {\n\n\t\tif ( typeof value === 'string' ) {\n\n\t\t\tconsole.warn( 'THREE.Uniform: Type parameter is no longer needed.' );\n\t\t\tvalue = arguments[ 1 ];\n\n\t\t}\n\n\t\tthis.value = value;\n\n\t}\n\n\tclone() {\n\n\t\treturn new Uniform( this.value.clone === undefined ? this.value : this.value.clone() );\n\n\t}\n\n}\n\nfunction InstancedInterleavedBuffer( array, stride, meshPerAttribute ) {\n\n\tInterleavedBuffer.call( this, array, stride );\n\n\tthis.meshPerAttribute = meshPerAttribute || 1;\n\n}\n\nInstancedInterleavedBuffer.prototype = Object.assign( Object.create( InterleavedBuffer.prototype ), {\n\n\tconstructor: InstancedInterleavedBuffer,\n\n\tisInstancedInterleavedBuffer: true,\n\n\tcopy: function ( source ) {\n\n\t\tInterleavedBuffer.prototype.copy.call( this, source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function ( data ) {\n\n\t\tconst ib = InterleavedBuffer.prototype.clone.call( this, data );\n\n\t\tib.meshPerAttribute = this.meshPerAttribute;\n\n\t\treturn ib;\n\n\t},\n\n\ttoJSON: function ( data ) {\n\n\t\tconst json = InterleavedBuffer.prototype.toJSON.call( this, data );\n\n\t\tjson.isInstancedInterleavedBuffer = true;\n\t\tjson.meshPerAttribute = this.meshPerAttribute;\n\n\t\treturn json;\n\n\t}\n\n} );\n\nfunction GLBufferAttribute( buffer, type, itemSize, elementSize, count ) {\n\n\tthis.buffer = buffer;\n\tthis.type = type;\n\tthis.itemSize = itemSize;\n\tthis.elementSize = elementSize;\n\tthis.count = count;\n\n\tthis.version = 0;\n\n}\n\nObject.defineProperty( GLBufferAttribute.prototype, 'needsUpdate', {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\nObject.assign( GLBufferAttribute.prototype, {\n\n\tisGLBufferAttribute: true,\n\n\tsetBuffer: function ( buffer ) {\n\n\t\tthis.buffer = buffer;\n\n\t\treturn this;\n\n\t},\n\n\tsetType: function ( type, elementSize ) {\n\n\t\tthis.type = type;\n\t\tthis.elementSize = elementSize;\n\n\t\treturn this;\n\n\t},\n\n\tsetItemSize: function ( itemSize ) {\n\n\t\tthis.itemSize = itemSize;\n\n\t\treturn this;\n\n\t},\n\n\tsetCount: function ( count ) {\n\n\t\tthis.count = count;\n\n\t\treturn this;\n\n\t},\n\n} );\n\nfunction Raycaster( origin, direction, near, far ) {\n\n\tthis.ray = new Ray( origin, direction );\n\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\tthis.near = near || 0;\n\tthis.far = far || Infinity;\n\tthis.camera = null;\n\tthis.layers = new Layers();\n\n\tthis.params = {\n\t\tMesh: {},\n\t\tLine: { threshold: 1 },\n\t\tLOD: {},\n\t\tPoints: { threshold: 1 },\n\t\tSprite: {}\n\t};\n\n\tObject.defineProperties( this.params, {\n\t\tPointCloud: {\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.Raycaster: params.PointCloud has been renamed to params.Points.' );\n\t\t\t\treturn this.Points;\n\n\t\t\t}\n\t\t}\n\t} );\n\n}\n\nfunction ascSort( a, b ) {\n\n\treturn a.distance - b.distance;\n\n}\n\nfunction intersectObject( object, raycaster, intersects, recursive ) {\n\n\tif ( object.layers.test( raycaster.layers ) ) {\n\n\t\tobject.raycast( raycaster, intersects );\n\n\t}\n\n\tif ( recursive === true ) {\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( children[ i ], raycaster, intersects, true );\n\n\t\t}\n\n\t}\n\n}\n\nObject.assign( Raycaster.prototype, {\n\n\tset: function ( origin, direction ) {\n\n\t\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\t\tthis.ray.set( origin, direction );\n\n\t},\n\n\tsetFromCamera: function ( coords, camera ) {\n\n\t\tif ( ( camera && camera.isPerspectiveCamera ) ) {\n\n\t\t\tthis.ray.origin.setFromMatrixPosition( camera.matrixWorld );\n\t\t\tthis.ray.direction.set( coords.x, coords.y, 0.5 ).unproject( camera ).sub( this.ray.origin ).normalize();\n\t\t\tthis.camera = camera;\n\n\t\t} else if ( ( camera && camera.isOrthographicCamera ) ) {\n\n\t\t\tthis.ray.origin.set( coords.x, coords.y, ( camera.near + camera.far ) / ( camera.near - camera.far ) ).unproject( camera ); // set origin in plane of camera\n\t\t\tthis.ray.direction.set( 0, 0, - 1 ).transformDirection( camera.matrixWorld );\n\t\t\tthis.camera = camera;\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.Raycaster: Unsupported camera type.' );\n\n\t\t}\n\n\t},\n\n\tintersectObject: function ( object, recursive, optionalTarget ) {\n\n\t\tconst intersects = optionalTarget || [];\n\n\t\tintersectObject( object, this, intersects, recursive );\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t},\n\n\tintersectObjects: function ( objects, recursive, optionalTarget ) {\n\n\t\tconst intersects = optionalTarget || [];\n\n\t\tif ( Array.isArray( objects ) === false ) {\n\n\t\t\tconsole.warn( 'THREE.Raycaster.intersectObjects: objects is not an Array.' );\n\t\t\treturn intersects;\n\n\t\t}\n\n\t\tfor ( let i = 0, l = objects.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( objects[ i ], this, intersects, recursive );\n\n\t\t}\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t}\n\n} );\n\n/**\n * Ref: https://en.wikipedia.org/wiki/Spherical_coordinate_system\n *\n * The polar angle (phi) is measured from the positive y-axis. The positive y-axis is up.\n * The azimuthal angle (theta) is measured from the positive z-axis.\n */\n\nclass Spherical {\n\n\tconstructor( radius = 1, phi = 0, theta = 0 ) {\n\n\t\tthis.radius = radius;\n\t\tthis.phi = phi; // polar angle\n\t\tthis.theta = theta; // azimuthal angle\n\n\t\treturn this;\n\n\t}\n\n\tset( radius, phi, theta ) {\n\n\t\tthis.radius = radius;\n\t\tthis.phi = phi;\n\t\tthis.theta = theta;\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.phi = other.phi;\n\t\tthis.theta = other.theta;\n\n\t\treturn this;\n\n\t}\n\n\t// restrict phi to be betwee EPS and PI-EPS\n\tmakeSafe() {\n\n\t\tconst EPS = 0.000001;\n\t\tthis.phi = Math.max( EPS, Math.min( Math.PI - EPS, this.phi ) );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromVector3( v ) {\n\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\n\n\t}\n\n\tsetFromCartesianCoords( x, y, z ) {\n\n\t\tthis.radius = Math.sqrt( x * x + y * y + z * z );\n\n\t\tif ( this.radius === 0 ) {\n\n\t\t\tthis.theta = 0;\n\t\t\tthis.phi = 0;\n\n\t\t} else {\n\n\t\t\tthis.theta = Math.atan2( x, z );\n\t\t\tthis.phi = Math.acos( MathUtils.clamp( y / this.radius, - 1, 1 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\n/**\n * Ref: https://en.wikipedia.org/wiki/Cylindrical_coordinate_system\n */\n\nclass Cylindrical {\n\n\tconstructor( radius, theta, y ) {\n\n\t\tthis.radius = ( radius !== undefined ) ? radius : 1.0; // distance from the origin to a point in the x-z plane\n\t\tthis.theta = ( theta !== undefined ) ? theta : 0; // counterclockwise angle in the x-z plane measured in radians from the positive z-axis\n\t\tthis.y = ( y !== undefined ) ? y : 0; // height above the x-z plane\n\n\t\treturn this;\n\n\t}\n\n\tset( radius, theta, y ) {\n\n\t\tthis.radius = radius;\n\t\tthis.theta = theta;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.theta = other.theta;\n\t\tthis.y = other.y;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromVector3( v ) {\n\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\n\n\t}\n\n\tsetFromCartesianCoords( x, y, z ) {\n\n\t\tthis.radius = Math.sqrt( x * x + z * z );\n\t\tthis.theta = Math.atan2( x, z );\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n}\n\nconst _vector$7 = /*@__PURE__*/ new Vector2();\n\nclass Box2 {\n\n\tconstructor( min, max ) {\n\n\t\tObject.defineProperty( this, 'isBox2', { value: true } );\n\n\t\tthis.min = ( min !== undefined ) ? min : new Vector2( + Infinity, + Infinity );\n\t\tthis.max = ( max !== undefined ) ? max : new Vector2( - Infinity, - Infinity );\n\n\t}\n\n\tset( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCenterAndSize( center, size ) {\n\n\t\tconst halfSize = _vector$7.copy( size ).multiplyScalar( 0.5 );\n\t\tthis.min.copy( center ).sub( halfSize );\n\t\tthis.max.copy( center ).add( halfSize );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tmakeEmpty() {\n\n\t\tthis.min.x = this.min.y = + Infinity;\n\t\tthis.max.x = this.max.y = - Infinity;\n\n\t\treturn this;\n\n\t}\n\n\tisEmpty() {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y );\n\n\t}\n\n\tgetCenter( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .getCenter() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t}\n\n\tgetSize( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .getSize() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t}\n\n\texpandByPoint( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t}\n\n\texpandByVector( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t}\n\n\texpandByScalar( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ? false : true;\n\n\t}\n\n\tcontainsBox( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y;\n\n\t}\n\n\tgetParameter( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .getParameter() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y )\n\t\t);\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\t// using 4 splitting planes to rule out intersections\n\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ? false : true;\n\n\t}\n\n\tclampPoint( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\tconst clampedPoint = _vector$7.copy( point ).clamp( this.min, this.max );\n\t\treturn clampedPoint.sub( point ).length();\n\n\t}\n\n\tintersect( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tunion( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t}\n\n\tequals( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n}\n\nconst _startP = /*@__PURE__*/ new Vector3();\nconst _startEnd = /*@__PURE__*/ new Vector3();\n\nclass Line3 {\n\n\tconstructor( start, end ) {\n\n\t\tthis.start = ( start !== undefined ) ? start : new Vector3();\n\t\tthis.end = ( end !== undefined ) ? end : new Vector3();\n\n\t}\n\n\tset( start, end ) {\n\n\t\tthis.start.copy( start );\n\t\tthis.end.copy( end );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( line ) {\n\n\t\tthis.start.copy( line.start );\n\t\tthis.end.copy( line.end );\n\n\t\treturn this;\n\n\t}\n\n\tgetCenter( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .getCenter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.addVectors( this.start, this.end ).multiplyScalar( 0.5 );\n\n\t}\n\n\tdelta( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .delta() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.subVectors( this.end, this.start );\n\n\t}\n\n\tdistanceSq() {\n\n\t\treturn this.start.distanceToSquared( this.end );\n\n\t}\n\n\tdistance() {\n\n\t\treturn this.start.distanceTo( this.end );\n\n\t}\n\n\tat( t, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .at() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\n\n\t}\n\n\tclosestPointToPointParameter( point, clampToLine ) {\n\n\t\t_startP.subVectors( point, this.start );\n\t\t_startEnd.subVectors( this.end, this.start );\n\n\t\tconst startEnd2 = _startEnd.dot( _startEnd );\n\t\tconst startEnd_startP = _startEnd.dot( _startP );\n\n\t\tlet t = startEnd_startP / startEnd2;\n\n\t\tif ( clampToLine ) {\n\n\t\t\tt = MathUtils.clamp( t, 0, 1 );\n\n\t\t}\n\n\t\treturn t;\n\n\t}\n\n\tclosestPointToPoint( point, clampToLine, target ) {\n\n\t\tconst t = this.closestPointToPointParameter( point, clampToLine );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tthis.start.applyMatrix4( matrix );\n\t\tthis.end.applyMatrix4( matrix );\n\n\t\treturn this;\n\n\t}\n\n\tequals( line ) {\n\n\t\treturn line.start.equals( this.start ) && line.end.equals( this.end );\n\n\t}\n\n}\n\nfunction ImmediateRenderObject( material ) {\n\n\tObject3D.call( this );\n\n\tthis.material = material;\n\tthis.render = function ( /* renderCallback */ ) {};\n\n\tthis.hasPositions = false;\n\tthis.hasNormals = false;\n\tthis.hasColors = false;\n\tthis.hasUvs = false;\n\n\tthis.positionArray = null;\n\tthis.normalArray = null;\n\tthis.colorArray = null;\n\tthis.uvArray = null;\n\n\tthis.count = 0;\n\n}\n\nImmediateRenderObject.prototype = Object.create( Object3D.prototype );\nImmediateRenderObject.prototype.constructor = ImmediateRenderObject;\n\nImmediateRenderObject.prototype.isImmediateRenderObject = true;\n\nconst _vector$8 = /*@__PURE__*/ new Vector3();\n\nclass SpotLightHelper extends Object3D {\n\n\tconstructor( light, color ) {\n\n\t\tsuper();\n\t\tthis.light = light;\n\t\tthis.light.updateMatrixWorld();\n\n\t\tthis.matrix = light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.color = color;\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tconst positions = [\n\t\t\t0, 0, 0, \t0, 0, 1,\n\t\t\t0, 0, 0, \t1, 0, 1,\n\t\t\t0, 0, 0,\t- 1, 0, 1,\n\t\t\t0, 0, 0, \t0, 1, 1,\n\t\t\t0, 0, 0, \t0, - 1, 1\n\t\t];\n\n\t\tfor ( let i = 0, j = 1, l = 32; i < l; i ++, j ++ ) {\n\n\t\t\tconst p1 = ( i / l ) * Math.PI * 2;\n\t\t\tconst p2 = ( j / l ) * Math.PI * 2;\n\n\t\t\tpositions.push(\n\t\t\t\tMath.cos( p1 ), Math.sin( p1 ), 1,\n\t\t\t\tMath.cos( p2 ), Math.sin( p2 ), 1\n\t\t\t);\n\n\t\t}\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { fog: false, toneMapped: false } );\n\n\t\tthis.cone = new LineSegments( geometry, material );\n\t\tthis.add( this.cone );\n\n\t\tthis.update();\n\n\t}\n\n\tdispose() {\n\n\t\tthis.cone.geometry.dispose();\n\t\tthis.cone.material.dispose();\n\n\t}\n\n\tupdate() {\n\n\t\tthis.light.updateMatrixWorld();\n\n\t\tconst coneLength = this.light.distance ? this.light.distance : 1000;\n\t\tconst coneWidth = coneLength * Math.tan( this.light.angle );\n\n\t\tthis.cone.scale.set( coneWidth, coneWidth, coneLength );\n\n\t\t_vector$8.setFromMatrixPosition( this.light.target.matrixWorld );\n\n\t\tthis.cone.lookAt( _vector$8 );\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.cone.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.cone.material.color.copy( this.light.color );\n\n\t\t}\n\n\t}\n\n}\n\nconst _vector$9 = /*@__PURE__*/ new Vector3();\nconst _boneMatrix = /*@__PURE__*/ new Matrix4();\nconst _matrixWorldInv = /*@__PURE__*/ new Matrix4();\n\n\nclass SkeletonHelper extends LineSegments {\n\n\tconstructor( object ) {\n\n\t\tconst bones = getBoneList( object );\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tconst vertices = [];\n\t\tconst colors = [];\n\n\t\tconst color1 = new Color( 0, 0, 1 );\n\t\tconst color2 = new Color( 0, 1, 0 );\n\n\t\tfor ( let i = 0; i < bones.length; i ++ ) {\n\n\t\t\tconst bone = bones[ i ];\n\n\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\tvertices.push( 0, 0, 0 );\n\t\t\t\tvertices.push( 0, 0, 0 );\n\t\t\t\tcolors.push( color1.r, color1.g, color1.b );\n\t\t\t\tcolors.push( color2.r, color2.g, color2.b );\n\n\t\t\t}\n\n\t\t}\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, depthTest: false, depthWrite: false, toneMapped: false, transparent: true } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'SkeletonHelper';\n\t\tthis.isSkeletonHelper = true;\n\n\t\tthis.root = object;\n\t\tthis.bones = bones;\n\n\t\tthis.matrix = object.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tconst bones = this.bones;\n\n\t\tconst geometry = this.geometry;\n\t\tconst position = geometry.getAttribute( 'position' );\n\n\t\t_matrixWorldInv.copy( this.root.matrixWorld ).invert();\n\n\t\tfor ( let i = 0, j = 0; i < bones.length; i ++ ) {\n\n\t\t\tconst bone = bones[ i ];\n\n\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\t_boneMatrix.multiplyMatrices( _matrixWorldInv, bone.matrixWorld );\n\t\t\t\t_vector$9.setFromMatrixPosition( _boneMatrix );\n\t\t\t\tposition.setXYZ( j, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t\t\t_boneMatrix.multiplyMatrices( _matrixWorldInv, bone.parent.matrixWorld );\n\t\t\t\t_vector$9.setFromMatrixPosition( _boneMatrix );\n\t\t\t\tposition.setXYZ( j + 1, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t\t\tj += 2;\n\n\t\t\t}\n\n\t\t}\n\n\t\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t}\n\n}\n\n\nfunction getBoneList( object ) {\n\n\tconst boneList = [];\n\n\tif ( object && object.isBone ) {\n\n\t\tboneList.push( object );\n\n\t}\n\n\tfor ( let i = 0; i < object.children.length; i ++ ) {\n\n\t\tboneList.push.apply( boneList, getBoneList( object.children[ i ] ) );\n\n\t}\n\n\treturn boneList;\n\n}\n\nclass PointLightHelper extends Mesh {\n\n\tconstructor( light, sphereSize, color ) {\n\n\t\tconst geometry = new SphereBufferGeometry( sphereSize, 4, 2 );\n\t\tconst material = new MeshBasicMaterial( { wireframe: true, fog: false, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.light = light;\n\t\tthis.light.updateMatrixWorld();\n\n\t\tthis.color = color;\n\n\t\tthis.type = 'PointLightHelper';\n\n\t\tthis.matrix = this.light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.update();\n\n\n\t\t/*\n\t// TODO: delete this comment?\n\tconst distanceGeometry = new THREE.IcosahedronBufferGeometry( 1, 2 );\n\tconst distanceMaterial = new THREE.MeshBasicMaterial( { color: hexColor, fog: false, wireframe: true, opacity: 0.1, transparent: true } );\n\n\tthis.lightSphere = new THREE.Mesh( bulbGeometry, bulbMaterial );\n\tthis.lightDistance = new THREE.Mesh( distanceGeometry, distanceMaterial );\n\n\tconst d = light.distance;\n\n\tif ( d === 0.0 ) {\n\n\t\tthis.lightDistance.visible = false;\n\n\t} else {\n\n\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t}\n\n\tthis.add( this.lightDistance );\n\t*/\n\n\t}\n\n\tdispose() {\n\n\t\tthis.geometry.dispose();\n\t\tthis.material.dispose();\n\n\t}\n\n\tupdate() {\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.material.color.copy( this.light.color );\n\n\t\t}\n\n\t\t/*\n\t\tconst d = this.light.distance;\n\n\t\tif ( d === 0.0 ) {\n\n\t\t\tthis.lightDistance.visible = false;\n\n\t\t} else {\n\n\t\t\tthis.lightDistance.visible = true;\n\t\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t\t}\n\t\t*/\n\n\t}\n\n}\n\nconst _vector$a = /*@__PURE__*/ new Vector3();\nconst _color1 = /*@__PURE__*/ new Color();\nconst _color2 = /*@__PURE__*/ new Color();\n\nclass HemisphereLightHelper extends Object3D {\n\n\tconstructor( light, size, color ) {\n\n\t\tsuper();\n\t\tthis.light = light;\n\t\tthis.light.updateMatrixWorld();\n\n\t\tthis.matrix = light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.color = color;\n\n\t\tconst geometry = new OctahedronBufferGeometry( size );\n\t\tgeometry.rotateY( Math.PI * 0.5 );\n\n\t\tthis.material = new MeshBasicMaterial( { wireframe: true, fog: false, toneMapped: false } );\n\t\tif ( this.color === undefined ) this.material.vertexColors = true;\n\n\t\tconst position = geometry.getAttribute( 'position' );\n\t\tconst colors = new Float32Array( position.count * 3 );\n\n\t\tgeometry.setAttribute( 'color', new BufferAttribute( colors, 3 ) );\n\n\t\tthis.add( new Mesh( geometry, this.material ) );\n\n\t\tthis.update();\n\n\t}\n\n\tdispose() {\n\n\t\tthis.children[ 0 ].geometry.dispose();\n\t\tthis.children[ 0 ].material.dispose();\n\n\t}\n\n\tupdate() {\n\n\t\tconst mesh = this.children[ 0 ];\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tconst colors = mesh.geometry.getAttribute( 'color' );\n\n\t\t\t_color1.copy( this.light.color );\n\t\t\t_color2.copy( this.light.groundColor );\n\n\t\t\tfor ( let i = 0, l = colors.count; i < l; i ++ ) {\n\n\t\t\t\tconst color = ( i < ( l / 2 ) ) ? _color1 : _color2;\n\n\t\t\t\tcolors.setXYZ( i, color.r, color.g, color.b );\n\n\t\t\t}\n\n\t\t\tcolors.needsUpdate = true;\n\n\t\t}\n\n\t\tmesh.lookAt( _vector$a.setFromMatrixPosition( this.light.matrixWorld ).negate() );\n\n\t}\n\n}\n\nclass GridHelper extends LineSegments {\n\n\tconstructor( size = 10, divisions = 10, color1 = 0x444444, color2 = 0x888888 ) {\n\n\t\tcolor1 = new Color( color1 );\n\t\tcolor2 = new Color( color2 );\n\n\t\tconst center = divisions / 2;\n\t\tconst step = size / divisions;\n\t\tconst halfSize = size / 2;\n\n\t\tconst vertices = [], colors = [];\n\n\t\tfor ( let i = 0, j = 0, k = - halfSize; i <= divisions; i ++, k += step ) {\n\n\t\t\tvertices.push( - halfSize, 0, k, halfSize, 0, k );\n\t\t\tvertices.push( k, 0, - halfSize, k, 0, halfSize );\n\n\t\t\tconst color = i === center ? color1 : color2;\n\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\n\t\t}\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'GridHelper';\n\n\t}\n\n}\n\nclass PolarGridHelper extends LineSegments {\n\n\tconstructor( radius = 10, radials = 16, circles = 8, divisions = 64, color1 = 0x444444, color2 = 0x888888 ) {\n\n\t\tcolor1 = new Color( color1 );\n\t\tcolor2 = new Color( color2 );\n\n\t\tconst vertices = [];\n\t\tconst colors = [];\n\n\t\t// create the radials\n\n\t\tfor ( let i = 0; i <= radials; i ++ ) {\n\n\t\t\tconst v = ( i / radials ) * ( Math.PI * 2 );\n\n\t\t\tconst x = Math.sin( v ) * radius;\n\t\t\tconst z = Math.cos( v ) * radius;\n\n\t\t\tvertices.push( 0, 0, 0 );\n\t\t\tvertices.push( x, 0, z );\n\n\t\t\tconst color = ( i & 1 ) ? color1 : color2;\n\n\t\t\tcolors.push( color.r, color.g, color.b );\n\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t}\n\n\t\t// create the circles\n\n\t\tfor ( let i = 0; i <= circles; i ++ ) {\n\n\t\t\tconst color = ( i & 1 ) ? color1 : color2;\n\n\t\t\tconst r = radius - ( radius / circles * i );\n\n\t\t\tfor ( let j = 0; j < divisions; j ++ ) {\n\n\t\t\t\t// first vertex\n\n\t\t\t\tlet v = ( j / divisions ) * ( Math.PI * 2 );\n\n\t\t\t\tlet x = Math.sin( v ) * r;\n\t\t\t\tlet z = Math.cos( v ) * r;\n\n\t\t\t\tvertices.push( x, 0, z );\n\t\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t\t\t// second vertex\n\n\t\t\t\tv = ( ( j + 1 ) / divisions ) * ( Math.PI * 2 );\n\n\t\t\t\tx = Math.sin( v ) * r;\n\t\t\t\tz = Math.cos( v ) * r;\n\n\t\t\t\tvertices.push( x, 0, z );\n\t\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'PolarGridHelper';\n\n\t}\n\n}\n\nconst _v1$6 = /*@__PURE__*/ new Vector3();\nconst _v2$3 = /*@__PURE__*/ new Vector3();\nconst _v3$1 = /*@__PURE__*/ new Vector3();\n\nclass DirectionalLightHelper extends Object3D {\n\n\tconstructor( light, size, color ) {\n\n\t\tsuper();\n\t\tthis.light = light;\n\t\tthis.light.updateMatrixWorld();\n\n\t\tthis.matrix = light.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.color = color;\n\n\t\tif ( size === undefined ) size = 1;\n\n\t\tlet geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( [\n\t\t\t- size, size, 0,\n\t\t\tsize, size, 0,\n\t\t\tsize, - size, 0,\n\t\t\t- size, - size, 0,\n\t\t\t- size, size, 0\n\t\t], 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { fog: false, toneMapped: false } );\n\n\t\tthis.lightPlane = new Line( geometry, material );\n\t\tthis.add( this.lightPlane );\n\n\t\tgeometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 0, 1 ], 3 ) );\n\n\t\tthis.targetLine = new Line( geometry, material );\n\t\tthis.add( this.targetLine );\n\n\t\tthis.update();\n\n\t}\n\n\tdispose() {\n\n\t\tthis.lightPlane.geometry.dispose();\n\t\tthis.lightPlane.material.dispose();\n\t\tthis.targetLine.geometry.dispose();\n\t\tthis.targetLine.material.dispose();\n\n\t}\n\n\tupdate() {\n\n\t\t_v1$6.setFromMatrixPosition( this.light.matrixWorld );\n\t\t_v2$3.setFromMatrixPosition( this.light.target.matrixWorld );\n\t\t_v3$1.subVectors( _v2$3, _v1$6 );\n\n\t\tthis.lightPlane.lookAt( _v2$3 );\n\n\t\tif ( this.color !== undefined ) {\n\n\t\t\tthis.lightPlane.material.color.set( this.color );\n\t\t\tthis.targetLine.material.color.set( this.color );\n\n\t\t} else {\n\n\t\t\tthis.lightPlane.material.color.copy( this.light.color );\n\t\t\tthis.targetLine.material.color.copy( this.light.color );\n\n\t\t}\n\n\t\tthis.targetLine.lookAt( _v2$3 );\n\t\tthis.targetLine.scale.z = _v3$1.length();\n\n\t}\n\n}\n\nconst _vector$b = /*@__PURE__*/ new Vector3();\nconst _camera = /*@__PURE__*/ new Camera();\n\n/**\n *\t- shows frustum, line of sight and up of the camera\n *\t- suitable for fast updates\n * \t- based on frustum visualization in lightgl.js shadowmap example\n *\t\thttp://evanw.github.com/lightgl.js/tests/shadowmap.html\n */\n\nclass CameraHelper extends LineSegments {\n\n\tconstructor( camera ) {\n\n\t\tconst geometry = new BufferGeometry();\n\t\tconst material = new LineBasicMaterial( { color: 0xffffff, vertexColors: true, toneMapped: false } );\n\n\t\tconst vertices = [];\n\t\tconst colors = [];\n\n\t\tconst pointMap = {};\n\n\t\t// colors\n\n\t\tconst colorFrustum = new Color( 0xffaa00 );\n\t\tconst colorCone = new Color( 0xff0000 );\n\t\tconst colorUp = new Color( 0x00aaff );\n\t\tconst colorTarget = new Color( 0xffffff );\n\t\tconst colorCross = new Color( 0x333333 );\n\n\t\t// near\n\n\t\taddLine( 'n1', 'n2', colorFrustum );\n\t\taddLine( 'n2', 'n4', colorFrustum );\n\t\taddLine( 'n4', 'n3', colorFrustum );\n\t\taddLine( 'n3', 'n1', colorFrustum );\n\n\t\t// far\n\n\t\taddLine( 'f1', 'f2', colorFrustum );\n\t\taddLine( 'f2', 'f4', colorFrustum );\n\t\taddLine( 'f4', 'f3', colorFrustum );\n\t\taddLine( 'f3', 'f1', colorFrustum );\n\n\t\t// sides\n\n\t\taddLine( 'n1', 'f1', colorFrustum );\n\t\taddLine( 'n2', 'f2', colorFrustum );\n\t\taddLine( 'n3', 'f3', colorFrustum );\n\t\taddLine( 'n4', 'f4', colorFrustum );\n\n\t\t// cone\n\n\t\taddLine( 'p', 'n1', colorCone );\n\t\taddLine( 'p', 'n2', colorCone );\n\t\taddLine( 'p', 'n3', colorCone );\n\t\taddLine( 'p', 'n4', colorCone );\n\n\t\t// up\n\n\t\taddLine( 'u1', 'u2', colorUp );\n\t\taddLine( 'u2', 'u3', colorUp );\n\t\taddLine( 'u3', 'u1', colorUp );\n\n\t\t// target\n\n\t\taddLine( 'c', 't', colorTarget );\n\t\taddLine( 'p', 'c', colorCross );\n\n\t\t// cross\n\n\t\taddLine( 'cn1', 'cn2', colorCross );\n\t\taddLine( 'cn3', 'cn4', colorCross );\n\n\t\taddLine( 'cf1', 'cf2', colorCross );\n\t\taddLine( 'cf3', 'cf4', colorCross );\n\n\t\tfunction addLine( a, b, color ) {\n\n\t\t\taddPoint( a, color );\n\t\t\taddPoint( b, color );\n\n\t\t}\n\n\t\tfunction addPoint( id, color ) {\n\n\t\t\tvertices.push( 0, 0, 0 );\n\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t\tif ( pointMap[ id ] === undefined ) {\n\n\t\t\t\tpointMap[ id ] = [];\n\n\t\t\t}\n\n\t\t\tpointMap[ id ].push( ( vertices.length / 3 ) - 1 );\n\n\t\t}\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'CameraHelper';\n\n\t\tthis.camera = camera;\n\t\tif ( this.camera.updateProjectionMatrix ) this.camera.updateProjectionMatrix();\n\n\t\tthis.matrix = camera.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.pointMap = pointMap;\n\n\t\tthis.update();\n\n\t}\n\n\tupdate() {\n\n\t\tconst geometry = this.geometry;\n\t\tconst pointMap = this.pointMap;\n\n\t\tconst w = 1, h = 1;\n\n\t\t// we need just camera projection matrix inverse\n\t\t// world matrix must be identity\n\n\t\t_camera.projectionMatrixInverse.copy( this.camera.projectionMatrixInverse );\n\n\t\t// center / target\n\n\t\tsetPoint( 'c', pointMap, geometry, _camera, 0, 0, - 1 );\n\t\tsetPoint( 't', pointMap, geometry, _camera, 0, 0, 1 );\n\n\t\t// near\n\n\t\tsetPoint( 'n1', pointMap, geometry, _camera, - w, - h, - 1 );\n\t\tsetPoint( 'n2', pointMap, geometry, _camera, w, - h, - 1 );\n\t\tsetPoint( 'n3', pointMap, geometry, _camera, - w, h, - 1 );\n\t\tsetPoint( 'n4', pointMap, geometry, _camera, w, h, - 1 );\n\n\t\t// far\n\n\t\tsetPoint( 'f1', pointMap, geometry, _camera, - w, - h, 1 );\n\t\tsetPoint( 'f2', pointMap, geometry, _camera, w, - h, 1 );\n\t\tsetPoint( 'f3', pointMap, geometry, _camera, - w, h, 1 );\n\t\tsetPoint( 'f4', pointMap, geometry, _camera, w, h, 1 );\n\n\t\t// up\n\n\t\tsetPoint( 'u1', pointMap, geometry, _camera, w * 0.7, h * 1.1, - 1 );\n\t\tsetPoint( 'u2', pointMap, geometry, _camera, - w * 0.7, h * 1.1, - 1 );\n\t\tsetPoint( 'u3', pointMap, geometry, _camera, 0, h * 2, - 1 );\n\n\t\t// cross\n\n\t\tsetPoint( 'cf1', pointMap, geometry, _camera, - w, 0, 1 );\n\t\tsetPoint( 'cf2', pointMap, geometry, _camera, w, 0, 1 );\n\t\tsetPoint( 'cf3', pointMap, geometry, _camera, 0, - h, 1 );\n\t\tsetPoint( 'cf4', pointMap, geometry, _camera, 0, h, 1 );\n\n\t\tsetPoint( 'cn1', pointMap, geometry, _camera, - w, 0, - 1 );\n\t\tsetPoint( 'cn2', pointMap, geometry, _camera, w, 0, - 1 );\n\t\tsetPoint( 'cn3', pointMap, geometry, _camera, 0, - h, - 1 );\n\t\tsetPoint( 'cn4', pointMap, geometry, _camera, 0, h, - 1 );\n\n\t\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n\t}\n\n}\n\n\nfunction setPoint( point, pointMap, geometry, camera, x, y, z ) {\n\n\t_vector$b.set( x, y, z ).unproject( camera );\n\n\tconst points = pointMap[ point ];\n\n\tif ( points !== undefined ) {\n\n\t\tconst position = geometry.getAttribute( 'position' );\n\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tposition.setXYZ( points[ i ], _vector$b.x, _vector$b.y, _vector$b.z );\n\n\t\t}\n\n\t}\n\n}\n\nconst _box$3 = /*@__PURE__*/ new Box3();\n\nclass BoxHelper extends LineSegments {\n\n\tconstructor( object, color = 0xffff00 ) {\n\n\t\tconst indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\t\tconst positions = new Float32Array( 8 * 3 );\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\n\t\tgeometry.setAttribute( 'position', new BufferAttribute( positions, 3 ) );\n\n\t\tsuper( geometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\n\t\tthis.object = object;\n\t\tthis.type = 'BoxHelper';\n\n\t\tthis.matrixAutoUpdate = false;\n\n\t\tthis.update();\n\n\t}\n\n\tupdate( object ) {\n\n\t\tif ( object !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.BoxHelper: .update() has no longer arguments.' );\n\n\t\t}\n\n\t\tif ( this.object !== undefined ) {\n\n\t\t\t_box$3.setFromObject( this.object );\n\n\t\t}\n\n\t\tif ( _box$3.isEmpty() ) return;\n\n\t\tconst min = _box$3.min;\n\t\tconst max = _box$3.max;\n\n\t\t/*\n\t\t\t5____4\n\t\t1/___0/|\n\t\t| 6__|_7\n\t\t2/___3/\n\n\t\t0: max.x, max.y, max.z\n\t\t1: min.x, max.y, max.z\n\t\t2: min.x, min.y, max.z\n\t\t3: max.x, min.y, max.z\n\t\t4: max.x, max.y, min.z\n\t\t5: min.x, max.y, min.z\n\t\t6: min.x, min.y, min.z\n\t\t7: max.x, min.y, min.z\n\t\t*/\n\n\t\tconst position = this.geometry.attributes.position;\n\t\tconst array = position.array;\n\n\t\tarray[ 0 ] = max.x; array[ 1 ] = max.y; array[ 2 ] = max.z;\n\t\tarray[ 3 ] = min.x; array[ 4 ] = max.y; array[ 5 ] = max.z;\n\t\tarray[ 6 ] = min.x; array[ 7 ] = min.y; array[ 8 ] = max.z;\n\t\tarray[ 9 ] = max.x; array[ 10 ] = min.y; array[ 11 ] = max.z;\n\t\tarray[ 12 ] = max.x; array[ 13 ] = max.y; array[ 14 ] = min.z;\n\t\tarray[ 15 ] = min.x; array[ 16 ] = max.y; array[ 17 ] = min.z;\n\t\tarray[ 18 ] = min.x; array[ 19 ] = min.y; array[ 20 ] = min.z;\n\t\tarray[ 21 ] = max.x; array[ 22 ] = min.y; array[ 23 ] = min.z;\n\n\t\tposition.needsUpdate = true;\n\n\t\tthis.geometry.computeBoundingSphere();\n\n\n\t}\n\n\tsetFromObject( object ) {\n\n\t\tthis.object = object;\n\t\tthis.update();\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tLineSegments.prototype.copy.call( this, source );\n\n\t\tthis.object = source.object;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass Box3Helper extends LineSegments {\n\n\tconstructor( box, color = 0xffff00 ) {\n\n\t\tconst indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\n\t\tconst positions = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, - 1, - 1, 1, - 1, - 1, - 1, - 1, 1, - 1, - 1 ];\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n\t\tsuper( geometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\n\t\tthis.box = box;\n\n\t\tthis.type = 'Box3Helper';\n\n\t\tthis.geometry.computeBoundingSphere();\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tconst box = this.box;\n\n\t\tif ( box.isEmpty() ) return;\n\n\t\tbox.getCenter( this.position );\n\n\t\tbox.getSize( this.scale );\n\n\t\tthis.scale.multiplyScalar( 0.5 );\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t}\n\n}\n\nclass PlaneHelper extends Line {\n\n\tconstructor( plane, size = 1, hex = 0xffff00 ) {\n\n\t\tconst color = hex;\n\n\t\tconst positions = [ 1, - 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0 ];\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\t\tgeometry.computeBoundingSphere();\n\n\t\tsuper( geometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\n\t\tthis.type = 'PlaneHelper';\n\n\t\tthis.plane = plane;\n\n\t\tthis.size = size;\n\n\t\tconst positions2 = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, - 1, 1, 1, - 1, 1 ];\n\n\t\tconst geometry2 = new BufferGeometry();\n\t\tgeometry2.setAttribute( 'position', new Float32BufferAttribute( positions2, 3 ) );\n\t\tgeometry2.computeBoundingSphere();\n\n\t\tthis.add( new Mesh( geometry2, new MeshBasicMaterial( { color: color, opacity: 0.2, transparent: true, depthWrite: false, toneMapped: false } ) ) );\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tlet scale = - this.plane.constant;\n\n\t\tif ( Math.abs( scale ) < 1e-8 ) scale = 1e-8; // sign does not matter\n\n\t\tthis.scale.set( 0.5 * this.size, 0.5 * this.size, scale );\n\n\t\tthis.children[ 0 ].material.side = ( scale < 0 ) ? BackSide : FrontSide; // renderer flips side when determinant < 0; flipping not wanted here\n\n\t\tthis.lookAt( this.plane.normal );\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t}\n\n}\n\nconst _axis = /*@__PURE__*/ new Vector3();\nlet _lineGeometry, _coneGeometry;\n\nclass ArrowHelper extends Object3D {\n\n\tconstructor( dir, origin, length, color, headLength, headWidth ) {\n\n\t\tsuper();\n\t\t// dir is assumed to be normalized\n\n\t\tthis.type = 'ArrowHelper';\n\n\t\tif ( dir === undefined ) dir = new Vector3( 0, 0, 1 );\n\t\tif ( origin === undefined ) origin = new Vector3( 0, 0, 0 );\n\t\tif ( length === undefined ) length = 1;\n\t\tif ( color === undefined ) color = 0xffff00;\n\t\tif ( headLength === undefined ) headLength = 0.2 * length;\n\t\tif ( headWidth === undefined ) headWidth = 0.2 * headLength;\n\n\t\tif ( _lineGeometry === undefined ) {\n\n\t\t\t_lineGeometry = new BufferGeometry();\n\t\t\t_lineGeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 1, 0 ], 3 ) );\n\n\t\t\t_coneGeometry = new CylinderBufferGeometry( 0, 0.5, 1, 5, 1 );\n\t\t\t_coneGeometry.translate( 0, - 0.5, 0 );\n\n\t\t}\n\n\t\tthis.position.copy( origin );\n\n\t\tthis.line = new Line( _lineGeometry, new LineBasicMaterial( { color: color, toneMapped: false } ) );\n\t\tthis.line.matrixAutoUpdate = false;\n\t\tthis.add( this.line );\n\n\t\tthis.cone = new Mesh( _coneGeometry, new MeshBasicMaterial( { color: color, toneMapped: false } ) );\n\t\tthis.cone.matrixAutoUpdate = false;\n\t\tthis.add( this.cone );\n\n\t\tthis.setDirection( dir );\n\t\tthis.setLength( length, headLength, headWidth );\n\n\t}\n\n\tsetDirection( dir ) {\n\n\t\t// dir is assumed to be normalized\n\n\t\tif ( dir.y > 0.99999 ) {\n\n\t\t\tthis.quaternion.set( 0, 0, 0, 1 );\n\n\t\t} else if ( dir.y < - 0.99999 ) {\n\n\t\t\tthis.quaternion.set( 1, 0, 0, 0 );\n\n\t\t} else {\n\n\t\t\t_axis.set( dir.z, 0, - dir.x ).normalize();\n\n\t\t\tconst radians = Math.acos( dir.y );\n\n\t\t\tthis.quaternion.setFromAxisAngle( _axis, radians );\n\n\t\t}\n\n\t}\n\n\tsetLength( length, headLength, headWidth ) {\n\n\t\tif ( headLength === undefined ) headLength = 0.2 * length;\n\t\tif ( headWidth === undefined ) headWidth = 0.2 * headLength;\n\n\t\tthis.line.scale.set( 1, Math.max( 0.0001, length - headLength ), 1 ); // see #17458\n\t\tthis.line.updateMatrix();\n\n\t\tthis.cone.scale.set( headWidth, headLength, headWidth );\n\t\tthis.cone.position.y = length;\n\t\tthis.cone.updateMatrix();\n\n\t}\n\n\tsetColor( color ) {\n\n\t\tthis.line.material.color.set( color );\n\t\tthis.cone.material.color.set( color );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source, false );\n\n\t\tthis.line.copy( source.line );\n\t\tthis.cone.copy( source.cone );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass AxesHelper extends LineSegments {\n\n\tconstructor( size = 1 ) {\n\n\t\tconst vertices = [\n\t\t\t0, 0, 0,\tsize, 0, 0,\n\t\t\t0, 0, 0,\t0, size, 0,\n\t\t\t0, 0, 0,\t0, 0, size\n\t\t];\n\n\t\tconst colors = [\n\t\t\t1, 0, 0,\t1, 0.6, 0,\n\t\t\t0, 1, 0,\t0.6, 1, 0,\n\t\t\t0, 0, 1,\t0, 0.6, 1\n\t\t];\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'AxesHelper';\n\n\t}\n\n}\n\nconst _floatView = new Float32Array( 1 );\nconst _int32View = new Int32Array( _floatView.buffer );\n\nconst DataUtils = {\n\n\t// Converts float32 to float16 (stored as uint16 value).\n\n\ttoHalfFloat: function ( val ) {\n\n\t\t// Source: http://gamedev.stackexchange.com/questions/17326/conversion-of-a-number-from-single-precision-floating-point-representation-to-a/17410#17410\n\n\t\t/* This method is faster than the OpenEXR implementation (very often\n\t\t* used, eg. in Ogre), with the additional benefit of rounding, inspired\n\t\t* by James Tursa?s half-precision code. */\n\n\t\t_floatView[ 0 ] = val;\n\t\tconst x = _int32View[ 0 ];\n\n\t\tlet bits = ( x >> 16 ) & 0x8000; /* Get the sign */\n\t\tlet m = ( x >> 12 ) & 0x07ff; /* Keep one extra bit for rounding */\n\t\tconst e = ( x >> 23 ) & 0xff; /* Using int is faster here */\n\n\t\t/* If zero, or denormal, or exponent underflows too much for a denormal\n\t\t\t* half, return signed zero. */\n\t\tif ( e < 103 ) return bits;\n\n\t\t/* If NaN, return NaN. If Inf or exponent overflow, return Inf. */\n\t\tif ( e > 142 ) {\n\n\t\t\tbits |= 0x7c00;\n\t\t\t/* If exponent was 0xff and one mantissa bit was set, it means NaN,\n\t\t\t\t\t\t* not Inf, so make sure we set one mantissa bit too. */\n\t\t\tbits |= ( ( e == 255 ) ? 0 : 1 ) && ( x & 0x007fffff );\n\t\t\treturn bits;\n\n\t\t}\n\n\t\t/* If exponent underflows but not too much, return a denormal */\n\t\tif ( e < 113 ) {\n\n\t\t\tm |= 0x0800;\n\t\t\t/* Extra rounding may overflow and set mantissa to 0 and exponent\n\t\t\t\t* to 1, which is OK. */\n\t\t\tbits |= ( m >> ( 114 - e ) ) + ( ( m >> ( 113 - e ) ) & 1 );\n\t\t\treturn bits;\n\n\t\t}\n\n\t\tbits |= ( ( e - 112 ) << 10 ) | ( m >> 1 );\n\t\t/* Extra rounding. An overflow will set mantissa to 0 and increment\n\t\t\t* the exponent, which is OK. */\n\t\tbits += m & 1;\n\t\treturn bits;\n\n\t}\n\n};\n\nconst LOD_MIN = 4;\nconst LOD_MAX = 8;\nconst SIZE_MAX = Math.pow( 2, LOD_MAX );\n\n// The standard deviations (radians) associated with the extra mips. These are\n// chosen to approximate a Trowbridge-Reitz distribution function times the\n// geometric shadowing function. These sigma values squared must match the\n// variance #defines in cube_uv_reflection_fragment.glsl.js.\nconst EXTRA_LOD_SIGMA = [ 0.125, 0.215, 0.35, 0.446, 0.526, 0.582 ];\n\nconst TOTAL_LODS = LOD_MAX - LOD_MIN + 1 + EXTRA_LOD_SIGMA.length;\n\n// The maximum length of the blur for loop. Smaller sigmas will use fewer\n// samples and exit early, but not recompile the shader.\nconst MAX_SAMPLES = 20;\n\nconst ENCODINGS = {\n\t[ LinearEncoding ]: 0,\n\t[ sRGBEncoding ]: 1,\n\t[ RGBEEncoding ]: 2,\n\t[ RGBM7Encoding ]: 3,\n\t[ RGBM16Encoding ]: 4,\n\t[ RGBDEncoding ]: 5,\n\t[ GammaEncoding ]: 6\n};\n\nconst _flatCamera = /*@__PURE__*/ new OrthographicCamera();\nconst { _lodPlanes, _sizeLods, _sigmas } = /*@__PURE__*/ _createPlanes();\nlet _oldTarget = null;\n\n// Golden Ratio\nconst PHI = ( 1 + Math.sqrt( 5 ) ) / 2;\nconst INV_PHI = 1 / PHI;\n\n// Vertices of a dodecahedron (except the opposites, which represent the\n// same axis), used as axis directions evenly spread on a sphere.\nconst _axisDirections = [\n\t/*@__PURE__*/ new Vector3( 1, 1, 1 ),\n\t/*@__PURE__*/ new Vector3( - 1, 1, 1 ),\n\t/*@__PURE__*/ new Vector3( 1, 1, - 1 ),\n\t/*@__PURE__*/ new Vector3( - 1, 1, - 1 ),\n\t/*@__PURE__*/ new Vector3( 0, PHI, INV_PHI ),\n\t/*@__PURE__*/ new Vector3( 0, PHI, - INV_PHI ),\n\t/*@__PURE__*/ new Vector3( INV_PHI, 0, PHI ),\n\t/*@__PURE__*/ new Vector3( - INV_PHI, 0, PHI ),\n\t/*@__PURE__*/ new Vector3( PHI, INV_PHI, 0 ),\n\t/*@__PURE__*/ new Vector3( - PHI, INV_PHI, 0 ) ];\n\n/**\n * This class generates a Prefiltered, Mipmapped Radiance Environment Map\n * (PMREM) from a cubeMap environment texture. This allows different levels of\n * blur to be quickly accessed based on material roughness. It is packed into a\n * special CubeUV format that allows us to perform custom interpolation so that\n * we can support nonlinear formats such as RGBE. Unlike a traditional mipmap\n * chain, it only goes down to the LOD_MIN level (above), and then creates extra\n * even more filtered 'mips' at the same LOD_MIN resolution, associated with\n * higher roughness levels. In this way we maintain resolution to smoothly\n * interpolate diffuse lighting while limiting sampling computation.\n */\n\nclass PMREMGenerator {\n\n\tconstructor( renderer ) {\n\n\t\tthis._renderer = renderer;\n\t\tthis._pingPongRenderTarget = null;\n\n\t\tthis._blurMaterial = _getBlurShader( MAX_SAMPLES );\n\t\tthis._equirectShader = null;\n\t\tthis._cubemapShader = null;\n\n\t\tthis._compileMaterial( this._blurMaterial );\n\n\t}\n\n\t/**\n\t * Generates a PMREM from a supplied Scene, which can be faster than using an\n\t * image if networking bandwidth is low. Optional sigma specifies a blur radius\n\t * in radians to be applied to the scene before PMREM generation. Optional near\n\t * and far planes ensure the scene is rendered in its entirety (the cubeCamera\n\t * is placed at the origin).\n\t */\n\tfromScene( scene, sigma = 0, near = 0.1, far = 100 ) {\n\n\t\t_oldTarget = this._renderer.getRenderTarget();\n\t\tconst cubeUVRenderTarget = this._allocateTargets();\n\n\t\tthis._sceneToCubeUV( scene, near, far, cubeUVRenderTarget );\n\t\tif ( sigma > 0 ) {\n\n\t\t\tthis._blur( cubeUVRenderTarget, 0, 0, sigma );\n\n\t\t}\n\n\t\tthis._applyPMREM( cubeUVRenderTarget );\n\t\tthis._cleanup( cubeUVRenderTarget );\n\n\t\treturn cubeUVRenderTarget;\n\n\t}\n\n\t/**\n\t * Generates a PMREM from an equirectangular texture, which can be either LDR\n\t * (RGBFormat) or HDR (RGBEFormat). The ideal input image size is 1k (1024 x 512),\n\t * as this matches best with the 256 x 256 cubemap output.\n\t */\n\tfromEquirectangular( equirectangular ) {\n\n\t\treturn this._fromTexture( equirectangular );\n\n\t}\n\n\t/**\n\t * Generates a PMREM from an cubemap texture, which can be either LDR\n\t * (RGBFormat) or HDR (RGBEFormat). The ideal input cube size is 256 x 256,\n\t * as this matches best with the 256 x 256 cubemap output.\n\t */\n\tfromCubemap( cubemap ) {\n\n\t\treturn this._fromTexture( cubemap );\n\n\t}\n\n\t/**\n\t * Pre-compiles the cubemap shader. You can get faster start-up by invoking this method during\n\t * your texture's network fetch for increased concurrency.\n\t */\n\tcompileCubemapShader() {\n\n\t\tif ( this._cubemapShader === null ) {\n\n\t\t\tthis._cubemapShader = _getCubemapShader();\n\t\t\tthis._compileMaterial( this._cubemapShader );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Pre-compiles the equirectangular shader. You can get faster start-up by invoking this method during\n\t * your texture's network fetch for increased concurrency.\n\t */\n\tcompileEquirectangularShader() {\n\n\t\tif ( this._equirectShader === null ) {\n\n\t\t\tthis._equirectShader = _getEquirectShader();\n\t\t\tthis._compileMaterial( this._equirectShader );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Disposes of the PMREMGenerator's internal memory. Note that PMREMGenerator is a static class,\n\t * so you should not need more than one PMREMGenerator object. If you do, calling dispose() on\n\t * one of them will cause any others to also become unusable.\n\t */\n\tdispose() {\n\n\t\tthis._blurMaterial.dispose();\n\n\t\tif ( this._cubemapShader !== null ) this._cubemapShader.dispose();\n\t\tif ( this._equirectShader !== null ) this._equirectShader.dispose();\n\n\t\tfor ( let i = 0; i < _lodPlanes.length; i ++ ) {\n\n\t\t\t_lodPlanes[ i ].dispose();\n\n\t\t}\n\n\t}\n\n\t// private interface\n\n\t_cleanup( outputTarget ) {\n\n\t\tthis._pingPongRenderTarget.dispose();\n\t\tthis._renderer.setRenderTarget( _oldTarget );\n\t\toutputTarget.scissorTest = false;\n\t\t_setViewport( outputTarget, 0, 0, outputTarget.width, outputTarget.height );\n\n\t}\n\n\t_fromTexture( texture ) {\n\n\t\t_oldTarget = this._renderer.getRenderTarget();\n\t\tconst cubeUVRenderTarget = this._allocateTargets( texture );\n\t\tthis._textureToCubeUV( texture, cubeUVRenderTarget );\n\t\tthis._applyPMREM( cubeUVRenderTarget );\n\t\tthis._cleanup( cubeUVRenderTarget );\n\n\t\treturn cubeUVRenderTarget;\n\n\t}\n\n\t_allocateTargets( texture ) { // warning: null texture is valid\n\n\t\tconst params = {\n\t\t\tmagFilter: NearestFilter,\n\t\t\tminFilter: NearestFilter,\n\t\t\tgenerateMipmaps: false,\n\t\t\ttype: UnsignedByteType,\n\t\t\tformat: RGBEFormat,\n\t\t\tencoding: _isLDR( texture ) ? texture.encoding : RGBEEncoding,\n\t\t\tdepthBuffer: false\n\t\t};\n\n\t\tconst cubeUVRenderTarget = _createRenderTarget( params );\n\t\tcubeUVRenderTarget.depthBuffer = texture ? false : true;\n\t\tthis._pingPongRenderTarget = _createRenderTarget( params );\n\t\treturn cubeUVRenderTarget;\n\n\t}\n\n\t_compileMaterial( material ) {\n\n\t\tconst tmpMesh = new Mesh( _lodPlanes[ 0 ], material );\n\t\tthis._renderer.compile( tmpMesh, _flatCamera );\n\n\t}\n\n\t_sceneToCubeUV( scene, near, far, cubeUVRenderTarget ) {\n\n\t\tconst fov = 90;\n\t\tconst aspect = 1;\n\t\tconst cubeCamera = new PerspectiveCamera( fov, aspect, near, far );\n\t\tconst upSign = [ 1, - 1, 1, 1, 1, 1 ];\n\t\tconst forwardSign = [ 1, 1, 1, - 1, - 1, - 1 ];\n\t\tconst renderer = this._renderer;\n\n\t\tconst outputEncoding = renderer.outputEncoding;\n\t\tconst toneMapping = renderer.toneMapping;\n\t\tconst clearColor = renderer.getClearColor();\n\t\tconst clearAlpha = renderer.getClearAlpha();\n\n\t\trenderer.toneMapping = NoToneMapping;\n\t\trenderer.outputEncoding = LinearEncoding;\n\n\t\tlet background = scene.background;\n\t\tif ( background && background.isColor ) {\n\n\t\t\tbackground.convertSRGBToLinear();\n\t\t\t// Convert linear to RGBE\n\t\t\tconst maxComponent = Math.max( background.r, background.g, background.b );\n\t\t\tconst fExp = Math.min( Math.max( Math.ceil( Math.log2( maxComponent ) ), - 128.0 ), 127.0 );\n\t\t\tbackground = background.multiplyScalar( Math.pow( 2.0, - fExp ) );\n\t\t\tconst alpha = ( fExp + 128.0 ) / 255.0;\n\t\t\trenderer.setClearColor( background, alpha );\n\t\t\tscene.background = null;\n\n\t\t}\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tconst col = i % 3;\n\t\t\tif ( col == 0 ) {\n\n\t\t\t\tcubeCamera.up.set( 0, upSign[ i ], 0 );\n\t\t\t\tcubeCamera.lookAt( forwardSign[ i ], 0, 0 );\n\n\t\t\t} else if ( col == 1 ) {\n\n\t\t\t\tcubeCamera.up.set( 0, 0, upSign[ i ] );\n\t\t\t\tcubeCamera.lookAt( 0, forwardSign[ i ], 0 );\n\n\t\t\t} else {\n\n\t\t\t\tcubeCamera.up.set( 0, upSign[ i ], 0 );\n\t\t\t\tcubeCamera.lookAt( 0, 0, forwardSign[ i ] );\n\n\t\t\t}\n\n\t\t\t_setViewport( cubeUVRenderTarget,\n\t\t\t\tcol * SIZE_MAX, i > 2 ? SIZE_MAX : 0, SIZE_MAX, SIZE_MAX );\n\t\t\trenderer.setRenderTarget( cubeUVRenderTarget );\n\t\t\trenderer.render( scene, cubeCamera );\n\n\t\t}\n\n\t\trenderer.toneMapping = toneMapping;\n\t\trenderer.outputEncoding = outputEncoding;\n\t\trenderer.setClearColor( clearColor, clearAlpha );\n\n\t}\n\n\t_textureToCubeUV( texture, cubeUVRenderTarget ) {\n\n\t\tconst renderer = this._renderer;\n\n\t\tif ( texture.isCubeTexture ) {\n\n\t\t\tif ( this._cubemapShader == null ) {\n\n\t\t\t\tthis._cubemapShader = _getCubemapShader();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( this._equirectShader == null ) {\n\n\t\t\t\tthis._equirectShader = _getEquirectShader();\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst material = texture.isCubeTexture ? this._cubemapShader : this._equirectShader;\n\t\tconst mesh = new Mesh( _lodPlanes[ 0 ], material );\n\n\t\tconst uniforms = material.uniforms;\n\n\t\tuniforms[ 'envMap' ].value = texture;\n\n\t\tif ( ! texture.isCubeTexture ) {\n\n\t\t\tuniforms[ 'texelSize' ].value.set( 1.0 / texture.image.width, 1.0 / texture.image.height );\n\n\t\t}\n\n\t\tuniforms[ 'inputEncoding' ].value = ENCODINGS[ texture.encoding ];\n\t\tuniforms[ 'outputEncoding' ].value = ENCODINGS[ cubeUVRenderTarget.texture.encoding ];\n\n\t\t_setViewport( cubeUVRenderTarget, 0, 0, 3 * SIZE_MAX, 2 * SIZE_MAX );\n\n\t\trenderer.setRenderTarget( cubeUVRenderTarget );\n\t\trenderer.render( mesh, _flatCamera );\n\n\t}\n\n\t_applyPMREM( cubeUVRenderTarget ) {\n\n\t\tconst renderer = this._renderer;\n\t\tconst autoClear = renderer.autoClear;\n\t\trenderer.autoClear = false;\n\n\t\tfor ( let i = 1; i < TOTAL_LODS; i ++ ) {\n\n\t\t\tconst sigma = Math.sqrt( _sigmas[ i ] * _sigmas[ i ] - _sigmas[ i - 1 ] * _sigmas[ i - 1 ] );\n\n\t\t\tconst poleAxis = _axisDirections[ ( i - 1 ) % _axisDirections.length ];\n\n\t\t\tthis._blur( cubeUVRenderTarget, i - 1, i, sigma, poleAxis );\n\n\t\t}\n\n\t\trenderer.autoClear = autoClear;\n\n\t}\n\n\t/**\n\t * This is a two-pass Gaussian blur for a cubemap. Normally this is done\n\t * vertically and horizontally, but this breaks down on a cube. Here we apply\n\t * the blur latitudinally (around the poles), and then longitudinally (towards\n\t * the poles) to approximate the orthogonally-separable blur. It is least\n\t * accurate at the poles, but still does a decent job.\n\t */\n\t_blur( cubeUVRenderTarget, lodIn, lodOut, sigma, poleAxis ) {\n\n\t\tconst pingPongRenderTarget = this._pingPongRenderTarget;\n\n\t\tthis._halfBlur(\n\t\t\tcubeUVRenderTarget,\n\t\t\tpingPongRenderTarget,\n\t\t\tlodIn,\n\t\t\tlodOut,\n\t\t\tsigma,\n\t\t\t'latitudinal',\n\t\t\tpoleAxis );\n\n\t\tthis._halfBlur(\n\t\t\tpingPongRenderTarget,\n\t\t\tcubeUVRenderTarget,\n\t\t\tlodOut,\n\t\t\tlodOut,\n\t\t\tsigma,\n\t\t\t'longitudinal',\n\t\t\tpoleAxis );\n\n\t}\n\n\t_halfBlur( targetIn, targetOut, lodIn, lodOut, sigmaRadians, direction, poleAxis ) {\n\n\t\tconst renderer = this._renderer;\n\t\tconst blurMaterial = this._blurMaterial;\n\n\t\tif ( direction !== 'latitudinal' && direction !== 'longitudinal' ) {\n\n\t\t\tconsole.error(\n\t\t\t\t'blur direction must be either latitudinal or longitudinal!' );\n\n\t\t}\n\n\t\t// Number of standard deviations at which to cut off the discrete approximation.\n\t\tconst STANDARD_DEVIATIONS = 3;\n\n\t\tconst blurMesh = new Mesh( _lodPlanes[ lodOut ], blurMaterial );\n\t\tconst blurUniforms = blurMaterial.uniforms;\n\n\t\tconst pixels = _sizeLods[ lodIn ] - 1;\n\t\tconst radiansPerPixel = isFinite( sigmaRadians ) ? Math.PI / ( 2 * pixels ) : 2 * Math.PI / ( 2 * MAX_SAMPLES - 1 );\n\t\tconst sigmaPixels = sigmaRadians / radiansPerPixel;\n\t\tconst samples = isFinite( sigmaRadians ) ? 1 + Math.floor( STANDARD_DEVIATIONS * sigmaPixels ) : MAX_SAMPLES;\n\n\t\tif ( samples > MAX_SAMPLES ) {\n\n\t\t\tconsole.warn( `sigmaRadians, ${\n\t\t\t\tsigmaRadians}, is too large and will clip, as it requested ${\n\t\t\t\tsamples} samples when the maximum is set to ${MAX_SAMPLES}` );\n\n\t\t}\n\n\t\tconst weights = [];\n\t\tlet sum = 0;\n\n\t\tfor ( let i = 0; i < MAX_SAMPLES; ++ i ) {\n\n\t\t\tconst x = i / sigmaPixels;\n\t\t\tconst weight = Math.exp( - x * x / 2 );\n\t\t\tweights.push( weight );\n\n\t\t\tif ( i == 0 ) {\n\n\t\t\t\tsum += weight;\n\n\t\t\t} else if ( i < samples ) {\n\n\t\t\t\tsum += 2 * weight;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( let i = 0; i < weights.length; i ++ ) {\n\n\t\t\tweights[ i ] = weights[ i ] / sum;\n\n\t\t}\n\n\t\tblurUniforms[ 'envMap' ].value = targetIn.texture;\n\t\tblurUniforms[ 'samples' ].value = samples;\n\t\tblurUniforms[ 'weights' ].value = weights;\n\t\tblurUniforms[ 'latitudinal' ].value = direction === 'latitudinal';\n\n\t\tif ( poleAxis ) {\n\n\t\t\tblurUniforms[ 'poleAxis' ].value = poleAxis;\n\n\t\t}\n\n\t\tblurUniforms[ 'dTheta' ].value = radiansPerPixel;\n\t\tblurUniforms[ 'mipInt' ].value = LOD_MAX - lodIn;\n\t\tblurUniforms[ 'inputEncoding' ].value = ENCODINGS[ targetIn.texture.encoding ];\n\t\tblurUniforms[ 'outputEncoding' ].value = ENCODINGS[ targetIn.texture.encoding ];\n\n\t\tconst outputSize = _sizeLods[ lodOut ];\n\t\tconst x = 3 * Math.max( 0, SIZE_MAX - 2 * outputSize );\n\t\tconst y = ( lodOut === 0 ? 0 : 2 * SIZE_MAX ) + 2 * outputSize * ( lodOut > LOD_MAX - LOD_MIN ? lodOut - LOD_MAX + LOD_MIN : 0 );\n\n\t\t_setViewport( targetOut, x, y, 3 * outputSize, 2 * outputSize );\n\t\trenderer.setRenderTarget( targetOut );\n\t\trenderer.render( blurMesh, _flatCamera );\n\n\t}\n\n}\n\nfunction _isLDR( texture ) {\n\n\tif ( texture === undefined || texture.type !== UnsignedByteType ) return false;\n\n\treturn texture.encoding === LinearEncoding || texture.encoding === sRGBEncoding || texture.encoding === GammaEncoding;\n\n}\n\nfunction _createPlanes() {\n\n\tconst _lodPlanes = [];\n\tconst _sizeLods = [];\n\tconst _sigmas = [];\n\n\tlet lod = LOD_MAX;\n\n\tfor ( let i = 0; i < TOTAL_LODS; i ++ ) {\n\n\t\tconst sizeLod = Math.pow( 2, lod );\n\t\t_sizeLods.push( sizeLod );\n\t\tlet sigma = 1.0 / sizeLod;\n\n\t\tif ( i > LOD_MAX - LOD_MIN ) {\n\n\t\t\tsigma = EXTRA_LOD_SIGMA[ i - LOD_MAX + LOD_MIN - 1 ];\n\n\t\t} else if ( i == 0 ) {\n\n\t\t\tsigma = 0;\n\n\t\t}\n\n\t\t_sigmas.push( sigma );\n\n\t\tconst texelSize = 1.0 / ( sizeLod - 1 );\n\t\tconst min = - texelSize / 2;\n\t\tconst max = 1 + texelSize / 2;\n\t\tconst uv1 = [ min, min, max, min, max, max, min, min, max, max, min, max ];\n\n\t\tconst cubeFaces = 6;\n\t\tconst vertices = 6;\n\t\tconst positionSize = 3;\n\t\tconst uvSize = 2;\n\t\tconst faceIndexSize = 1;\n\n\t\tconst position = new Float32Array( positionSize * vertices * cubeFaces );\n\t\tconst uv = new Float32Array( uvSize * vertices * cubeFaces );\n\t\tconst faceIndex = new Float32Array( faceIndexSize * vertices * cubeFaces );\n\n\t\tfor ( let face = 0; face < cubeFaces; face ++ ) {\n\n\t\t\tconst x = ( face % 3 ) * 2 / 3 - 1;\n\t\t\tconst y = face > 2 ? 0 : - 1;\n\t\t\tconst coordinates = [\n\t\t\t\tx, y, 0,\n\t\t\t\tx + 2 / 3, y, 0,\n\t\t\t\tx + 2 / 3, y + 1, 0,\n\t\t\t\tx, y, 0,\n\t\t\t\tx + 2 / 3, y + 1, 0,\n\t\t\t\tx, y + 1, 0\n\t\t\t];\n\t\t\tposition.set( coordinates, positionSize * vertices * face );\n\t\t\tuv.set( uv1, uvSize * vertices * face );\n\t\t\tconst fill = [ face, face, face, face, face, face ];\n\t\t\tfaceIndex.set( fill, faceIndexSize * vertices * face );\n\n\t\t}\n\n\t\tconst planes = new BufferGeometry();\n\t\tplanes.setAttribute( 'position', new BufferAttribute( position, positionSize ) );\n\t\tplanes.setAttribute( 'uv', new BufferAttribute( uv, uvSize ) );\n\t\tplanes.setAttribute( 'faceIndex', new BufferAttribute( faceIndex, faceIndexSize ) );\n\t\t_lodPlanes.push( planes );\n\n\t\tif ( lod > LOD_MIN ) {\n\n\t\t\tlod --;\n\n\t\t}\n\n\t}\n\n\treturn { _lodPlanes, _sizeLods, _sigmas };\n\n}\n\nfunction _createRenderTarget( params ) {\n\n\tconst cubeUVRenderTarget = new WebGLRenderTarget( 3 * SIZE_MAX, 3 * SIZE_MAX, params );\n\tcubeUVRenderTarget.texture.mapping = CubeUVReflectionMapping;\n\tcubeUVRenderTarget.texture.name = 'PMREM.cubeUv';\n\tcubeUVRenderTarget.scissorTest = true;\n\treturn cubeUVRenderTarget;\n\n}\n\nfunction _setViewport( target, x, y, width, height ) {\n\n\ttarget.viewport.set( x, y, width, height );\n\ttarget.scissor.set( x, y, width, height );\n\n}\n\nfunction _getBlurShader( maxSamples ) {\n\n\tconst weights = new Float32Array( maxSamples );\n\tconst poleAxis = new Vector3( 0, 1, 0 );\n\tconst shaderMaterial = new RawShaderMaterial( {\n\n\t\tname: 'SphericalGaussianBlur',\n\n\t\tdefines: { 'n': maxSamples },\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'samples': { value: 1 },\n\t\t\t'weights': { value: weights },\n\t\t\t'latitudinal': { value: false },\n\t\t\t'dTheta': { value: 0 },\n\t\t\t'mipInt': { value: 0 },\n\t\t\t'poleAxis': { value: poleAxis },\n\t\t\t'inputEncoding': { value: ENCODINGS[ LinearEncoding ] },\n\t\t\t'outputEncoding': { value: ENCODINGS[ LinearEncoding ] }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: /* glsl */`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t${ _getEncodings() }\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n\treturn shaderMaterial;\n\n}\n\nfunction _getEquirectShader() {\n\n\tconst texelSize = new Vector2( 1, 1 );\n\tconst shaderMaterial = new RawShaderMaterial( {\n\n\t\tname: 'EquirectangularToCubeUV',\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'texelSize': { value: texelSize },\n\t\t\t'inputEncoding': { value: ENCODINGS[ LinearEncoding ] },\n\t\t\t'outputEncoding': { value: ENCODINGS[ LinearEncoding ] }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: /* glsl */`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t${ _getEncodings() }\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n\treturn shaderMaterial;\n\n}\n\nfunction _getCubemapShader() {\n\n\tconst shaderMaterial = new RawShaderMaterial( {\n\n\t\tname: 'CubemapToCubeUV',\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'inputEncoding': { value: ENCODINGS[ LinearEncoding ] },\n\t\t\t'outputEncoding': { value: ENCODINGS[ LinearEncoding ] }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: /* glsl */`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t${ _getEncodings() }\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n\treturn shaderMaterial;\n\n}\n\nfunction _getCommonVertexShader() {\n\n\treturn /* glsl */`\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t`;\n\n}\n\nfunction _getEncodings() {\n\n\treturn /* glsl */`\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t`;\n\n}\n\nfunction Face4( a, b, c, d, normal, color, materialIndex ) {\n\n\tconsole.warn( 'THREE.Face4 has been removed. A THREE.Face3 will be created instead.' );\n\treturn new Face3( a, b, c, normal, color, materialIndex );\n\n}\n\nconst LineStrip = 0;\nconst LinePieces = 1;\nconst NoColors = 0;\nconst FaceColors = 1;\nconst VertexColors = 2;\n\nfunction MeshFaceMaterial( materials ) {\n\n\tconsole.warn( 'THREE.MeshFaceMaterial has been removed. Use an Array instead.' );\n\treturn materials;\n\n}\n\nfunction MultiMaterial( materials = [] ) {\n\n\tconsole.warn( 'THREE.MultiMaterial has been removed. Use an Array instead.' );\n\tmaterials.isMultiMaterial = true;\n\tmaterials.materials = materials;\n\tmaterials.clone = function () {\n\n\t\treturn materials.slice();\n\n\t};\n\n\treturn materials;\n\n}\n\nfunction PointCloud( geometry, material ) {\n\n\tconsole.warn( 'THREE.PointCloud has been renamed to THREE.Points.' );\n\treturn new Points( geometry, material );\n\n}\n\nfunction Particle( material ) {\n\n\tconsole.warn( 'THREE.Particle has been renamed to THREE.Sprite.' );\n\treturn new Sprite( material );\n\n}\n\nfunction ParticleSystem( geometry, material ) {\n\n\tconsole.warn( 'THREE.ParticleSystem has been renamed to THREE.Points.' );\n\treturn new Points( geometry, material );\n\n}\n\nfunction PointCloudMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction ParticleBasicMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction ParticleSystemMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction Vertex( x, y, z ) {\n\n\tconsole.warn( 'THREE.Vertex has been removed. Use THREE.Vector3 instead.' );\n\treturn new Vector3( x, y, z );\n\n}\n\n//\n\nfunction DynamicBufferAttribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead.' );\n\treturn new BufferAttribute( array, itemSize ).setUsage( DynamicDrawUsage );\n\n}\n\nfunction Int8Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.' );\n\treturn new Int8BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint8Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.' );\n\treturn new Uint8BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint8ClampedAttribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.' );\n\treturn new Uint8ClampedBufferAttribute( array, itemSize );\n\n}\n\nfunction Int16Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.' );\n\treturn new Int16BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint16Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.' );\n\treturn new Uint16BufferAttribute( array, itemSize );\n\n}\n\nfunction Int32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.' );\n\treturn new Int32BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.' );\n\treturn new Uint32BufferAttribute( array, itemSize );\n\n}\n\nfunction Float32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.' );\n\treturn new Float32BufferAttribute( array, itemSize );\n\n}\n\nfunction Float64Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.' );\n\treturn new Float64BufferAttribute( array, itemSize );\n\n}\n\n//\n\nCurve.create = function ( construct, getPoint ) {\n\n\tconsole.log( 'THREE.Curve.create() has been deprecated' );\n\n\tconstruct.prototype = Object.create( Curve.prototype );\n\tconstruct.prototype.constructor = construct;\n\tconstruct.prototype.getPoint = getPoint;\n\n\treturn construct;\n\n};\n\n//\n\nObject.assign( CurvePath.prototype, {\n\n\tcreatePointsGeometry: function ( divisions ) {\n\n\t\tconsole.warn( 'THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\n\n\t\t// generate geometry from path points (for Line or Points objects)\n\n\t\tconst pts = this.getPoints( divisions );\n\t\treturn this.createGeometry( pts );\n\n\t},\n\n\tcreateSpacedPointsGeometry: function ( divisions ) {\n\n\t\tconsole.warn( 'THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\n\n\t\t// generate geometry from equidistant sampling along the path\n\n\t\tconst pts = this.getSpacedPoints( divisions );\n\t\treturn this.createGeometry( pts );\n\n\t},\n\n\tcreateGeometry: function ( points ) {\n\n\t\tconsole.warn( 'THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\n\n\t\tconst geometry = new Geometry();\n\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tconst point = points[ i ];\n\t\t\tgeometry.vertices.push( new Vector3( point.x, point.y, point.z || 0 ) );\n\n\t\t}\n\n\t\treturn geometry;\n\n\t}\n\n} );\n\n//\n\nObject.assign( Path.prototype, {\n\n\tfromPoints: function ( points ) {\n\n\t\tconsole.warn( 'THREE.Path: .fromPoints() has been renamed to .setFromPoints().' );\n\t\treturn this.setFromPoints( points );\n\n\t}\n\n} );\n\n//\n\nfunction ClosedSplineCurve3( points ) {\n\n\tconsole.warn( 'THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.' );\n\n\tCatmullRomCurve3.call( this, points );\n\tthis.type = 'catmullrom';\n\tthis.closed = true;\n\n}\n\nClosedSplineCurve3.prototype = Object.create( CatmullRomCurve3.prototype );\n\n//\n\nfunction SplineCurve3( points ) {\n\n\tconsole.warn( 'THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.' );\n\n\tCatmullRomCurve3.call( this, points );\n\tthis.type = 'catmullrom';\n\n}\n\nSplineCurve3.prototype = Object.create( CatmullRomCurve3.prototype );\n\n//\n\nfunction Spline( points ) {\n\n\tconsole.warn( 'THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.' );\n\n\tCatmullRomCurve3.call( this, points );\n\tthis.type = 'catmullrom';\n\n}\n\nSpline.prototype = Object.create( CatmullRomCurve3.prototype );\n\nObject.assign( Spline.prototype, {\n\n\tinitFromArray: function ( /* a */ ) {\n\n\t\tconsole.error( 'THREE.Spline: .initFromArray() has been removed.' );\n\n\t},\n\tgetControlPointsArray: function ( /* optionalTarget */ ) {\n\n\t\tconsole.error( 'THREE.Spline: .getControlPointsArray() has been removed.' );\n\n\t},\n\treparametrizeByArcLength: function ( /* samplingCoef */ ) {\n\n\t\tconsole.error( 'THREE.Spline: .reparametrizeByArcLength() has been removed.' );\n\n\t}\n\n} );\n\n//\n\nfunction AxisHelper( size ) {\n\n\tconsole.warn( 'THREE.AxisHelper has been renamed to THREE.AxesHelper.' );\n\treturn new AxesHelper( size );\n\n}\n\nfunction BoundingBoxHelper( object, color ) {\n\n\tconsole.warn( 'THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.' );\n\treturn new BoxHelper( object, color );\n\n}\n\nfunction EdgesHelper( object, hex ) {\n\n\tconsole.warn( 'THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.' );\n\treturn new LineSegments( new EdgesGeometry( object.geometry ), new LineBasicMaterial( { color: hex !== undefined ? hex : 0xffffff } ) );\n\n}\n\nGridHelper.prototype.setColors = function () {\n\n\tconsole.error( 'THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.' );\n\n};\n\nSkeletonHelper.prototype.update = function () {\n\n\tconsole.error( 'THREE.SkeletonHelper: update() no longer needs to be called.' );\n\n};\n\nfunction WireframeHelper( object, hex ) {\n\n\tconsole.warn( 'THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.' );\n\treturn new LineSegments( new WireframeGeometry( object.geometry ), new LineBasicMaterial( { color: hex !== undefined ? hex : 0xffffff } ) );\n\n}\n\n//\n\nObject.assign( Loader.prototype, {\n\n\textractUrlBase: function ( url ) {\n\n\t\tconsole.warn( 'THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.' );\n\t\treturn LoaderUtils.extractUrlBase( url );\n\n\t}\n\n} );\n\nLoader.Handlers = {\n\n\tadd: function ( /* regex, loader */ ) {\n\n\t\tconsole.error( 'THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.' );\n\n\t},\n\n\tget: function ( /* file */ ) {\n\n\t\tconsole.error( 'THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.' );\n\n\t}\n\n};\n\nfunction XHRLoader( manager ) {\n\n\tconsole.warn( 'THREE.XHRLoader has been renamed to THREE.FileLoader.' );\n\treturn new FileLoader( manager );\n\n}\n\nfunction BinaryTextureLoader( manager ) {\n\n\tconsole.warn( 'THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.' );\n\treturn new DataTextureLoader( manager );\n\n}\n\n//\n\nObject.assign( Box2.prototype, {\n\n\tcenter: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box2: .center() has been renamed to .getCenter().' );\n\t\treturn this.getCenter( optionalTarget );\n\n\t},\n\tempty: function () {\n\n\t\tconsole.warn( 'THREE.Box2: .empty() has been renamed to .isEmpty().' );\n\t\treturn this.isEmpty();\n\n\t},\n\tisIntersectionBox: function ( box ) {\n\n\t\tconsole.warn( 'THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\t\treturn this.intersectsBox( box );\n\n\t},\n\tsize: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box2: .size() has been renamed to .getSize().' );\n\t\treturn this.getSize( optionalTarget );\n\n\t}\n} );\n\nObject.assign( Box3.prototype, {\n\n\tcenter: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box3: .center() has been renamed to .getCenter().' );\n\t\treturn this.getCenter( optionalTarget );\n\n\t},\n\tempty: function () {\n\n\t\tconsole.warn( 'THREE.Box3: .empty() has been renamed to .isEmpty().' );\n\t\treturn this.isEmpty();\n\n\t},\n\tisIntersectionBox: function ( box ) {\n\n\t\tconsole.warn( 'THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\t\treturn this.intersectsBox( box );\n\n\t},\n\tisIntersectionSphere: function ( sphere ) {\n\n\t\tconsole.warn( 'THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\n\t\treturn this.intersectsSphere( sphere );\n\n\t},\n\tsize: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box3: .size() has been renamed to .getSize().' );\n\t\treturn this.getSize( optionalTarget );\n\n\t}\n} );\n\nObject.assign( Sphere.prototype, {\n\n\tempty: function () {\n\n\t\tconsole.warn( 'THREE.Sphere: .empty() has been renamed to .isEmpty().' );\n\t\treturn this.isEmpty();\n\n\t},\n\n} );\n\nFrustum.prototype.setFromMatrix = function ( m ) {\n\n\tconsole.warn( 'THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix().' );\n\treturn this.setFromProjectionMatrix( m );\n\n};\n\nLine3.prototype.center = function ( optionalTarget ) {\n\n\tconsole.warn( 'THREE.Line3: .center() has been renamed to .getCenter().' );\n\treturn this.getCenter( optionalTarget );\n\n};\n\nObject.assign( MathUtils, {\n\n\trandom16: function () {\n\n\t\tconsole.warn( 'THREE.Math: .random16() has been deprecated. Use Math.random() instead.' );\n\t\treturn Math.random();\n\n\t},\n\n\tnearestPowerOfTwo: function ( value ) {\n\n\t\tconsole.warn( 'THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo().' );\n\t\treturn MathUtils.floorPowerOfTwo( value );\n\n\t},\n\n\tnextPowerOfTwo: function ( value ) {\n\n\t\tconsole.warn( 'THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo().' );\n\t\treturn MathUtils.ceilPowerOfTwo( value );\n\n\t}\n\n} );\n\nObject.assign( Matrix3.prototype, {\n\n\tflattenToArrayOffset: function ( array, offset ) {\n\n\t\tconsole.warn( \"THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\" );\n\t\treturn this.toArray( array, offset );\n\n\t},\n\tmultiplyVector3: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.' );\n\t\treturn vector.applyMatrix3( this );\n\n\t},\n\tmultiplyVector3Array: function ( /* a */ ) {\n\n\t\tconsole.error( 'THREE.Matrix3: .multiplyVector3Array() has been removed.' );\n\n\t},\n\tapplyToBufferAttribute: function ( attribute ) {\n\n\t\tconsole.warn( 'THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead.' );\n\t\treturn attribute.applyMatrix3( this );\n\n\t},\n\tapplyToVector3Array: function ( /* array, offset, length */ ) {\n\n\t\tconsole.error( 'THREE.Matrix3: .applyToVector3Array() has been removed.' );\n\n\t},\n\tgetInverse: function ( matrix ) {\n\n\t\tconsole.warn( 'THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead.' );\n\t\treturn this.copy( matrix ).invert();\n\n\t}\n\n} );\n\nObject.assign( Matrix4.prototype, {\n\n\textractPosition: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().' );\n\t\treturn this.copyPosition( m );\n\n\t},\n\tflattenToArrayOffset: function ( array, offset ) {\n\n\t\tconsole.warn( \"THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\" );\n\t\treturn this.toArray( array, offset );\n\n\t},\n\tgetPosition: function () {\n\n\t\tconsole.warn( 'THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.' );\n\t\treturn new Vector3().setFromMatrixColumn( this, 3 );\n\n\t},\n\tsetRotationFromQuaternion: function ( q ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().' );\n\t\treturn this.makeRotationFromQuaternion( q );\n\n\t},\n\tmultiplyToArray: function () {\n\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyToArray() has been removed.' );\n\n\t},\n\tmultiplyVector3: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\t\treturn vector.applyMatrix4( this );\n\n\t},\n\tmultiplyVector4: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\t\treturn vector.applyMatrix4( this );\n\n\t},\n\tmultiplyVector3Array: function ( /* a */ ) {\n\n\t\tconsole.error( 'THREE.Matrix4: .multiplyVector3Array() has been removed.' );\n\n\t},\n\trotateAxis: function ( v ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.' );\n\t\tv.transformDirection( this );\n\n\t},\n\tcrossVector: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\t\treturn vector.applyMatrix4( this );\n\n\t},\n\ttranslate: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .translate() has been removed.' );\n\n\t},\n\trotateX: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateX() has been removed.' );\n\n\t},\n\trotateY: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateY() has been removed.' );\n\n\t},\n\trotateZ: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateZ() has been removed.' );\n\n\t},\n\trotateByAxis: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateByAxis() has been removed.' );\n\n\t},\n\tapplyToBufferAttribute: function ( attribute ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead.' );\n\t\treturn attribute.applyMatrix4( this );\n\n\t},\n\tapplyToVector3Array: function ( /* array, offset, length */ ) {\n\n\t\tconsole.error( 'THREE.Matrix4: .applyToVector3Array() has been removed.' );\n\n\t},\n\tmakeFrustum: function ( left, right, bottom, top, near, far ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.' );\n\t\treturn this.makePerspective( left, right, top, bottom, near, far );\n\n\t},\n\tgetInverse: function ( matrix ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead.' );\n\t\treturn this.copy( matrix ).invert();\n\n\t}\n\n} );\n\nPlane.prototype.isIntersectionLine = function ( line ) {\n\n\tconsole.warn( 'THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().' );\n\treturn this.intersectsLine( line );\n\n};\n\nObject.assign( Quaternion.prototype, {\n\n\tmultiplyVector3: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.' );\n\t\treturn vector.applyQuaternion( this );\n\n\t},\n\tinverse: function ( ) {\n\n\t\tconsole.warn( 'THREE.Quaternion: .inverse() has been renamed to invert().' );\n\t\treturn this.invert();\n\n\t}\n\n} );\n\nObject.assign( Ray.prototype, {\n\n\tisIntersectionBox: function ( box ) {\n\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\t\treturn this.intersectsBox( box );\n\n\t},\n\tisIntersectionPlane: function ( plane ) {\n\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().' );\n\t\treturn this.intersectsPlane( plane );\n\n\t},\n\tisIntersectionSphere: function ( sphere ) {\n\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\n\t\treturn this.intersectsSphere( sphere );\n\n\t}\n\n} );\n\nObject.assign( Triangle.prototype, {\n\n\tarea: function () {\n\n\t\tconsole.warn( 'THREE.Triangle: .area() has been renamed to .getArea().' );\n\t\treturn this.getArea();\n\n\t},\n\tbarycoordFromPoint: function ( point, target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().' );\n\t\treturn this.getBarycoord( point, target );\n\n\t},\n\tmidpoint: function ( target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .midpoint() has been renamed to .getMidpoint().' );\n\t\treturn this.getMidpoint( target );\n\n\t},\n\tnormal: function ( target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .normal() has been renamed to .getNormal().' );\n\t\treturn this.getNormal( target );\n\n\t},\n\tplane: function ( target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .plane() has been renamed to .getPlane().' );\n\t\treturn this.getPlane( target );\n\n\t}\n\n} );\n\nObject.assign( Triangle, {\n\n\tbarycoordFromPoint: function ( point, a, b, c, target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().' );\n\t\treturn Triangle.getBarycoord( point, a, b, c, target );\n\n\t},\n\tnormal: function ( a, b, c, target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .normal() has been renamed to .getNormal().' );\n\t\treturn Triangle.getNormal( a, b, c, target );\n\n\t}\n\n} );\n\nObject.assign( Shape.prototype, {\n\n\textractAllPoints: function ( divisions ) {\n\n\t\tconsole.warn( 'THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.' );\n\t\treturn this.extractPoints( divisions );\n\n\t},\n\textrude: function ( options ) {\n\n\t\tconsole.warn( 'THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.' );\n\t\treturn new ExtrudeGeometry( this, options );\n\n\t},\n\tmakeGeometry: function ( options ) {\n\n\t\tconsole.warn( 'THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.' );\n\t\treturn new ShapeGeometry( this, options );\n\n\t}\n\n} );\n\nObject.assign( Vector2.prototype, {\n\n\tfromAttribute: function ( attribute, index, offset ) {\n\n\t\tconsole.warn( 'THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\t\treturn this.fromBufferAttribute( attribute, index, offset );\n\n\t},\n\tdistanceToManhattan: function ( v ) {\n\n\t\tconsole.warn( 'THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().' );\n\t\treturn this.manhattanDistanceTo( v );\n\n\t},\n\tlengthManhattan: function () {\n\n\t\tconsole.warn( 'THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().' );\n\t\treturn this.manhattanLength();\n\n\t}\n\n} );\n\nObject.assign( Vector3.prototype, {\n\n\tsetEulerFromRotationMatrix: function () {\n\n\t\tconsole.error( 'THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.' );\n\n\t},\n\tsetEulerFromQuaternion: function () {\n\n\t\tconsole.error( 'THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.' );\n\n\t},\n\tgetPositionFromMatrix: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().' );\n\t\treturn this.setFromMatrixPosition( m );\n\n\t},\n\tgetScaleFromMatrix: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().' );\n\t\treturn this.setFromMatrixScale( m );\n\n\t},\n\tgetColumnFromMatrix: function ( index, matrix ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().' );\n\t\treturn this.setFromMatrixColumn( matrix, index );\n\n\t},\n\tapplyProjection: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.' );\n\t\treturn this.applyMatrix4( m );\n\n\t},\n\tfromAttribute: function ( attribute, index, offset ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\t\treturn this.fromBufferAttribute( attribute, index, offset );\n\n\t},\n\tdistanceToManhattan: function ( v ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().' );\n\t\treturn this.manhattanDistanceTo( v );\n\n\t},\n\tlengthManhattan: function () {\n\n\t\tconsole.warn( 'THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().' );\n\t\treturn this.manhattanLength();\n\n\t}\n\n} );\n\nObject.assign( Vector4.prototype, {\n\n\tfromAttribute: function ( attribute, index, offset ) {\n\n\t\tconsole.warn( 'THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\t\treturn this.fromBufferAttribute( attribute, index, offset );\n\n\t},\n\tlengthManhattan: function () {\n\n\t\tconsole.warn( 'THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().' );\n\t\treturn this.manhattanLength();\n\n\t}\n\n} );\n\n//\n\nObject.assign( Geometry.prototype, {\n\n\tcomputeTangents: function () {\n\n\t\tconsole.error( 'THREE.Geometry: .computeTangents() has been removed.' );\n\n\t},\n\tcomputeLineDistances: function () {\n\n\t\tconsole.error( 'THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.' );\n\n\t},\n\tapplyMatrix: function ( matrix ) {\n\n\t\tconsole.warn( 'THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4().' );\n\t\treturn this.applyMatrix4( matrix );\n\n\t}\n\n} );\n\nObject.assign( Object3D.prototype, {\n\n\tgetChildByName: function ( name ) {\n\n\t\tconsole.warn( 'THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().' );\n\t\treturn this.getObjectByName( name );\n\n\t},\n\trenderDepth: function () {\n\n\t\tconsole.warn( 'THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.' );\n\n\t},\n\ttranslate: function ( distance, axis ) {\n\n\t\tconsole.warn( 'THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.' );\n\t\treturn this.translateOnAxis( axis, distance );\n\n\t},\n\tgetWorldRotation: function () {\n\n\t\tconsole.error( 'THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.' );\n\n\t},\n\tapplyMatrix: function ( matrix ) {\n\n\t\tconsole.warn( 'THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4().' );\n\t\treturn this.applyMatrix4( matrix );\n\n\t}\n\n} );\n\nObject.defineProperties( Object3D.prototype, {\n\n\teulerOrder: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\n\t\t\treturn this.rotation.order;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\n\t\t\tthis.rotation.order = value;\n\n\t\t}\n\t},\n\tuseQuaternion: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\n\n\t\t}\n\t}\n\n} );\n\nObject.assign( Mesh.prototype, {\n\n\tsetDrawMode: function () {\n\n\t\tconsole.error( 'THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.' );\n\n\t},\n\n} );\n\nObject.defineProperties( Mesh.prototype, {\n\n\tdrawMode: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode.' );\n\t\t\treturn TrianglesDrawMode;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.error( 'THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.' );\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( LOD.prototype, {\n\n\tobjects: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.LOD: .objects has been renamed to .levels.' );\n\t\t\treturn this.levels;\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperty( Skeleton.prototype, 'useVertexTexture', {\n\n\tget: function () {\n\n\t\tconsole.warn( 'THREE.Skeleton: useVertexTexture has been removed.' );\n\n\t},\n\tset: function () {\n\n\t\tconsole.warn( 'THREE.Skeleton: useVertexTexture has been removed.' );\n\n\t}\n\n} );\n\nSkinnedMesh.prototype.initBones = function () {\n\n\tconsole.error( 'THREE.SkinnedMesh: initBones() has been removed.' );\n\n};\n\nObject.defineProperty( Curve.prototype, '__arcLengthDivisions', {\n\n\tget: function () {\n\n\t\tconsole.warn( 'THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.' );\n\t\treturn this.arcLengthDivisions;\n\n\t},\n\tset: function ( value ) {\n\n\t\tconsole.warn( 'THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.' );\n\t\tthis.arcLengthDivisions = value;\n\n\t}\n\n} );\n\n//\n\nPerspectiveCamera.prototype.setLens = function ( focalLength, filmGauge ) {\n\n\tconsole.warn( \"THREE.PerspectiveCamera.setLens is deprecated. \" +\n\t\t\t\"Use .setFocalLength and .filmGauge for a photographic setup.\" );\n\n\tif ( filmGauge !== undefined ) this.filmGauge = filmGauge;\n\tthis.setFocalLength( focalLength );\n\n};\n\n//\n\nObject.defineProperties( Light.prototype, {\n\tonlyShadow: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .onlyShadow has been removed.' );\n\n\t\t}\n\t},\n\tshadowCameraFov: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraFov is now .shadow.camera.fov.' );\n\t\t\tthis.shadow.camera.fov = value;\n\n\t\t}\n\t},\n\tshadowCameraLeft: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraLeft is now .shadow.camera.left.' );\n\t\t\tthis.shadow.camera.left = value;\n\n\t\t}\n\t},\n\tshadowCameraRight: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraRight is now .shadow.camera.right.' );\n\t\t\tthis.shadow.camera.right = value;\n\n\t\t}\n\t},\n\tshadowCameraTop: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraTop is now .shadow.camera.top.' );\n\t\t\tthis.shadow.camera.top = value;\n\n\t\t}\n\t},\n\tshadowCameraBottom: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.' );\n\t\t\tthis.shadow.camera.bottom = value;\n\n\t\t}\n\t},\n\tshadowCameraNear: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraNear is now .shadow.camera.near.' );\n\t\t\tthis.shadow.camera.near = value;\n\n\t\t}\n\t},\n\tshadowCameraFar: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraFar is now .shadow.camera.far.' );\n\t\t\tthis.shadow.camera.far = value;\n\n\t\t}\n\t},\n\tshadowCameraVisible: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.' );\n\n\t\t}\n\t},\n\tshadowBias: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowBias is now .shadow.bias.' );\n\t\t\tthis.shadow.bias = value;\n\n\t\t}\n\t},\n\tshadowDarkness: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowDarkness has been removed.' );\n\n\t\t}\n\t},\n\tshadowMapWidth: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.' );\n\t\t\tthis.shadow.mapSize.width = value;\n\n\t\t}\n\t},\n\tshadowMapHeight: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.' );\n\t\t\tthis.shadow.mapSize.height = value;\n\n\t\t}\n\t}\n} );\n\n//\n\nObject.defineProperties( BufferAttribute.prototype, {\n\n\tlength: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .length has been deprecated. Use .count instead.' );\n\t\t\treturn this.array.length;\n\n\t\t}\n\t},\n\tdynamic: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.' );\n\t\t\treturn this.usage === DynamicDrawUsage;\n\n\t\t},\n\t\tset: function ( /* value */ ) {\n\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.' );\n\t\t\tthis.setUsage( DynamicDrawUsage );\n\n\t\t}\n\t}\n\n} );\n\nObject.assign( BufferAttribute.prototype, {\n\tsetDynamic: function ( value ) {\n\n\t\tconsole.warn( 'THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead.' );\n\t\tthis.setUsage( value === true ? DynamicDrawUsage : StaticDrawUsage );\n\t\treturn this;\n\n\t},\n\tcopyIndicesArray: function ( /* indices */ ) {\n\n\t\tconsole.error( 'THREE.BufferAttribute: .copyIndicesArray() has been removed.' );\n\n\t},\n\tsetArray: function ( /* array */ ) {\n\n\t\tconsole.error( 'THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers' );\n\n\t}\n} );\n\nObject.assign( BufferGeometry.prototype, {\n\n\taddIndex: function ( index ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().' );\n\t\tthis.setIndex( index );\n\n\t},\n\taddAttribute: function ( name, attribute ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute().' );\n\n\t\tif ( ! ( attribute && attribute.isBufferAttribute ) && ! ( attribute && attribute.isInterleavedBufferAttribute ) ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).' );\n\n\t\t\treturn this.setAttribute( name, new BufferAttribute( arguments[ 1 ], arguments[ 2 ] ) );\n\n\t\t}\n\n\t\tif ( name === 'index' ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.' );\n\t\t\tthis.setIndex( attribute );\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\treturn this.setAttribute( name, attribute );\n\n\t},\n\taddDrawCall: function ( start, count, indexOffset ) {\n\n\t\tif ( indexOffset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.' );\n\n\t\t}\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() is now .addGroup().' );\n\t\tthis.addGroup( start, count );\n\n\t},\n\tclearDrawCalls: function () {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().' );\n\t\tthis.clearGroups();\n\n\t},\n\tcomputeTangents: function () {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .computeTangents() has been removed.' );\n\n\t},\n\tcomputeOffsets: function () {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .computeOffsets() has been removed.' );\n\n\t},\n\tremoveAttribute: function ( name ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute().' );\n\n\t\treturn this.deleteAttribute( name );\n\n\t},\n\tapplyMatrix: function ( matrix ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4().' );\n\t\treturn this.applyMatrix4( matrix );\n\n\t}\n\n} );\n\nObject.defineProperties( BufferGeometry.prototype, {\n\n\tdrawcalls: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry: .drawcalls has been renamed to .groups.' );\n\t\t\treturn this.groups;\n\n\t\t}\n\t},\n\toffsets: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .offsets has been renamed to .groups.' );\n\t\t\treturn this.groups;\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( InstancedBufferGeometry.prototype, {\n\n\tmaxInstancedCount: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount.' );\n\t\t\treturn this.instanceCount;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount.' );\n\t\t\tthis.instanceCount = value;\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( Raycaster.prototype, {\n\n\tlinePrecision: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead.' );\n\t\t\treturn this.params.Line.threshold;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead.' );\n\t\t\tthis.params.Line.threshold = value;\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( InterleavedBuffer.prototype, {\n\n\tdynamic: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead.' );\n\t\t\treturn this.usage === DynamicDrawUsage;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead.' );\n\t\t\tthis.setUsage( value );\n\n\t\t}\n\t}\n\n} );\n\nObject.assign( InterleavedBuffer.prototype, {\n\tsetDynamic: function ( value ) {\n\n\t\tconsole.warn( 'THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead.' );\n\t\tthis.setUsage( value === true ? DynamicDrawUsage : StaticDrawUsage );\n\t\treturn this;\n\n\t},\n\tsetArray: function ( /* array */ ) {\n\n\t\tconsole.error( 'THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers' );\n\n\t}\n} );\n\n//\n\nObject.assign( ExtrudeBufferGeometry.prototype, {\n\n\tgetArrays: function () {\n\n\t\tconsole.error( 'THREE.ExtrudeBufferGeometry: .getArrays() has been removed.' );\n\n\t},\n\n\taddShapeList: function () {\n\n\t\tconsole.error( 'THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.' );\n\n\t},\n\n\taddShape: function () {\n\n\t\tconsole.error( 'THREE.ExtrudeBufferGeometry: .addShape() has been removed.' );\n\n\t}\n\n} );\n\n//\n\nObject.assign( Scene.prototype, {\n\n\tdispose: function () {\n\n\t\tconsole.error( 'THREE.Scene: .dispose() has been removed.' );\n\n\t}\n\n} );\n\n//\n\nObject.defineProperties( Uniform.prototype, {\n\n\tdynamic: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.' );\n\n\t\t}\n\t},\n\tonUpdate: {\n\t\tvalue: function () {\n\n\t\t\tconsole.warn( 'THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.' );\n\t\t\treturn this;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.defineProperties( Material.prototype, {\n\n\twrapAround: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapAround has been removed.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapAround has been removed.' );\n\n\t\t}\n\t},\n\n\toverdraw: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .overdraw has been removed.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .overdraw has been removed.' );\n\n\t\t}\n\t},\n\n\twrapRGB: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapRGB has been removed.' );\n\t\t\treturn new Color();\n\n\t\t}\n\t},\n\n\tshading: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\tthis.flatShading = ( value === FlatShading );\n\n\t\t}\n\t},\n\n\tstencilMask: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .stencilMask has been removed. Use .stencilFuncMask instead.' );\n\t\t\treturn this.stencilFuncMask;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .stencilMask has been removed. Use .stencilFuncMask instead.' );\n\t\t\tthis.stencilFuncMask = value;\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( MeshPhongMaterial.prototype, {\n\n\tmetal: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.' );\n\t\t\treturn false;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead' );\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( MeshPhysicalMaterial.prototype, {\n\n\ttransparency: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission.' );\n\t\t\treturn this.transmission;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission.' );\n\t\t\tthis.transmission = value;\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( ShaderMaterial.prototype, {\n\n\tderivatives: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\n\t\t\treturn this.extensions.derivatives;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\n\t\t\tthis.extensions.derivatives = value;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.assign( WebGLRenderer.prototype, {\n\n\tclearTarget: function ( renderTarget, color, depth, stencil ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead.' );\n\t\tthis.setRenderTarget( renderTarget );\n\t\tthis.clear( color, depth, stencil );\n\n\t},\n\tanimate: function ( callback ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .animate() is now .setAnimationLoop().' );\n\t\tthis.setAnimationLoop( callback );\n\n\t},\n\tgetCurrentRenderTarget: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().' );\n\t\treturn this.getRenderTarget();\n\n\t},\n\tgetMaxAnisotropy: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().' );\n\t\treturn this.capabilities.getMaxAnisotropy();\n\n\t},\n\tgetPrecision: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.' );\n\t\treturn this.capabilities.precision;\n\n\t},\n\tresetGLState: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .resetGLState() is now .state.reset().' );\n\t\treturn this.state.reset();\n\n\t},\n\tsupportsFloatTextures: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( \\'OES_texture_float\\' ).' );\n\t\treturn this.extensions.get( 'OES_texture_float' );\n\n\t},\n\tsupportsHalfFloatTextures: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( \\'OES_texture_half_float\\' ).' );\n\t\treturn this.extensions.get( 'OES_texture_half_float' );\n\n\t},\n\tsupportsStandardDerivatives: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( \\'OES_standard_derivatives\\' ).' );\n\t\treturn this.extensions.get( 'OES_standard_derivatives' );\n\n\t},\n\tsupportsCompressedTextureS3TC: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( \\'WEBGL_compressed_texture_s3tc\\' ).' );\n\t\treturn this.extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n\t},\n\tsupportsCompressedTexturePVRTC: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( \\'WEBGL_compressed_texture_pvrtc\\' ).' );\n\t\treturn this.extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n\t},\n\tsupportsBlendMinMax: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( \\'EXT_blend_minmax\\' ).' );\n\t\treturn this.extensions.get( 'EXT_blend_minmax' );\n\n\t},\n\tsupportsVertexTextures: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.' );\n\t\treturn this.capabilities.vertexTextures;\n\n\t},\n\tsupportsInstancedArrays: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( \\'ANGLE_instanced_arrays\\' ).' );\n\t\treturn this.extensions.get( 'ANGLE_instanced_arrays' );\n\n\t},\n\tenableScissorTest: function ( boolean ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().' );\n\t\tthis.setScissorTest( boolean );\n\n\t},\n\tinitMaterial: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .initMaterial() has been removed.' );\n\n\t},\n\taddPrePlugin: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .addPrePlugin() has been removed.' );\n\n\t},\n\taddPostPlugin: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .addPostPlugin() has been removed.' );\n\n\t},\n\tupdateShadowMap: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .updateShadowMap() has been removed.' );\n\n\t},\n\tsetFaceCulling: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .setFaceCulling() has been removed.' );\n\n\t},\n\tallocTextureUnit: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .allocTextureUnit() has been removed.' );\n\n\t},\n\tsetTexture: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .setTexture() has been removed.' );\n\n\t},\n\tsetTexture2D: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .setTexture2D() has been removed.' );\n\n\t},\n\tsetTextureCube: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .setTextureCube() has been removed.' );\n\n\t},\n\tgetActiveMipMapLevel: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel().' );\n\t\treturn this.getActiveMipmapLevel();\n\n\t}\n\n} );\n\nObject.defineProperties( WebGLRenderer.prototype, {\n\n\tshadowMapEnabled: {\n\t\tget: function () {\n\n\t\t\treturn this.shadowMap.enabled;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.' );\n\t\t\tthis.shadowMap.enabled = value;\n\n\t\t}\n\t},\n\tshadowMapType: {\n\t\tget: function () {\n\n\t\t\treturn this.shadowMap.type;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.' );\n\t\t\tthis.shadowMap.type = value;\n\n\t\t}\n\t},\n\tshadowMapCullFace: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function ( /* value */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\tcontext: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .context has been removed. Use .getContext() instead.' );\n\t\t\treturn this.getContext();\n\n\t\t}\n\t},\n\tvr: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .vr has been renamed to .xr' );\n\t\t\treturn this.xr;\n\n\t\t}\n\t},\n\tgammaInput: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.' );\n\t\t\treturn false;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.' );\n\n\t\t}\n\t},\n\tgammaOutput: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.' );\n\t\t\treturn false;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.' );\n\t\t\tthis.outputEncoding = ( value === true ) ? sRGBEncoding : LinearEncoding;\n\n\t\t}\n\t},\n\ttoneMappingWhitePoint: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.' );\n\t\t\treturn 1.0;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.' );\n\n\t\t}\n\t},\n\n} );\n\nObject.defineProperties( WebGLShadowMap.prototype, {\n\n\tcullFace: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function ( /* cullFace */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\trenderReverseSided: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\trenderSingleSided: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t}\n\n} );\n\nfunction WebGLRenderTargetCube( width, height, options ) {\n\n\tconsole.warn( 'THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options ).' );\n\treturn new WebGLCubeRenderTarget( width, options );\n\n}\n\n//\n\nObject.defineProperties( WebGLRenderTarget.prototype, {\n\n\twrapS: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\n\t\t\treturn this.texture.wrapS;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\n\t\t\tthis.texture.wrapS = value;\n\n\t\t}\n\t},\n\twrapT: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\n\t\t\treturn this.texture.wrapT;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\n\t\t\tthis.texture.wrapT = value;\n\n\t\t}\n\t},\n\tmagFilter: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\n\t\t\treturn this.texture.magFilter;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\n\t\t\tthis.texture.magFilter = value;\n\n\t\t}\n\t},\n\tminFilter: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\n\t\t\treturn this.texture.minFilter;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\n\t\t\tthis.texture.minFilter = value;\n\n\t\t}\n\t},\n\tanisotropy: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\n\t\t\treturn this.texture.anisotropy;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\n\t\t\tthis.texture.anisotropy = value;\n\n\t\t}\n\t},\n\toffset: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\n\t\t\treturn this.texture.offset;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\n\t\t\tthis.texture.offset = value;\n\n\t\t}\n\t},\n\trepeat: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\n\t\t\treturn this.texture.repeat;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\n\t\t\tthis.texture.repeat = value;\n\n\t\t}\n\t},\n\tformat: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\n\t\t\treturn this.texture.format;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\n\t\t\tthis.texture.format = value;\n\n\t\t}\n\t},\n\ttype: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\n\t\t\treturn this.texture.type;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\n\t\t\tthis.texture.type = value;\n\n\t\t}\n\t},\n\tgenerateMipmaps: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\n\t\t\treturn this.texture.generateMipmaps;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\n\t\t\tthis.texture.generateMipmaps = value;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.defineProperties( Audio.prototype, {\n\n\tload: {\n\t\tvalue: function ( file ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.' );\n\t\t\tconst scope = this;\n\t\t\tconst audioLoader = new AudioLoader();\n\t\t\taudioLoader.load( file, function ( buffer ) {\n\n\t\t\t\tscope.setBuffer( buffer );\n\n\t\t\t} );\n\t\t\treturn this;\n\n\t\t}\n\t},\n\tstartTime: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Audio: .startTime is now .play( delay ).' );\n\n\t\t}\n\t}\n\n} );\n\nAudioAnalyser.prototype.getData = function () {\n\n\tconsole.warn( 'THREE.AudioAnalyser: .getData() is now .getFrequencyData().' );\n\treturn this.getFrequencyData();\n\n};\n\n//\n\nCubeCamera.prototype.updateCubeMap = function ( renderer, scene ) {\n\n\tconsole.warn( 'THREE.CubeCamera: .updateCubeMap() is now .update().' );\n\treturn this.update( renderer, scene );\n\n};\n\nCubeCamera.prototype.clear = function ( renderer, color, depth, stencil ) {\n\n\tconsole.warn( 'THREE.CubeCamera: .clear() is now .renderTarget.clear().' );\n\treturn this.renderTarget.clear( renderer, color, depth, stencil );\n\n};\n\n//\n\nconst GeometryUtils = {\n\n\tmerge: function ( geometry1, geometry2, materialIndexOffset ) {\n\n\t\tconsole.warn( 'THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.' );\n\t\tlet matrix;\n\n\t\tif ( geometry2.isMesh ) {\n\n\t\t\tgeometry2.matrixAutoUpdate && geometry2.updateMatrix();\n\n\t\t\tmatrix = geometry2.matrix;\n\t\t\tgeometry2 = geometry2.geometry;\n\n\t\t}\n\n\t\tgeometry1.merge( geometry2, matrix, materialIndexOffset );\n\n\t},\n\n\tcenter: function ( geometry ) {\n\n\t\tconsole.warn( 'THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.' );\n\t\treturn geometry.center();\n\n\t}\n\n};\n\nImageUtils.crossOrigin = undefined;\n\nImageUtils.loadTexture = function ( url, mapping, onLoad, onError ) {\n\n\tconsole.warn( 'THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.' );\n\n\tconst loader = new TextureLoader();\n\tloader.setCrossOrigin( this.crossOrigin );\n\n\tconst texture = loader.load( url, onLoad, undefined, onError );\n\n\tif ( mapping ) texture.mapping = mapping;\n\n\treturn texture;\n\n};\n\nImageUtils.loadTextureCube = function ( urls, mapping, onLoad, onError ) {\n\n\tconsole.warn( 'THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.' );\n\n\tconst loader = new CubeTextureLoader();\n\tloader.setCrossOrigin( this.crossOrigin );\n\n\tconst texture = loader.load( urls, onLoad, undefined, onError );\n\n\tif ( mapping ) texture.mapping = mapping;\n\n\treturn texture;\n\n};\n\nImageUtils.loadCompressedTexture = function () {\n\n\tconsole.error( 'THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.' );\n\n};\n\nImageUtils.loadCompressedTextureCube = function () {\n\n\tconsole.error( 'THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.' );\n\n};\n\n//\n\nfunction CanvasRenderer() {\n\n\tconsole.error( 'THREE.CanvasRenderer has been removed' );\n\n}\n\n//\n\nfunction JSONLoader() {\n\n\tconsole.error( 'THREE.JSONLoader has been removed.' );\n\n}\n\n//\n\nconst SceneUtils = {\n\n\tcreateMultiMaterialObject: function ( /* geometry, materials */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js' );\n\n\t},\n\n\tdetach: function ( /* child, parent, scene */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js' );\n\n\t},\n\n\tattach: function ( /* child, scene, parent */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js' );\n\n\t}\n\n};\n\n//\n\nfunction LensFlare() {\n\n\tconsole.error( 'THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js' );\n\n}\n\nif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t/* eslint-disable no-undef */\n\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'register', { detail: {\n\t\trevision: REVISION,\n\t} } ) );\n\t/* eslint-enable no-undef */\n\n}\n\nexport { ACESFilmicToneMapping, AddEquation, AddOperation, AdditiveAnimationBlendMode, AdditiveBlending, AlphaFormat, AlwaysDepth, AlwaysStencilFunc, AmbientLight, AmbientLightProbe, AnimationClip, AnimationLoader, AnimationMixer, AnimationObjectGroup, AnimationUtils, ArcCurve, ArrayCamera, ArrowHelper, Audio, AudioAnalyser, AudioContext, AudioListener, AudioLoader, AxesHelper, AxisHelper, BackSide, BasicDepthPacking, BasicShadowMap, BinaryTextureLoader, Bone, BooleanKeyframeTrack, BoundingBoxHelper, Box2, Box3, Box3Helper, BoxBufferGeometry, BoxGeometry, BoxHelper, BufferAttribute, BufferGeometry, BufferGeometryLoader, ByteType, Cache, Camera, CameraHelper, CanvasRenderer, CanvasTexture, CatmullRomCurve3, CineonToneMapping, CircleBufferGeometry, CircleGeometry, ClampToEdgeWrapping, Clock, ClosedSplineCurve3, Color, ColorKeyframeTrack, CompressedTexture, CompressedTextureLoader, ConeBufferGeometry, ConeGeometry, CubeCamera, BoxGeometry as CubeGeometry, CubeReflectionMapping, CubeRefractionMapping, CubeTexture, CubeTextureLoader, CubeUVReflectionMapping, CubeUVRefractionMapping, CubicBezierCurve, CubicBezierCurve3, CubicInterpolant, CullFaceBack, CullFaceFront, CullFaceFrontBack, CullFaceNone, Curve, CurvePath, CustomBlending, CustomToneMapping, CylinderBufferGeometry, CylinderGeometry, Cylindrical, DataTexture, DataTexture2DArray, DataTexture3D, DataTextureLoader, DataUtils, DecrementStencilOp, DecrementWrapStencilOp, DefaultLoadingManager, DepthFormat, DepthStencilFormat, DepthTexture, DirectionalLight, DirectionalLightHelper, DiscreteInterpolant, DodecahedronBufferGeometry, DodecahedronGeometry, DoubleSide, DstAlphaFactor, DstColorFactor, DynamicBufferAttribute, DynamicCopyUsage, DynamicDrawUsage, DynamicReadUsage, EdgesGeometry, EdgesHelper, EllipseCurve, EqualDepth, EqualStencilFunc, EquirectangularReflectionMapping, EquirectangularRefractionMapping, Euler, EventDispatcher, ExtrudeBufferGeometry, ExtrudeGeometry, Face3, Face4, FaceColors, FileLoader, FlatShading, Float16BufferAttribute, Float32Attribute, Float32BufferAttribute, Float64Attribute, Float64BufferAttribute, FloatType, Fog, FogExp2, Font, FontLoader, FrontSide, Frustum, GLBufferAttribute, GLSL1, GLSL3, GammaEncoding, Geometry, GeometryUtils, GreaterDepth, GreaterEqualDepth, GreaterEqualStencilFunc, GreaterStencilFunc, GridHelper, Group, HalfFloatType, HemisphereLight, HemisphereLightHelper, HemisphereLightProbe, IcosahedronBufferGeometry, IcosahedronGeometry, ImageBitmapLoader, ImageLoader, ImageUtils, ImmediateRenderObject, IncrementStencilOp, IncrementWrapStencilOp, InstancedBufferAttribute, InstancedBufferGeometry, InstancedInterleavedBuffer, InstancedMesh, Int16Attribute, Int16BufferAttribute, Int32Attribute, Int32BufferAttribute, Int8Attribute, Int8BufferAttribute, IntType, InterleavedBuffer, InterleavedBufferAttribute, Interpolant, InterpolateDiscrete, InterpolateLinear, InterpolateSmooth, InvertStencilOp, JSONLoader, KeepStencilOp, KeyframeTrack, LOD, LatheBufferGeometry, LatheGeometry, Layers, LensFlare, LessDepth, LessEqualDepth, LessEqualStencilFunc, LessStencilFunc, Light, LightProbe, Line, Line3, LineBasicMaterial, LineCurve, LineCurve3, LineDashedMaterial, LineLoop, LinePieces, LineSegments, LineStrip, LinearEncoding, LinearFilter, LinearInterpolant, LinearMipMapLinearFilter, LinearMipMapNearestFilter, LinearMipmapLinearFilter, LinearMipmapNearestFilter, LinearToneMapping, Loader, LoaderUtils, LoadingManager, LogLuvEncoding, LoopOnce, LoopPingPong, LoopRepeat, LuminanceAlphaFormat, LuminanceFormat, MOUSE, Material, MaterialLoader, MathUtils as Math, MathUtils, Matrix3, Matrix4, MaxEquation, Mesh, MeshBasicMaterial, MeshDepthMaterial, MeshDistanceMaterial, MeshFaceMaterial, MeshLambertMaterial, MeshMatcapMaterial, MeshNormalMaterial, MeshPhongMaterial, MeshPhysicalMaterial, MeshStandardMaterial, MeshToonMaterial, MinEquation, MirroredRepeatWrapping, MixOperation, MultiMaterial, MultiplyBlending, MultiplyOperation, NearestFilter, NearestMipMapLinearFilter, NearestMipMapNearestFilter, NearestMipmapLinearFilter, NearestMipmapNearestFilter, NeverDepth, NeverStencilFunc, NoBlending, NoColors, NoToneMapping, NormalAnimationBlendMode, NormalBlending, NotEqualDepth, NotEqualStencilFunc, NumberKeyframeTrack, Object3D, ObjectLoader, ObjectSpaceNormalMap, OctahedronBufferGeometry, OctahedronGeometry, OneFactor, OneMinusDstAlphaFactor, OneMinusDstColorFactor, OneMinusSrcAlphaFactor, OneMinusSrcColorFactor, OrthographicCamera, PCFShadowMap, PCFSoftShadowMap, PMREMGenerator, ParametricBufferGeometry, ParametricGeometry, Particle, ParticleBasicMaterial, ParticleSystem, ParticleSystemMaterial, Path, PerspectiveCamera, Plane, PlaneBufferGeometry, PlaneGeometry, PlaneHelper, PointCloud, PointCloudMaterial, PointLight, PointLightHelper, Points, PointsMaterial, PolarGridHelper, PolyhedronBufferGeometry, PolyhedronGeometry, PositionalAudio, PropertyBinding, PropertyMixer, QuadraticBezierCurve, QuadraticBezierCurve3, Quaternion, QuaternionKeyframeTrack, QuaternionLinearInterpolant, REVISION, RGBADepthPacking, RGBAFormat, RGBAIntegerFormat, RGBA_ASTC_10x10_Format, RGBA_ASTC_10x5_Format, RGBA_ASTC_10x6_Format, RGBA_ASTC_10x8_Format, RGBA_ASTC_12x10_Format, RGBA_ASTC_12x12_Format, RGBA_ASTC_4x4_Format, RGBA_ASTC_5x4_Format, RGBA_ASTC_5x5_Format, RGBA_ASTC_6x5_Format, RGBA_ASTC_6x6_Format, RGBA_ASTC_8x5_Format, RGBA_ASTC_8x6_Format, RGBA_ASTC_8x8_Format, RGBA_BPTC_Format, RGBA_ETC2_EAC_Format, RGBA_PVRTC_2BPPV1_Format, RGBA_PVRTC_4BPPV1_Format, RGBA_S3TC_DXT1_Format, RGBA_S3TC_DXT3_Format, RGBA_S3TC_DXT5_Format, RGBDEncoding, RGBEEncoding, RGBEFormat, RGBFormat, RGBIntegerFormat, RGBM16Encoding, RGBM7Encoding, RGB_ETC1_Format, RGB_ETC2_Format, RGB_PVRTC_2BPPV1_Format, RGB_PVRTC_4BPPV1_Format, RGB_S3TC_DXT1_Format, RGFormat, RGIntegerFormat, RawShaderMaterial, Ray, Raycaster, RectAreaLight, RedFormat, RedIntegerFormat, ReinhardToneMapping, RepeatWrapping, ReplaceStencilOp, ReverseSubtractEquation, RingBufferGeometry, RingGeometry, SRGB8_ALPHA8_ASTC_10x10_Format, SRGB8_ALPHA8_ASTC_10x5_Format, SRGB8_ALPHA8_ASTC_10x6_Format, SRGB8_ALPHA8_ASTC_10x8_Format, SRGB8_ALPHA8_ASTC_12x10_Format, SRGB8_ALPHA8_ASTC_12x12_Format, SRGB8_ALPHA8_ASTC_4x4_Format, SRGB8_ALPHA8_ASTC_5x4_Format, SRGB8_ALPHA8_ASTC_5x5_Format, SRGB8_ALPHA8_ASTC_6x5_Format, SRGB8_ALPHA8_ASTC_6x6_Format, SRGB8_ALPHA8_ASTC_8x5_Format, SRGB8_ALPHA8_ASTC_8x6_Format, SRGB8_ALPHA8_ASTC_8x8_Format, Scene, SceneUtils, ShaderChunk, ShaderLib, ShaderMaterial, ShadowMaterial, Shape, ShapeBufferGeometry, ShapeGeometry, ShapePath, ShapeUtils, ShortType, Skeleton, SkeletonHelper, SkinnedMesh, SmoothShading, Sphere, SphereBufferGeometry, SphereGeometry, Spherical, SphericalHarmonics3, Spline, SplineCurve, SplineCurve3, SpotLight, SpotLightHelper, Sprite, SpriteMaterial, SrcAlphaFactor, SrcAlphaSaturateFactor, SrcColorFactor, StaticCopyUsage, StaticDrawUsage, StaticReadUsage, StereoCamera, StreamCopyUsage, StreamDrawUsage, StreamReadUsage, StringKeyframeTrack, SubtractEquation, SubtractiveBlending, TOUCH, TangentSpaceNormalMap, TetrahedronBufferGeometry, TetrahedronGeometry, TextBufferGeometry, TextGeometry, Texture, TextureLoader, TorusBufferGeometry, TorusGeometry, TorusKnotBufferGeometry, TorusKnotGeometry, Triangle, TriangleFanDrawMode, TriangleStripDrawMode, TrianglesDrawMode, TubeBufferGeometry, TubeGeometry, UVMapping, Uint16Attribute, Uint16BufferAttribute, Uint32Attribute, Uint32BufferAttribute, Uint8Attribute, Uint8BufferAttribute, Uint8ClampedAttribute, Uint8ClampedBufferAttribute, Uniform, UniformsLib, UniformsUtils, UnsignedByteType, UnsignedInt248Type, UnsignedIntType, UnsignedShort4444Type, UnsignedShort5551Type, UnsignedShort565Type, UnsignedShortType, VSMShadowMap, Vector2, Vector3, Vector4, VectorKeyframeTrack, Vertex, VertexColors, VideoTexture, WebGL1Renderer, WebGLCubeRenderTarget, WebGLMultisampleRenderTarget, WebGLRenderTarget, WebGLRenderTargetCube, WebGLRenderer, WebGLUtils, WireframeGeometry, WireframeHelper, WrapAroundEnding, XHRLoader, ZeroCurvatureEnding, ZeroFactor, ZeroSlopeEnding, ZeroStencilOp, sRGBEncoding };\n","import {\n\tEventDispatcher,\n\tMOUSE,\n\tQuaternion,\n\tSpherical,\n\tTOUCH,\n\tVector2,\n\tVector3\n} from \"../../../build/three.module.js\";\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n//\n//    Orbit - left mouse / touch: one-finger move\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - right mouse, or left mouse + ctrl/meta/shiftKey, or arrow keys / touch: two-finger move\n\nvar OrbitControls = function ( object, domElement ) {\n\n\tif ( domElement === undefined ) console.warn( 'THREE.OrbitControls: The second parameter \"domElement\" is now mandatory.' );\n\tif ( domElement === document ) console.error( 'THREE.OrbitControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.' );\n\n\tthis.object = object;\n\tthis.domElement = domElement;\n\n\t// Set to false to disable this control\n\tthis.enabled = true;\n\n\t// \"target\" sets the location of focus, where the object orbits around\n\tthis.target = new Vector3();\n\n\t// How far you can dolly in and out ( PerspectiveCamera only )\n\tthis.minDistance = 0;\n\tthis.maxDistance = Infinity;\n\n\t// How far you can zoom in and out ( OrthographicCamera only )\n\tthis.minZoom = 0;\n\tthis.maxZoom = Infinity;\n\n\t// How far you can orbit vertically, upper and lower limits.\n\t// Range is 0 to Math.PI radians.\n\tthis.minPolarAngle = 0; // radians\n\tthis.maxPolarAngle = Math.PI; // radians\n\n\t// How far you can orbit horizontally, upper and lower limits.\n\t// If set, the interval [ min, max ] must be a sub-interval of [ - 2 PI, 2 PI ], with ( max - min < 2 PI )\n\tthis.minAzimuthAngle = - Infinity; // radians\n\tthis.maxAzimuthAngle = Infinity; // radians\n\n\t// Set to true to enable damping (inertia)\n\t// If damping is enabled, you must call controls.update() in your animation loop\n\tthis.enableDamping = false;\n\tthis.dampingFactor = 0.05;\n\n\t// This option actually enables dollying in and out; left as \"zoom\" for backwards compatibility.\n\t// Set to false to disable zooming\n\tthis.enableZoom = true;\n\tthis.zoomSpeed = 1.0;\n\n\t// Set to false to disable rotating\n\tthis.enableRotate = true;\n\tthis.rotateSpeed = 1.0;\n\n\t// Set to false to disable panning\n\tthis.enablePan = true;\n\tthis.panSpeed = 1.0;\n\tthis.screenSpacePanning = true; // if false, pan orthogonal to world-space direction camera.up\n\tthis.keyPanSpeed = 7.0;\t// pixels moved per arrow key push\n\n\t// Set to true to automatically rotate around the target\n\t// If auto-rotate is enabled, you must call controls.update() in your animation loop\n\tthis.autoRotate = false;\n\tthis.autoRotateSpeed = 2.0; // 30 seconds per round when fps is 60\n\n\t// Set to false to disable use of the keys\n\tthis.enableKeys = true;\n\n\t// The four arrow keys\n\tthis.keys = { LEFT: 37, UP: 38, RIGHT: 39, BOTTOM: 40 };\n\n\t// Mouse buttons\n\tthis.mouseButtons = { LEFT: MOUSE.ROTATE, MIDDLE: MOUSE.DOLLY, RIGHT: MOUSE.PAN };\n\n\t// Touch fingers\n\tthis.touches = { ONE: TOUCH.ROTATE, TWO: TOUCH.DOLLY_PAN };\n\n\t// for reset\n\tthis.target0 = this.target.clone();\n\tthis.position0 = this.object.position.clone();\n\tthis.zoom0 = this.object.zoom;\n\n\t//\n\t// public methods\n\t//\n\n\tthis.getPolarAngle = function () {\n\n\t\treturn spherical.phi;\n\n\t};\n\n\tthis.getAzimuthalAngle = function () {\n\n\t\treturn spherical.theta;\n\n\t};\n\n\tthis.saveState = function () {\n\n\t\tscope.target0.copy( scope.target );\n\t\tscope.position0.copy( scope.object.position );\n\t\tscope.zoom0 = scope.object.zoom;\n\n\t};\n\n\tthis.reset = function () {\n\n\t\tscope.target.copy( scope.target0 );\n\t\tscope.object.position.copy( scope.position0 );\n\t\tscope.object.zoom = scope.zoom0;\n\n\t\tscope.object.updateProjectionMatrix();\n\t\tscope.dispatchEvent( changeEvent );\n\n\t\tscope.update();\n\n\t\tstate = STATE.NONE;\n\n\t};\n\n\t// this method is exposed, but perhaps it would be better if we can make it private...\n\tthis.update = function () {\n\n\t\tvar offset = new Vector3();\n\n\t\t// so camera.up is the orbit axis\n\t\tvar quat = new Quaternion().setFromUnitVectors( object.up, new Vector3( 0, 1, 0 ) );\n\t\tvar quatInverse = quat.clone().invert();\n\n\t\tvar lastPosition = new Vector3();\n\t\tvar lastQuaternion = new Quaternion();\n\n\t\tvar twoPI = 2 * Math.PI;\n\n\t\treturn function update() {\n\n\t\t\tvar position = scope.object.position;\n\n\t\t\toffset.copy( position ).sub( scope.target );\n\n\t\t\t// rotate offset to \"y-axis-is-up\" space\n\t\t\toffset.applyQuaternion( quat );\n\n\t\t\t// angle from z-axis around y-axis\n\t\t\tspherical.setFromVector3( offset );\n\n\t\t\tif ( scope.autoRotate && state === STATE.NONE ) {\n\n\t\t\t\trotateLeft( getAutoRotationAngle() );\n\n\t\t\t}\n\n\t\t\tif ( scope.enableDamping ) {\n\n\t\t\t\tspherical.theta += sphericalDelta.theta * scope.dampingFactor;\n\t\t\t\tspherical.phi += sphericalDelta.phi * scope.dampingFactor;\n\n\t\t\t} else {\n\n\t\t\t\tspherical.theta += sphericalDelta.theta;\n\t\t\t\tspherical.phi += sphericalDelta.phi;\n\n\t\t\t}\n\n\t\t\t// restrict theta to be between desired limits\n\n\t\t\tvar min = scope.minAzimuthAngle;\n\t\t\tvar max = scope.maxAzimuthAngle;\n\n\t\t\tif ( isFinite( min ) && isFinite( max ) ) {\n\n\t\t\t\tif ( min < - Math.PI ) min += twoPI; else if ( min > Math.PI ) min -= twoPI;\n\n\t\t\t\tif ( max < - Math.PI ) max += twoPI; else if ( max > Math.PI ) max -= twoPI;\n\n\t\t\t\tif ( min <= max ) {\n\n\t\t\t\t\tspherical.theta = Math.max( min, Math.min( max, spherical.theta ) );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tspherical.theta = ( spherical.theta > ( min + max ) / 2 ) ?\n\t\t\t\t\t\tMath.max( min, spherical.theta ) :\n\t\t\t\t\t\tMath.min( max, spherical.theta );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// restrict phi to be between desired limits\n\t\t\tspherical.phi = Math.max( scope.minPolarAngle, Math.min( scope.maxPolarAngle, spherical.phi ) );\n\n\t\t\tspherical.makeSafe();\n\n\n\t\t\tspherical.radius *= scale;\n\n\t\t\t// restrict radius to be between desired limits\n\t\t\tspherical.radius = Math.max( scope.minDistance, Math.min( scope.maxDistance, spherical.radius ) );\n\n\t\t\t// move target to panned location\n\n\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\tscope.target.addScaledVector( panOffset, scope.dampingFactor );\n\n\t\t\t} else {\n\n\t\t\t\tscope.target.add( panOffset );\n\n\t\t\t}\n\n\t\t\toffset.setFromSpherical( spherical );\n\n\t\t\t// rotate offset back to \"camera-up-vector-is-up\" space\n\t\t\toffset.applyQuaternion( quatInverse );\n\n\t\t\tposition.copy( scope.target ).add( offset );\n\n\t\t\tscope.object.lookAt( scope.target );\n\n\t\t\tif ( scope.enableDamping === true ) {\n\n\t\t\t\tsphericalDelta.theta *= ( 1 - scope.dampingFactor );\n\t\t\t\tsphericalDelta.phi *= ( 1 - scope.dampingFactor );\n\n\t\t\t\tpanOffset.multiplyScalar( 1 - scope.dampingFactor );\n\n\t\t\t} else {\n\n\t\t\t\tsphericalDelta.set( 0, 0, 0 );\n\n\t\t\t\tpanOffset.set( 0, 0, 0 );\n\n\t\t\t}\n\n\t\t\tscale = 1;\n\n\t\t\t// update condition is:\n\t\t\t// min(camera displacement, camera rotation in radians)^2 > EPS\n\t\t\t// using small-angle approximation cos(x/2) = 1 - x^2 / 8\n\n\t\t\tif ( zoomChanged ||\n\t\t\t\tlastPosition.distanceToSquared( scope.object.position ) > EPS ||\n\t\t\t\t8 * ( 1 - lastQuaternion.dot( scope.object.quaternion ) ) > EPS ) {\n\n\t\t\t\tscope.dispatchEvent( changeEvent );\n\n\t\t\t\tlastPosition.copy( scope.object.position );\n\t\t\t\tlastQuaternion.copy( scope.object.quaternion );\n\t\t\t\tzoomChanged = false;\n\n\t\t\t\treturn true;\n\n\t\t\t}\n\n\t\t\treturn false;\n\n\t\t};\n\n\t}();\n\n\tthis.dispose = function () {\n\n\t\tscope.domElement.removeEventListener( 'contextmenu', onContextMenu, false );\n\n\t\tscope.domElement.removeEventListener( 'pointerdown', onPointerDown, false );\n\t\tscope.domElement.removeEventListener( 'wheel', onMouseWheel, false );\n\n\t\tscope.domElement.removeEventListener( 'touchstart', onTouchStart, false );\n\t\tscope.domElement.removeEventListener( 'touchend', onTouchEnd, false );\n\t\tscope.domElement.removeEventListener( 'touchmove', onTouchMove, false );\n\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove, false );\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp, false );\n\n\t\tscope.domElement.removeEventListener( 'keydown', onKeyDown, false );\n\n\t\t//scope.dispatchEvent( { type: 'dispose' } ); // should this be added here?\n\n\t};\n\n\t//\n\t// internals\n\t//\n\n\tvar scope = this;\n\n\tvar changeEvent = { type: 'change' };\n\tvar startEvent = { type: 'start' };\n\tvar endEvent = { type: 'end' };\n\n\tvar STATE = {\n\t\tNONE: - 1,\n\t\tROTATE: 0,\n\t\tDOLLY: 1,\n\t\tPAN: 2,\n\t\tTOUCH_ROTATE: 3,\n\t\tTOUCH_PAN: 4,\n\t\tTOUCH_DOLLY_PAN: 5,\n\t\tTOUCH_DOLLY_ROTATE: 6\n\t};\n\n\tvar state = STATE.NONE;\n\n\tvar EPS = 0.000001;\n\n\t// current position in spherical coordinates\n\tvar spherical = new Spherical();\n\tvar sphericalDelta = new Spherical();\n\n\tvar scale = 1;\n\tvar panOffset = new Vector3();\n\tvar zoomChanged = false;\n\n\tvar rotateStart = new Vector2();\n\tvar rotateEnd = new Vector2();\n\tvar rotateDelta = new Vector2();\n\n\tvar panStart = new Vector2();\n\tvar panEnd = new Vector2();\n\tvar panDelta = new Vector2();\n\n\tvar dollyStart = new Vector2();\n\tvar dollyEnd = new Vector2();\n\tvar dollyDelta = new Vector2();\n\n\tfunction getAutoRotationAngle() {\n\n\t\treturn 2 * Math.PI / 60 / 60 * scope.autoRotateSpeed;\n\n\t}\n\n\tfunction getZoomScale() {\n\n\t\treturn Math.pow( 0.95, scope.zoomSpeed );\n\n\t}\n\n\tfunction rotateLeft( angle ) {\n\n\t\tsphericalDelta.theta -= angle;\n\n\t}\n\n\tfunction rotateUp( angle ) {\n\n\t\tsphericalDelta.phi -= angle;\n\n\t}\n\n\tvar panLeft = function () {\n\n\t\tvar v = new Vector3();\n\n\t\treturn function panLeft( distance, objectMatrix ) {\n\n\t\t\tv.setFromMatrixColumn( objectMatrix, 0 ); // get X column of objectMatrix\n\t\t\tv.multiplyScalar( - distance );\n\n\t\t\tpanOffset.add( v );\n\n\t\t};\n\n\t}();\n\n\tvar panUp = function () {\n\n\t\tvar v = new Vector3();\n\n\t\treturn function panUp( distance, objectMatrix ) {\n\n\t\t\tif ( scope.screenSpacePanning === true ) {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 1 );\n\n\t\t\t} else {\n\n\t\t\t\tv.setFromMatrixColumn( objectMatrix, 0 );\n\t\t\t\tv.crossVectors( scope.object.up, v );\n\n\t\t\t}\n\n\t\t\tv.multiplyScalar( distance );\n\n\t\t\tpanOffset.add( v );\n\n\t\t};\n\n\t}();\n\n\t// deltaX and deltaY are in pixels; right and down are positive\n\tvar pan = function () {\n\n\t\tvar offset = new Vector3();\n\n\t\treturn function pan( deltaX, deltaY ) {\n\n\t\t\tvar element = scope.domElement;\n\n\t\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\t\t// perspective\n\t\t\t\tvar position = scope.object.position;\n\t\t\t\toffset.copy( position ).sub( scope.target );\n\t\t\t\tvar targetDistance = offset.length();\n\n\t\t\t\t// half of the fov is center to top of screen\n\t\t\t\ttargetDistance *= Math.tan( ( scope.object.fov / 2 ) * Math.PI / 180.0 );\n\n\t\t\t\t// we use only clientHeight here so aspect ratio does not distort speed\n\t\t\t\tpanLeft( 2 * deltaX * targetDistance / element.clientHeight, scope.object.matrix );\n\t\t\t\tpanUp( 2 * deltaY * targetDistance / element.clientHeight, scope.object.matrix );\n\n\t\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\t\t// orthographic\n\t\t\t\tpanLeft( deltaX * ( scope.object.right - scope.object.left ) / scope.object.zoom / element.clientWidth, scope.object.matrix );\n\t\t\t\tpanUp( deltaY * ( scope.object.top - scope.object.bottom ) / scope.object.zoom / element.clientHeight, scope.object.matrix );\n\n\t\t\t} else {\n\n\t\t\t\t// camera neither orthographic nor perspective\n\t\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - pan disabled.' );\n\t\t\t\tscope.enablePan = false;\n\n\t\t\t}\n\n\t\t};\n\n\t}();\n\n\tfunction dollyOut( dollyScale ) {\n\n\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\tscale /= dollyScale;\n\n\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom * dollyScale ) );\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tscope.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\tfunction dollyIn( dollyScale ) {\n\n\t\tif ( scope.object.isPerspectiveCamera ) {\n\n\t\t\tscale *= dollyScale;\n\n\t\t} else if ( scope.object.isOrthographicCamera ) {\n\n\t\t\tscope.object.zoom = Math.max( scope.minZoom, Math.min( scope.maxZoom, scope.object.zoom / dollyScale ) );\n\t\t\tscope.object.updateProjectionMatrix();\n\t\t\tzoomChanged = true;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled.' );\n\t\t\tscope.enableZoom = false;\n\n\t\t}\n\n\t}\n\n\t//\n\t// event callbacks - update the object state\n\t//\n\n\tfunction handleMouseDownRotate( event ) {\n\n\t\trotateStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseDownDolly( event ) {\n\n\t\tdollyStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseDownPan( event ) {\n\n\t\tpanStart.set( event.clientX, event.clientY );\n\n\t}\n\n\tfunction handleMouseMoveRotate( event ) {\n\n\t\trotateEnd.set( event.clientX, event.clientY );\n\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\tvar element = scope.domElement;\n\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\trotateStart.copy( rotateEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseMoveDolly( event ) {\n\n\t\tdollyEnd.set( event.clientX, event.clientY );\n\n\t\tdollyDelta.subVectors( dollyEnd, dollyStart );\n\n\t\tif ( dollyDelta.y > 0 ) {\n\n\t\t\tdollyOut( getZoomScale() );\n\n\t\t} else if ( dollyDelta.y < 0 ) {\n\n\t\t\tdollyIn( getZoomScale() );\n\n\t\t}\n\n\t\tdollyStart.copy( dollyEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseMovePan( event ) {\n\n\t\tpanEnd.set( event.clientX, event.clientY );\n\n\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\tpan( panDelta.x, panDelta.y );\n\n\t\tpanStart.copy( panEnd );\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleMouseUp( /*event*/ ) {\n\n\t\t// no-op\n\n\t}\n\n\tfunction handleMouseWheel( event ) {\n\n\t\tif ( event.deltaY < 0 ) {\n\n\t\t\tdollyIn( getZoomScale() );\n\n\t\t} else if ( event.deltaY > 0 ) {\n\n\t\t\tdollyOut( getZoomScale() );\n\n\t\t}\n\n\t\tscope.update();\n\n\t}\n\n\tfunction handleKeyDown( event ) {\n\n\t\tvar needsUpdate = false;\n\n\t\tswitch ( event.keyCode ) {\n\n\t\t\tcase scope.keys.UP:\n\t\t\t\tpan( 0, scope.keyPanSpeed );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.BOTTOM:\n\t\t\t\tpan( 0, - scope.keyPanSpeed );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.LEFT:\n\t\t\t\tpan( scope.keyPanSpeed, 0 );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t\tcase scope.keys.RIGHT:\n\t\t\t\tpan( - scope.keyPanSpeed, 0 );\n\t\t\t\tneedsUpdate = true;\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( needsUpdate ) {\n\n\t\t\t// prevent the browser from scrolling on cursor keys\n\t\t\tevent.preventDefault();\n\n\t\t\tscope.update();\n\n\t\t}\n\n\n\t}\n\n\tfunction handleTouchStartRotate( event ) {\n\n\t\tif ( event.touches.length == 1 ) {\n\n\t\t\trotateStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t} else {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\trotateStart.set( x, y );\n\n\t\t}\n\n\t}\n\n\tfunction handleTouchStartPan( event ) {\n\n\t\tif ( event.touches.length == 1 ) {\n\n\t\t\tpanStart.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t} else {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\tpanStart.set( x, y );\n\n\t\t}\n\n\t}\n\n\tfunction handleTouchStartDolly( event ) {\n\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\tdollyStart.set( 0, distance );\n\n\t}\n\n\tfunction handleTouchStartDollyPan( event ) {\n\n\t\tif ( scope.enableZoom ) handleTouchStartDolly( event );\n\n\t\tif ( scope.enablePan ) handleTouchStartPan( event );\n\n\t}\n\n\tfunction handleTouchStartDollyRotate( event ) {\n\n\t\tif ( scope.enableZoom ) handleTouchStartDolly( event );\n\n\t\tif ( scope.enableRotate ) handleTouchStartRotate( event );\n\n\t}\n\n\tfunction handleTouchMoveRotate( event ) {\n\n\t\tif ( event.touches.length == 1 ) {\n\n\t\t\trotateEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t} else {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\trotateEnd.set( x, y );\n\n\t\t}\n\n\t\trotateDelta.subVectors( rotateEnd, rotateStart ).multiplyScalar( scope.rotateSpeed );\n\n\t\tvar element = scope.domElement;\n\n\t\trotateLeft( 2 * Math.PI * rotateDelta.x / element.clientHeight ); // yes, height\n\n\t\trotateUp( 2 * Math.PI * rotateDelta.y / element.clientHeight );\n\n\t\trotateStart.copy( rotateEnd );\n\n\t}\n\n\tfunction handleTouchMovePan( event ) {\n\n\t\tif ( event.touches.length == 1 ) {\n\n\t\t\tpanEnd.set( event.touches[ 0 ].pageX, event.touches[ 0 ].pageY );\n\n\t\t} else {\n\n\t\t\tvar x = 0.5 * ( event.touches[ 0 ].pageX + event.touches[ 1 ].pageX );\n\t\t\tvar y = 0.5 * ( event.touches[ 0 ].pageY + event.touches[ 1 ].pageY );\n\n\t\t\tpanEnd.set( x, y );\n\n\t\t}\n\n\t\tpanDelta.subVectors( panEnd, panStart ).multiplyScalar( scope.panSpeed );\n\n\t\tpan( panDelta.x, panDelta.y );\n\n\t\tpanStart.copy( panEnd );\n\n\t}\n\n\tfunction handleTouchMoveDolly( event ) {\n\n\t\tvar dx = event.touches[ 0 ].pageX - event.touches[ 1 ].pageX;\n\t\tvar dy = event.touches[ 0 ].pageY - event.touches[ 1 ].pageY;\n\n\t\tvar distance = Math.sqrt( dx * dx + dy * dy );\n\n\t\tdollyEnd.set( 0, distance );\n\n\t\tdollyDelta.set( 0, Math.pow( dollyEnd.y / dollyStart.y, scope.zoomSpeed ) );\n\n\t\tdollyOut( dollyDelta.y );\n\n\t\tdollyStart.copy( dollyEnd );\n\n\t}\n\n\tfunction handleTouchMoveDollyPan( event ) {\n\n\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\tif ( scope.enablePan ) handleTouchMovePan( event );\n\n\t}\n\n\tfunction handleTouchMoveDollyRotate( event ) {\n\n\t\tif ( scope.enableZoom ) handleTouchMoveDolly( event );\n\n\t\tif ( scope.enableRotate ) handleTouchMoveRotate( event );\n\n\t}\n\n\tfunction handleTouchEnd( /*event*/ ) {\n\n\t\t// no-op\n\n\t}\n\n\t//\n\t// event handlers - FSM: listen for events and reset state\n\t//\n\n\tfunction onPointerDown( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tswitch ( event.pointerType ) {\n\n\t\t\tcase 'mouse':\n\t\t\tcase 'pen':\n\t\t\t\tonMouseDown( event );\n\t\t\t\tbreak;\n\n\t\t\t// TODO touch\n\n\t\t}\n\n\t}\n\n\tfunction onPointerMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tswitch ( event.pointerType ) {\n\n\t\t\tcase 'mouse':\n\t\t\tcase 'pen':\n\t\t\t\tonMouseMove( event );\n\t\t\t\tbreak;\n\n\t\t\t// TODO touch\n\n\t\t}\n\n\t}\n\n\tfunction onPointerUp( event ) {\n\n\t\tswitch ( event.pointerType ) {\n\n\t\t\tcase 'mouse':\n\t\t\tcase 'pen':\n\t\t\t\tonMouseUp( event );\n\t\t\t\tbreak;\n\n\t\t\t// TODO touch\n\n\t\t}\n\n\t}\n\n\tfunction onMouseDown( event ) {\n\n\t\t// Prevent the browser from scrolling.\n\t\tevent.preventDefault();\n\n\t\t// Manually set the focus since calling preventDefault above\n\t\t// prevents the browser from setting it automatically.\n\n\t\tscope.domElement.focus ? scope.domElement.focus() : window.focus();\n\n\t\tvar mouseAction;\n\n\t\tswitch ( event.button ) {\n\n\t\t\tcase 0:\n\n\t\t\t\tmouseAction = scope.mouseButtons.LEFT;\n\t\t\t\tbreak;\n\n\t\t\tcase 1:\n\n\t\t\t\tmouseAction = scope.mouseButtons.MIDDLE;\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\n\t\t\t\tmouseAction = scope.mouseButtons.RIGHT;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tmouseAction = - 1;\n\n\t\t}\n\n\t\tswitch ( mouseAction ) {\n\n\t\t\tcase MOUSE.DOLLY:\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\thandleMouseDownDolly( event );\n\n\t\t\t\tstate = STATE.DOLLY;\n\n\t\t\t\tbreak;\n\n\t\t\tcase MOUSE.ROTATE:\n\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase MOUSE.PAN:\n\n\t\t\t\tif ( event.ctrlKey || event.metaKey || event.shiftKey ) {\n\n\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\thandleMouseDownRotate( event );\n\n\t\t\t\t\tstate = STATE.ROTATE;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\thandleMouseDownPan( event );\n\n\t\t\t\t\tstate = STATE.PAN;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) {\n\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointermove', onPointerMove, false );\n\t\t\tscope.domElement.ownerDocument.addEventListener( 'pointerup', onPointerUp, false );\n\n\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t}\n\n\t}\n\n\tfunction onMouseMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t\tswitch ( state ) {\n\n\t\t\tcase STATE.ROTATE:\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleMouseMoveRotate( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.DOLLY:\n\n\t\t\t\tif ( scope.enableZoom === false ) return;\n\n\t\t\t\thandleMouseMoveDolly( event );\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.PAN:\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleMouseMovePan( event );\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction onMouseUp( event ) {\n\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointermove', onPointerMove, false );\n\t\tscope.domElement.ownerDocument.removeEventListener( 'pointerup', onPointerUp, false );\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\thandleMouseUp( event );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onMouseWheel( event ) {\n\n\t\tif ( scope.enabled === false || scope.enableZoom === false || ( state !== STATE.NONE && state !== STATE.ROTATE ) ) return;\n\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\n\t\tscope.dispatchEvent( startEvent );\n\n\t\thandleMouseWheel( event );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t}\n\n\tfunction onKeyDown( event ) {\n\n\t\tif ( scope.enabled === false || scope.enableKeys === false || scope.enablePan === false ) return;\n\n\t\thandleKeyDown( event );\n\n\t}\n\n\tfunction onTouchStart( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault(); // prevent scrolling\n\n\t\tswitch ( event.touches.length ) {\n\n\t\t\tcase 1:\n\n\t\t\t\tswitch ( scope.touches.ONE ) {\n\n\t\t\t\t\tcase TOUCH.ROTATE:\n\n\t\t\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleTouchStartRotate( event );\n\n\t\t\t\t\t\tstate = STATE.TOUCH_ROTATE;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase TOUCH.PAN:\n\n\t\t\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleTouchStartPan( event );\n\n\t\t\t\t\t\tstate = STATE.TOUCH_PAN;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\n\t\t\t\tswitch ( scope.touches.TWO ) {\n\n\t\t\t\t\tcase TOUCH.DOLLY_PAN:\n\n\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\t\t\thandleTouchStartDollyPan( event );\n\n\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_PAN;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase TOUCH.DOLLY_ROTATE:\n\n\t\t\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\t\t\thandleTouchStartDollyRotate( event );\n\n\t\t\t\t\t\tstate = STATE.TOUCH_DOLLY_ROTATE;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tstate = STATE.NONE;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t\tif ( state !== STATE.NONE ) {\n\n\t\t\tscope.dispatchEvent( startEvent );\n\n\t\t}\n\n\t}\n\n\tfunction onTouchMove( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault(); // prevent scrolling\n\t\tevent.stopPropagation();\n\n\t\tswitch ( state ) {\n\n\t\t\tcase STATE.TOUCH_ROTATE:\n\n\t\t\t\tif ( scope.enableRotate === false ) return;\n\n\t\t\t\thandleTouchMoveRotate( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.TOUCH_PAN:\n\n\t\t\t\tif ( scope.enablePan === false ) return;\n\n\t\t\t\thandleTouchMovePan( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.TOUCH_DOLLY_PAN:\n\n\t\t\t\tif ( scope.enableZoom === false && scope.enablePan === false ) return;\n\n\t\t\t\thandleTouchMoveDollyPan( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tcase STATE.TOUCH_DOLLY_ROTATE:\n\n\t\t\t\tif ( scope.enableZoom === false && scope.enableRotate === false ) return;\n\n\t\t\t\thandleTouchMoveDollyRotate( event );\n\n\t\t\t\tscope.update();\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tstate = STATE.NONE;\n\n\t\t}\n\n\t}\n\n\tfunction onTouchEnd( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\thandleTouchEnd( event );\n\n\t\tscope.dispatchEvent( endEvent );\n\n\t\tstate = STATE.NONE;\n\n\t}\n\n\tfunction onContextMenu( event ) {\n\n\t\tif ( scope.enabled === false ) return;\n\n\t\tevent.preventDefault();\n\n\t}\n\n\t//\n\n\tscope.domElement.addEventListener( 'contextmenu', onContextMenu, false );\n\n\tscope.domElement.addEventListener( 'pointerdown', onPointerDown, false );\n\tscope.domElement.addEventListener( 'wheel', onMouseWheel, false );\n\n\tscope.domElement.addEventListener( 'touchstart', onTouchStart, false );\n\tscope.domElement.addEventListener( 'touchend', onTouchEnd, false );\n\tscope.domElement.addEventListener( 'touchmove', onTouchMove, false );\n\n\tscope.domElement.addEventListener( 'keydown', onKeyDown, false );\n\n\t// force an update at start\n\n\tthis.update();\n\n};\n\nOrbitControls.prototype = Object.create( EventDispatcher.prototype );\nOrbitControls.prototype.constructor = OrbitControls;\n\n\n// This set of controls performs orbiting, dollying (zooming), and panning.\n// Unlike TrackballControls, it maintains the \"up\" direction object.up (+Y by default).\n// This is very similar to OrbitControls, another set of touch behavior\n//\n//    Orbit - right mouse, or left mouse + ctrl/meta/shiftKey / touch: two-finger rotate\n//    Zoom - middle mouse, or mousewheel / touch: two-finger spread or squish\n//    Pan - left mouse, or arrow keys / touch: one-finger move\n\nvar MapControls = function ( object, domElement ) {\n\n\tOrbitControls.call( this, object, domElement );\n\n\tthis.screenSpacePanning = false; // pan orthogonal to world-space direction camera.up\n\n\tthis.mouseButtons.LEFT = MOUSE.PAN;\n\tthis.mouseButtons.RIGHT = MOUSE.ROTATE;\n\n\tthis.touches.ONE = TOUCH.PAN;\n\tthis.touches.TWO = TOUCH.DOLLY_ROTATE;\n\n};\n\nMapControls.prototype = Object.create( EventDispatcher.prototype );\nMapControls.prototype.constructor = MapControls;\n\nexport { OrbitControls, MapControls };\n","import {\n\tAnimationClip,\n\tBone,\n\tBox3,\n\tBufferAttribute,\n\tBufferGeometry,\n\tCanvasTexture,\n\tClampToEdgeWrapping,\n\tColor,\n\tDirectionalLight,\n\tDoubleSide,\n\tFileLoader,\n\tFrontSide,\n\tGroup,\n\tImageBitmapLoader,\n\tInterleavedBuffer,\n\tInterleavedBufferAttribute,\n\tInterpolant,\n\tInterpolateDiscrete,\n\tInterpolateLinear,\n\tLine,\n\tLineBasicMaterial,\n\tLineLoop,\n\tLineSegments,\n\tLinearFilter,\n\tLinearMipmapLinearFilter,\n\tLinearMipmapNearestFilter,\n\tLoader,\n\tLoaderUtils,\n\tMaterial,\n\tMathUtils,\n\tMatrix4,\n\tMesh,\n\tMeshBasicMaterial,\n\tMeshPhysicalMaterial,\n\tMeshStandardMaterial,\n\tMirroredRepeatWrapping,\n\tNearestFilter,\n\tNearestMipmapLinearFilter,\n\tNearestMipmapNearestFilter,\n\tNumberKeyframeTrack,\n\tObject3D,\n\tOrthographicCamera,\n\tPerspectiveCamera,\n\tPointLight,\n\tPoints,\n\tPointsMaterial,\n\tPropertyBinding,\n\tQuaternionKeyframeTrack,\n\tRGBFormat,\n\tRepeatWrapping,\n\tSkeleton,\n\tSkinnedMesh,\n\tSphere,\n\tSpotLight,\n\tTangentSpaceNormalMap,\n\tTextureLoader,\n\tTriangleFanDrawMode,\n\tTriangleStripDrawMode,\n\tVector2,\n\tVector3,\n\tVectorKeyframeTrack,\n\tsRGBEncoding\n} from \"../../../build/three.module.js\";\n\nvar GLTFLoader = ( function () {\n\n\tfunction GLTFLoader( manager ) {\n\n\t\tLoader.call( this, manager );\n\n\t\tthis.dracoLoader = null;\n\t\tthis.ddsLoader = null;\n\t\tthis.ktx2Loader = null;\n\t\tthis.meshoptDecoder = null;\n\n\t\tthis.pluginCallbacks = [];\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsClearcoatExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFTextureBasisUExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFTextureWebPExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMaterialsTransmissionExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFLightsExtension( parser );\n\n\t\t} );\n\n\t\tthis.register( function ( parser ) {\n\n\t\t\treturn new GLTFMeshoptCompression( parser );\n\n\t\t} );\n\n\t}\n\n\tGLTFLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\t\tconstructor: GLTFLoader,\n\n\t\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\t\tvar scope = this;\n\n\t\t\tvar resourcePath;\n\n\t\t\tif ( this.resourcePath !== '' ) {\n\n\t\t\t\tresourcePath = this.resourcePath;\n\n\t\t\t} else if ( this.path !== '' ) {\n\n\t\t\t\tresourcePath = this.path;\n\n\t\t\t} else {\n\n\t\t\t\tresourcePath = LoaderUtils.extractUrlBase( url );\n\n\t\t\t}\n\n\t\t\t// Tells the LoadingManager to track an extra item, which resolves after\n\t\t\t// the model is fully loaded. This means the count of items loaded will\n\t\t\t// be incorrect, but ensures manager.onLoad() does not fire early.\n\t\t\tthis.manager.itemStart( url );\n\n\t\t\tvar _onError = function ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t};\n\n\t\t\tvar loader = new FileLoader( this.manager );\n\n\t\t\tloader.setPath( this.path );\n\t\t\tloader.setResponseType( 'arraybuffer' );\n\t\t\tloader.setRequestHeader( this.requestHeader );\n\t\t\tloader.setWithCredentials( this.withCredentials );\n\n\t\t\tloader.load( url, function ( data ) {\n\n\t\t\t\ttry {\n\n\t\t\t\t\tscope.parse( data, resourcePath, function ( gltf ) {\n\n\t\t\t\t\t\tonLoad( gltf );\n\n\t\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t\t}, _onError );\n\n\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t_onError( e );\n\n\t\t\t\t}\n\n\t\t\t}, onProgress, _onError );\n\n\t\t},\n\n\t\tsetDRACOLoader: function ( dracoLoader ) {\n\n\t\t\tthis.dracoLoader = dracoLoader;\n\t\t\treturn this;\n\n\t\t},\n\n\t\tsetDDSLoader: function ( ddsLoader ) {\n\n\t\t\tthis.ddsLoader = ddsLoader;\n\t\t\treturn this;\n\n\t\t},\n\n\t\tsetKTX2Loader: function ( ktx2Loader ) {\n\n\t\t\tthis.ktx2Loader = ktx2Loader;\n\t\t\treturn this;\n\n\t\t},\n\n\t\tsetMeshoptDecoder: function ( meshoptDecoder ) {\n\n\t\t\tthis.meshoptDecoder = meshoptDecoder;\n\t\t\treturn this;\n\n\t\t},\n\n\t\tregister: function ( callback ) {\n\n\t\t\tif ( this.pluginCallbacks.indexOf( callback ) === - 1 ) {\n\n\t\t\t\tthis.pluginCallbacks.push( callback );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t},\n\n\t\tunregister: function ( callback ) {\n\n\t\t\tif ( this.pluginCallbacks.indexOf( callback ) !== - 1 ) {\n\n\t\t\t\tthis.pluginCallbacks.splice( this.pluginCallbacks.indexOf( callback ), 1 );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t},\n\n\t\tparse: function ( data, path, onLoad, onError ) {\n\n\t\t\tvar content;\n\t\t\tvar extensions = {};\n\t\t\tvar plugins = {};\n\n\t\t\tif ( typeof data === 'string' ) {\n\n\t\t\t\tcontent = data;\n\n\t\t\t} else {\n\n\t\t\t\tvar magic = LoaderUtils.decodeText( new Uint8Array( data, 0, 4 ) );\n\n\t\t\t\tif ( magic === BINARY_EXTENSION_HEADER_MAGIC ) {\n\n\t\t\t\t\ttry {\n\n\t\t\t\t\t\textensions[ EXTENSIONS.KHR_BINARY_GLTF ] = new GLTFBinaryExtension( data );\n\n\t\t\t\t\t} catch ( error ) {\n\n\t\t\t\t\t\tif ( onError ) onError( error );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcontent = extensions[ EXTENSIONS.KHR_BINARY_GLTF ].content;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tcontent = LoaderUtils.decodeText( new Uint8Array( data ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttry{\n\t\t\tvar json = JSON.parse( content );\n\t\t\t}catch(e){\n\t\t\t\tconsole.log(e);\n\t\t\t}\n\t\t\tif ( json.asset === undefined || json.asset.version[ 0 ] < 2 ) {\n\n\t\t\t\tif ( onError ) onError( new Error( 'THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported.' ) );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tvar parser = new GLTFParser( json, {\n\n\t\t\t\tpath: path || this.resourcePath || '',\n\t\t\t\tcrossOrigin: this.crossOrigin,\n\t\t\t\tmanager: this.manager,\n\t\t\t\tktx2Loader: this.ktx2Loader,\n\t\t\t\tmeshoptDecoder: this.meshoptDecoder\n\n\t\t\t} );\n\n\t\t\tparser.fileLoader.setRequestHeader( this.requestHeader );\n\n\t\t\tfor ( var i = 0; i < this.pluginCallbacks.length; i ++ ) {\n\n\t\t\t\tvar plugin = this.pluginCallbacks[ i ]( parser );\n\t\t\t\tplugins[ plugin.name ] = plugin;\n\n\t\t\t\t// Workaround to avoid determining as unknown extension\n\t\t\t\t// in addUnknownExtensionsToUserData().\n\t\t\t\t// Remove this workaround if we move all the existing\n\t\t\t\t// extension handlers to plugin system\n\t\t\t\textensions[ plugin.name ] = true;\n\n\t\t\t}\n\n\t\t\tif ( json.extensionsUsed ) {\n\n\t\t\t\tfor ( var i = 0; i < json.extensionsUsed.length; ++ i ) {\n\n\t\t\t\t\tvar extensionName = json.extensionsUsed[ i ];\n\t\t\t\t\tvar extensionsRequired = json.extensionsRequired || [];\n\n\t\t\t\t\tswitch ( extensionName ) {\n\n\t\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_UNLIT:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFMaterialsUnlitExtension();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFMaterialsPbrSpecularGlossinessExtension();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFDracoMeshCompressionExtension( json, this.dracoLoader );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase EXTENSIONS.MSFT_TEXTURE_DDS:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFTextureDDSExtension( this.ddsLoader );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase EXTENSIONS.KHR_TEXTURE_TRANSFORM:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFTextureTransformExtension();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase EXTENSIONS.KHR_MESH_QUANTIZATION:\n\t\t\t\t\t\t\textensions[ extensionName ] = new GLTFMeshQuantizationExtension();\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\tif ( extensionsRequired.indexOf( extensionName ) >= 0 && plugins[ extensionName ] === undefined ) {\n\n\t\t\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Unknown extension \"' + extensionName + '\".' );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tparser.setExtensions( extensions );\n\t\t\tparser.setPlugins( plugins );\n\t\t\tparser.parse( onLoad, onError );\n\n\t\t}\n\n\t} );\n\n\t/* GLTFREGISTRY */\n\n\tfunction GLTFRegistry() {\n\n\t\tvar objects = {};\n\n\t\treturn\t{\n\n\t\t\tget: function ( key ) {\n\n\t\t\t\treturn objects[ key ];\n\n\t\t\t},\n\n\t\t\tadd: function ( key, object ) {\n\n\t\t\t\tobjects[ key ] = object;\n\n\t\t\t},\n\n\t\t\tremove: function ( key ) {\n\n\t\t\t\tdelete objects[ key ];\n\n\t\t\t},\n\n\t\t\tremoveAll: function () {\n\n\t\t\t\tobjects = {};\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t/*********************************/\n\t/********** EXTENSIONS ***********/\n\t/*********************************/\n\n\tvar EXTENSIONS = {\n\t\tKHR_BINARY_GLTF: 'KHR_binary_glTF',\n\t\tKHR_DRACO_MESH_COMPRESSION: 'KHR_draco_mesh_compression',\n\t\tKHR_LIGHTS_PUNCTUAL: 'KHR_lights_punctual',\n\t\tKHR_MATERIALS_CLEARCOAT: 'KHR_materials_clearcoat',\n\t\tKHR_MATERIALS_PBR_SPECULAR_GLOSSINESS: 'KHR_materials_pbrSpecularGlossiness',\n\t\tKHR_MATERIALS_TRANSMISSION: 'KHR_materials_transmission',\n\t\tKHR_MATERIALS_UNLIT: 'KHR_materials_unlit',\n\t\tKHR_TEXTURE_BASISU: 'KHR_texture_basisu',\n\t\tKHR_TEXTURE_TRANSFORM: 'KHR_texture_transform',\n\t\tKHR_MESH_QUANTIZATION: 'KHR_mesh_quantization',\n\t\tEXT_TEXTURE_WEBP: 'EXT_texture_webp',\n\t\tEXT_MESHOPT_COMPRESSION: 'EXT_meshopt_compression',\n\t\tMSFT_TEXTURE_DDS: 'MSFT_texture_dds'\n\t};\n\n\t/**\n\t * DDS Texture Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/MSFT_texture_dds\n\t *\n\t */\n\tfunction GLTFTextureDDSExtension( ddsLoader ) {\n\n\t\tif ( ! ddsLoader ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader' );\n\n\t\t}\n\n\t\tthis.name = EXTENSIONS.MSFT_TEXTURE_DDS;\n\t\tthis.ddsLoader = ddsLoader;\n\n\t}\n\n\t/**\n\t * Punctual Lights Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_lights_punctual\n\t */\n\tfunction GLTFLightsExtension( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_LIGHTS_PUNCTUAL;\n\n\t\t// Object3D instance caches\n\t\tthis.cache = { refs: {}, uses: {} };\n\n\t}\n\n\tGLTFLightsExtension.prototype._markDefs = function () {\n\n\t\tvar parser = this.parser;\n\t\tvar nodeDefs = this.parser.json.nodes || [];\n\n\t\tfor ( var nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex ++ ) {\n\n\t\t\tvar nodeDef = nodeDefs[ nodeIndex ];\n\n\t\t\tif ( nodeDef.extensions\n\t\t\t\t&& nodeDef.extensions[ this.name ]\n\t\t\t\t&& nodeDef.extensions[ this.name ].light !== undefined ) {\n\n\t\t\t\tparser._addNodeRef( this.cache, nodeDef.extensions[ this.name ].light );\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tGLTFLightsExtension.prototype._loadLight = function ( lightIndex ) {\n\n\t\tvar parser = this.parser;\n\t\tvar cacheKey = 'light:' + lightIndex;\n\t\tvar dependency = parser.cache.get( cacheKey );\n\n\t\tif ( dependency ) return dependency;\n\n\t\tvar json = parser.json;\n\t\tvar extensions = ( json.extensions && json.extensions[ this.name ] ) || {};\n\t\tvar lightDefs = extensions.lights || [];\n\t\tvar lightDef = lightDefs[ lightIndex ];\n\t\tvar lightNode;\n\n\t\tvar color = new Color( 0xffffff );\n\n\t\tif ( lightDef.color !== undefined ) color.fromArray( lightDef.color );\n\n\t\tvar range = lightDef.range !== undefined ? lightDef.range : 0;\n\n\t\tswitch ( lightDef.type ) {\n\n\t\t\tcase 'directional':\n\t\t\t\tlightNode = new DirectionalLight( color );\n\t\t\t\tlightNode.target.position.set( 0, 0, - 1 );\n\t\t\t\tlightNode.add( lightNode.target );\n\t\t\t\tbreak;\n\n\t\t\tcase 'point':\n\t\t\t\tlightNode = new PointLight( color );\n\t\t\t\tlightNode.distance = range;\n\t\t\t\tbreak;\n\n\t\t\tcase 'spot':\n\t\t\t\tlightNode = new SpotLight( color );\n\t\t\t\tlightNode.distance = range;\n\t\t\t\t// Handle spotlight properties.\n\t\t\t\tlightDef.spot = lightDef.spot || {};\n\t\t\t\tlightDef.spot.innerConeAngle = lightDef.spot.innerConeAngle !== undefined ? lightDef.spot.innerConeAngle : 0;\n\t\t\t\tlightDef.spot.outerConeAngle = lightDef.spot.outerConeAngle !== undefined ? lightDef.spot.outerConeAngle : Math.PI / 4.0;\n\t\t\t\tlightNode.angle = lightDef.spot.outerConeAngle;\n\t\t\t\tlightNode.penumbra = 1.0 - lightDef.spot.innerConeAngle / lightDef.spot.outerConeAngle;\n\t\t\t\tlightNode.target.position.set( 0, 0, - 1 );\n\t\t\t\tlightNode.add( lightNode.target );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Unexpected light type, \"' + lightDef.type + '\".' );\n\n\t\t}\n\n\t\t// Some lights (e.g. spot) default to a position other than the origin. Reset the position\n\t\t// here, because node-level parsing will only override position if explicitly specified.\n\t\tlightNode.position.set( 0, 0, 0 );\n\n\t\tlightNode.decay = 2;\n\n\t\tif ( lightDef.intensity !== undefined ) lightNode.intensity = lightDef.intensity;\n\n\t\tlightNode.name = parser.createUniqueName( lightDef.name || ( 'light_' + lightIndex ) );\n\n\t\tdependency = Promise.resolve( lightNode );\n\n\t\tparser.cache.add( cacheKey, dependency );\n\n\t\treturn dependency;\n\n\t};\n\n\tGLTFLightsExtension.prototype.createNodeAttachment = function ( nodeIndex ) {\n\n\t\tvar self = this;\n\t\tvar parser = this.parser;\n\t\tvar json = parser.json;\n\t\tvar nodeDef = json.nodes[ nodeIndex ];\n\t\tvar lightDef = ( nodeDef.extensions && nodeDef.extensions[ this.name ] ) || {};\n\t\tvar lightIndex = lightDef.light;\n\n\t\tif ( lightIndex === undefined ) return null;\n\n\t\treturn this._loadLight( lightIndex ).then( function ( light ) {\n\n\t\t\treturn parser._getNodeRef( self.cache, lightIndex, light );\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Unlit Materials Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_unlit\n\t */\n\tfunction GLTFMaterialsUnlitExtension() {\n\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_UNLIT;\n\n\t}\n\n\tGLTFMaterialsUnlitExtension.prototype.getMaterialType = function () {\n\n\t\treturn MeshBasicMaterial;\n\n\t};\n\n\tGLTFMaterialsUnlitExtension.prototype.extendParams = function ( materialParams, materialDef, parser ) {\n\n\t\tvar pending = [];\n\n\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\tmaterialParams.opacity = 1.0;\n\n\t\tvar metallicRoughness = materialDef.pbrMetallicRoughness;\n\n\t\tif ( metallicRoughness ) {\n\n\t\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\n\n\t\t\t\tvar array = metallicRoughness.baseColorFactor;\n\n\t\t\t\tmaterialParams.color.fromArray( array );\n\t\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t\t}\n\n\t\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t};\n\n\t/**\n\t * Clearcoat Materials Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_clearcoat\n\t */\n\tfunction GLTFMaterialsClearcoatExtension( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_CLEARCOAT;\n\n\t}\n\n\tGLTFMaterialsClearcoatExtension.prototype.getMaterialType = function ( materialIndex ) {\n\n\t\tvar parser = this.parser;\n\t\tvar materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t};\n\n\tGLTFMaterialsClearcoatExtension.prototype.extendMaterialParams = function ( materialIndex, materialParams ) {\n\n\t\tvar parser = this.parser;\n\t\tvar materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tvar pending = [];\n\n\t\tvar extension = materialDef.extensions[ this.name ];\n\n\t\tif ( extension.clearcoatFactor !== undefined ) {\n\n\t\t\tmaterialParams.clearcoat = extension.clearcoatFactor;\n\n\t\t}\n\n\t\tif ( extension.clearcoatTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatMap', extension.clearcoatTexture ) );\n\n\t\t}\n\n\t\tif ( extension.clearcoatRoughnessFactor !== undefined ) {\n\n\t\t\tmaterialParams.clearcoatRoughness = extension.clearcoatRoughnessFactor;\n\n\t\t}\n\n\t\tif ( extension.clearcoatRoughnessTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatRoughnessMap', extension.clearcoatRoughnessTexture ) );\n\n\t\t}\n\n\t\tif ( extension.clearcoatNormalTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'clearcoatNormalMap', extension.clearcoatNormalTexture ) );\n\n\t\t\tif ( extension.clearcoatNormalTexture.scale !== undefined ) {\n\n\t\t\t\tvar scale = extension.clearcoatNormalTexture.scale;\n\n\t\t\t\tmaterialParams.clearcoatNormalScale = new Vector2( scale, scale );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t};\n\n\t/**\n\t * Transmission Materials Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_transmission\n\t * Draft: https://github.com/KhronosGroup/glTF/pull/1698\n\t */\n\tfunction GLTFMaterialsTransmissionExtension( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_MATERIALS_TRANSMISSION;\n\n\t}\n\n\tGLTFMaterialsTransmissionExtension.prototype.getMaterialType = function ( materialIndex ) {\n\n\t\tvar parser = this.parser;\n\t\tvar materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) return null;\n\n\t\treturn MeshPhysicalMaterial;\n\n\t};\n\n\tGLTFMaterialsTransmissionExtension.prototype.extendMaterialParams = function ( materialIndex, materialParams ) {\n\n\t\tvar parser = this.parser;\n\t\tvar materialDef = parser.json.materials[ materialIndex ];\n\n\t\tif ( ! materialDef.extensions || ! materialDef.extensions[ this.name ] ) {\n\n\t\t\treturn Promise.resolve();\n\n\t\t}\n\n\t\tvar pending = [];\n\n\t\tvar extension = materialDef.extensions[ this.name ];\n\n\t\tif ( extension.transmissionFactor !== undefined ) {\n\n\t\t\tmaterialParams.transmission = extension.transmissionFactor;\n\n\t\t}\n\n\t\tif ( extension.transmissionTexture !== undefined ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'transmissionMap', extension.transmissionTexture ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t};\n\n\t/**\n\t * BasisU Texture Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_basisu\n\t */\n\tfunction GLTFTextureBasisUExtension( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.KHR_TEXTURE_BASISU;\n\n\t}\n\n\tGLTFTextureBasisUExtension.prototype.loadTexture = function ( textureIndex ) {\n\n\t\tvar parser = this.parser;\n\t\tvar json = parser.json;\n\n\t\tvar textureDef = json.textures[ textureIndex ];\n\n\t\tif ( ! textureDef.extensions || ! textureDef.extensions[ this.name ] ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tvar extension = textureDef.extensions[ this.name ];\n\t\tvar source = json.images[ extension.source ];\n\t\tvar loader = parser.options.ktx2Loader;\n\n\t\tif ( ! loader ) {\n\n\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( this.name ) >= 0 ) {\n\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures' );\n\n\t\t\t} else {\n\n\t\t\t\t// Assumes that the extension is optional and that a fallback texture is present\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn parser.loadTextureImage( textureIndex, source, loader );\n\n\t};\n\n\t/**\n\t * WebP Texture Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_texture_webp\n\t */\n\tfunction GLTFTextureWebPExtension( parser ) {\n\n\t\tthis.parser = parser;\n\t\tthis.name = EXTENSIONS.EXT_TEXTURE_WEBP;\n\t\tthis.isSupported = null;\n\n\t}\n\n\tGLTFTextureWebPExtension.prototype.loadTexture = function ( textureIndex ) {\n\n\t\tvar name = this.name;\n\t\tvar parser = this.parser;\n\t\tvar json = parser.json;\n\n\t\tvar textureDef = json.textures[ textureIndex ];\n\n\t\tif ( ! textureDef.extensions || ! textureDef.extensions[ name ] ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tvar extension = textureDef.extensions[ name ];\n\t\tvar source = json.images[ extension.source ];\n\t\tvar loader = source.uri ? parser.options.manager.getHandler( source.uri ) : parser.textureLoader;\n\n\t\treturn this.detectSupport().then( function ( isSupported ) {\n\n\t\t\tif ( isSupported ) return parser.loadTextureImage( textureIndex, source, loader );\n\n\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( name ) >= 0 ) {\n\n\t\t\t\tthrow new Error( 'THREE.GLTFLoader: WebP required by asset but unsupported.' );\n\n\t\t\t}\n\n\t\t\t// Fall back to PNG or JPEG.\n\t\t\treturn parser.loadTexture( textureIndex );\n\n\t\t} );\n\n\t};\n\n\tGLTFTextureWebPExtension.prototype.detectSupport = function () {\n\n\t\tif ( ! this.isSupported ) {\n\n\t\t\tthis.isSupported = new Promise( function ( resolve ) {\n\n\t\t\t\tvar image = new Image();\n\n\t\t\t\t// Lossy test image. Support for lossy images doesn't guarantee support for all\n\t\t\t\t// WebP images, unfortunately.\n\t\t\t\timage.src = 'data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA';\n\n\t\t\t\timage.onload = image.onerror = function () {\n\n\t\t\t\t\tresolve( image.height === 1 );\n\n\t\t\t\t};\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn this.isSupported;\n\n\t};\n\n\t/**\n\t* meshopt BufferView Compression Extension\n\t*\n\t* Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Vendor/EXT_meshopt_compression\n\t*/\n\tfunction GLTFMeshoptCompression( parser ) {\n\n\t\tthis.name = EXTENSIONS.EXT_MESHOPT_COMPRESSION;\n\t\tthis.parser = parser;\n\n\t}\n\n\tGLTFMeshoptCompression.prototype.loadBufferView = function ( index ) {\n\n\t\tvar json = this.parser.json;\n\t\tvar bufferView = json.bufferViews[ index ];\n\n\t\tif ( bufferView.extensions && bufferView.extensions[ this.name ] ) {\n\n\t\t\tvar extensionDef = bufferView.extensions[ this.name ];\n\n\t\t\tvar buffer = this.parser.getDependency( 'buffer', extensionDef.buffer );\n\t\t\tvar decoder = this.parser.options.meshoptDecoder;\n\n\t\t\tif ( ! decoder || ! decoder.supported ) {\n\n\t\t\t\tif ( json.extensionsRequired && json.extensionsRequired.indexOf( this.name ) >= 0 ) {\n\n\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files' );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Assumes that the extension is optional and that fallback buffer data is present\n\t\t\t\t\treturn null;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn Promise.all( [ buffer, decoder.ready ] ).then( function ( res ) {\n\n\t\t\t\tvar byteOffset = extensionDef.byteOffset || 0;\n\t\t\t\tvar byteLength = extensionDef.byteLength || 0;\n\n\t\t\t\tvar count = extensionDef.count;\n\t\t\t\tvar stride = extensionDef.byteStride;\n\n\t\t\t\tvar result = new ArrayBuffer( count * stride );\n\t\t\t\tvar source = new Uint8Array( res[ 0 ], byteOffset, byteLength );\n\n\t\t\t\tdecoder.decodeGltfBuffer( new Uint8Array( result ), count, stride, source, extensionDef.mode, extensionDef.filter );\n\t\t\t\treturn result;\n\n\t\t\t} );\n\n\t\t} else {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t};\n\n\t/* BINARY EXTENSION */\n\tvar BINARY_EXTENSION_HEADER_MAGIC = 'glTF';\n\tvar BINARY_EXTENSION_HEADER_LENGTH = 12;\n\tvar BINARY_EXTENSION_CHUNK_TYPES = { JSON: 0x4E4F534A, BIN: 0x004E4942 };\n\n\tfunction GLTFBinaryExtension( data ) {\n\n\t\tthis.name = EXTENSIONS.KHR_BINARY_GLTF;\n\t\tthis.content = null;\n\t\tthis.body = null;\n\n\t\tvar headerView = new DataView( data, 0, BINARY_EXTENSION_HEADER_LENGTH );\n\n\t\tthis.header = {\n\t\t\tmagic: LoaderUtils.decodeText( new Uint8Array( data.slice( 0, 4 ) ) ),\n\t\t\tversion: headerView.getUint32( 4, true ),\n\t\t\tlength: headerView.getUint32( 8, true )\n\t\t};\n\n\t\tif ( this.header.magic !== BINARY_EXTENSION_HEADER_MAGIC ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Unsupported glTF-Binary header.' );\n\n\t\t} else if ( this.header.version < 2.0 ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: Legacy binary file detected.' );\n\n\t\t}\n\n\t\tvar chunkView = new DataView( data, BINARY_EXTENSION_HEADER_LENGTH );\n\t\tvar chunkIndex = 0;\n\n\t\twhile ( chunkIndex < chunkView.byteLength ) {\n\n\t\t\tvar chunkLength = chunkView.getUint32( chunkIndex, true );\n\t\t\tchunkIndex += 4;\n\n\t\t\tvar chunkType = chunkView.getUint32( chunkIndex, true );\n\t\t\tchunkIndex += 4;\n\n\t\t\tif ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.JSON ) {\n\n\t\t\t\tvar contentArray = new Uint8Array( data, BINARY_EXTENSION_HEADER_LENGTH + chunkIndex, chunkLength );\n\t\t\t\tthis.content = LoaderUtils.decodeText( contentArray );\n\n\t\t\t} else if ( chunkType === BINARY_EXTENSION_CHUNK_TYPES.BIN ) {\n\n\t\t\t\tvar byteOffset = BINARY_EXTENSION_HEADER_LENGTH + chunkIndex;\n\t\t\t\tthis.body = data.slice( byteOffset, byteOffset + chunkLength );\n\n\t\t\t}\n\n\t\t\t// Clients must ignore chunks with unknown types.\n\n\t\t\tchunkIndex += chunkLength;\n\n\t\t}\n\n\t\tif ( this.content === null ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: JSON content not found.' );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * DRACO Mesh Compression Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_draco_mesh_compression\n\t */\n\tfunction GLTFDracoMeshCompressionExtension( json, dracoLoader ) {\n\n\t\tif ( ! dracoLoader ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: No DRACOLoader instance provided.' );\n\n\t\t}\n\n\t\tthis.name = EXTENSIONS.KHR_DRACO_MESH_COMPRESSION;\n\t\tthis.json = json;\n\t\tthis.dracoLoader = dracoLoader;\n\t\tthis.dracoLoader.preload();\n\n\t}\n\n\tGLTFDracoMeshCompressionExtension.prototype.decodePrimitive = function ( primitive, parser ) {\n\n\t\tvar json = this.json;\n\t\tvar dracoLoader = this.dracoLoader;\n\t\tvar bufferViewIndex = primitive.extensions[ this.name ].bufferView;\n\t\tvar gltfAttributeMap = primitive.extensions[ this.name ].attributes;\n\t\tvar threeAttributeMap = {};\n\t\tvar attributeNormalizedMap = {};\n\t\tvar attributeTypeMap = {};\n\n\t\tfor ( var attributeName in gltfAttributeMap ) {\n\n\t\t\tvar threeAttributeName = ATTRIBUTES[ attributeName ] || attributeName.toLowerCase();\n\n\t\t\tthreeAttributeMap[ threeAttributeName ] = gltfAttributeMap[ attributeName ];\n\n\t\t}\n\n\t\tfor ( attributeName in primitive.attributes ) {\n\n\t\t\tvar threeAttributeName = ATTRIBUTES[ attributeName ] || attributeName.toLowerCase();\n\n\t\t\tif ( gltfAttributeMap[ attributeName ] !== undefined ) {\n\n\t\t\t\tvar accessorDef = json.accessors[ primitive.attributes[ attributeName ] ];\n\t\t\t\tvar componentType = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\n\n\t\t\t\tattributeTypeMap[ threeAttributeName ] = componentType;\n\t\t\t\tattributeNormalizedMap[ threeAttributeName ] = accessorDef.normalized === true;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn parser.getDependency( 'bufferView', bufferViewIndex ).then( function ( bufferView ) {\n\n\t\t\treturn new Promise( function ( resolve ) {\n\n\t\t\t\tdracoLoader.decodeDracoFile( bufferView, function ( geometry ) {\n\n\t\t\t\t\tfor ( var attributeName in geometry.attributes ) {\n\n\t\t\t\t\t\tvar attribute = geometry.attributes[ attributeName ];\n\t\t\t\t\t\tvar normalized = attributeNormalizedMap[ attributeName ];\n\n\t\t\t\t\t\tif ( normalized !== undefined ) attribute.normalized = normalized;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tresolve( geometry );\n\n\t\t\t\t}, threeAttributeMap, attributeTypeMap );\n\n\t\t\t} );\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Texture Transform Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_texture_transform\n\t */\n\tfunction GLTFTextureTransformExtension() {\n\n\t\tthis.name = EXTENSIONS.KHR_TEXTURE_TRANSFORM;\n\n\t}\n\n\tGLTFTextureTransformExtension.prototype.extendTexture = function ( texture, transform ) {\n\n\t\ttexture = texture.clone();\n\n\t\tif ( transform.offset !== undefined ) {\n\n\t\t\ttexture.offset.fromArray( transform.offset );\n\n\t\t}\n\n\t\tif ( transform.rotation !== undefined ) {\n\n\t\t\ttexture.rotation = transform.rotation;\n\n\t\t}\n\n\t\tif ( transform.scale !== undefined ) {\n\n\t\t\ttexture.repeat.fromArray( transform.scale );\n\n\t\t}\n\n\t\tif ( transform.texCoord !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Custom UV sets in \"' + this.name + '\" extension not yet supported.' );\n\n\t\t}\n\n\t\ttexture.needsUpdate = true;\n\n\t\treturn texture;\n\n\t};\n\n\t/**\n\t * Specular-Glossiness Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_materials_pbrSpecularGlossiness\n\t */\n\n\t/**\n\t * A sub class of StandardMaterial with some of the functionality\n\t * changed via the `onBeforeCompile` callback\n\t * @pailhead\n\t */\n\n\tfunction GLTFMeshStandardSGMaterial( params ) {\n\n\t\tMeshStandardMaterial.call( this );\n\n\t\tthis.isGLTFSpecularGlossinessMaterial = true;\n\n\t\t//various chunks that need replacing\n\t\tvar specularMapParsFragmentChunk = [\n\t\t\t'#ifdef USE_SPECULARMAP',\n\t\t\t'\tuniform sampler2D specularMap;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tvar glossinessMapParsFragmentChunk = [\n\t\t\t'#ifdef USE_GLOSSINESSMAP',\n\t\t\t'\tuniform sampler2D glossinessMap;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tvar specularMapFragmentChunk = [\n\t\t\t'vec3 specularFactor = specular;',\n\t\t\t'#ifdef USE_SPECULARMAP',\n\t\t\t'\tvec4 texelSpecular = texture2D( specularMap, vUv );',\n\t\t\t'\ttexelSpecular = sRGBToLinear( texelSpecular );',\n\t\t\t'\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture',\n\t\t\t'\tspecularFactor *= texelSpecular.rgb;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tvar glossinessMapFragmentChunk = [\n\t\t\t'float glossinessFactor = glossiness;',\n\t\t\t'#ifdef USE_GLOSSINESSMAP',\n\t\t\t'\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );',\n\t\t\t'\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture',\n\t\t\t'\tglossinessFactor *= texelGlossiness.a;',\n\t\t\t'#endif'\n\t\t].join( '\\n' );\n\n\t\tvar lightPhysicalFragmentChunk = [\n\t\t\t'PhysicalMaterial material;',\n\t\t\t'material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );',\n\t\t\t'vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );',\n\t\t\t'float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );',\n\t\t\t'material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.',\n\t\t\t'material.specularRoughness += geometryRoughness;',\n\t\t\t'material.specularRoughness = min( material.specularRoughness, 1.0 );',\n\t\t\t'material.specularColor = specularFactor;',\n\t\t].join( '\\n' );\n\n\t\tvar uniforms = {\n\t\t\tspecular: { value: new Color().setHex( 0xffffff ) },\n\t\t\tglossiness: { value: 1 },\n\t\t\tspecularMap: { value: null },\n\t\t\tglossinessMap: { value: null }\n\t\t};\n\n\t\tthis._extraUniforms = uniforms;\n\n\t\tthis.onBeforeCompile = function ( shader ) {\n\n\t\t\tfor ( var uniformName in uniforms ) {\n\n\t\t\t\tshader.uniforms[ uniformName ] = uniforms[ uniformName ];\n\n\t\t\t}\n\n\t\t\tshader.fragmentShader = shader.fragmentShader\n\t\t\t\t.replace( 'uniform float roughness;', 'uniform vec3 specular;' )\n\t\t\t\t.replace( 'uniform float metalness;', 'uniform float glossiness;' )\n\t\t\t\t.replace( '#include <roughnessmap_pars_fragment>', specularMapParsFragmentChunk )\n\t\t\t\t.replace( '#include <metalnessmap_pars_fragment>', glossinessMapParsFragmentChunk )\n\t\t\t\t.replace( '#include <roughnessmap_fragment>', specularMapFragmentChunk )\n\t\t\t\t.replace( '#include <metalnessmap_fragment>', glossinessMapFragmentChunk )\n\t\t\t\t.replace( '#include <lights_physical_fragment>', lightPhysicalFragmentChunk );\n\n\t\t};\n\n\t\tObject.defineProperties( this, {\n\n\t\t\tspecular: {\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn uniforms.specular.value;\n\n\t\t\t\t},\n\t\t\t\tset: function ( v ) {\n\n\t\t\t\t\tuniforms.specular.value = v;\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tspecularMap: {\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn uniforms.specularMap.value;\n\n\t\t\t\t},\n\t\t\t\tset: function ( v ) {\n\n\t\t\t\t\tuniforms.specularMap.value = v;\n\n\t\t\t\t\tif ( v ) {\n\n\t\t\t\t\t\tthis.defines.USE_SPECULARMAP = ''; // USE_UV is set by the renderer for specular maps\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdelete this.defines.USE_SPECULARMAP;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tglossiness: {\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn uniforms.glossiness.value;\n\n\t\t\t\t},\n\t\t\t\tset: function ( v ) {\n\n\t\t\t\t\tuniforms.glossiness.value = v;\n\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tglossinessMap: {\n\t\t\t\tget: function () {\n\n\t\t\t\t\treturn uniforms.glossinessMap.value;\n\n\t\t\t\t},\n\t\t\t\tset: function ( v ) {\n\n\t\t\t\t\tuniforms.glossinessMap.value = v;\n\n\t\t\t\t\tif ( v ) {\n\n\t\t\t\t\t\tthis.defines.USE_GLOSSINESSMAP = '';\n\t\t\t\t\t\tthis.defines.USE_UV = '';\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdelete this.defines.USE_GLOSSINESSMAP;\n\t\t\t\t\t\tdelete this.defines.USE_UV;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t} );\n\n\t\tdelete this.metalness;\n\t\tdelete this.roughness;\n\t\tdelete this.metalnessMap;\n\t\tdelete this.roughnessMap;\n\n\t\tthis.setValues( params );\n\n\t}\n\n\tGLTFMeshStandardSGMaterial.prototype = Object.create( MeshStandardMaterial.prototype );\n\tGLTFMeshStandardSGMaterial.prototype.constructor = GLTFMeshStandardSGMaterial;\n\n\tGLTFMeshStandardSGMaterial.prototype.copy = function ( source ) {\n\n\t\tMeshStandardMaterial.prototype.copy.call( this, source );\n\t\tthis.specularMap = source.specularMap;\n\t\tthis.specular.copy( source.specular );\n\t\tthis.glossinessMap = source.glossinessMap;\n\t\tthis.glossiness = source.glossiness;\n\t\tdelete this.metalness;\n\t\tdelete this.roughness;\n\t\tdelete this.metalnessMap;\n\t\tdelete this.roughnessMap;\n\t\treturn this;\n\n\t};\n\n\tfunction GLTFMaterialsPbrSpecularGlossinessExtension() {\n\n\t\treturn {\n\n\t\t\tname: EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,\n\n\t\t\tspecularGlossinessParams: [\n\t\t\t\t'color',\n\t\t\t\t'map',\n\t\t\t\t'lightMap',\n\t\t\t\t'lightMapIntensity',\n\t\t\t\t'aoMap',\n\t\t\t\t'aoMapIntensity',\n\t\t\t\t'emissive',\n\t\t\t\t'emissiveIntensity',\n\t\t\t\t'emissiveMap',\n\t\t\t\t'bumpMap',\n\t\t\t\t'bumpScale',\n\t\t\t\t'normalMap',\n\t\t\t\t'normalMapType',\n\t\t\t\t'displacementMap',\n\t\t\t\t'displacementScale',\n\t\t\t\t'displacementBias',\n\t\t\t\t'specularMap',\n\t\t\t\t'specular',\n\t\t\t\t'glossinessMap',\n\t\t\t\t'glossiness',\n\t\t\t\t'alphaMap',\n\t\t\t\t'envMap',\n\t\t\t\t'envMapIntensity',\n\t\t\t\t'refractionRatio',\n\t\t\t],\n\n\t\t\tgetMaterialType: function () {\n\n\t\t\t\treturn GLTFMeshStandardSGMaterial;\n\n\t\t\t},\n\n\t\t\textendParams: function ( materialParams, materialDef, parser ) {\n\n\t\t\t\tvar pbrSpecularGlossiness = materialDef.extensions[ this.name ];\n\n\t\t\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\t\t\tmaterialParams.opacity = 1.0;\n\n\t\t\t\tvar pending = [];\n\n\t\t\t\tif ( Array.isArray( pbrSpecularGlossiness.diffuseFactor ) ) {\n\n\t\t\t\t\tvar array = pbrSpecularGlossiness.diffuseFactor;\n\n\t\t\t\t\tmaterialParams.color.fromArray( array );\n\t\t\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t\t\t}\n\n\t\t\t\tif ( pbrSpecularGlossiness.diffuseTexture !== undefined ) {\n\n\t\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', pbrSpecularGlossiness.diffuseTexture ) );\n\n\t\t\t\t}\n\n\t\t\t\tmaterialParams.emissive = new Color( 0.0, 0.0, 0.0 );\n\t\t\t\tmaterialParams.glossiness = pbrSpecularGlossiness.glossinessFactor !== undefined ? pbrSpecularGlossiness.glossinessFactor : 1.0;\n\t\t\t\tmaterialParams.specular = new Color( 1.0, 1.0, 1.0 );\n\n\t\t\t\tif ( Array.isArray( pbrSpecularGlossiness.specularFactor ) ) {\n\n\t\t\t\t\tmaterialParams.specular.fromArray( pbrSpecularGlossiness.specularFactor );\n\n\t\t\t\t}\n\n\t\t\t\tif ( pbrSpecularGlossiness.specularGlossinessTexture !== undefined ) {\n\n\t\t\t\t\tvar specGlossMapDef = pbrSpecularGlossiness.specularGlossinessTexture;\n\t\t\t\t\tpending.push( parser.assignTexture( materialParams, 'glossinessMap', specGlossMapDef ) );\n\t\t\t\t\tpending.push( parser.assignTexture( materialParams, 'specularMap', specGlossMapDef ) );\n\n\t\t\t\t}\n\n\t\t\t\treturn Promise.all( pending );\n\n\t\t\t},\n\n\t\t\tcreateMaterial: function ( materialParams ) {\n\n\t\t\t\tvar material = new GLTFMeshStandardSGMaterial( materialParams );\n\t\t\t\tmaterial.fog = true;\n\n\t\t\t\tmaterial.color = materialParams.color;\n\n\t\t\t\tmaterial.map = materialParams.map === undefined ? null : materialParams.map;\n\n\t\t\t\tmaterial.lightMap = null;\n\t\t\t\tmaterial.lightMapIntensity = 1.0;\n\n\t\t\t\tmaterial.aoMap = materialParams.aoMap === undefined ? null : materialParams.aoMap;\n\t\t\t\tmaterial.aoMapIntensity = 1.0;\n\n\t\t\t\tmaterial.emissive = materialParams.emissive;\n\t\t\t\tmaterial.emissiveIntensity = 1.0;\n\t\t\t\tmaterial.emissiveMap = materialParams.emissiveMap === undefined ? null : materialParams.emissiveMap;\n\n\t\t\t\tmaterial.bumpMap = materialParams.bumpMap === undefined ? null : materialParams.bumpMap;\n\t\t\t\tmaterial.bumpScale = 1;\n\n\t\t\t\tmaterial.normalMap = materialParams.normalMap === undefined ? null : materialParams.normalMap;\n\t\t\t\tmaterial.normalMapType = TangentSpaceNormalMap;\n\n\t\t\t\tif ( materialParams.normalScale ) material.normalScale = materialParams.normalScale;\n\n\t\t\t\tmaterial.displacementMap = null;\n\t\t\t\tmaterial.displacementScale = 1;\n\t\t\t\tmaterial.displacementBias = 0;\n\n\t\t\t\tmaterial.specularMap = materialParams.specularMap === undefined ? null : materialParams.specularMap;\n\t\t\t\tmaterial.specular = materialParams.specular;\n\n\t\t\t\tmaterial.glossinessMap = materialParams.glossinessMap === undefined ? null : materialParams.glossinessMap;\n\t\t\t\tmaterial.glossiness = materialParams.glossiness;\n\n\t\t\t\tmaterial.alphaMap = null;\n\n\t\t\t\tmaterial.envMap = materialParams.envMap === undefined ? null : materialParams.envMap;\n\t\t\t\tmaterial.envMapIntensity = 1.0;\n\n\t\t\t\tmaterial.refractionRatio = 0.98;\n\n\t\t\t\treturn material;\n\n\t\t\t},\n\n\t\t};\n\n\t}\n\n\t/**\n\t * Mesh Quantization Extension\n\t *\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/extensions/2.0/Khronos/KHR_mesh_quantization\n\t */\n\tfunction GLTFMeshQuantizationExtension() {\n\n\t\tthis.name = EXTENSIONS.KHR_MESH_QUANTIZATION;\n\n\t}\n\n\t/*********************************/\n\t/********** INTERPOLATION ********/\n\t/*********************************/\n\n\t// Spline Interpolation\n\t// Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#appendix-c-spline-interpolation\n\tfunction GLTFCubicSplineInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tGLTFCubicSplineInterpolant.prototype = Object.create( Interpolant.prototype );\n\tGLTFCubicSplineInterpolant.prototype.constructor = GLTFCubicSplineInterpolant;\n\n\tGLTFCubicSplineInterpolant.prototype.copySampleValue_ = function ( index ) {\n\n\t\t// Copies a sample value to the result buffer. See description of glTF\n\t\t// CUBICSPLINE values layout in interpolate_() function below.\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tvalueSize = this.valueSize,\n\t\t\toffset = index * valueSize * 3 + valueSize;\n\n\t\tfor ( var i = 0; i !== valueSize; i ++ ) {\n\n\t\t\tresult[ i ] = values[ offset + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t};\n\n\tGLTFCubicSplineInterpolant.prototype.beforeStart_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\n\n\tGLTFCubicSplineInterpolant.prototype.afterEnd_ = GLTFCubicSplineInterpolant.prototype.copySampleValue_;\n\n\tGLTFCubicSplineInterpolant.prototype.interpolate_ = function ( i1, t0, t, t1 ) {\n\n\t\tvar result = this.resultBuffer;\n\t\tvar values = this.sampleValues;\n\t\tvar stride = this.valueSize;\n\n\t\tvar stride2 = stride * 2;\n\t\tvar stride3 = stride * 3;\n\n\t\tvar td = t1 - t0;\n\n\t\tvar p = ( t - t0 ) / td;\n\t\tvar pp = p * p;\n\t\tvar ppp = pp * p;\n\n\t\tvar offset1 = i1 * stride3;\n\t\tvar offset0 = offset1 - stride3;\n\n\t\tvar s2 = - 2 * ppp + 3 * pp;\n\t\tvar s3 = ppp - pp;\n\t\tvar s0 = 1 - s2;\n\t\tvar s1 = s3 - pp + p;\n\n\t\t// Layout of keyframe output values for CUBICSPLINE animations:\n\t\t//   [ inTangent_1, splineVertex_1, outTangent_1, inTangent_2, splineVertex_2, ... ]\n\t\tfor ( var i = 0; i !== stride; i ++ ) {\n\n\t\t\tvar p0 = values[ offset0 + i + stride ]; // splineVertex_k\n\t\t\tvar m0 = values[ offset0 + i + stride2 ] * td; // outTangent_k * (t_k+1 - t_k)\n\t\t\tvar p1 = values[ offset1 + i + stride ]; // splineVertex_k+1\n\t\t\tvar m1 = values[ offset1 + i ] * td; // inTangent_k+1 * (t_k+1 - t_k)\n\n\t\t\tresult[ i ] = s0 * p0 + s1 * m0 + s2 * p1 + s3 * m1;\n\n\t\t}\n\n\t\treturn result;\n\n\t};\n\n\t/*********************************/\n\t/********** INTERNALS ************/\n\t/*********************************/\n\n\t/* CONSTANTS */\n\n\tvar WEBGL_CONSTANTS = {\n\t\tFLOAT: 5126,\n\t\t//FLOAT_MAT2: 35674,\n\t\tFLOAT_MAT3: 35675,\n\t\tFLOAT_MAT4: 35676,\n\t\tFLOAT_VEC2: 35664,\n\t\tFLOAT_VEC3: 35665,\n\t\tFLOAT_VEC4: 35666,\n\t\tLINEAR: 9729,\n\t\tREPEAT: 10497,\n\t\tSAMPLER_2D: 35678,\n\t\tPOINTS: 0,\n\t\tLINES: 1,\n\t\tLINE_LOOP: 2,\n\t\tLINE_STRIP: 3,\n\t\tTRIANGLES: 4,\n\t\tTRIANGLE_STRIP: 5,\n\t\tTRIANGLE_FAN: 6,\n\t\tUNSIGNED_BYTE: 5121,\n\t\tUNSIGNED_SHORT: 5123\n\t};\n\n\tvar WEBGL_COMPONENT_TYPES = {\n\t\t5120: Int8Array,\n\t\t5121: Uint8Array,\n\t\t5122: Int16Array,\n\t\t5123: Uint16Array,\n\t\t5125: Uint32Array,\n\t\t5126: Float32Array\n\t};\n\n\tvar WEBGL_FILTERS = {\n\t\t9728: NearestFilter,\n\t\t9729: LinearFilter,\n\t\t9984: NearestMipmapNearestFilter,\n\t\t9985: LinearMipmapNearestFilter,\n\t\t9986: NearestMipmapLinearFilter,\n\t\t9987: LinearMipmapLinearFilter\n\t};\n\n\tvar WEBGL_WRAPPINGS = {\n\t\t33071: ClampToEdgeWrapping,\n\t\t33648: MirroredRepeatWrapping,\n\t\t10497: RepeatWrapping\n\t};\n\n\tvar WEBGL_TYPE_SIZES = {\n\t\t'SCALAR': 1,\n\t\t'VEC2': 2,\n\t\t'VEC3': 3,\n\t\t'VEC4': 4,\n\t\t'MAT2': 4,\n\t\t'MAT3': 9,\n\t\t'MAT4': 16\n\t};\n\n\tvar ATTRIBUTES = {\n\t\tPOSITION: 'position',\n\t\tNORMAL: 'normal',\n\t\tTANGENT: 'tangent',\n\t\tTEXCOORD_0: 'uv',\n\t\tTEXCOORD_1: 'uv2',\n\t\tCOLOR_0: 'color',\n\t\tWEIGHTS_0: 'skinWeight',\n\t\tJOINTS_0: 'skinIndex',\n\t};\n\n\tvar PATH_PROPERTIES = {\n\t\tscale: 'scale',\n\t\ttranslation: 'position',\n\t\trotation: 'quaternion',\n\t\tweights: 'morphTargetInfluences'\n\t};\n\n\tvar INTERPOLATION = {\n\t\tCUBICSPLINE: undefined, // We use a custom interpolant (GLTFCubicSplineInterpolation) for CUBICSPLINE tracks. Each\n\t\t                        // keyframe track will be initialized with a default interpolation type, then modified.\n\t\tLINEAR: InterpolateLinear,\n\t\tSTEP: InterpolateDiscrete\n\t};\n\n\tvar ALPHA_MODES = {\n\t\tOPAQUE: 'OPAQUE',\n\t\tMASK: 'MASK',\n\t\tBLEND: 'BLEND'\n\t};\n\n\t/* UTILITY FUNCTIONS */\n\n\tfunction resolveURL( url, path ) {\n\n\t\t// Invalid URL\n\t\tif ( typeof url !== 'string' || url === '' ) return '';\n\n\t\t// Host Relative URL\n\t\tif ( /^https?:\\/\\//i.test( path ) && /^\\//.test( url ) ) {\n\n\t\t\tpath = path.replace( /(^https?:\\/\\/[^\\/]+).*/i, '$1' );\n\n\t\t}\n\n\t\t// Absolute URL http://,https://,//\n\t\tif ( /^(https?:)?\\/\\//i.test( url ) ) return url;\n\n\t\t// Data URI\n\t\tif ( /^data:.*,.*$/i.test( url ) ) return url;\n\n\t\t// Blob URL\n\t\tif ( /^blob:.*$/i.test( url ) ) return url;\n\n\t\t// Relative URL\n\t\treturn path + url;\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#default-material\n\t */\n\tfunction createDefaultMaterial( cache ) {\n\n\t\tif ( cache[ 'DefaultMaterial' ] === undefined ) {\n\n\t\t\tcache[ 'DefaultMaterial' ] = new MeshStandardMaterial( {\n\t\t\t\tcolor: 0xFFFFFF,\n\t\t\t\temissive: 0x000000,\n\t\t\t\tmetalness: 1,\n\t\t\t\troughness: 1,\n\t\t\t\ttransparent: false,\n\t\t\t\tdepthTest: true,\n\t\t\t\tside: FrontSide\n\t\t\t} );\n\n\t\t}\n\n\t\treturn cache[ 'DefaultMaterial' ];\n\n\t}\n\n\tfunction addUnknownExtensionsToUserData( knownExtensions, object, objectDef ) {\n\n\t\t// Add unknown glTF extensions to an object's userData.\n\n\t\tfor ( var name in objectDef.extensions ) {\n\n\t\t\tif ( knownExtensions[ name ] === undefined ) {\n\n\t\t\t\tobject.userData.gltfExtensions = object.userData.gltfExtensions || {};\n\t\t\t\tobject.userData.gltfExtensions[ name ] = objectDef.extensions[ name ];\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * @param {Object3D|Material|BufferGeometry} object\n\t * @param {GLTF.definition} gltfDef\n\t */\n\tfunction assignExtrasToUserData( object, gltfDef ) {\n\n\t\tif ( gltfDef.extras !== undefined ) {\n\n\t\t\tif ( typeof gltfDef.extras === 'object' ) {\n\n\t\t\t\tObject.assign( object.userData, gltfDef.extras );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Ignoring primitive type .extras, ' + gltfDef.extras );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#morph-targets\n\t *\n\t * @param {BufferGeometry} geometry\n\t * @param {Array<GLTF.Target>} targets\n\t * @param {GLTFParser} parser\n\t * @return {Promise<BufferGeometry>}\n\t */\n\tfunction addMorphTargets( geometry, targets, parser ) {\n\n\t\tvar hasMorphPosition = false;\n\t\tvar hasMorphNormal = false;\n\n\t\tfor ( var i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\t\tvar target = targets[ i ];\n\n\t\t\tif ( target.POSITION !== undefined ) hasMorphPosition = true;\n\t\t\tif ( target.NORMAL !== undefined ) hasMorphNormal = true;\n\n\t\t\tif ( hasMorphPosition && hasMorphNormal ) break;\n\n\t\t}\n\n\t\tif ( ! hasMorphPosition && ! hasMorphNormal ) return Promise.resolve( geometry );\n\n\t\tvar pendingPositionAccessors = [];\n\t\tvar pendingNormalAccessors = [];\n\n\t\tfor ( var i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\t\tvar target = targets[ i ];\n\n\t\t\tif ( hasMorphPosition ) {\n\n\t\t\t\tvar pendingAccessor = target.POSITION !== undefined\n\t\t\t\t\t? parser.getDependency( 'accessor', target.POSITION )\n\t\t\t\t\t: geometry.attributes.position;\n\n\t\t\t\tpendingPositionAccessors.push( pendingAccessor );\n\n\t\t\t}\n\n\t\t\tif ( hasMorphNormal ) {\n\n\t\t\t\tvar pendingAccessor = target.NORMAL !== undefined\n\t\t\t\t\t? parser.getDependency( 'accessor', target.NORMAL )\n\t\t\t\t\t: geometry.attributes.normal;\n\n\t\t\t\tpendingNormalAccessors.push( pendingAccessor );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( [\n\t\t\tPromise.all( pendingPositionAccessors ),\n\t\t\tPromise.all( pendingNormalAccessors )\n\t\t] ).then( function ( accessors ) {\n\n\t\t\tvar morphPositions = accessors[ 0 ];\n\t\t\tvar morphNormals = accessors[ 1 ];\n\n\t\t\tif ( hasMorphPosition ) geometry.morphAttributes.position = morphPositions;\n\t\t\tif ( hasMorphNormal ) geometry.morphAttributes.normal = morphNormals;\n\t\t\tgeometry.morphTargetsRelative = true;\n\n\t\t\treturn geometry;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * @param {Mesh} mesh\n\t * @param {GLTF.Mesh} meshDef\n\t */\n\tfunction updateMorphTargets( mesh, meshDef ) {\n\n\t\tmesh.updateMorphTargets();\n\n\t\tif ( meshDef.weights !== undefined ) {\n\n\t\t\tfor ( var i = 0, il = meshDef.weights.length; i < il; i ++ ) {\n\n\t\t\t\tmesh.morphTargetInfluences[ i ] = meshDef.weights[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// .extras has user-defined data, so check that .extras.targetNames is an array.\n\t\tif ( meshDef.extras && Array.isArray( meshDef.extras.targetNames ) ) {\n\n\t\t\tvar targetNames = meshDef.extras.targetNames;\n\n\t\t\tif ( mesh.morphTargetInfluences.length === targetNames.length ) {\n\n\t\t\t\tmesh.morphTargetDictionary = {};\n\n\t\t\t\tfor ( var i = 0, il = targetNames.length; i < il; i ++ ) {\n\n\t\t\t\t\tmesh.morphTargetDictionary[ targetNames[ i ] ] = i;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction createPrimitiveKey( primitiveDef ) {\n\n\t\tvar dracoExtension = primitiveDef.extensions && primitiveDef.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ];\n\t\tvar geometryKey;\n\n\t\tif ( dracoExtension ) {\n\n\t\t\tgeometryKey = 'draco:' + dracoExtension.bufferView\n\t\t\t\t+ ':' + dracoExtension.indices\n\t\t\t\t+ ':' + createAttributesKey( dracoExtension.attributes );\n\n\t\t} else {\n\n\t\t\tgeometryKey = primitiveDef.indices + ':' + createAttributesKey( primitiveDef.attributes ) + ':' + primitiveDef.mode;\n\n\t\t}\n\n\t\treturn geometryKey;\n\n\t}\n\n\tfunction createAttributesKey( attributes ) {\n\n\t\tvar attributesKey = '';\n\n\t\tvar keys = Object.keys( attributes ).sort();\n\n\t\tfor ( var i = 0, il = keys.length; i < il; i ++ ) {\n\n\t\t\tattributesKey += keys[ i ] + ':' + attributes[ keys[ i ] ] + ';';\n\n\t\t}\n\n\t\treturn attributesKey;\n\n\t}\n\n\t/* GLTF PARSER */\n\n\tfunction GLTFParser( json, options ) {\n\n\t\tthis.json = json || {};\n\t\tthis.extensions = {};\n\t\tthis.plugins = {};\n\t\tthis.options = options || {};\n\n\t\t// loader object cache\n\t\tthis.cache = new GLTFRegistry();\n\n\t\t// associations between Three.js objects and glTF elements\n\t\tthis.associations = new Map();\n\n\t\t// BufferGeometry caching\n\t\tthis.primitiveCache = {};\n\n\t\t// Object3D instance caches\n\t\tthis.meshCache = { refs: {}, uses: {} };\n\t\tthis.cameraCache = { refs: {}, uses: {} };\n\t\tthis.lightCache = { refs: {}, uses: {} };\n\n\t\t// Track node names, to ensure no duplicates\n\t\tthis.nodeNamesUsed = {};\n\n\t\t// Use an ImageBitmapLoader if imageBitmaps are supported. Moves much of the\n\t\t// expensive work of uploading a texture to the GPU off the main thread.\n\t\tif ( typeof createImageBitmap !== 'undefined' && /Firefox/.test( navigator.userAgent ) === false ) {\n\n\t\t\tthis.textureLoader = new ImageBitmapLoader( this.options.manager );\n\n\t\t} else {\n\n\t\t\tthis.textureLoader = new TextureLoader( this.options.manager );\n\n\t\t}\n\n\t\tthis.textureLoader.setCrossOrigin( this.options.crossOrigin );\n\n\t\tthis.fileLoader = new FileLoader( this.options.manager );\n\t\tthis.fileLoader.setResponseType( 'arraybuffer' );\n\n\t\tif ( this.options.crossOrigin === 'use-credentials' ) {\n\n\t\t\tthis.fileLoader.setWithCredentials( true );\n\n\t\t}\n\n\t}\n\n\tGLTFParser.prototype.setExtensions = function ( extensions ) {\n\n\t\tthis.extensions = extensions;\n\n\t};\n\n\tGLTFParser.prototype.setPlugins = function ( plugins ) {\n\n\t\tthis.plugins = plugins;\n\n\t};\n\n\tGLTFParser.prototype.parse = function ( onLoad, onError ) {\n\n\t\tvar parser = this;\n\t\tvar json = this.json;\n\t\tvar extensions = this.extensions;\n\n\t\t// Clear the loader cache\n\t\tthis.cache.removeAll();\n\n\t\t// Mark the special nodes/meshes in json for efficient parse\n\t\tthis._invokeAll( function ( ext ) {\n\n\t\t\treturn ext._markDefs && ext._markDefs();\n\n\t\t} );\n\n\t\tPromise.all( [\n\n\t\t\tthis.getDependencies( 'scene' ),\n\t\t\tthis.getDependencies( 'animation' ),\n\t\t\tthis.getDependencies( 'camera' ),\n\n\t\t] ).then( function ( dependencies ) {\n\n\t\t\tvar result = {\n\t\t\t\tscene: dependencies[ 0 ][ json.scene || 0 ],\n\t\t\t\tscenes: dependencies[ 0 ],\n\t\t\t\tanimations: dependencies[ 1 ],\n\t\t\t\tcameras: dependencies[ 2 ],\n\t\t\t\tasset: json.asset,\n\t\t\t\tparser: parser,\n\t\t\t\tuserData: {}\n\t\t\t};\n\n\t\t\taddUnknownExtensionsToUserData( extensions, result, json );\n\n\t\t\tassignExtrasToUserData( result, json );\n\n\t\t\tonLoad( result );\n\n\t\t} ).catch( onError );\n\n\t};\n\n\t/**\n\t * Marks the special nodes/meshes in json for efficient parse.\n\t */\n\tGLTFParser.prototype._markDefs = function () {\n\n\t\tvar nodeDefs = this.json.nodes || [];\n\t\tvar skinDefs = this.json.skins || [];\n\t\tvar meshDefs = this.json.meshes || [];\n\n\t\t// Nothing in the node definition indicates whether it is a Bone or an\n\t\t// Object3D. Use the skins' joint references to mark bones.\n\t\tfor ( var skinIndex = 0, skinLength = skinDefs.length; skinIndex < skinLength; skinIndex ++ ) {\n\n\t\t\tvar joints = skinDefs[ skinIndex ].joints;\n\n\t\t\tfor ( var i = 0, il = joints.length; i < il; i ++ ) {\n\n\t\t\t\tnodeDefs[ joints[ i ] ].isBone = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Iterate over all nodes, marking references to shared resources,\n\t\t// as well as skeleton joints.\n\t\tfor ( var nodeIndex = 0, nodeLength = nodeDefs.length; nodeIndex < nodeLength; nodeIndex ++ ) {\n\n\t\t\tvar nodeDef = nodeDefs[ nodeIndex ];\n\n\t\t\tif ( nodeDef.mesh !== undefined ) {\n\n\t\t\t\tthis._addNodeRef( this.meshCache, nodeDef.mesh );\n\n\t\t\t\t// Nothing in the mesh definition indicates whether it is\n\t\t\t\t// a SkinnedMesh or Mesh. Use the node's mesh reference\n\t\t\t\t// to mark SkinnedMesh if node has skin.\n\t\t\t\tif ( nodeDef.skin !== undefined ) {\n\n\t\t\t\t\tmeshDefs[ nodeDef.mesh ].isSkinnedMesh = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.camera !== undefined ) {\n\n\t\t\t\tthis._addNodeRef( this.cameraCache, nodeDef.camera );\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\t/**\n\t * Counts references to shared node / Object3D resources. These resources\n\t * can be reused, or \"instantiated\", at multiple nodes in the scene\n\t * hierarchy. Mesh, Camera, and Light instances are instantiated and must\n\t * be marked. Non-scenegraph resources (like Materials, Geometries, and\n\t * Textures) can be reused directly and are not marked here.\n\t *\n\t * Example: CesiumMilkTruck sample model reuses \"Wheel\" meshes.\n\t */\n\tGLTFParser.prototype._addNodeRef = function ( cache, index ) {\n\n\t\tif ( index === undefined ) return;\n\n\t\tif ( cache.refs[ index ] === undefined ) {\n\n\t\t\tcache.refs[ index ] = cache.uses[ index ] = 0;\n\n\t\t}\n\n\t\tcache.refs[ index ] ++;\n\n\t};\n\n\t/** Returns a reference to a shared resource, cloning it if necessary. */\n\tGLTFParser.prototype._getNodeRef = function ( cache, index, object ) {\n\n\t\tif ( cache.refs[ index ] <= 1 ) return object;\n\n\t\tvar ref = object.clone();\n\n\t\tref.name += '_instance_' + ( cache.uses[ index ] ++ );\n\n\t\treturn ref;\n\n\t};\n\n\tGLTFParser.prototype._invokeOne = function ( func ) {\n\n\t\tvar extensions = Object.values( this.plugins );\n\t\textensions.push( this );\n\n\t\tfor ( var i = 0; i < extensions.length; i ++ ) {\n\n\t\t\tvar result = func( extensions[ i ] );\n\n\t\t\tif ( result ) return result;\n\n\t\t}\n\n\t};\n\n\tGLTFParser.prototype._invokeAll = function ( func ) {\n\n\t\tvar extensions = Object.values( this.plugins );\n\t\textensions.unshift( this );\n\n\t\tvar pending = [];\n\n\t\tfor ( var i = 0; i < extensions.length; i ++ ) {\n\n\t\t\tvar result = func( extensions[ i ] );\n\n\t\t\tif ( result ) pending.push( result );\n\n\t\t}\n\n\t\treturn pending;\n\n\t};\n\n\t/**\n\t * Requests the specified dependency asynchronously, with caching.\n\t * @param {string} type\n\t * @param {number} index\n\t * @return {Promise<Object3D|Material|THREE.Texture|AnimationClip|ArrayBuffer|Object>}\n\t */\n\tGLTFParser.prototype.getDependency = function ( type, index ) {\n\n\t\tvar cacheKey = type + ':' + index;\n\t\tvar dependency = this.cache.get( cacheKey );\n\n\t\tif ( ! dependency ) {\n\n\t\t\tswitch ( type ) {\n\n\t\t\t\tcase 'scene':\n\t\t\t\t\tdependency = this.loadScene( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'node':\n\t\t\t\t\tdependency = this.loadNode( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'mesh':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadMesh && ext.loadMesh( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'accessor':\n\t\t\t\t\tdependency = this.loadAccessor( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'bufferView':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadBufferView && ext.loadBufferView( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'buffer':\n\t\t\t\t\tdependency = this.loadBuffer( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'material':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadMaterial && ext.loadMaterial( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'texture':\n\t\t\t\t\tdependency = this._invokeOne( function ( ext ) {\n\n\t\t\t\t\t\treturn ext.loadTexture && ext.loadTexture( index );\n\n\t\t\t\t\t} );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'skin':\n\t\t\t\t\tdependency = this.loadSkin( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'animation':\n\t\t\t\t\tdependency = this.loadAnimation( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'camera':\n\t\t\t\t\tdependency = this.loadCamera( index );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tthrow new Error( 'Unknown type: ' + type );\n\n\t\t\t}\n\n\t\t\tthis.cache.add( cacheKey, dependency );\n\n\t\t}\n\n\t\treturn dependency;\n\n\t};\n\n\t/**\n\t * Requests all dependencies of the specified type asynchronously, with caching.\n\t * @param {string} type\n\t * @return {Promise<Array<Object>>}\n\t */\n\tGLTFParser.prototype.getDependencies = function ( type ) {\n\n\t\tvar dependencies = this.cache.get( type );\n\n\t\tif ( ! dependencies ) {\n\n\t\t\tvar parser = this;\n\t\t\tvar defs = this.json[ type + ( type === 'mesh' ? 'es' : 's' ) ] || [];\n\n\t\t\tdependencies = Promise.all( defs.map( function ( def, index ) {\n\n\t\t\t\treturn parser.getDependency( type, index );\n\n\t\t\t} ) );\n\n\t\t\tthis.cache.add( type, dependencies );\n\n\t\t}\n\n\t\treturn dependencies;\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n\t * @param {number} bufferIndex\n\t * @return {Promise<ArrayBuffer>}\n\t */\n\tGLTFParser.prototype.loadBuffer = function ( bufferIndex ) {\n\n\t\tvar bufferDef = this.json.buffers[ bufferIndex ];\n\t\tvar loader = this.fileLoader;\n\n\t\tif ( bufferDef.type && bufferDef.type !== 'arraybuffer' ) {\n\n\t\t\tthrow new Error( 'THREE.GLTFLoader: ' + bufferDef.type + ' buffer type is not supported.' );\n\n\t\t}\n\n\t\t// If present, GLB container is required to be the first buffer.\n\t\tif ( bufferDef.uri === undefined && bufferIndex === 0 ) {\n\n\t\t\treturn Promise.resolve( this.extensions[ EXTENSIONS.KHR_BINARY_GLTF ].body );\n\n\t\t}\n\n\t\tvar options = this.options;\n\n\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\tloader.load( resolveURL( bufferDef.uri, options.path ), resolve, undefined, function () {\n\n\t\t\t\treject( new Error( 'THREE.GLTFLoader: Failed to load buffer \"' + bufferDef.uri + '\".' ) );\n\n\t\t\t} );\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#buffers-and-buffer-views\n\t * @param {number} bufferViewIndex\n\t * @return {Promise<ArrayBuffer>}\n\t */\n\tGLTFParser.prototype.loadBufferView = function ( bufferViewIndex ) {\n\n\t\tvar bufferViewDef = this.json.bufferViews[ bufferViewIndex ];\n\n\t\treturn this.getDependency( 'buffer', bufferViewDef.buffer ).then( function ( buffer ) {\n\n\t\t\tvar byteLength = bufferViewDef.byteLength || 0;\n\t\t\tvar byteOffset = bufferViewDef.byteOffset || 0;\n\t\t\treturn buffer.slice( byteOffset, byteOffset + byteLength );\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#accessors\n\t * @param {number} accessorIndex\n\t * @return {Promise<BufferAttribute|InterleavedBufferAttribute>}\n\t */\n\tGLTFParser.prototype.loadAccessor = function ( accessorIndex ) {\n\n\t\tvar parser = this;\n\t\tvar json = this.json;\n\n\t\tvar accessorDef = this.json.accessors[ accessorIndex ];\n\n\t\tif ( accessorDef.bufferView === undefined && accessorDef.sparse === undefined ) {\n\n\t\t\t// Ignore empty accessors, which may be used to declare runtime\n\t\t\t// information about attributes coming from another source (e.g. Draco\n\t\t\t// compression extension).\n\t\t\treturn Promise.resolve( null );\n\n\t\t}\n\n\t\tvar pendingBufferViews = [];\n\n\t\tif ( accessorDef.bufferView !== undefined ) {\n\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.bufferView ) );\n\n\t\t} else {\n\n\t\t\tpendingBufferViews.push( null );\n\n\t\t}\n\n\t\tif ( accessorDef.sparse !== undefined ) {\n\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.indices.bufferView ) );\n\t\t\tpendingBufferViews.push( this.getDependency( 'bufferView', accessorDef.sparse.values.bufferView ) );\n\n\t\t}\n\n\t\treturn Promise.all( pendingBufferViews ).then( function ( bufferViews ) {\n\n\t\t\tvar bufferView = bufferViews[ 0 ];\n\n\t\t\tvar itemSize = WEBGL_TYPE_SIZES[ accessorDef.type ];\n\t\t\tvar TypedArray = WEBGL_COMPONENT_TYPES[ accessorDef.componentType ];\n\n\t\t\t// For VEC3: itemSize is 3, elementBytes is 4, itemBytes is 12.\n\t\t\tvar elementBytes = TypedArray.BYTES_PER_ELEMENT;\n\t\t\tvar itemBytes = elementBytes * itemSize;\n\t\t\tvar byteOffset = accessorDef.byteOffset || 0;\n\t\t\tvar byteStride = accessorDef.bufferView !== undefined ? json.bufferViews[ accessorDef.bufferView ].byteStride : undefined;\n\t\t\tvar normalized = accessorDef.normalized === true;\n\t\t\tvar array, bufferAttribute;\n\n\t\t\t// The buffer is not interleaved if the stride is the item size in bytes.\n\t\t\tif ( byteStride && byteStride !== itemBytes ) {\n\n\t\t\t\t// Each \"slice\" of the buffer, as defined by 'count' elements of 'byteStride' bytes, gets its own InterleavedBuffer\n\t\t\t\t// This makes sure that IBA.count reflects accessor.count properly\n\t\t\t\tvar ibSlice = Math.floor( byteOffset / byteStride );\n\t\t\t\tvar ibCacheKey = 'InterleavedBuffer:' + accessorDef.bufferView + ':' + accessorDef.componentType + ':' + ibSlice + ':' + accessorDef.count;\n\t\t\t\tvar ib = parser.cache.get( ibCacheKey );\n\n\t\t\t\tif ( ! ib ) {\n\n\t\t\t\t\tarray = new TypedArray( bufferView, ibSlice * byteStride, accessorDef.count * byteStride / elementBytes );\n\n\t\t\t\t\t// Integer parameters to IB/IBA are in array elements, not bytes.\n\t\t\t\t\tib = new InterleavedBuffer( array, byteStride / elementBytes );\n\n\t\t\t\t\tparser.cache.add( ibCacheKey, ib );\n\n\t\t\t\t}\n\n\t\t\t\tbufferAttribute = new InterleavedBufferAttribute( ib, itemSize, ( byteOffset % byteStride ) / elementBytes, normalized );\n\n\t\t\t} else {\n\n\t\t\t\tif ( bufferView === null ) {\n\n\t\t\t\t\tarray = new TypedArray( accessorDef.count * itemSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tarray = new TypedArray( bufferView, byteOffset, accessorDef.count * itemSize );\n\n\t\t\t\t}\n\n\t\t\t\tbufferAttribute = new BufferAttribute( array, itemSize, normalized );\n\n\t\t\t}\n\n\t\t\t// https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#sparse-accessors\n\t\t\tif ( accessorDef.sparse !== undefined ) {\n\n\t\t\t\tvar itemSizeIndices = WEBGL_TYPE_SIZES.SCALAR;\n\t\t\t\tvar TypedArrayIndices = WEBGL_COMPONENT_TYPES[ accessorDef.sparse.indices.componentType ];\n\n\t\t\t\tvar byteOffsetIndices = accessorDef.sparse.indices.byteOffset || 0;\n\t\t\t\tvar byteOffsetValues = accessorDef.sparse.values.byteOffset || 0;\n\n\t\t\t\tvar sparseIndices = new TypedArrayIndices( bufferViews[ 1 ], byteOffsetIndices, accessorDef.sparse.count * itemSizeIndices );\n\t\t\t\tvar sparseValues = new TypedArray( bufferViews[ 2 ], byteOffsetValues, accessorDef.sparse.count * itemSize );\n\n\t\t\t\tif ( bufferView !== null ) {\n\n\t\t\t\t\t// Avoid modifying the original ArrayBuffer, if the bufferView wasn't initialized with zeroes.\n\t\t\t\t\tbufferAttribute = new BufferAttribute( bufferAttribute.array.slice(), bufferAttribute.itemSize, bufferAttribute.normalized );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( var i = 0, il = sparseIndices.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar index = sparseIndices[ i ];\n\n\t\t\t\t\tbufferAttribute.setX( index, sparseValues[ i * itemSize ] );\n\t\t\t\t\tif ( itemSize >= 2 ) bufferAttribute.setY( index, sparseValues[ i * itemSize + 1 ] );\n\t\t\t\t\tif ( itemSize >= 3 ) bufferAttribute.setZ( index, sparseValues[ i * itemSize + 2 ] );\n\t\t\t\t\tif ( itemSize >= 4 ) bufferAttribute.setW( index, sparseValues[ i * itemSize + 3 ] );\n\t\t\t\t\tif ( itemSize >= 5 ) throw new Error( 'THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn bufferAttribute;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#textures\n\t * @param {number} textureIndex\n\t * @return {Promise<THREE.Texture>}\n\t */\n\tGLTFParser.prototype.loadTexture = function ( textureIndex ) {\n\n\t\tvar parser = this;\n\t\tvar json = this.json;\n\t\tvar options = this.options;\n\n\t\tvar textureDef = json.textures[ textureIndex ];\n\n\t\tvar textureExtensions = textureDef.extensions || {};\n\n\t\tvar source;\n\n\t\tif ( textureExtensions[ EXTENSIONS.MSFT_TEXTURE_DDS ] ) {\n\n\t\t\tsource = json.images[ textureExtensions[ EXTENSIONS.MSFT_TEXTURE_DDS ].source ];\n\n\t\t} else {\n\n\t\t\tsource = json.images[ textureDef.source ];\n\n\t\t}\n\n\t\tvar loader;\n\n\t\tif ( source.uri ) {\n\n\t\t\tloader = options.manager.getHandler( source.uri );\n\n\t\t}\n\n\t\tif ( ! loader ) {\n\n\t\t\tloader = textureExtensions[ EXTENSIONS.MSFT_TEXTURE_DDS ]\n\t\t\t\t? parser.extensions[ EXTENSIONS.MSFT_TEXTURE_DDS ].ddsLoader\n\t\t\t\t: this.textureLoader;\n\n\t\t}\n\n\t\treturn this.loadTextureImage( textureIndex, source, loader );\n\n\t};\n\n\tGLTFParser.prototype.loadTextureImage = function ( textureIndex, source, loader ) {\n\n\t\tvar parser = this;\n\t\tvar json = this.json;\n\t\tvar options = this.options;\n\n\t\tvar textureDef = json.textures[ textureIndex ];\n\n\t\tvar URL = self.URL || self.webkitURL;\n\n\t\tvar sourceURI = source.uri;\n\t\tvar isObjectURL = false;\n\t\tvar hasAlpha = true;\n\n\t\tif ( source.mimeType === 'image/jpeg' ) hasAlpha = false;\n\n\t\tif ( source.bufferView !== undefined ) {\n\n\t\t\t// Load binary image data from bufferView, if provided.\n\n\t\t\tsourceURI = parser.getDependency( 'bufferView', source.bufferView ).then( function ( bufferView ) {\n\n\t\t\t\tif ( source.mimeType === 'image/png' ) {\n\n\t\t\t\t\t// Inspect the PNG 'IHDR' chunk to determine whether the image could have an\n\t\t\t\t\t// alpha channel. This check is conservative  the image could have an alpha\n\t\t\t\t\t// channel with all values == 1, and the indexed type (colorType == 3) only\n\t\t\t\t\t// sometimes contains alpha.\n\t\t\t\t\t//\n\t\t\t\t\t// https://en.wikipedia.org/wiki/Portable_Network_Graphics#File_header\n\t\t\t\t\tvar colorType = new DataView( bufferView, 25, 1 ).getUint8( 0, false );\n\t\t\t\t\thasAlpha = colorType === 6 || colorType === 4 || colorType === 3;\n\n\t\t\t\t}\n\n\t\t\t\tisObjectURL = true;\n\t\t\t\tvar blob = new Blob( [ bufferView ], { type: source.mimeType } );\n\t\t\t\tsourceURI = URL.createObjectURL( blob );\n\t\t\t\treturn sourceURI;\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn Promise.resolve( sourceURI ).then( function ( sourceURI ) {\n\n\t\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\t\tvar onLoad = resolve;\n\n\t\t\t\tif ( loader.isImageBitmapLoader === true ) {\n\n\t\t\t\t\tonLoad = function ( imageBitmap ) {\n\n\t\t\t\t\t\tresolve( new CanvasTexture( imageBitmap ) );\n\n\t\t\t\t\t};\n\n\t\t\t\t}\n\n\t\t\t\tloader.load( resolveURL( sourceURI, options.path ), onLoad, undefined, reject );\n\n\t\t\t} );\n\n\t\t} ).then( function ( texture ) {\n\n\t\t\t// Clean up resources and configure Texture.\n\n\t\t\tif ( isObjectURL === true ) {\n\n\t\t\t\tURL.revokeObjectURL( sourceURI );\n\n\t\t\t}\n\n\t\t\ttexture.flipY = false;\n\n\t\t\tif ( textureDef.name ) texture.name = textureDef.name;\n\n\t\t\t// When there is definitely no alpha channel in the texture, set RGBFormat to save space.\n\t\t\tif ( ! hasAlpha ) texture.format = RGBFormat;\n\n\t\t\tvar samplers = json.samplers || {};\n\t\t\tvar sampler = samplers[ textureDef.sampler ] || {};\n\n\t\t\ttexture.magFilter = WEBGL_FILTERS[ sampler.magFilter ] || LinearFilter;\n\t\t\ttexture.minFilter = WEBGL_FILTERS[ sampler.minFilter ] || LinearMipmapLinearFilter;\n\t\t\ttexture.wrapS = WEBGL_WRAPPINGS[ sampler.wrapS ] || RepeatWrapping;\n\t\t\ttexture.wrapT = WEBGL_WRAPPINGS[ sampler.wrapT ] || RepeatWrapping;\n\n\t\t\tparser.associations.set( texture, {\n\t\t\t\ttype: 'textures',\n\t\t\t\tindex: textureIndex\n\t\t\t} );\n\n\t\t\treturn texture;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Asynchronously assigns a texture to the given material parameters.\n\t * @param {Object} materialParams\n\t * @param {string} mapName\n\t * @param {Object} mapDef\n\t * @return {Promise}\n\t */\n\tGLTFParser.prototype.assignTexture = function ( materialParams, mapName, mapDef ) {\n\n\t\tvar parser = this;\n\n\t\treturn this.getDependency( 'texture', mapDef.index ).then( function ( texture ) {\n\n\t\t\t// Materials sample aoMap from UV set 1 and other maps from UV set 0 - this can't be configured\n\t\t\t// However, we will copy UV set 0 to UV set 1 on demand for aoMap\n\t\t\tif ( mapDef.texCoord !== undefined && mapDef.texCoord != 0 && ! ( mapName === 'aoMap' && mapDef.texCoord == 1 ) ) {\n\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Custom UV set ' + mapDef.texCoord + ' for texture ' + mapName + ' not yet supported.' );\n\n\t\t\t}\n\n\t\t\tif ( parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] ) {\n\n\t\t\t\tvar transform = mapDef.extensions !== undefined ? mapDef.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ] : undefined;\n\n\t\t\t\tif ( transform ) {\n\n\t\t\t\t\tvar gltfReference = parser.associations.get( texture );\n\t\t\t\t\ttexture = parser.extensions[ EXTENSIONS.KHR_TEXTURE_TRANSFORM ].extendTexture( texture, transform );\n\t\t\t\t\tparser.associations.set( texture, gltfReference );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tmaterialParams[ mapName ] = texture;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Assigns final material to a Mesh, Line, or Points instance. The instance\n\t * already has a material (generated from the glTF material options alone)\n\t * but reuse of the same glTF material may require multiple threejs materials\n\t * to accomodate different primitive types, defines, etc. New materials will\n\t * be created if necessary, and reused from a cache.\n\t * @param  {Object3D} mesh Mesh, Line, or Points instance.\n\t */\n\tGLTFParser.prototype.assignFinalMaterial = function ( mesh ) {\n\n\t\tvar geometry = mesh.geometry;\n\t\tvar material = mesh.material;\n\n\t\tvar useVertexTangents = geometry.attributes.tangent !== undefined;\n\t\tvar useVertexColors = geometry.attributes.color !== undefined;\n\t\tvar useFlatShading = geometry.attributes.normal === undefined;\n\t\tvar useSkinning = mesh.isSkinnedMesh === true;\n\t\tvar useMorphTargets = Object.keys( geometry.morphAttributes ).length > 0;\n\t\tvar useMorphNormals = useMorphTargets && geometry.morphAttributes.normal !== undefined;\n\n\t\tif ( mesh.isPoints ) {\n\n\t\t\tvar cacheKey = 'PointsMaterial:' + material.uuid;\n\n\t\t\tvar pointsMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! pointsMaterial ) {\n\n\t\t\t\tpointsMaterial = new PointsMaterial();\n\t\t\t\tMaterial.prototype.copy.call( pointsMaterial, material );\n\t\t\t\tpointsMaterial.color.copy( material.color );\n\t\t\t\tpointsMaterial.map = material.map;\n\t\t\t\tpointsMaterial.sizeAttenuation = false; // glTF spec says points should be 1px\n\n\t\t\t\tthis.cache.add( cacheKey, pointsMaterial );\n\n\t\t\t}\n\n\t\t\tmaterial = pointsMaterial;\n\n\t\t} else if ( mesh.isLine ) {\n\n\t\t\tvar cacheKey = 'LineBasicMaterial:' + material.uuid;\n\n\t\t\tvar lineMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! lineMaterial ) {\n\n\t\t\t\tlineMaterial = new LineBasicMaterial();\n\t\t\t\tMaterial.prototype.copy.call( lineMaterial, material );\n\t\t\t\tlineMaterial.color.copy( material.color );\n\n\t\t\t\tthis.cache.add( cacheKey, lineMaterial );\n\n\t\t\t}\n\n\t\t\tmaterial = lineMaterial;\n\n\t\t}\n\n\t\t// Clone the material if it will be modified\n\t\tif ( useVertexTangents || useVertexColors || useFlatShading || useSkinning || useMorphTargets ) {\n\n\t\t\tvar cacheKey = 'ClonedMaterial:' + material.uuid + ':';\n\n\t\t\tif ( material.isGLTFSpecularGlossinessMaterial ) cacheKey += 'specular-glossiness:';\n\t\t\tif ( useSkinning ) cacheKey += 'skinning:';\n\t\t\tif ( useVertexTangents ) cacheKey += 'vertex-tangents:';\n\t\t\tif ( useVertexColors ) cacheKey += 'vertex-colors:';\n\t\t\tif ( useFlatShading ) cacheKey += 'flat-shading:';\n\t\t\tif ( useMorphTargets ) cacheKey += 'morph-targets:';\n\t\t\tif ( useMorphNormals ) cacheKey += 'morph-normals:';\n\n\t\t\tvar cachedMaterial = this.cache.get( cacheKey );\n\n\t\t\tif ( ! cachedMaterial ) {\n\n\t\t\t\tcachedMaterial = material.clone();\n\n\t\t\t\tif ( useSkinning ) cachedMaterial.skinning = true;\n\t\t\t\tif ( useVertexTangents ) cachedMaterial.vertexTangents = true;\n\t\t\t\tif ( useVertexColors ) cachedMaterial.vertexColors = true;\n\t\t\t\tif ( useFlatShading ) cachedMaterial.flatShading = true;\n\t\t\t\tif ( useMorphTargets ) cachedMaterial.morphTargets = true;\n\t\t\t\tif ( useMorphNormals ) cachedMaterial.morphNormals = true;\n\n\t\t\t\tthis.cache.add( cacheKey, cachedMaterial );\n\n\t\t\t\tthis.associations.set( cachedMaterial, this.associations.get( material ) );\n\n\t\t\t}\n\n\t\t\tmaterial = cachedMaterial;\n\n\t\t}\n\n\t\t// workarounds for mesh and geometry\n\n\t\tif ( material.aoMap && geometry.attributes.uv2 === undefined && geometry.attributes.uv !== undefined ) {\n\n\t\t\tgeometry.setAttribute( 'uv2', geometry.attributes.uv );\n\n\t\t}\n\n\t\t// https://github.com/mrdoob/three.js/issues/11438#issuecomment-507003995\n\t\tif ( material.normalScale && ! useVertexTangents ) {\n\n\t\t\tmaterial.normalScale.y = - material.normalScale.y;\n\n\t\t}\n\n\t\tif ( material.clearcoatNormalScale && ! useVertexTangents ) {\n\n\t\t\tmaterial.clearcoatNormalScale.y = - material.clearcoatNormalScale.y;\n\n\t\t}\n\n\t\tmesh.material = material;\n\n\t};\n\n\tGLTFParser.prototype.getMaterialType = function ( /* materialIndex */ ) {\n\n\t\treturn MeshStandardMaterial;\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#materials\n\t * @param {number} materialIndex\n\t * @return {Promise<Material>}\n\t */\n\tGLTFParser.prototype.loadMaterial = function ( materialIndex ) {\n\n\t\tvar parser = this;\n\t\tvar json = this.json;\n\t\tvar extensions = this.extensions;\n\t\tvar materialDef = json.materials[ materialIndex ];\n\n\t\tvar materialType;\n\t\tvar materialParams = {};\n\t\tvar materialExtensions = materialDef.extensions || {};\n\n\t\tvar pending = [];\n\n\t\tif ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ] ) {\n\n\t\t\tvar sgExtension = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ];\n\t\t\tmaterialType = sgExtension.getMaterialType();\n\t\t\tpending.push( sgExtension.extendParams( materialParams, materialDef, parser ) );\n\n\t\t} else if ( materialExtensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ] ) {\n\n\t\t\tvar kmuExtension = extensions[ EXTENSIONS.KHR_MATERIALS_UNLIT ];\n\t\t\tmaterialType = kmuExtension.getMaterialType();\n\t\t\tpending.push( kmuExtension.extendParams( materialParams, materialDef, parser ) );\n\n\t\t} else {\n\n\t\t\t// Specification:\n\t\t\t// https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#metallic-roughness-material\n\n\t\t\tvar metallicRoughness = materialDef.pbrMetallicRoughness || {};\n\n\t\t\tmaterialParams.color = new Color( 1.0, 1.0, 1.0 );\n\t\t\tmaterialParams.opacity = 1.0;\n\n\t\t\tif ( Array.isArray( metallicRoughness.baseColorFactor ) ) {\n\n\t\t\t\tvar array = metallicRoughness.baseColorFactor;\n\n\t\t\t\tmaterialParams.color.fromArray( array );\n\t\t\t\tmaterialParams.opacity = array[ 3 ];\n\n\t\t\t}\n\n\t\t\tif ( metallicRoughness.baseColorTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'map', metallicRoughness.baseColorTexture ) );\n\n\t\t\t}\n\n\t\t\tmaterialParams.metalness = metallicRoughness.metallicFactor !== undefined ? metallicRoughness.metallicFactor : 1.0;\n\t\t\tmaterialParams.roughness = metallicRoughness.roughnessFactor !== undefined ? metallicRoughness.roughnessFactor : 1.0;\n\n\t\t\tif ( metallicRoughness.metallicRoughnessTexture !== undefined ) {\n\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'metalnessMap', metallicRoughness.metallicRoughnessTexture ) );\n\t\t\t\tpending.push( parser.assignTexture( materialParams, 'roughnessMap', metallicRoughness.metallicRoughnessTexture ) );\n\n\t\t\t}\n\n\t\t\tmaterialType = this._invokeOne( function ( ext ) {\n\n\t\t\t\treturn ext.getMaterialType && ext.getMaterialType( materialIndex );\n\n\t\t\t} );\n\n\t\t\tpending.push( Promise.all( this._invokeAll( function ( ext ) {\n\n\t\t\t\treturn ext.extendMaterialParams && ext.extendMaterialParams( materialIndex, materialParams );\n\n\t\t\t} ) ) );\n\n\t\t}\n\n\t\tif ( materialDef.doubleSided === true ) {\n\n\t\t\tmaterialParams.side = DoubleSide;\n\n\t\t}\n\n\t\tvar alphaMode = materialDef.alphaMode || ALPHA_MODES.OPAQUE;\n\n\t\tif ( alphaMode === ALPHA_MODES.BLEND ) {\n\n\t\t\tmaterialParams.transparent = true;\n\n\t\t\t// See: https://github.com/mrdoob/three.js/issues/17706\n\t\t\tmaterialParams.depthWrite = false;\n\n\t\t} else {\n\n\t\t\tmaterialParams.transparent = false;\n\n\t\t\tif ( alphaMode === ALPHA_MODES.MASK ) {\n\n\t\t\t\tmaterialParams.alphaTest = materialDef.alphaCutoff !== undefined ? materialDef.alphaCutoff : 0.5;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.normalTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'normalMap', materialDef.normalTexture ) );\n\n\t\t\tmaterialParams.normalScale = new Vector2( 1, 1 );\n\n\t\t\tif ( materialDef.normalTexture.scale !== undefined ) {\n\n\t\t\t\tmaterialParams.normalScale.set( materialDef.normalTexture.scale, materialDef.normalTexture.scale );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.occlusionTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'aoMap', materialDef.occlusionTexture ) );\n\n\t\t\tif ( materialDef.occlusionTexture.strength !== undefined ) {\n\n\t\t\t\tmaterialParams.aoMapIntensity = materialDef.occlusionTexture.strength;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( materialDef.emissiveFactor !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tmaterialParams.emissive = new Color().fromArray( materialDef.emissiveFactor );\n\n\t\t}\n\n\t\tif ( materialDef.emissiveTexture !== undefined && materialType !== MeshBasicMaterial ) {\n\n\t\t\tpending.push( parser.assignTexture( materialParams, 'emissiveMap', materialDef.emissiveTexture ) );\n\n\t\t}\n\n\t\treturn Promise.all( pending ).then( function () {\n\n\t\t\tvar material;\n\n\t\t\tif ( materialType === GLTFMeshStandardSGMaterial ) {\n\n\t\t\t\tmaterial = extensions[ EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS ].createMaterial( materialParams );\n\n\t\t\t} else {\n\n\t\t\t\tmaterial = new materialType( materialParams );\n\n\t\t\t}\n\n\t\t\tif ( materialDef.name ) material.name = materialDef.name;\n\n\t\t\t// baseColorTexture, emissiveTexture, and specularGlossinessTexture use sRGB encoding.\n\t\t\tif ( material.map ) material.map.encoding = sRGBEncoding;\n\t\t\tif ( material.emissiveMap ) material.emissiveMap.encoding = sRGBEncoding;\n\n\t\t\tassignExtrasToUserData( material, materialDef );\n\n\t\t\tparser.associations.set( material, { type: 'materials', index: materialIndex } );\n\n\t\t\tif ( materialDef.extensions ) addUnknownExtensionsToUserData( extensions, material, materialDef );\n\n\t\t\treturn material;\n\n\t\t} );\n\n\t};\n\n\t/** When Object3D instances are targeted by animation, they need unique names. */\n\tGLTFParser.prototype.createUniqueName = function ( originalName ) {\n\n\t\tvar name = PropertyBinding.sanitizeNodeName( originalName || '' );\n\n\t\tfor ( var i = 1; this.nodeNamesUsed[ name ]; ++ i ) {\n\n\t\t\tname = originalName + '_' + i;\n\n\t\t}\n\n\t\tthis.nodeNamesUsed[ name ] = true;\n\n\t\treturn name;\n\n\t};\n\n\t/**\n\t * @param {BufferGeometry} geometry\n\t * @param {GLTF.Primitive} primitiveDef\n\t * @param {GLTFParser} parser\n\t */\n\tfunction computeBounds( geometry, primitiveDef, parser ) {\n\n\t\tvar attributes = primitiveDef.attributes;\n\n\t\tvar box = new Box3();\n\n\t\tif ( attributes.POSITION !== undefined ) {\n\n\t\t\tvar accessor = parser.json.accessors[ attributes.POSITION ];\n\n\t\t\tvar min = accessor.min;\n\t\t\tvar max = accessor.max;\n\n\t\t\t// glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n\t\t\tif ( min !== undefined && max !== undefined ) {\n\n\t\t\t\tbox.set(\n\t\t\t\t\tnew Vector3( min[ 0 ], min[ 1 ], min[ 2 ] ),\n\t\t\t\t\tnew Vector3( max[ 0 ], max[ 1 ], max[ 2 ] ) );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing min/max properties for accessor POSITION.' );\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar targets = primitiveDef.targets;\n\n\t\tif ( targets !== undefined ) {\n\n\t\t\tvar maxDisplacement = new Vector3();\n\t\t\tvar vector = new Vector3();\n\n\t\t\tfor ( var i = 0, il = targets.length; i < il; i ++ ) {\n\n\t\t\t\tvar target = targets[ i ];\n\n\t\t\t\tif ( target.POSITION !== undefined ) {\n\n\t\t\t\t\tvar accessor = parser.json.accessors[ target.POSITION ];\n\t\t\t\t\tvar min = accessor.min;\n\t\t\t\t\tvar max = accessor.max;\n\n\t\t\t\t\t// glTF requires 'min' and 'max', but VRM (which extends glTF) currently ignores that requirement.\n\n\t\t\t\t\tif ( min !== undefined && max !== undefined ) {\n\n\t\t\t\t\t\t// we need to get max of absolute components because target weight is [-1,1]\n\t\t\t\t\t\tvector.setX( Math.max( Math.abs( min[ 0 ] ), Math.abs( max[ 0 ] ) ) );\n\t\t\t\t\t\tvector.setY( Math.max( Math.abs( min[ 1 ] ), Math.abs( max[ 1 ] ) ) );\n\t\t\t\t\t\tvector.setZ( Math.max( Math.abs( min[ 2 ] ), Math.abs( max[ 2 ] ) ) );\n\n\t\t\t\t\t\t// Note: this assumes that the sum of all weights is at most 1. This isn't quite correct - it's more conservative\n\t\t\t\t\t\t// to assume that each target can have a max weight of 1. However, for some use cases - notably, when morph targets\n\t\t\t\t\t\t// are used to implement key-frame animations and as such only two are active at a time - this results in very large\n\t\t\t\t\t\t// boxes. So for now we make a box that's sometimes a touch too small but is hopefully mostly of reasonable size.\n\t\t\t\t\t\tmaxDisplacement.max( vector );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing min/max properties for accessor POSITION.' );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// As per comment above this box isn't conservative, but has a reasonable size for a very large number of morph targets.\n\t\t\tbox.expandByVector( maxDisplacement );\n\n\t\t}\n\n\t\tgeometry.boundingBox = box;\n\n\t\tvar sphere = new Sphere();\n\n\t\tbox.getCenter( sphere.center );\n\t\tsphere.radius = box.min.distanceTo( box.max ) / 2;\n\n\t\tgeometry.boundingSphere = sphere;\n\n\t}\n\n\t/**\n\t * @param {BufferGeometry} geometry\n\t * @param {GLTF.Primitive} primitiveDef\n\t * @param {GLTFParser} parser\n\t * @return {Promise<BufferGeometry>}\n\t */\n\tfunction addPrimitiveAttributes( geometry, primitiveDef, parser ) {\n\n\t\tvar attributes = primitiveDef.attributes;\n\n\t\tvar pending = [];\n\n\t\tfunction assignAttributeAccessor( accessorIndex, attributeName ) {\n\n\t\t\treturn parser.getDependency( 'accessor', accessorIndex )\n\t\t\t\t.then( function ( accessor ) {\n\n\t\t\t\t\tgeometry.setAttribute( attributeName, accessor );\n\n\t\t\t\t} );\n\n\t\t}\n\n\t\tfor ( var gltfAttributeName in attributes ) {\n\n\t\t\tvar threeAttributeName = ATTRIBUTES[ gltfAttributeName ] || gltfAttributeName.toLowerCase();\n\n\t\t\t// Skip attributes already provided by e.g. Draco extension.\n\t\t\tif ( threeAttributeName in geometry.attributes ) continue;\n\n\t\t\tpending.push( assignAttributeAccessor( attributes[ gltfAttributeName ], threeAttributeName ) );\n\n\t\t}\n\n\t\tif ( primitiveDef.indices !== undefined && ! geometry.index ) {\n\n\t\t\tvar accessor = parser.getDependency( 'accessor', primitiveDef.indices ).then( function ( accessor ) {\n\n\t\t\t\tgeometry.setIndex( accessor );\n\n\t\t\t} );\n\n\t\t\tpending.push( accessor );\n\n\t\t}\n\n\t\tassignExtrasToUserData( geometry, primitiveDef );\n\n\t\tcomputeBounds( geometry, primitiveDef, parser );\n\n\t\treturn Promise.all( pending ).then( function () {\n\n\t\t\treturn primitiveDef.targets !== undefined\n\t\t\t\t? addMorphTargets( geometry, primitiveDef.targets, parser )\n\t\t\t\t: geometry;\n\n\t\t} );\n\n\t}\n\n\t/**\n\t * @param {BufferGeometry} geometry\n\t * @param {Number} drawMode\n\t * @return {BufferGeometry}\n\t */\n\tfunction toTrianglesDrawMode( geometry, drawMode ) {\n\n\t\tvar index = geometry.getIndex();\n\n\t\t// generate index if not present\n\n\t\tif ( index === null ) {\n\n\t\t\tvar indices = [];\n\n\t\t\tvar position = geometry.getAttribute( 'position' );\n\n\t\t\tif ( position !== undefined ) {\n\n\t\t\t\tfor ( var i = 0; i < position.count; i ++ ) {\n\n\t\t\t\t\tindices.push( i );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.setIndex( indices );\n\t\t\t\tindex = geometry.getIndex();\n\n\t\t\t} else {\n\n\t\t\t\tconsole.error( 'THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible.' );\n\t\t\t\treturn geometry;\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tvar numberOfTriangles = index.count - 2;\n\t\tvar newIndices = [];\n\n\t\tif ( drawMode === TriangleFanDrawMode ) {\n\n\t\t\t// gl.TRIANGLE_FAN\n\n\t\t\tfor ( var i = 1; i <= numberOfTriangles; i ++ ) {\n\n\t\t\t\tnewIndices.push( index.getX( 0 ) );\n\t\t\t\tnewIndices.push( index.getX( i ) );\n\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// gl.TRIANGLE_STRIP\n\n\t\t\tfor ( var i = 0; i < numberOfTriangles; i ++ ) {\n\n\t\t\t\tif ( i % 2 === 0 ) {\n\n\t\t\t\t\tnewIndices.push( index.getX( i ) );\n\t\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\t\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\n\n\n\t\t\t\t} else {\n\n\t\t\t\t\tnewIndices.push( index.getX( i + 2 ) );\n\t\t\t\t\tnewIndices.push( index.getX( i + 1 ) );\n\t\t\t\t\tnewIndices.push( index.getX( i ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( ( newIndices.length / 3 ) !== numberOfTriangles ) {\n\n\t\t\tconsole.error( 'THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.' );\n\n\t\t}\n\n\t\t// build final geometry\n\n\t\tvar newGeometry = geometry.clone();\n\t\tnewGeometry.setIndex( newIndices );\n\n\t\treturn newGeometry;\n\n\t}\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#geometry\n\t *\n\t * Creates BufferGeometries from primitives.\n\t *\n\t * @param {Array<GLTF.Primitive>} primitives\n\t * @return {Promise<Array<BufferGeometry>>}\n\t */\n\tGLTFParser.prototype.loadGeometries = function ( primitives ) {\n\n\t\tvar parser = this;\n\t\tvar extensions = this.extensions;\n\t\tvar cache = this.primitiveCache;\n\n\t\tfunction createDracoPrimitive( primitive ) {\n\n\t\t\treturn extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ]\n\t\t\t\t.decodePrimitive( primitive, parser )\n\t\t\t\t.then( function ( geometry ) {\n\n\t\t\t\t\treturn addPrimitiveAttributes( geometry, primitive, parser );\n\n\t\t\t\t} );\n\n\t\t}\n\n\t\tvar pending = [];\n\n\t\tfor ( var i = 0, il = primitives.length; i < il; i ++ ) {\n\n\t\t\tvar primitive = primitives[ i ];\n\t\t\tvar cacheKey = createPrimitiveKey( primitive );\n\n\t\t\t// See if we've already created this geometry\n\t\t\tvar cached = cache[ cacheKey ];\n\n\t\t\tif ( cached ) {\n\n\t\t\t\t// Use the cached geometry if it exists\n\t\t\t\tpending.push( cached.promise );\n\n\t\t\t} else {\n\n\t\t\t\tvar geometryPromise;\n\n\t\t\t\tif ( primitive.extensions && primitive.extensions[ EXTENSIONS.KHR_DRACO_MESH_COMPRESSION ] ) {\n\n\t\t\t\t\t// Use DRACO geometry if available\n\t\t\t\t\tgeometryPromise = createDracoPrimitive( primitive );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Otherwise create a new geometry\n\t\t\t\t\tgeometryPromise = addPrimitiveAttributes( new BufferGeometry(), primitive, parser );\n\n\t\t\t\t}\n\n\t\t\t\t// Cache this geometry\n\t\t\t\tcache[ cacheKey ] = { primitive: primitive, promise: geometryPromise };\n\n\t\t\t\tpending.push( geometryPromise );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn Promise.all( pending );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/blob/master/specification/2.0/README.md#meshes\n\t * @param {number} meshIndex\n\t * @return {Promise<Group|Mesh|SkinnedMesh>}\n\t */\n\tGLTFParser.prototype.loadMesh = function ( meshIndex ) {\n\n\t\tvar parser = this;\n\t\tvar json = this.json;\n\t\tvar extensions = this.extensions;\n\n\t\tvar meshDef = json.meshes[ meshIndex ];\n\t\tvar primitives = meshDef.primitives;\n\n\t\tvar pending = [];\n\n\t\tfor ( var i = 0, il = primitives.length; i < il; i ++ ) {\n\n\t\t\tvar material = primitives[ i ].material === undefined\n\t\t\t\t? createDefaultMaterial( this.cache )\n\t\t\t\t: this.getDependency( 'material', primitives[ i ].material );\n\n\t\t\tpending.push( material );\n\n\t\t}\n\n\t\tpending.push( parser.loadGeometries( primitives ) );\n\n\t\treturn Promise.all( pending ).then( function ( results ) {\n\n\t\t\tvar materials = results.slice( 0, results.length - 1 );\n\t\t\tvar geometries = results[ results.length - 1 ];\n\n\t\t\tvar meshes = [];\n\n\t\t\tfor ( var i = 0, il = geometries.length; i < il; i ++ ) {\n\n\t\t\t\tvar geometry = geometries[ i ];\n\t\t\t\tvar primitive = primitives[ i ];\n\n\t\t\t\t// 1. create Mesh\n\n\t\t\t\tvar mesh;\n\n\t\t\t\tvar material = materials[ i ];\n\n\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLES ||\n\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ||\n\t\t\t\t\tprimitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ||\n\t\t\t\t\tprimitive.mode === undefined ) {\n\n\t\t\t\t\t// .isSkinnedMesh isn't in glTF spec. See ._markDefs()\n\t\t\t\t\tmesh = meshDef.isSkinnedMesh === true\n\t\t\t\t\t\t? new SkinnedMesh( geometry, material )\n\t\t\t\t\t\t: new Mesh( geometry, material );\n\n\t\t\t\t\tif ( mesh.isSkinnedMesh === true && ! mesh.geometry.attributes.skinWeight.normalized ) {\n\n\t\t\t\t\t\t// we normalize floating point skin weight array to fix malformed assets (see #15319)\n\t\t\t\t\t\t// it's important to skip this for non-float32 data since normalizeSkinWeights assumes non-normalized inputs\n\t\t\t\t\t\tmesh.normalizeSkinWeights();\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_STRIP ) {\n\n\t\t\t\t\t\tmesh.geometry = toTrianglesDrawMode( mesh.geometry, TriangleStripDrawMode );\n\n\t\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.TRIANGLE_FAN ) {\n\n\t\t\t\t\t\tmesh.geometry = toTrianglesDrawMode( mesh.geometry, TriangleFanDrawMode );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINES ) {\n\n\t\t\t\t\tmesh = new LineSegments( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_STRIP ) {\n\n\t\t\t\t\tmesh = new Line( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.LINE_LOOP ) {\n\n\t\t\t\t\tmesh = new LineLoop( geometry, material );\n\n\t\t\t\t} else if ( primitive.mode === WEBGL_CONSTANTS.POINTS ) {\n\n\t\t\t\t\tmesh = new Points( geometry, material );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Primitive mode unsupported: ' + primitive.mode );\n\n\t\t\t\t}\n\n\t\t\t\tif ( Object.keys( mesh.geometry.morphAttributes ).length > 0 ) {\n\n\t\t\t\t\tupdateMorphTargets( mesh, meshDef );\n\n\t\t\t\t}\n\n\t\t\t\tmesh.name = parser.createUniqueName( meshDef.name || ( 'mesh_' + meshIndex ) );\n\n\t\t\t\tassignExtrasToUserData( mesh, meshDef );\n\n\t\t\t\tif ( primitive.extensions ) addUnknownExtensionsToUserData( extensions, mesh, primitive );\n\n\t\t\t\tparser.assignFinalMaterial( mesh );\n\n\t\t\t\tmeshes.push( mesh );\n\n\t\t\t}\n\n\t\t\tif ( meshes.length === 1 ) {\n\n\t\t\t\treturn meshes[ 0 ];\n\n\t\t\t}\n\n\t\t\tvar group = new Group();\n\n\t\t\tfor ( var i = 0, il = meshes.length; i < il; i ++ ) {\n\n\t\t\t\tgroup.add( meshes[ i ] );\n\n\t\t\t}\n\n\t\t\treturn group;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#cameras\n\t * @param {number} cameraIndex\n\t * @return {Promise<THREE.Camera>}\n\t */\n\tGLTFParser.prototype.loadCamera = function ( cameraIndex ) {\n\n\t\tvar camera;\n\t\tvar cameraDef = this.json.cameras[ cameraIndex ];\n\t\tvar params = cameraDef[ cameraDef.type ];\n\n\t\tif ( ! params ) {\n\n\t\t\tconsole.warn( 'THREE.GLTFLoader: Missing camera parameters.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( cameraDef.type === 'perspective' ) {\n\n\t\t\tcamera = new PerspectiveCamera( MathUtils.radToDeg( params.yfov ), params.aspectRatio || 1, params.znear || 1, params.zfar || 2e6 );\n\n\t\t} else if ( cameraDef.type === 'orthographic' ) {\n\n\t\t\tcamera = new OrthographicCamera( - params.xmag, params.xmag, params.ymag, - params.ymag, params.znear, params.zfar );\n\n\t\t}\n\n\t\tif ( cameraDef.name ) camera.name = this.createUniqueName( cameraDef.name );\n\n\t\tassignExtrasToUserData( camera, cameraDef );\n\n\t\treturn Promise.resolve( camera );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#skins\n\t * @param {number} skinIndex\n\t * @return {Promise<Object>}\n\t */\n\tGLTFParser.prototype.loadSkin = function ( skinIndex ) {\n\n\t\tvar skinDef = this.json.skins[ skinIndex ];\n\n\t\tvar skinEntry = { joints: skinDef.joints };\n\n\t\tif ( skinDef.inverseBindMatrices === undefined ) {\n\n\t\t\treturn Promise.resolve( skinEntry );\n\n\t\t}\n\n\t\treturn this.getDependency( 'accessor', skinDef.inverseBindMatrices ).then( function ( accessor ) {\n\n\t\t\tskinEntry.inverseBindMatrices = accessor;\n\n\t\t\treturn skinEntry;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#animations\n\t * @param {number} animationIndex\n\t * @return {Promise<AnimationClip>}\n\t */\n\tGLTFParser.prototype.loadAnimation = function ( animationIndex ) {\n\n\t\tvar json = this.json;\n\n\t\tvar animationDef = json.animations[ animationIndex ];\n\n\t\tvar pendingNodes = [];\n\t\tvar pendingInputAccessors = [];\n\t\tvar pendingOutputAccessors = [];\n\t\tvar pendingSamplers = [];\n\t\tvar pendingTargets = [];\n\n\t\tfor ( var i = 0, il = animationDef.channels.length; i < il; i ++ ) {\n\n\t\t\tvar channel = animationDef.channels[ i ];\n\t\t\tvar sampler = animationDef.samplers[ channel.sampler ];\n\t\t\tvar target = channel.target;\n\t\t\tvar name = target.node !== undefined ? target.node : target.id; // NOTE: target.id is deprecated.\n\t\t\tvar input = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.input ] : sampler.input;\n\t\t\tvar output = animationDef.parameters !== undefined ? animationDef.parameters[ sampler.output ] : sampler.output;\n\n\t\t\tpendingNodes.push( this.getDependency( 'node', name ) );\n\t\t\tpendingInputAccessors.push( this.getDependency( 'accessor', input ) );\n\t\t\tpendingOutputAccessors.push( this.getDependency( 'accessor', output ) );\n\t\t\tpendingSamplers.push( sampler );\n\t\t\tpendingTargets.push( target );\n\n\t\t}\n\n\t\treturn Promise.all( [\n\n\t\t\tPromise.all( pendingNodes ),\n\t\t\tPromise.all( pendingInputAccessors ),\n\t\t\tPromise.all( pendingOutputAccessors ),\n\t\t\tPromise.all( pendingSamplers ),\n\t\t\tPromise.all( pendingTargets )\n\n\t\t] ).then( function ( dependencies ) {\n\n\t\t\tvar nodes = dependencies[ 0 ];\n\t\t\tvar inputAccessors = dependencies[ 1 ];\n\t\t\tvar outputAccessors = dependencies[ 2 ];\n\t\t\tvar samplers = dependencies[ 3 ];\n\t\t\tvar targets = dependencies[ 4 ];\n\n\t\t\tvar tracks = [];\n\n\t\t\tfor ( var i = 0, il = nodes.length; i < il; i ++ ) {\n\n\t\t\t\tvar node = nodes[ i ];\n\t\t\t\tvar inputAccessor = inputAccessors[ i ];\n\t\t\t\tvar outputAccessor = outputAccessors[ i ];\n\t\t\t\tvar sampler = samplers[ i ];\n\t\t\t\tvar target = targets[ i ];\n\n\t\t\t\tif ( node === undefined ) continue;\n\n\t\t\t\tnode.updateMatrix();\n\t\t\t\tnode.matrixAutoUpdate = true;\n\n\t\t\t\tvar TypedKeyframeTrack;\n\n\t\t\t\tswitch ( PATH_PROPERTIES[ target.path ] ) {\n\n\t\t\t\t\tcase PATH_PROPERTIES.weights:\n\n\t\t\t\t\t\tTypedKeyframeTrack = NumberKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase PATH_PROPERTIES.rotation:\n\n\t\t\t\t\t\tTypedKeyframeTrack = QuaternionKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase PATH_PROPERTIES.position:\n\t\t\t\t\tcase PATH_PROPERTIES.scale:\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tTypedKeyframeTrack = VectorKeyframeTrack;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\tvar targetName = node.name ? node.name : node.uuid;\n\n\t\t\t\tvar interpolation = sampler.interpolation !== undefined ? INTERPOLATION[ sampler.interpolation ] : InterpolateLinear;\n\n\t\t\t\tvar targetNames = [];\n\n\t\t\t\tif ( PATH_PROPERTIES[ target.path ] === PATH_PROPERTIES.weights ) {\n\n\t\t\t\t\t// Node may be a Group (glTF mesh with several primitives) or a Mesh.\n\t\t\t\t\tnode.traverse( function ( object ) {\n\n\t\t\t\t\t\tif ( object.isMesh === true && object.morphTargetInfluences ) {\n\n\t\t\t\t\t\t\ttargetNames.push( object.name ? object.name : object.uuid );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttargetNames.push( targetName );\n\n\t\t\t\t}\n\n\t\t\t\tvar outputArray = outputAccessor.array;\n\n\t\t\t\tif ( outputAccessor.normalized ) {\n\n\t\t\t\t\tvar scale;\n\n\t\t\t\t\tif ( outputArray.constructor === Int8Array ) {\n\n\t\t\t\t\t\tscale = 1 / 127;\n\n\t\t\t\t\t} else if ( outputArray.constructor === Uint8Array ) {\n\n\t\t\t\t\t\tscale = 1 / 255;\n\n\t\t\t\t\t} else if ( outputArray.constructor == Int16Array ) {\n\n\t\t\t\t\t\tscale = 1 / 32767;\n\n\t\t\t\t\t} else if ( outputArray.constructor === Uint16Array ) {\n\n\t\t\t\t\t\tscale = 1 / 65535;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthrow new Error( 'THREE.GLTFLoader: Unsupported output accessor component type.' );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar scaled = new Float32Array( outputArray.length );\n\n\t\t\t\t\tfor ( var j = 0, jl = outputArray.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tscaled[ j ] = outputArray[ j ] * scale;\n\n\t\t\t\t\t}\n\n\t\t\t\t\toutputArray = scaled;\n\n\t\t\t\t}\n\n\t\t\t\tfor ( var j = 0, jl = targetNames.length; j < jl; j ++ ) {\n\n\t\t\t\t\tvar track = new TypedKeyframeTrack(\n\t\t\t\t\t\ttargetNames[ j ] + '.' + PATH_PROPERTIES[ target.path ],\n\t\t\t\t\t\tinputAccessor.array,\n\t\t\t\t\t\toutputArray,\n\t\t\t\t\t\tinterpolation\n\t\t\t\t\t);\n\n\t\t\t\t\t// Override interpolation with custom factory method.\n\t\t\t\t\tif ( sampler.interpolation === 'CUBICSPLINE' ) {\n\n\t\t\t\t\t\ttrack.createInterpolant = function InterpolantFactoryMethodGLTFCubicSpline( result ) {\n\n\t\t\t\t\t\t\t// A CUBICSPLINE keyframe in glTF has three output values for each input value,\n\t\t\t\t\t\t\t// representing inTangent, splineVertex, and outTangent. As a result, track.getValueSize()\n\t\t\t\t\t\t\t// must be divided by three to get the interpolant's sampleSize argument.\n\n\t\t\t\t\t\t\treturn new GLTFCubicSplineInterpolant( this.times, this.values, this.getValueSize() / 3, result );\n\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// Mark as CUBICSPLINE. `track.getInterpolation()` doesn't support custom interpolants.\n\t\t\t\t\t\ttrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttracks.push( track );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar name = animationDef.name ? animationDef.name : 'animation_' + animationIndex;\n\n\t\t\treturn new AnimationClip( name, undefined, tracks );\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#nodes-and-hierarchy\n\t * @param {number} nodeIndex\n\t * @return {Promise<Object3D>}\n\t */\n\tGLTFParser.prototype.loadNode = function ( nodeIndex ) {\n\n\t\tvar json = this.json;\n\t\tvar extensions = this.extensions;\n\t\tvar parser = this;\n\n\t\tvar nodeDef = json.nodes[ nodeIndex ];\n\n\t\t// reserve node's name before its dependencies, so the root has the intended name.\n\t\tvar nodeName = nodeDef.name ? parser.createUniqueName( nodeDef.name ) : '';\n\n\t\treturn ( function () {\n\n\t\t\tvar pending = [];\n\n\t\t\tif ( nodeDef.mesh !== undefined ) {\n\n\t\t\t\tpending.push( parser.getDependency( 'mesh', nodeDef.mesh ).then( function ( mesh ) {\n\n\t\t\t\t\tvar node = parser._getNodeRef( parser.meshCache, nodeDef.mesh, mesh );\n\n\t\t\t\t\t// if weights are provided on the node, override weights on the mesh.\n\t\t\t\t\tif ( nodeDef.weights !== undefined ) {\n\n\t\t\t\t\t\tnode.traverse( function ( o ) {\n\n\t\t\t\t\t\t\tif ( ! o.isMesh ) return;\n\n\t\t\t\t\t\t\tfor ( var i = 0, il = nodeDef.weights.length; i < il; i ++ ) {\n\n\t\t\t\t\t\t\t\to.morphTargetInfluences[ i ] = nodeDef.weights[ i ];\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} );\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn node;\n\n\t\t\t\t} ) );\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.camera !== undefined ) {\n\n\t\t\t\tpending.push( parser.getDependency( 'camera', nodeDef.camera ).then( function ( camera ) {\n\n\t\t\t\t\treturn parser._getNodeRef( parser.cameraCache, nodeDef.camera, camera );\n\n\t\t\t\t} ) );\n\n\t\t\t}\n\n\t\t\tparser._invokeAll( function ( ext ) {\n\n\t\t\t\treturn ext.createNodeAttachment && ext.createNodeAttachment( nodeIndex );\n\n\t\t\t} ).forEach( function ( promise ) {\n\n\t\t\t\tpending.push( promise );\n\n\t\t\t} );\n\n\t\t\treturn Promise.all( pending );\n\n\t\t}() ).then( function ( objects ) {\n\n\t\t\tvar node;\n\n\t\t\t// .isBone isn't in glTF spec. See ._markDefs\n\t\t\tif ( nodeDef.isBone === true ) {\n\n\t\t\t\tnode = new Bone();\n\n\t\t\t} else if ( objects.length > 1 ) {\n\n\t\t\t\tnode = new Group();\n\n\t\t\t} else if ( objects.length === 1 ) {\n\n\t\t\t\tnode = objects[ 0 ];\n\n\t\t\t} else {\n\n\t\t\t\tnode = new Object3D();\n\n\t\t\t}\n\n\t\t\tif ( node !== objects[ 0 ] ) {\n\n\t\t\t\tfor ( var i = 0, il = objects.length; i < il; i ++ ) {\n\n\t\t\t\t\tnode.add( objects[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( nodeDef.name ) {\n\n\t\t\t\tnode.userData.name = nodeDef.name;\n\t\t\t\tnode.name = nodeName;\n\n\t\t\t}\n\n\t\t\tassignExtrasToUserData( node, nodeDef );\n\n\t\t\tif ( nodeDef.extensions ) addUnknownExtensionsToUserData( extensions, node, nodeDef );\n\n\t\t\tif ( nodeDef.matrix !== undefined ) {\n\n\t\t\t\tvar matrix = new Matrix4();\n\t\t\t\tmatrix.fromArray( nodeDef.matrix );\n\t\t\t\tnode.applyMatrix4( matrix );\n\n\t\t\t} else {\n\n\t\t\t\tif ( nodeDef.translation !== undefined ) {\n\n\t\t\t\t\tnode.position.fromArray( nodeDef.translation );\n\n\t\t\t\t}\n\n\t\t\t\tif ( nodeDef.rotation !== undefined ) {\n\n\t\t\t\t\tnode.quaternion.fromArray( nodeDef.rotation );\n\n\t\t\t\t}\n\n\t\t\t\tif ( nodeDef.scale !== undefined ) {\n\n\t\t\t\t\tnode.scale.fromArray( nodeDef.scale );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tparser.associations.set( node, { type: 'nodes', index: nodeIndex } );\n\n\t\t\treturn node;\n\n\t\t} );\n\n\t};\n\n\t/**\n\t * Specification: https://github.com/KhronosGroup/glTF/tree/master/specification/2.0#scenes\n\t * @param {number} sceneIndex\n\t * @return {Promise<Group>}\n\t */\n\tGLTFParser.prototype.loadScene = function () {\n\n\t\t// scene node hierachy builder\n\n\t\tfunction buildNodeHierachy( nodeId, parentObject, json, parser ) {\n\n\t\t\tvar nodeDef = json.nodes[ nodeId ];\n\n\t\t\treturn parser.getDependency( 'node', nodeId ).then( function ( node ) {\n\n\t\t\t\tif ( nodeDef.skin === undefined ) return node;\n\n\t\t\t\t// build skeleton here as well\n\n\t\t\t\tvar skinEntry;\n\n\t\t\t\treturn parser.getDependency( 'skin', nodeDef.skin ).then( function ( skin ) {\n\n\t\t\t\t\tskinEntry = skin;\n\n\t\t\t\t\tvar pendingJoints = [];\n\n\t\t\t\t\tfor ( var i = 0, il = skinEntry.joints.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tpendingJoints.push( parser.getDependency( 'node', skinEntry.joints[ i ] ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t\treturn Promise.all( pendingJoints );\n\n\t\t\t\t} ).then( function ( jointNodes ) {\n\n\t\t\t\t\tnode.traverse( function ( mesh ) {\n\n\t\t\t\t\t\tif ( ! mesh.isMesh ) return;\n\n\t\t\t\t\t\tvar bones = [];\n\t\t\t\t\t\tvar boneInverses = [];\n\n\t\t\t\t\t\tfor ( var j = 0, jl = jointNodes.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tvar jointNode = jointNodes[ j ];\n\n\t\t\t\t\t\t\tif ( jointNode ) {\n\n\t\t\t\t\t\t\t\tbones.push( jointNode );\n\n\t\t\t\t\t\t\t\tvar mat = new Matrix4();\n\n\t\t\t\t\t\t\t\tif ( skinEntry.inverseBindMatrices !== undefined ) {\n\n\t\t\t\t\t\t\t\t\tmat.fromArray( skinEntry.inverseBindMatrices.array, j * 16 );\n\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tboneInverses.push( mat );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tconsole.warn( 'THREE.GLTFLoader: Joint \"%s\" could not be found.', skinEntry.joints[ j ] );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmesh.bind( new Skeleton( bones, boneInverses ), mesh.matrixWorld );\n\n\t\t\t\t\t} );\n\n\t\t\t\t\treturn node;\n\n\t\t\t\t} );\n\n\t\t\t} ).then( function ( node ) {\n\n\t\t\t\t// build node hierachy\n\n\t\t\t\tparentObject.add( node );\n\n\t\t\t\tvar pending = [];\n\n\t\t\t\tif ( nodeDef.children ) {\n\n\t\t\t\t\tvar children = nodeDef.children;\n\n\t\t\t\t\tfor ( var i = 0, il = children.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tvar child = children[ i ];\n\t\t\t\t\t\tpending.push( buildNodeHierachy( child, node, json, parser ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn Promise.all( pending );\n\n\t\t\t} );\n\n\t\t}\n\n\t\treturn function loadScene( sceneIndex ) {\n\n\t\t\tvar json = this.json;\n\t\t\tvar extensions = this.extensions;\n\t\t\tvar sceneDef = this.json.scenes[ sceneIndex ];\n\t\t\tvar parser = this;\n\n\t\t\t// Loader returns Group, not Scene.\n\t\t\t// See: https://github.com/mrdoob/three.js/issues/18342#issuecomment-578981172\n\t\t\tvar scene = new Group();\n\t\t\tif ( sceneDef.name ) scene.name = parser.createUniqueName( sceneDef.name );\n\n\t\t\tassignExtrasToUserData( scene, sceneDef );\n\n\t\t\tif ( sceneDef.extensions ) addUnknownExtensionsToUserData( extensions, scene, sceneDef );\n\n\t\t\tvar nodeIds = sceneDef.nodes || [];\n\n\t\t\tvar pending = [];\n\n\t\t\tfor ( var i = 0, il = nodeIds.length; i < il; i ++ ) {\n\n\t\t\t\tpending.push( buildNodeHierachy( nodeIds[ i ], scene, json, parser ) );\n\n\t\t\t}\n\n\t\t\treturn Promise.all( pending ).then( function () {\n\n\t\t\t\treturn scene;\n\n\t\t\t} );\n\n\t\t};\n\n\t}();\n\n\treturn GLTFLoader;\n\n} )();\n\nexport { GLTFLoader };\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","\r\nimport sizeof from 'object-sizeof'\r\nfunction Cache(maxSize, loadFunction){\r\n    var self = this;\r\n    this.map = new Map();\r\n    this.maxSize = maxSize;\r\n    this.size = 0;\r\n    this.loadFunction = loadFunction;\r\n\r\n    function get(key, signal){\r\n        let object = self.map.get(key);\r\n        if(!object){\r\n            return self.loadFunction(key, signal).then(result=>{\r\n                let sizeLocal = sizeof(result);\r\n                if(!self.map.has(key)){\r\n                    self.map.set(key, {\"size\":sizeLocal, \"value\": result});\r\n                    self.size+=sizeLocal;\r\n                    checkSize();\r\n                }\r\n                return result;\r\n            }).catch(error=>{\r\n                throw error;\r\n            });\r\n        }else{\r\n            return Promise.resolve(object.value);\r\n        }\r\n    }\r\n\r\n    function checkSize(){\r\n        for (let [key, val] of self.map){\r\n            if (self.size>self.maxSize){\r\n                self.map.delete(key);\r\n                self.size -= val.size;\r\n            }else{\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    return{\"get\":get};\r\n}\r\n\r\nexport {Cache};","import * as THREE from \"three\";\r\nimport { Matrix3, Sphere, Vector3 } from \"three\";\r\n\r\nfunction OBB(values){\r\n    var self = this;\r\n    this.center = new Vector3(values[0], values[1], values[2]);\r\n    var e1 = new Vector3(values[3], values[4], values[5]);\r\n    var e2 = new Vector3(values[6], values[7], values[8]);\r\n    var e3 = new Vector3(values[9], values[10], values[11]);\r\n\r\n    this.halfWidth = e1.length();\r\n    this.halfHeight = e2.length();\r\n    this.halfDepth = e3.length();\r\n\r\n    e1.normalize();\r\n    e2.normalize();\r\n    e3.normalize();\r\n\r\n    this.sphere = new Sphere(this.center, Math.sqrt(this.halfWidth * this.halfWidth + this.halfHeight * this.halfHeight + this.halfDepth * this.halfDepth));\r\n    \r\n    this.matrixToOBBCoordinateSystem = new Matrix3();\r\n    this.matrixToOBBCoordinateSystem.set( \r\n        e1.x, e1.y, e1.z,\r\n        e2.x, e2.y, e2.z,\r\n        e3.x, e3.y, e3.z );\r\n\r\n    function distanceToPoint(point){\r\n\r\n        let transformedPoint = point.clone();\r\n        transformedPoint.sub(self.center);\r\n        transformedPoint.applyMatrix3(self.matrixToOBBCoordinateSystem);\r\n\r\n        //// point to bounds \r\n        let dx = Math.max(0, Math.max(-self.halfWidth - transformedPoint.x, transformedPoint.x - self.halfWidth));\r\n        let dy = Math.max(0, Math.max(-self.halfHeight - transformedPoint.y, transformedPoint.y - self.halfHeight));\r\n        let dz = Math.max(0, Math.max(-self.halfDepth - transformedPoint.z, transformedPoint.z - self.halfDepth));\r\n        return Math.sqrt(dx * dx + dy * dy + dz * dz);\r\n    }\r\n\r\n    function inFrustum(frustum){\r\n        // frustum check simplified to bounding sphere intersection\r\n        return frustum.intersectsSphere(self.sphere);\r\n    }\r\n\r\n    return {\r\n        \"inFrustum\" : inFrustum,\r\n        \"distanceToPoint\" : distanceToPoint\r\n    }\r\n}\r\n\r\nexport {OBB};","import * as THREE from 'three';\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\r\nimport { Tileset } from './tileset';\r\n\r\nvar scene = new THREE.Scene();\r\nscene.background = new THREE.Color( 0x283860 );\r\nconst light = new THREE.AmbientLight( 0xeeeeee, 1 ); // soft white light\r\nscene.add( light );\r\n\r\n// build camera\r\nvar camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 1, 10000 );\r\ncamera.position.x = 2000;\r\ncamera.position.y = 2000;\r\ncamera.position.z = 2400;\r\n\r\nvar renderer = new THREE.WebGLRenderer();\r\nrenderer.setSize( window.innerWidth, window.innerHeight );\r\n\r\ndocument.body.appendChild( renderer.domElement );\r\n\r\n\r\n// controls\r\nvar controls = new OrbitControls( camera, renderer.domElement );\r\ncontrols.minDistance = 1;\r\ncontrols.maxDistance = 5000;\r\ncontrols.target.y = 1000;\r\ncontrols.update();\r\n\r\n// handle resize\r\nwindow.addEventListener( 'resize', onWindowResize, false );\r\nfunction onWindowResize() {\r\n\r\n    camera.aspect = window.innerWidth / window.innerHeight;\r\n    camera.updateProjectionMatrix();\r\n\r\n    renderer.setSize( window.innerWidth, window.innerHeight );\r\n\r\n}\r\n\r\nfunction animate() {\r\n  requestAnimationFrame( animate );\r\n  camera.updateMatrixWorld();\r\n  renderer.render( scene, camera );\r\n}\r\nanimate();\r\n\r\nvar tileset = new Tileset(\"aya/tileset.json\", scene, camera);\r\n\r\nsetInterval(function(){\r\n  tileset.update();\r\n}, 100);\r\n\r\n\r\n/////// options\r\nvar loadOutsideFrustum = document.getElementById (\"loadOutsideFrustum\");\r\nif (loadOutsideFrustum.addEventListener) {\r\n  loadOutsideFrustum.addEventListener (\"change\", function(event){\r\n    if(!!loadOutsideFrustum.checked) tileset.setLoadOutsideView(true);\r\n    else tileset.setLoadOutsideView(false);\r\n  }, false);\r\n}","import { Tile } from \"../tile/tile\";\r\nimport { OBB } from \"../geometry/obb\";\r\nimport { Box3, MeshBasicMaterial, Vector3, DoubleSide } from \"three\";\r\n\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader.js';\r\nconst path = require('path');\r\n\r\n\r\nconst gltfLoader = new GLTFLoader( );\r\n\r\n\r\nfunction loader(url, signal){\r\n    if(!url.endsWith(\"b3dm\") && !url.endsWith(\"json\")){\r\n\t\tthrow new Error(\"unsupported format : \" + url)\r\n\t}\r\n\treturn fetch(url, {signal: signal}).then(result =>{\r\n\t\tif ( ! result.ok ) {\r\n\t\t\tthrow new Error( `couldn't load \"${ url }\". Request failed with status ${ result.status } : ${ result.statusText }` );\r\n\t\t}\r\n\t\tif(url.endsWith(\"b3dm\")){\r\n\t\t\treturn result.arrayBuffer().then(buffer=>parseB3DM(buffer, url));\r\n\t\t}else if(url.endsWith(\"json\")){\r\n\t\t\treturn result.json().then(function(json){\r\n\t\t\t\t\r\n\t\t\t\treturn parseTileset(json.root, path.dirname(url));\r\n\t\t\t})\r\n\t\t}\r\n\t}).catch(error=>{\r\n\t\treturn Promise.reject(error);\r\n\t});\r\n}\r\n\r\nfunction parseTileset(tileset, rootPath){\r\n\tvar tile = new Tile();\r\n\tconsole.assert(tileset.geometricError !== 'undefined');\r\n\ttile.setGeometricError(tileset.geometricError);\r\n\tconsole.assert(!!tileset.content);\r\n\tif(!!tileset.content.uri){\r\n\t\tif(path.isAbsolute(tileset.content.uri)){\r\n\t\t\ttile.setContent(tileset.content.uri);\r\n\t\t}else{\r\n\t\t\ttile.setContent(rootPath +path.sep+ tileset.content.uri)\r\n\t\t}\r\n\t}else if(!!tileset.content.url){\r\n\t\tif(path.isAbsolute(tileset.content.url)){\r\n\t\t\ttile.setContent(tileset.content.url);\r\n\t\t}else{\r\n\t\t\ttile.setContent(rootPath+path.sep+ tileset.content.url)\r\n\t\t}\r\n\t}\r\n\t\r\n\tconsole.assert( !!tileset.boundingVolume );\r\n\tif(!!tileset.boundingVolume.box){\r\n\t\ttile.setVolume(new OBB(tileset.boundingVolume.box), \"box\");\r\n\t}else if(!!tileset.boundingVolume.region){\r\n\t\tlet region = tileset.boundingVolume.region;\r\n\t\ttile.setVolume(new Box3(new Vector3(region[0], region[2], region[4]), new Vector3(region[1], region[3], region[5])), \"region\");\r\n\t}else if(!!tileset.boundingVolume.sphere){\r\n\t\tlet sphere = tileset.boundingVolume.sphere;\r\n\t\ttile.setVolume(new Box3(new Vector3(sphere[0], sphere[1], sphere[2]), sphere[3]), \"sphere\");\r\n\t}\r\n\r\n\ttile.setRefine(!!tileset.refine ? tileset.refine : \"REPLACE\");\r\n\r\n\tif(!!tileset.children){\r\n\t\ttileset.children.forEach(element => {\r\n\t\t\ttile.addChild(parseTileset(element, rootPath));\r\n\t\t});\r\n\t}\r\n\r\n\r\n\treturn tile;\r\n}\r\n\r\nfunction parseB3DM(arrayBuffer, url){\r\n\t\tconst dataView = new DataView( arrayBuffer );\r\n\r\n\t\tconst magic =\r\n\t\t\tString.fromCharCode( dataView.getUint8( 0 ) ) +\r\n\t\t\tString.fromCharCode( dataView.getUint8( 1 ) ) +\r\n\t\t\tString.fromCharCode( dataView.getUint8( 2 ) ) +\r\n\t\t\tString.fromCharCode( dataView.getUint8( 3 ) );\r\n\t\tconsole.assert( magic === 'b3dm' );\r\n\r\n\t\tconst version = dataView.getUint32( 4, true );\r\n\t\tconsole.assert( version === 1 );\r\n\r\n\t\t\r\n\t\tconst byteLength = dataView.getUint32( 8, true );\r\n\t\tconsole.assert( byteLength === arrayBuffer.byteLength );\r\n\r\n\t\t\r\n\t\tconst featureTableJSONByteLength = dataView.getUint32( 12, true );\r\n\t\tconst featureTableBinaryByteLength = dataView.getUint32( 16, true );\r\n\t\tconst batchTableJSONByteLength = dataView.getUint32( 20, true );\r\n\t\tconst batchTableBinaryByteLength = dataView.getUint32( 24, true );\r\n\r\n\t\tconst featureTableStart = 28;\r\n\t\t//const featureTable = new FeatureTable( arrayBuffer, featureTableStart, featureTableJSONByteLength, featureTableBinaryByteLength );\r\n\r\n\t\tconst batchTableStart = featureTableStart + featureTableJSONByteLength + featureTableBinaryByteLength;\r\n\t\t//const batchTable = new BatchTable( arrayBuffer, featureTable.getData( 'BATCH_LENGTH' ), batchTableStart, batchTableJSONByteLength, batchTableBinaryByteLength );\r\n\r\n\t\tconst glbStart = batchTableStart + batchTableJSONByteLength + batchTableBinaryByteLength;\r\n\t\tconst glbBytes = new Uint8Array( arrayBuffer, glbStart, byteLength - glbStart );\r\n\r\n\r\n\t\tconst gltfBuffer = glbBytes.slice().buffer;\r\n\t\t\r\n\r\n\t\treturn new Promise( ( resolve, reject ) => {\r\n\t\t\t\r\n\t\t\tgltfLoader.parse( gltfBuffer, null, model => {\r\n\r\n\t\t\t\t//model.batchTable = b3dm.batchTable;\r\n\t\t\t\t//model.featureTable = b3dm.featureTable;\r\n\r\n\t\t\t\t//model.scene.batchTable = b3dm.batchTable;\r\n\t\t\t\t//model.scene.featureTable = b3dm.featureTable;\r\n\t\t\t\tmodel.scene.traverse((o) => {\r\n\t\t\t\t\tif (o.isMesh) {\r\n\t\t\t\t\t  o.material.side = DoubleSide;\r\n\t\t\t\t\t}\r\n\t\t\t\t  });\r\n\t\t\t\tresolve( {\"model\":model, \"url\":url} );\r\n\r\n\t\t\t}, reject );\r\n\r\n\t\t} );\r\n\t\t\r\n}\r\nexport {loader};","import {loader} from \"./../loader/loader\"\r\nfunction Tile(){\r\n    var self = this;\r\n    this.children = [];\r\n    this.volume;\r\n    this.refine;\r\n    this.geometricError;\r\n    this.content;\r\n\r\n    function getTilesInView(frustum, cameraPosition, errorCoefficient, loadAroundView){\r\n        if(self.content.endsWith(\".json\")){\r\n            loader(self.content, signal).then(tile=>{\r\n                setContent(tile.getContent);\r\n                setGeometricError(tile.geometricError);\r\n                setRefine(tile.getRefine);\r\n                setVolume(tile.getVolume);\r\n                setChildren(tile.getChildren);\r\n                return traverse(frustum, cameraPosition, errorCoefficient, loadAroundView);\r\n            }).catch(error=>{\r\n                throw error;\r\n            });\r\n            // if the content is a json, parse it and fill this tile with the result's values\r\n        }else{\r\n            return traverse(frustum, cameraPosition, errorCoefficient, loadAroundView);\r\n        }\r\n        \r\n    }\r\n\r\n    function traverse(frustum, cameraPosition, errorCoefficient, loadAroundView){\r\n        let tilePromises = [];\r\n        let distToVolume = distanceToVolume(cameraPosition)/(errorCoefficient*200);\r\n        if(inFrustum(frustum)){\r\n            if((!!self.refine && self.refine.toUpperCase() === \"ADD\") || self.children.length == 0 || distToVolume > self.geometricError){\r\n                tilePromises.push(Promise.resolve([self]));\r\n            }\r\n\r\n            if(self.children.length > 0 && distToVolume < self.geometricError){\r\n                self.children.forEach(child => tilePromises.push(child.getTilesInView(frustum, cameraPosition, errorCoefficient, loadAroundView)));\r\n            }\r\n        }else if (!!loadAroundView){\r\n            tilePromises.push(Promise.resolve([self]));\r\n        }\r\n        return Promise.all(tilePromises).then(children=> children.flat());\r\n    }\r\n\r\n    function setChildren(children){\r\n        self.children = children;\r\n    }\r\n    function distanceToVolume(point){\r\n        if(!self.volume || !self.volume.type || !point){\r\n            return Number.MAX_VALUE;\r\n        }\r\n        switch (self.volume.type){\r\n            case \"box\": return self.volume.distanceToPoint(point);\r\n            case \"sphere\" : return Math.max(0, point.distanceTo(self.volume.center) - self.volume.radius);\r\n            case \"region\" : return self.volume.distanceToPoint(point);\r\n        }\r\n    }\r\n    function inFrustum(frustum){\r\n        if(!self.volume || !self.volume.type || !frustum){\r\n            return false;\r\n        }\r\n        switch (self.volume.type){\r\n            case \"box\": return self.volume.inFrustum(frustum);\r\n            case \"sphere\" : return frustum.intersectsSphere(self.volume);\r\n            case \"region\" : return frustum.intersectsBox(self.volume);\r\n        }\r\n    }\r\n\r\n    function setVolume(volume, type){\r\n        if(type != \"box\" && type != \"sphere\" && type != \"region\"){\r\n            throw \"volume type should be box, sphere or region\";\r\n        }\r\n        self.volume = volume;\r\n        self.volume.type = type;\r\n    }\r\n\r\n    function getVolume(){\r\n        return self.volume;\r\n    }\r\n\r\n    function addChild(child){\r\n        self.children.push(child);\r\n    }\r\n\r\n    function getChildren(){\r\n        return self.children;\r\n    }\r\n\r\n    function setGeometricError(geometricError){\r\n        self.geometricError = geometricError;\r\n    }\r\n    function getGeometricError(){\r\n        return self.geometricError;\r\n    }\r\n    function setRefine(refine){\r\n        self.refine = refine;\r\n    }\r\n    function getRefine(){\r\n        return self.refine;\r\n    }\r\n    function setContent(content){\r\n        self.content = content;\r\n    }\r\n    function getContent(){\r\n        return content.content;\r\n    }\r\n\r\n    return{\r\n        \"getTilesInView\" : getTilesInView,\r\n        \"addChild\" : addChild,\r\n        \"getChildren\":getChildren,\r\n        \"setVolume\": setVolume,\r\n        \"getVolume\": getVolume,\r\n        \"setGeometricError\": setGeometricError,\r\n        \"getGeometricError\":getGeometricError,\r\n        \"setRefine\" : setRefine,\r\n        \"getRefine\" : getRefine,\r\n        \"setContent\" : setContent,\r\n        \"getContent\" : getContent,\r\n        \"setChildren\": setChildren\r\n    }\r\n} \r\nexport {Tile};","import {Cache} from \"./cache/cache\";\r\nimport { loader } from \"./loader/loader\";\r\nimport * as THREE from 'three';\r\n\r\n\r\nconst cache = new Cache((navigator.deviceMemory / 10)*8e9, loader);\r\nfunction Tileset(url, scene, camera, geometricErrorMultiplier){\r\n    var self = this;\r\n    this.rootTile;\r\n    if(!!scene) this.scene = scene;\r\n    this.camera = camera;\r\n    this.geometricErrorMultiplier = !!geometricErrorMultiplier?geometricErrorMultiplier:1;\r\n    this.currentlyRenderedTiles = {};\r\n    this.futureActionOnTiles = {};\r\n    this.loadAroundView = false;\r\n\r\n\r\n    loader(url).then(rootTile => {\r\n        self.rootTile = rootTile;\r\n        update();\r\n    });\r\n\r\n    function setGeometricErrorMultiplier(geometricErrorMultiplier){\r\n        self.geometricErrorMultiplier = geometricErrorMultiplier;\r\n    }\r\n    function setLoadAroundView(loadAroundView){\r\n        self.loadAroundView = loadAroundView;\r\n    }\r\n    function deleteFromCurrentScene(){\r\n        if(!!self.scene){\r\n            self.currentlyRenderedTiles.values().forEach(element => {\r\n                self.scene.remove(element.scene);\r\n            });\r\n        }\r\n        self.currentlyRenderedTiles = {}\r\n    }\r\n    function setScene(scene){\r\n        deleteFromCurrentScene();\r\n        self.scene = scene;\r\n        update();\r\n    }\r\n\r\n    function setCamera(camera){\r\n        self.camera = camera;\r\n    }\r\n\r\n    function update(){\r\n        \r\n\r\n        \r\n        if(!self.rootTile) {\r\n            return;\r\n        }\r\n        var frustum = new THREE.Frustum();\r\n        var projScreenMatrix = new THREE.Matrix4();\r\n                projScreenMatrix.multiplyMatrices( self.camera.projectionMatrix, self.camera.matrixWorldInverse );\r\n                frustum.setFromProjectionMatrix( new THREE.Matrix4().multiplyMatrices( self.camera.projectionMatrix, self.camera.matrixWorldInverse ) );\r\n\r\n        self.rootTile.getTilesInView(frustum, camera.position, self.geometricErrorMultiplier, self.loadAroundView).then(tiles=>{\r\n            if(tiles.length>0){\r\n                if(!!self.controller){\r\n                    self.controller.abort();\r\n                }\r\n                let controller = new AbortController();\r\n                self.controller = controller;\r\n                \r\n                \r\n                self.camera.updateMatrix(); \r\n                self.camera.updateMatrixWorld();\r\n                \r\n\r\n                let newTilesContent = tiles.map(tile=>tile.content);\r\n                let toDelete=[];\r\n                Object.keys(self.currentlyRenderedTiles).forEach(current=>{\r\n                    if(!newTilesContent.includes(current)){\r\n                        self.futureActionOnTiles[current] = \"toDelete\";\r\n                        toDelete.push(current);\r\n                    }\r\n                });\r\n                var contentRequests=[];\r\n                newTilesContent.forEach(content=>{\r\n                    if(!self.currentlyRenderedTiles[content] && self.futureActionOnTiles[content] !== \"toUpdate\"){\r\n                        self.futureActionOnTiles[content] = \"toUpdate\";\r\n                        contentRequests.push(cache.get(content/*, controller.signal*/).then(gltf=>{\r\n                            if(!!gltf){\r\n                                if(self.futureActionOnTiles[content] === \"toUpdate\"){\r\n                                    self.scene.add(gltf.model.scene);\r\n                                    self.currentlyRenderedTiles[content] = gltf.model;\r\n                                    delete self.futureActionOnTiles[content];\r\n                                }\r\n                            }\r\n                        }).catch(error=>{\r\n                            console.error( error);\r\n                        }));\r\n                    }else if(!!self.futureActionOnTiles[content]){\r\n                        delete self.futureActionOnTiles[content];\r\n                    }\r\n                });\r\n                if(contentRequests.length>0){\r\n                    Promise.all(contentRequests).catch(error=>{\r\n                        console.log(error);\r\n                    }).finally(()=>{\r\n                        if(!controller.signal.aborted){\r\n                            toDelete.forEach(url=>{\r\n                                setTimeout(()=>{\r\n                                    if(self.futureActionOnTiles[url] === \"toDelete\"){\r\n                                        self.scene.remove(self.currentlyRenderedTiles[url].scene);\r\n                                        delete self.currentlyRenderedTiles[url];\r\n                                        delete self.futureActionOnTiles[url];\r\n                                    }\r\n                                }, 0);\r\n                            })\r\n                        }\r\n                        \r\n                    });\r\n                }\r\n            }\r\n            \r\n        });\r\n\r\n        \r\n    }\r\n\r\n    \r\n    return{\r\n        \"setScene\" : setScene,\r\n        \"update\" : update,\r\n        \"setCamera\" : setCamera,\r\n        \"deleteFromCurrentScene\" : deleteFromCurrentScene,\r\n        \"setLoadOutsideView\": setLoadAroundView,\r\n        \"setGeometricErrorMultiplier\":setGeometricErrorMultiplier\r\n    }\r\n}\r\n\r\nexport {Tileset};"],"sourceRoot":""}